var e6=Object.defineProperty;var t6=(t,e,n)=>e in t?e6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bs=(t,e,n)=>(t6(t,typeof e!="symbol"?e+"":e,n),n);function $L(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var XL={exports:{}},n1={},YL={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=Symbol.for("react.element"),n6=Symbol.for("react.portal"),r6=Symbol.for("react.fragment"),i6=Symbol.for("react.strict_mode"),o6=Symbol.for("react.profiler"),s6=Symbol.for("react.provider"),a6=Symbol.for("react.context"),l6=Symbol.for("react.forward_ref"),u6=Symbol.for("react.suspense"),c6=Symbol.for("react.memo"),f6=Symbol.for("react.lazy"),cC=Symbol.iterator;function d6(t){return t===null||typeof t!="object"?null:(t=cC&&t[cC]||t["@@iterator"],typeof t=="function"?t:null)}var KL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QL=Object.assign,JL={};function Dd(t,e,n){this.props=t,this.context=e,this.refs=JL,this.updater=n||KL}Dd.prototype.isReactComponent={};Dd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZL(){}ZL.prototype=Dd.prototype;function JE(t,e,n){this.props=t,this.context=e,this.refs=JL,this.updater=n||KL}var ZE=JE.prototype=new ZL;ZE.constructor=JE;QL(ZE,Dd.prototype);ZE.isPureReactComponent=!0;var fC=Array.isArray,ek=Object.prototype.hasOwnProperty,eM={current:null},tk={key:!0,ref:!0,__self:!0,__source:!0};function nk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ek.call(e,r)&&!tk.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Rm,type:t,key:o,ref:s,props:i,_owner:eM.current}}function h6(t,e){return{$$typeof:Rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tM(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rm}function p6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dC=/\/+/g;function jb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p6(""+t.key):e.toString(36)}function vv(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Rm:case n6:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+jb(s,0):r,fC(i)?(n="",t!=null&&(n=t.replace(dC,"$&/")+"/"),vv(i,e,n,"",function(u){return u})):i!=null&&(tM(i)&&(i=h6(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dC,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fC(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+jb(o,l);s+=vv(o,e,n,a,i)}else if(a=d6(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+jb(o,l++),s+=vv(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Kg(t,e,n){if(t==null)return t;var r=[],i=0;return vv(t,r,"","",function(o){return e.call(n,o,i++)}),r}function m6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ki={current:null},yv={transition:null},g6={ReactCurrentDispatcher:Ki,ReactCurrentBatchConfig:yv,ReactCurrentOwner:eM};pn.Children={map:Kg,forEach:function(t,e,n){Kg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kg(t,function(){e++}),e},toArray:function(t){return Kg(t,function(e){return e})||[]},only:function(t){if(!tM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pn.Component=Dd;pn.Fragment=r6;pn.Profiler=o6;pn.PureComponent=JE;pn.StrictMode=i6;pn.Suspense=u6;pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g6;pn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QL({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=eM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ek.call(e,a)&&!tk.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Rm,type:t.type,key:i,ref:o,props:r,_owner:s}};pn.createContext=function(t){return t={$$typeof:a6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s6,_context:t},t.Consumer=t};pn.createElement=nk;pn.createFactory=function(t){var e=nk.bind(null,t);return e.type=t,e};pn.createRef=function(){return{current:null}};pn.forwardRef=function(t){return{$$typeof:l6,render:t}};pn.isValidElement=tM;pn.lazy=function(t){return{$$typeof:f6,_payload:{_status:-1,_result:t},_init:m6}};pn.memo=function(t,e){return{$$typeof:c6,type:t,compare:e===void 0?null:e}};pn.startTransition=function(t){var e=yv.transition;yv.transition={};try{t()}finally{yv.transition=e}};pn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pn.useCallback=function(t,e){return Ki.current.useCallback(t,e)};pn.useContext=function(t){return Ki.current.useContext(t)};pn.useDebugValue=function(){};pn.useDeferredValue=function(t){return Ki.current.useDeferredValue(t)};pn.useEffect=function(t,e){return Ki.current.useEffect(t,e)};pn.useId=function(){return Ki.current.useId()};pn.useImperativeHandle=function(t,e,n){return Ki.current.useImperativeHandle(t,e,n)};pn.useInsertionEffect=function(t,e){return Ki.current.useInsertionEffect(t,e)};pn.useLayoutEffect=function(t,e){return Ki.current.useLayoutEffect(t,e)};pn.useMemo=function(t,e){return Ki.current.useMemo(t,e)};pn.useReducer=function(t,e,n){return Ki.current.useReducer(t,e,n)};pn.useRef=function(t){return Ki.current.useRef(t)};pn.useState=function(t){return Ki.current.useState(t)};pn.useSyncExternalStore=function(t,e,n){return Ki.current.useSyncExternalStore(t,e,n)};pn.useTransition=function(){return Ki.current.useTransition()};pn.version="18.2.0";YL.exports=pn;var L=YL.exports;const Zn=Fd(L),ty=$L({__proto__:null,default:Zn},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v6=L,y6=Symbol.for("react.element"),x6=Symbol.for("react.fragment"),b6=Object.prototype.hasOwnProperty,_6=v6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S6={key:!0,ref:!0,__self:!0,__source:!0};function rk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)b6.call(e,r)&&!S6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:y6,type:t,key:o,ref:s,props:i,_owner:_6.current}}n1.Fragment=x6;n1.jsx=rk;n1.jsxs=rk;XL.exports=n1;var X=XL.exports,IS={},ik={exports:{}},Oo={},ok={exports:{}},sk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var G=O.length;O.push(F);e:for(;0<G;){var $=G-1>>>1,W=O[$];if(0<i(W,F))O[$]=F,O[G]=W,G=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],G=O.pop();if(G!==F){O[0]=G;e:for(var $=0,W=O.length,oe=W>>>1;$<oe;){var j=2*($+1)-1,Y=O[j],K=j+1,fe=O[K];if(0>i(Y,G))K<W&&0>i(fe,Y)?(O[$]=fe,O[K]=G,$=K):(O[$]=Y,O[j]=G,$=j);else if(K<W&&0>i(fe,G))O[$]=fe,O[K]=G,$=K;else break e}}return F}function i(O,F){var G=O.sortIndex-F.sortIndex;return G!==0?G:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=O)r(u),F.sortIndex=F.expirationTime,e(a,F);else break;F=n(u)}}function S(O){if(y=!1,b(O),!m)if(n(a)!==null)m=!0,Z(E);else{var F=n(u);F!==null&&ne(S,F.startTime-O)}}function E(O,F){m=!1,y&&(y=!1,v(R),R=-1),h=!0;var G=d;try{for(b(F),f=n(a);f!==null&&(!(f.expirationTime>F)||O&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var W=$(f.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(a)&&r(a),b(F)}else r(a);f=n(a)}if(f!==null)var oe=!0;else{var j=n(u);j!==null&&ne(S,j.startTime-F),oe=!1}return oe}finally{f=null,d=G,h=!1}}var M=!1,T=null,R=-1,C=5,P=-1;function D(){return!(t.unstable_now()-P<C)}function z(){if(T!==null){var O=t.unstable_now();P=O;var F=!0;try{F=T(!0,O)}finally{F?V():(M=!1,T=null)}}else M=!1}var V;if(typeof _=="function")V=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=z,V=function(){q.postMessage(null)}}else V=function(){x(z,0)};function Z(O){T=O,M||(M=!0,V())}function ne(O,F){R=x(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Z(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var G=d;d=F;try{return O()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=d;d=O;try{return F()}finally{d=G}},t.unstable_scheduleCallback=function(O,F,G){var $=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,O={id:c++,callback:F,priorityLevel:O,startTime:G,expirationTime:W,sortIndex:-1},G>$?(O.sortIndex=G,e(u,O),n(a)===null&&O===n(u)&&(y?(v(R),R=-1):y=!0,ne(S,G-$))):(O.sortIndex=W,e(a,O),m||h||(m=!0,Z(E))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var F=d;return function(){var G=d;d=F;try{return O.apply(this,arguments)}finally{d=G}}}})(sk);ok.exports=sk;var w6=ok.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=L,No=w6;function lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lk=new Set,Dp={};function Rc(t,e){yd(t,e),yd(t+"Capture",e)}function yd(t,e){for(Dp[t]=e,t=0;t<e.length;t++)lk.add(e[t])}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LS=Object.prototype.hasOwnProperty,E6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hC={},pC={};function M6(t){return LS.call(pC,t)?!0:LS.call(hC,t)?!1:E6.test(t)?pC[t]=!0:(hC[t]=!0,!1)}function T6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A6(t,e,n,r){if(e===null||typeof e>"u"||T6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bi[t]=new Qi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bi[e]=new Qi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bi[t]=new Qi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bi[t]=new Qi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bi[t]=new Qi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bi[t]=new Qi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bi[t]=new Qi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bi[t]=new Qi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bi[t]=new Qi(t,5,!1,t.toLowerCase(),null,!1,!1)});var nM=/[\-:]([a-z])/g;function rM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nM,rM);bi[e]=new Qi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nM,rM);bi[e]=new Qi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nM,rM);bi[e]=new Qi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bi[t]=new Qi(t,1,!1,t.toLowerCase(),null,!1,!1)});bi.xlinkHref=new Qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bi[t]=new Qi(t,1,!1,t.toLowerCase(),null,!0,!0)});function iM(t,e,n,r){var i=bi.hasOwnProperty(e)?bi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A6(e,n,i,r)&&(n=null),r||i===null?M6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tl=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qg=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),oM=Symbol.for("react.strict_mode"),kS=Symbol.for("react.profiler"),uk=Symbol.for("react.provider"),ck=Symbol.for("react.context"),sM=Symbol.for("react.forward_ref"),NS=Symbol.for("react.suspense"),OS=Symbol.for("react.suspense_list"),aM=Symbol.for("react.memo"),Pl=Symbol.for("react.lazy"),fk=Symbol.for("react.offscreen"),mC=Symbol.iterator;function xh(t){return t===null||typeof t!="object"?null:(t=mC&&t[mC]||t["@@iterator"],typeof t=="function"?t:null)}var Er=Object.assign,$b;function Qh(t){if($b===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$b=e&&e[1]||""}return`
`+$b+t}var qb=!1;function Xb(t,e){if(!t||qb)return"";qb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{qb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qh(t):""}function C6(t){switch(t.tag){case 5:return Qh(t.type);case 16:return Qh("Lazy");case 13:return Qh("Suspense");case 19:return Qh("SuspenseList");case 0:case 2:case 15:return t=Xb(t.type,!1),t;case 11:return t=Xb(t.type.render,!1),t;case 1:return t=Xb(t.type,!0),t;default:return""}}function FS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bf:return"Fragment";case Uf:return"Portal";case kS:return"Profiler";case oM:return"StrictMode";case NS:return"Suspense";case OS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ck:return(t.displayName||"Context")+".Consumer";case uk:return(t._context.displayName||"Context")+".Provider";case sM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aM:return e=t.displayName||null,e!==null?e:FS(t.type)||"Memo";case Pl:e=t._payload,t=t._init;try{return FS(t(e))}catch{}}return null}function R6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FS(e);case 8:return e===oM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P6(t){var e=dk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jg(t){t._valueTracker||(t._valueTracker=P6(t))}function hk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ny(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function DS(t,e){var n=e.checked;return Er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pk(t,e){e=e.checked,e!=null&&iM(t,"checked",e,!1)}function US(t,e){pk(t,e);var n=Jl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?BS(t,e.type,n):e.hasOwnProperty("defaultValue")&&BS(t,e.type,Jl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function BS(t,e,n){(e!=="number"||ny(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jh=Array.isArray;function sd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return Er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(lt(92));if(Jh(n)){if(1<n.length)throw Error(lt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jl(n)}}function mk(t,e){var n=Jl(e.value),r=Jl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zg,vk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zg=Zg||document.createElement("div"),Zg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Up(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I6=["Webkit","ms","Moz","O"];Object.keys(cp).forEach(function(t){I6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cp[e]=cp[t]})});function yk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cp.hasOwnProperty(t)&&cp[t]?(""+e).trim():e+"px"}function xk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var L6=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HS(t,e){if(e){if(L6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function VS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WS=null;function lM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jS=null,ad=null,ld=null;function bC(t){if(t=Lm(t)){if(typeof jS!="function")throw Error(lt(280));var e=t.stateNode;e&&(e=a1(e),jS(t.stateNode,t.type,e))}}function bk(t){ad?ld?ld.push(t):ld=[t]:ad=t}function _k(){if(ad){var t=ad,e=ld;if(ld=ad=null,bC(t),e)for(t=0;t<e.length;t++)bC(e[t])}}function Sk(t,e){return t(e)}function wk(){}var Yb=!1;function Ek(t,e,n){if(Yb)return t(e,n);Yb=!0;try{return Sk(t,e,n)}finally{Yb=!1,(ad!==null||ld!==null)&&(wk(),_k())}}function Bp(t,e){var n=t.stateNode;if(n===null)return null;var r=a1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(lt(231,e,typeof n));return n}var $S=!1;if(Ka)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){$S=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{$S=!1}function k6(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fp=!1,ry=null,iy=!1,qS=null,N6={onError:function(t){fp=!0,ry=t}};function O6(t,e,n,r,i,o,s,l,a){fp=!1,ry=null,k6.apply(N6,arguments)}function F6(t,e,n,r,i,o,s,l,a){if(O6.apply(this,arguments),fp){if(fp){var u=ry;fp=!1,ry=null}else throw Error(lt(198));iy||(iy=!0,qS=u)}}function Pc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _C(t){if(Pc(t)!==t)throw Error(lt(188))}function D6(t){var e=t.alternate;if(!e){if(e=Pc(t),e===null)throw Error(lt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _C(i),t;if(o===r)return _C(i),e;o=o.sibling}throw Error(lt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(lt(189))}}if(n.alternate!==r)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?t:e}function Tk(t){return t=D6(t),t!==null?Ak(t):null}function Ak(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ak(t);if(e!==null)return e;t=t.sibling}return null}var Ck=No.unstable_scheduleCallback,SC=No.unstable_cancelCallback,U6=No.unstable_shouldYield,B6=No.unstable_requestPaint,zr=No.unstable_now,z6=No.unstable_getCurrentPriorityLevel,uM=No.unstable_ImmediatePriority,Rk=No.unstable_UserBlockingPriority,oy=No.unstable_NormalPriority,G6=No.unstable_LowPriority,Pk=No.unstable_IdlePriority,r1=null,fa=null;function H6(t){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(r1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:j6,V6=Math.log,W6=Math.LN2;function j6(t){return t>>>=0,t===0?32:31-(V6(t)/W6|0)|0}var e0=64,t0=4194304;function Zh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Zh(l):(o&=s,o!==0&&(r=Zh(o)))}else s=n&~i,s!==0?r=Zh(s):o!==0&&(r=Zh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ns(e),i=1<<n,r|=t[n],e&=~i;return r}function $6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ns(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=$6(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function XS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ik(){var t=e0;return e0<<=1,!(e0&4194240)&&(e0=64),t}function Kb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ns(e),t[e]=n}function X6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ns(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function cM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ns(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wn=0;function Lk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kk,fM,Nk,Ok,Fk,YS=!1,n0=[],Ul=null,Bl=null,zl=null,zp=new Map,Gp=new Map,kl=[],Y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wC(t,e){switch(t){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":zp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gp.delete(e.pointerId)}}function _h(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lm(e),e!==null&&fM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K6(t,e,n,r,i){switch(e){case"focusin":return Ul=_h(Ul,t,e,n,r,i),!0;case"dragenter":return Bl=_h(Bl,t,e,n,r,i),!0;case"mouseover":return zl=_h(zl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zp.set(o,_h(zp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gp.set(o,_h(Gp.get(o)||null,t,e,n,r,i)),!0}return!1}function Dk(t){var e=Qu(t.target);if(e!==null){var n=Pc(e);if(n!==null){if(e=n.tag,e===13){if(e=Mk(n),e!==null){t.blockedOn=e,Fk(t.priority,function(){Nk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=KS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);WS=r,n.target.dispatchEvent(r),WS=null}else return e=Lm(n),e!==null&&fM(e),t.blockedOn=n,!1;e.shift()}return!0}function EC(t,e,n){xv(t)&&n.delete(e)}function Q6(){YS=!1,Ul!==null&&xv(Ul)&&(Ul=null),Bl!==null&&xv(Bl)&&(Bl=null),zl!==null&&xv(zl)&&(zl=null),zp.forEach(EC),Gp.forEach(EC)}function Sh(t,e){t.blockedOn===e&&(t.blockedOn=null,YS||(YS=!0,No.unstable_scheduleCallback(No.unstable_NormalPriority,Q6)))}function Hp(t){function e(i){return Sh(i,t)}if(0<n0.length){Sh(n0[0],t);for(var n=1;n<n0.length;n++){var r=n0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ul!==null&&Sh(Ul,t),Bl!==null&&Sh(Bl,t),zl!==null&&Sh(zl,t),zp.forEach(e),Gp.forEach(e),n=0;n<kl.length;n++)r=kl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kl.length&&(n=kl[0],n.blockedOn===null);)Dk(n),n.blockedOn===null&&kl.shift()}var ud=tl.ReactCurrentBatchConfig,ay=!0;function J6(t,e,n,r){var i=Wn,o=ud.transition;ud.transition=null;try{Wn=1,dM(t,e,n,r)}finally{Wn=i,ud.transition=o}}function Z6(t,e,n,r){var i=Wn,o=ud.transition;ud.transition=null;try{Wn=4,dM(t,e,n,r)}finally{Wn=i,ud.transition=o}}function dM(t,e,n,r){if(ay){var i=KS(t,e,n,r);if(i===null)s_(t,e,r,ly,n),wC(t,r);else if(K6(i,t,e,n,r))r.stopPropagation();else if(wC(t,r),e&4&&-1<Y6.indexOf(t)){for(;i!==null;){var o=Lm(i);if(o!==null&&kk(o),o=KS(t,e,n,r),o===null&&s_(t,e,r,ly,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else s_(t,e,r,null,n)}}var ly=null;function KS(t,e,n,r){if(ly=null,t=lM(r),t=Qu(t),t!==null)if(e=Pc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ly=t,null}function Uk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z6()){case uM:return 1;case Rk:return 4;case oy:case G6:return 16;case Pk:return 536870912;default:return 16}default:return 16}}var Fl=null,hM=null,bv=null;function Bk(){if(bv)return bv;var t,e=hM,n=e.length,r,i="value"in Fl?Fl.value:Fl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return bv=i.slice(t,1<r?1-r:void 0)}function _v(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function r0(){return!0}function MC(){return!1}function Fo(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?r0:MC,this.isPropagationStopped=MC,this}return Er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=r0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=r0)},persist:function(){},isPersistent:r0}),e}var Ud={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pM=Fo(Ud),Im=Er({},Ud,{view:0,detail:0}),ez=Fo(Im),Qb,Jb,wh,i1=Er({},Im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wh&&(wh&&t.type==="mousemove"?(Qb=t.screenX-wh.screenX,Jb=t.screenY-wh.screenY):Jb=Qb=0,wh=t),Qb)},movementY:function(t){return"movementY"in t?t.movementY:Jb}}),TC=Fo(i1),tz=Er({},i1,{dataTransfer:0}),nz=Fo(tz),rz=Er({},Im,{relatedTarget:0}),Zb=Fo(rz),iz=Er({},Ud,{animationName:0,elapsedTime:0,pseudoElement:0}),oz=Fo(iz),sz=Er({},Ud,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),az=Fo(sz),lz=Er({},Ud,{data:0}),AC=Fo(lz),uz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fz[t])?!!e[t]:!1}function mM(){return dz}var hz=Er({},Im,{key:function(t){if(t.key){var e=uz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_v(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mM,charCode:function(t){return t.type==="keypress"?_v(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_v(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pz=Fo(hz),mz=Er({},i1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=Fo(mz),gz=Er({},Im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mM}),vz=Fo(gz),yz=Er({},Ud,{propertyName:0,elapsedTime:0,pseudoElement:0}),xz=Fo(yz),bz=Er({},i1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_z=Fo(bz),Sz=[9,13,27,32],gM=Ka&&"CompositionEvent"in window,dp=null;Ka&&"documentMode"in document&&(dp=document.documentMode);var wz=Ka&&"TextEvent"in window&&!dp,zk=Ka&&(!gM||dp&&8<dp&&11>=dp),RC=String.fromCharCode(32),PC=!1;function Gk(t,e){switch(t){case"keyup":return Sz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zf=!1;function Ez(t,e){switch(t){case"compositionend":return Hk(e);case"keypress":return e.which!==32?null:(PC=!0,RC);case"textInput":return t=e.data,t===RC&&PC?null:t;default:return null}}function Mz(t,e){if(zf)return t==="compositionend"||!gM&&Gk(t,e)?(t=Bk(),bv=hM=Fl=null,zf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zk&&e.locale!=="ko"?null:e.data;default:return null}}var Tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tz[t.type]:e==="textarea"}function Vk(t,e,n,r){bk(r),e=uy(e,"onChange"),0<e.length&&(n=new pM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hp=null,Vp=null;function Az(t){eN(t,0)}function o1(t){var e=Vf(t);if(hk(e))return t}function Cz(t,e){if(t==="change")return e}var Wk=!1;if(Ka){var e_;if(Ka){var t_="oninput"in document;if(!t_){var LC=document.createElement("div");LC.setAttribute("oninput","return;"),t_=typeof LC.oninput=="function"}e_=t_}else e_=!1;Wk=e_&&(!document.documentMode||9<document.documentMode)}function kC(){hp&&(hp.detachEvent("onpropertychange",jk),Vp=hp=null)}function jk(t){if(t.propertyName==="value"&&o1(Vp)){var e=[];Vk(e,Vp,t,lM(t)),Ek(Az,e)}}function Rz(t,e,n){t==="focusin"?(kC(),hp=e,Vp=n,hp.attachEvent("onpropertychange",jk)):t==="focusout"&&kC()}function Pz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o1(Vp)}function Iz(t,e){if(t==="click")return o1(e)}function Lz(t,e){if(t==="input"||t==="change")return o1(e)}function kz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ds=typeof Object.is=="function"?Object.is:kz;function Wp(t,e){if(Ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!LS.call(e,i)||!Ds(t[i],e[i]))return!1}return!0}function NC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OC(t,e){var n=NC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NC(n)}}function $k(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$k(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qk(){for(var t=window,e=ny();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ny(t.document)}return e}function vM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nz(t){var e=qk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$k(n.ownerDocument.documentElement,n)){if(r!==null&&vM(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=OC(n,o);var s=OC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Oz=Ka&&"documentMode"in document&&11>=document.documentMode,Gf=null,QS=null,pp=null,JS=!1;function FC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;JS||Gf==null||Gf!==ny(r)||(r=Gf,"selectionStart"in r&&vM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pp&&Wp(pp,r)||(pp=r,r=uy(QS,"onSelect"),0<r.length&&(e=new pM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gf)))}function i0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hf={animationend:i0("Animation","AnimationEnd"),animationiteration:i0("Animation","AnimationIteration"),animationstart:i0("Animation","AnimationStart"),transitionend:i0("Transition","TransitionEnd")},n_={},Xk={};Ka&&(Xk=document.createElement("div").style,"AnimationEvent"in window||(delete Hf.animationend.animation,delete Hf.animationiteration.animation,delete Hf.animationstart.animation),"TransitionEvent"in window||delete Hf.transitionend.transition);function s1(t){if(n_[t])return n_[t];if(!Hf[t])return t;var e=Hf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xk)return n_[t]=e[n];return t}var Yk=s1("animationend"),Kk=s1("animationiteration"),Qk=s1("animationstart"),Jk=s1("transitionend"),Zk=new Map,DC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function su(t,e){Zk.set(t,e),Rc(e,[t])}for(var r_=0;r_<DC.length;r_++){var i_=DC[r_],Fz=i_.toLowerCase(),Dz=i_[0].toUpperCase()+i_.slice(1);su(Fz,"on"+Dz)}su(Yk,"onAnimationEnd");su(Kk,"onAnimationIteration");su(Qk,"onAnimationStart");su("dblclick","onDoubleClick");su("focusin","onFocus");su("focusout","onBlur");su(Jk,"onTransitionEnd");yd("onMouseEnter",["mouseout","mouseover"]);yd("onMouseLeave",["mouseout","mouseover"]);yd("onPointerEnter",["pointerout","pointerover"]);yd("onPointerLeave",["pointerout","pointerover"]);Rc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ep));function UC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F6(r,e,void 0,t),t.currentTarget=null}function eN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;UC(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;UC(i,l,u),o=a}}}if(iy)throw t=qS,iy=!1,qS=null,t}function ar(t,e){var n=e[rw];n===void 0&&(n=e[rw]=new Set);var r=t+"__bubble";n.has(r)||(tN(e,t,2,!1),n.add(r))}function o_(t,e,n){var r=0;e&&(r|=4),tN(n,t,r,e)}var o0="_reactListening"+Math.random().toString(36).slice(2);function jp(t){if(!t[o0]){t[o0]=!0,lk.forEach(function(n){n!=="selectionchange"&&(Uz.has(n)||o_(n,!1,t),o_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[o0]||(e[o0]=!0,o_("selectionchange",!1,e))}}function tN(t,e,n,r){switch(Uk(e)){case 1:var i=J6;break;case 4:i=Z6;break;default:i=dM}n=i.bind(null,e,n,t),i=void 0,!$S||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function s_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Qu(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Ek(function(){var u=o,c=lM(n),f=[];e:{var d=Zk.get(t);if(d!==void 0){var h=pM,m=t;switch(t){case"keypress":if(_v(n)===0)break e;case"keydown":case"keyup":h=pz;break;case"focusin":m="focus",h=Zb;break;case"focusout":m="blur",h=Zb;break;case"beforeblur":case"afterblur":h=Zb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=TC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=nz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vz;break;case Yk:case Kk:case Qk:h=oz;break;case Jk:h=xz;break;case"scroll":h=ez;break;case"wheel":h=_z;break;case"copy":case"cut":case"paste":h=az;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=CC}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var _=u,b;_!==null;){b=_;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Bp(_,v),S!=null&&y.push($p(_,S,b)))),x)break;_=_.return}0<y.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==WS&&(m=n.relatedTarget||n.fromElement)&&(Qu(m)||m[Qa]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Qu(m):null,m!==null&&(x=Pc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=TC,S="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=CC,S="onPointerLeave",v="onPointerEnter",_="pointer"),x=h==null?d:Vf(h),b=m==null?d:Vf(m),d=new y(S,_+"leave",h,n,c),d.target=x,d.relatedTarget=b,S=null,Qu(c)===u&&(y=new y(v,_+"enter",m,n,c),y.target=b,y.relatedTarget=x,S=y),x=S,h&&m)t:{for(y=h,v=m,_=0,b=y;b;b=Kc(b))_++;for(b=0,S=v;S;S=Kc(S))b++;for(;0<_-b;)y=Kc(y),_--;for(;0<b-_;)v=Kc(v),b--;for(;_--;){if(y===v||v!==null&&y===v.alternate)break t;y=Kc(y),v=Kc(v)}y=null}else y=null;h!==null&&BC(f,d,h,y,!1),m!==null&&x!==null&&BC(f,x,m,y,!0)}}e:{if(d=u?Vf(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=Cz;else if(IC(d))if(Wk)E=Lz;else{E=Pz;var M=Rz}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Iz);if(E&&(E=E(t,u))){Vk(f,E,n,c);break e}M&&M(t,d,u),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&BS(d,"number",d.value)}switch(M=u?Vf(u):window,t){case"focusin":(IC(M)||M.contentEditable==="true")&&(Gf=M,QS=u,pp=null);break;case"focusout":pp=QS=Gf=null;break;case"mousedown":JS=!0;break;case"contextmenu":case"mouseup":case"dragend":JS=!1,FC(f,n,c);break;case"selectionchange":if(Oz)break;case"keydown":case"keyup":FC(f,n,c)}var T;if(gM)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else zf?Gk(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(zk&&n.locale!=="ko"&&(zf||R!=="onCompositionStart"?R==="onCompositionEnd"&&zf&&(T=Bk()):(Fl=c,hM="value"in Fl?Fl.value:Fl.textContent,zf=!0)),M=uy(u,R),0<M.length&&(R=new AC(R,t,null,n,c),f.push({event:R,listeners:M}),T?R.data=T:(T=Hk(n),T!==null&&(R.data=T)))),(T=wz?Ez(t,n):Mz(t,n))&&(u=uy(u,"onBeforeInput"),0<u.length&&(c=new AC("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}eN(f,e)})}function $p(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bp(t,n),o!=null&&r.unshift($p(t,o,i)),o=Bp(t,e),o!=null&&r.push($p(t,o,i))),t=t.return}return r}function Kc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function BC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Bp(n,o),a!=null&&s.unshift($p(n,a,l))):i||(a=Bp(n,o),a!=null&&s.push($p(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Bz=/\r\n?/g,zz=/\u0000|\uFFFD/g;function zC(t){return(typeof t=="string"?t:""+t).replace(Bz,`
`).replace(zz,"")}function s0(t,e,n){if(e=zC(e),zC(t)!==e&&n)throw Error(lt(425))}function cy(){}var ZS=null,ew=null;function tw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nw=typeof setTimeout=="function"?setTimeout:void 0,Gz=typeof clearTimeout=="function"?clearTimeout:void 0,GC=typeof Promise=="function"?Promise:void 0,Hz=typeof queueMicrotask=="function"?queueMicrotask:typeof GC<"u"?function(t){return GC.resolve(null).then(t).catch(Vz)}:nw;function Vz(t){setTimeout(function(){throw t})}function a_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hp(e)}function Gl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bd=Math.random().toString(36).slice(2),ia="__reactFiber$"+Bd,qp="__reactProps$"+Bd,Qa="__reactContainer$"+Bd,rw="__reactEvents$"+Bd,Wz="__reactListeners$"+Bd,jz="__reactHandles$"+Bd;function Qu(t){var e=t[ia];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qa]||n[ia]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HC(t);t!==null;){if(n=t[ia])return n;t=HC(t)}return e}t=n,n=t.parentNode}return null}function Lm(t){return t=t[ia]||t[Qa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(lt(33))}function a1(t){return t[qp]||null}var iw=[],Wf=-1;function au(t){return{current:t}}function lr(t){0>Wf||(t.current=iw[Wf],iw[Wf]=null,Wf--)}function nr(t,e){Wf++,iw[Wf]=t.current,t.current=e}var Zl={},Ui=au(Zl),uo=au(!1),pc=Zl;function xd(t,e){var n=t.type.contextTypes;if(!n)return Zl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function co(t){return t=t.childContextTypes,t!=null}function fy(){lr(uo),lr(Ui)}function VC(t,e,n){if(Ui.current!==Zl)throw Error(lt(168));nr(Ui,e),nr(uo,n)}function nN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(lt(108,R6(t)||"Unknown",i));return Er({},n,r)}function dy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zl,pc=Ui.current,nr(Ui,t),nr(uo,uo.current),!0}function WC(t,e,n){var r=t.stateNode;if(!r)throw Error(lt(169));n?(t=nN(t,e,pc),r.__reactInternalMemoizedMergedChildContext=t,lr(uo),lr(Ui),nr(Ui,t)):lr(uo),nr(uo,n)}var Ga=null,l1=!1,l_=!1;function rN(t){Ga===null?Ga=[t]:Ga.push(t)}function $z(t){l1=!0,rN(t)}function lu(){if(!l_&&Ga!==null){l_=!0;var t=0,e=Wn;try{var n=Ga;for(Wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ga=null,l1=!1}catch(i){throw Ga!==null&&(Ga=Ga.slice(t+1)),Ck(uM,lu),i}finally{Wn=e,l_=!1}}return null}var jf=[],$f=0,hy=null,py=0,es=[],ts=0,mc=null,Wa=1,ja="";function zu(t,e){jf[$f++]=py,jf[$f++]=hy,hy=t,py=e}function iN(t,e,n){es[ts++]=Wa,es[ts++]=ja,es[ts++]=mc,mc=t;var r=Wa;t=ja;var i=32-Ns(r)-1;r&=~(1<<i),n+=1;var o=32-Ns(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wa=1<<32-Ns(e)+i|n<<i|r,ja=o+t}else Wa=1<<o|n<<i|r,ja=t}function yM(t){t.return!==null&&(zu(t,1),iN(t,1,0))}function xM(t){for(;t===hy;)hy=jf[--$f],jf[$f]=null,py=jf[--$f],jf[$f]=null;for(;t===mc;)mc=es[--ts],es[ts]=null,ja=es[--ts],es[ts]=null,Wa=es[--ts],es[ts]=null}var Io=null,Co=null,pr=!1,Is=null;function oN(t,e){var n=ns(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Io=t,Co=Gl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Io=t,Co=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mc!==null?{id:Wa,overflow:ja}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ns(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Io=t,Co=null,!0):!1;default:return!1}}function ow(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sw(t){if(pr){var e=Co;if(e){var n=e;if(!jC(t,e)){if(ow(t))throw Error(lt(418));e=Gl(n.nextSibling);var r=Io;e&&jC(t,e)?oN(r,n):(t.flags=t.flags&-4097|2,pr=!1,Io=t)}}else{if(ow(t))throw Error(lt(418));t.flags=t.flags&-4097|2,pr=!1,Io=t}}}function $C(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Io=t}function a0(t){if(t!==Io)return!1;if(!pr)return $C(t),pr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tw(t.type,t.memoizedProps)),e&&(e=Co)){if(ow(t))throw sN(),Error(lt(418));for(;e;)oN(t,e),e=Gl(e.nextSibling)}if($C(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(lt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Co=Gl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Co=null}}else Co=Io?Gl(t.stateNode.nextSibling):null;return!0}function sN(){for(var t=Co;t;)t=Gl(t.nextSibling)}function bd(){Co=Io=null,pr=!1}function bM(t){Is===null?Is=[t]:Is.push(t)}var qz=tl.ReactCurrentBatchConfig;function Ms(t,e){if(t&&t.defaultProps){e=Er({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var my=au(null),gy=null,qf=null,_M=null;function SM(){_M=qf=gy=null}function wM(t){var e=my.current;lr(my),t._currentValue=e}function aw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cd(t,e){gy=t,_M=qf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lo=!0),t.firstContext=null)}function ss(t){var e=t._currentValue;if(_M!==t)if(t={context:t,memoizedValue:e,next:null},qf===null){if(gy===null)throw Error(lt(308));qf=t,gy.dependencies={lanes:0,firstContext:t}}else qf=qf.next=t;return e}var Ju=null;function EM(t){Ju===null?Ju=[t]:Ju.push(t)}function aN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,EM(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ja(t,r)}function Ja(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Il=!1;function MM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ja(t,n)}return i=r.interleaved,i===null?(e.next=e,EM(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ja(t,n)}function Sv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cM(t,n)}}function qC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vy(t,e,n,r){var i=t.updateQueue;Il=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,h=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,y=l;switch(d=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Er({},f,d);break e;case 2:Il=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vc|=s,t.lanes=s,t.memoizedState=f}}function XC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(lt(191,i));i.call(r)}}}var uN=new ak.Component().refs;function lw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Er({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var u1={isMounted:function(t){return(t=t._reactInternals)?Pc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=Wl(t),o=qa(r,i);o.payload=e,n!=null&&(o.callback=n),e=Hl(t,o,i),e!==null&&(Os(e,t,i,r),Sv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=Wl(t),o=qa(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Hl(t,o,i),e!==null&&(Os(e,t,i,r),Sv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xi(),r=Wl(t),i=qa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hl(t,i,r),e!==null&&(Os(e,t,r,n),Sv(e,t,r))}};function YC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Wp(n,r)||!Wp(i,o):!0}function cN(t,e,n){var r=!1,i=Zl,o=e.contextType;return typeof o=="object"&&o!==null?o=ss(o):(i=co(e)?pc:Ui.current,r=e.contextTypes,o=(r=r!=null)?xd(t,i):Zl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=u1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function KC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&u1.enqueueReplaceState(e,e.state,null)}function uw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=uN,MM(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ss(o):(o=co(e)?pc:Ui.current,i.context=xd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(lw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&u1.enqueueReplaceState(i,i.state,null),vy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var r=n.stateNode}if(!r)throw Error(lt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===uN&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,t))}return t}function l0(t,e){throw t=Object.prototype.toString.call(e),Error(lt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QC(t){var e=t._init;return e(t._payload)}function fN(t){function e(v,_){if(t){var b=v.deletions;b===null?(v.deletions=[_],v.flags|=16):b.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=jl(v,_),v.index=0,v.sibling=null,v}function o(v,_,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<_?(v.flags|=2,_):b):(v.flags|=2,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,_,b,S){return _===null||_.tag!==6?(_=m_(b,v.mode,S),_.return=v,_):(_=i(_,b),_.return=v,_)}function a(v,_,b,S){var E=b.type;return E===Bf?c(v,_,b.props.children,S,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pl&&QC(E)===_.type)?(S=i(_,b.props),S.ref=Eh(v,_,b),S.return=v,S):(S=Cv(b.type,b.key,b.props,null,v.mode,S),S.ref=Eh(v,_,b),S.return=v,S)}function u(v,_,b,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=g_(b,v.mode,S),_.return=v,_):(_=i(_,b.children||[]),_.return=v,_)}function c(v,_,b,S,E){return _===null||_.tag!==7?(_=lc(b,v.mode,S,E),_.return=v,_):(_=i(_,b),_.return=v,_)}function f(v,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=m_(""+_,v.mode,b),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qg:return b=Cv(_.type,_.key,_.props,null,v.mode,b),b.ref=Eh(v,null,_),b.return=v,b;case Uf:return _=g_(_,v.mode,b),_.return=v,_;case Pl:var S=_._init;return f(v,S(_._payload),b)}if(Jh(_)||xh(_))return _=lc(_,v.mode,b,null),_.return=v,_;l0(v,_)}return null}function d(v,_,b,S){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(v,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qg:return b.key===E?a(v,_,b,S):null;case Uf:return b.key===E?u(v,_,b,S):null;case Pl:return E=b._init,d(v,_,E(b._payload),S)}if(Jh(b)||xh(b))return E!==null?null:c(v,_,b,S,null);l0(v,b)}return null}function h(v,_,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,l(_,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qg:return v=v.get(S.key===null?b:S.key)||null,a(_,v,S,E);case Uf:return v=v.get(S.key===null?b:S.key)||null,u(_,v,S,E);case Pl:var M=S._init;return h(v,_,b,M(S._payload),E)}if(Jh(S)||xh(S))return v=v.get(b)||null,c(_,v,S,E,null);l0(_,S)}return null}function m(v,_,b,S){for(var E=null,M=null,T=_,R=_=0,C=null;T!==null&&R<b.length;R++){T.index>R?(C=T,T=null):C=T.sibling;var P=d(v,T,b[R],S);if(P===null){T===null&&(T=C);break}t&&T&&P.alternate===null&&e(v,T),_=o(P,_,R),M===null?E=P:M.sibling=P,M=P,T=C}if(R===b.length)return n(v,T),pr&&zu(v,R),E;if(T===null){for(;R<b.length;R++)T=f(v,b[R],S),T!==null&&(_=o(T,_,R),M===null?E=T:M.sibling=T,M=T);return pr&&zu(v,R),E}for(T=r(v,T);R<b.length;R++)C=h(T,v,R,b[R],S),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?R:C.key),_=o(C,_,R),M===null?E=C:M.sibling=C,M=C);return t&&T.forEach(function(D){return e(v,D)}),pr&&zu(v,R),E}function y(v,_,b,S){var E=xh(b);if(typeof E!="function")throw Error(lt(150));if(b=E.call(b),b==null)throw Error(lt(151));for(var M=E=null,T=_,R=_=0,C=null,P=b.next();T!==null&&!P.done;R++,P=b.next()){T.index>R?(C=T,T=null):C=T.sibling;var D=d(v,T,P.value,S);if(D===null){T===null&&(T=C);break}t&&T&&D.alternate===null&&e(v,T),_=o(D,_,R),M===null?E=D:M.sibling=D,M=D,T=C}if(P.done)return n(v,T),pr&&zu(v,R),E;if(T===null){for(;!P.done;R++,P=b.next())P=f(v,P.value,S),P!==null&&(_=o(P,_,R),M===null?E=P:M.sibling=P,M=P);return pr&&zu(v,R),E}for(T=r(v,T);!P.done;R++,P=b.next())P=h(T,v,R,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?R:P.key),_=o(P,_,R),M===null?E=P:M.sibling=P,M=P);return t&&T.forEach(function(z){return e(v,z)}),pr&&zu(v,R),E}function x(v,_,b,S){if(typeof b=="object"&&b!==null&&b.type===Bf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qg:e:{for(var E=b.key,M=_;M!==null;){if(M.key===E){if(E=b.type,E===Bf){if(M.tag===7){n(v,M.sibling),_=i(M,b.props.children),_.return=v,v=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pl&&QC(E)===M.type){n(v,M.sibling),_=i(M,b.props),_.ref=Eh(v,M,b),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}b.type===Bf?(_=lc(b.props.children,v.mode,S,b.key),_.return=v,v=_):(S=Cv(b.type,b.key,b.props,null,v.mode,S),S.ref=Eh(v,_,b),S.return=v,v=S)}return s(v);case Uf:e:{for(M=b.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(v,_.sibling),_=i(_,b.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=g_(b,v.mode,S),_.return=v,v=_}return s(v);case Pl:return M=b._init,x(v,_,M(b._payload),S)}if(Jh(b))return m(v,_,b,S);if(xh(b))return y(v,_,b,S);l0(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,b),_.return=v,v=_):(n(v,_),_=m_(b,v.mode,S),_.return=v,v=_),s(v)):n(v,_)}return x}var _d=fN(!0),dN=fN(!1),km={},da=au(km),Xp=au(km),Yp=au(km);function Zu(t){if(t===km)throw Error(lt(174));return t}function TM(t,e){switch(nr(Yp,e),nr(Xp,t),nr(da,km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:GS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=GS(e,t)}lr(da),nr(da,e)}function Sd(){lr(da),lr(Xp),lr(Yp)}function hN(t){Zu(Yp.current);var e=Zu(da.current),n=GS(e,t.type);e!==n&&(nr(Xp,t),nr(da,n))}function AM(t){Xp.current===t&&(lr(da),lr(Xp))}var xr=au(0);function yy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u_=[];function CM(){for(var t=0;t<u_.length;t++)u_[t]._workInProgressVersionPrimary=null;u_.length=0}var wv=tl.ReactCurrentDispatcher,c_=tl.ReactCurrentBatchConfig,gc=0,Sr=null,Zr=null,ci=null,xy=!1,mp=!1,Kp=0,Xz=0;function Ai(){throw Error(lt(321))}function RM(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ds(t[n],e[n]))return!1;return!0}function PM(t,e,n,r,i,o){if(gc=o,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wv.current=t===null||t.memoizedState===null?Jz:Zz,t=n(r,i),mp){o=0;do{if(mp=!1,Kp=0,25<=o)throw Error(lt(301));o+=1,ci=Zr=null,e.updateQueue=null,wv.current=e8,t=n(r,i)}while(mp)}if(wv.current=by,e=Zr!==null&&Zr.next!==null,gc=0,ci=Zr=Sr=null,xy=!1,e)throw Error(lt(300));return t}function IM(){var t=Kp!==0;return Kp=0,t}function ea(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?Sr.memoizedState=ci=t:ci=ci.next=t,ci}function as(){if(Zr===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=Zr.next;var e=ci===null?Sr.memoizedState:ci.next;if(e!==null)ci=e,Zr=t;else{if(t===null)throw Error(lt(310));Zr=t,t={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},ci===null?Sr.memoizedState=ci=t:ci=ci.next=t}return ci}function Qp(t,e){return typeof e=="function"?e(t):e}function f_(t){var e=as(),n=e.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=t;var r=Zr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((gc&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Sr.lanes|=c,vc|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Ds(r,e.memoizedState)||(lo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Sr.lanes|=o,vc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function d_(t){var e=as(),n=e.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ds(o,e.memoizedState)||(lo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pN(){}function mN(t,e){var n=Sr,r=as(),i=e(),o=!Ds(r.memoizedState,i);if(o&&(r.memoizedState=i,lo=!0),r=r.queue,LM(yN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ci!==null&&ci.memoizedState.tag&1){if(n.flags|=2048,Jp(9,vN.bind(null,n,r,i,e),void 0,null),di===null)throw Error(lt(349));gc&30||gN(n,e,i)}return i}function gN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vN(t,e,n,r){e.value=n,e.getSnapshot=r,xN(e)&&bN(t)}function yN(t,e,n){return n(function(){xN(e)&&bN(t)})}function xN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ds(t,n)}catch{return!0}}function bN(t){var e=Ja(t,1);e!==null&&Os(e,t,1,-1)}function JC(t){var e=ea();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:t},e.queue=t,t=t.dispatch=Qz.bind(null,Sr,t),[e.memoizedState,t]}function Jp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _N(){return as().memoizedState}function Ev(t,e,n,r){var i=ea();Sr.flags|=t,i.memoizedState=Jp(1|e,n,void 0,r===void 0?null:r)}function c1(t,e,n,r){var i=as();r=r===void 0?null:r;var o=void 0;if(Zr!==null){var s=Zr.memoizedState;if(o=s.destroy,r!==null&&RM(r,s.deps)){i.memoizedState=Jp(e,n,o,r);return}}Sr.flags|=t,i.memoizedState=Jp(1|e,n,o,r)}function ZC(t,e){return Ev(8390656,8,t,e)}function LM(t,e){return c1(2048,8,t,e)}function SN(t,e){return c1(4,2,t,e)}function wN(t,e){return c1(4,4,t,e)}function EN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MN(t,e,n){return n=n!=null?n.concat([t]):null,c1(4,4,EN.bind(null,e,t),n)}function kM(){}function TN(t,e){var n=as();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RM(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AN(t,e){var n=as();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RM(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CN(t,e,n){return gc&21?(Ds(n,e)||(n=Ik(),Sr.lanes|=n,vc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lo=!0),t.memoizedState=n)}function Yz(t,e){var n=Wn;Wn=n!==0&&4>n?n:4,t(!0);var r=c_.transition;c_.transition={};try{t(!1),e()}finally{Wn=n,c_.transition=r}}function RN(){return as().memoizedState}function Kz(t,e,n){var r=Wl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PN(t))IN(e,n);else if(n=aN(t,e,n,r),n!==null){var i=Xi();Os(n,t,r,i),LN(n,e,r)}}function Qz(t,e,n){var r=Wl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PN(t))IN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ds(l,s)){var a=e.interleaved;a===null?(i.next=i,EM(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=aN(t,e,i,r),n!==null&&(i=Xi(),Os(n,t,r,i),LN(n,e,r))}}function PN(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function IN(t,e){mp=xy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cM(t,n)}}var by={readContext:ss,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},Jz={readContext:ss,useCallback:function(t,e){return ea().memoizedState=[t,e===void 0?null:e],t},useContext:ss,useEffect:ZC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ev(4194308,4,EN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ev(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ev(4,2,t,e)},useMemo:function(t,e){var n=ea();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ea();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Kz.bind(null,Sr,t),[r.memoizedState,t]},useRef:function(t){var e=ea();return t={current:t},e.memoizedState=t},useState:JC,useDebugValue:kM,useDeferredValue:function(t){return ea().memoizedState=t},useTransition:function(){var t=JC(!1),e=t[0];return t=Yz.bind(null,t[1]),ea().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Sr,i=ea();if(pr){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=e(),di===null)throw Error(lt(349));gc&30||gN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ZC(yN.bind(null,r,o,t),[t]),r.flags|=2048,Jp(9,vN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ea(),e=di.identifierPrefix;if(pr){var n=ja,r=Wa;n=(r&~(1<<32-Ns(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Xz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zz={readContext:ss,useCallback:TN,useContext:ss,useEffect:LM,useImperativeHandle:MN,useInsertionEffect:SN,useLayoutEffect:wN,useMemo:AN,useReducer:f_,useRef:_N,useState:function(){return f_(Qp)},useDebugValue:kM,useDeferredValue:function(t){var e=as();return CN(e,Zr.memoizedState,t)},useTransition:function(){var t=f_(Qp)[0],e=as().memoizedState;return[t,e]},useMutableSource:pN,useSyncExternalStore:mN,useId:RN,unstable_isNewReconciler:!1},e8={readContext:ss,useCallback:TN,useContext:ss,useEffect:LM,useImperativeHandle:MN,useInsertionEffect:SN,useLayoutEffect:wN,useMemo:AN,useReducer:d_,useRef:_N,useState:function(){return d_(Qp)},useDebugValue:kM,useDeferredValue:function(t){var e=as();return Zr===null?e.memoizedState=t:CN(e,Zr.memoizedState,t)},useTransition:function(){var t=d_(Qp)[0],e=as().memoizedState;return[t,e]},useMutableSource:pN,useSyncExternalStore:mN,useId:RN,unstable_isNewReconciler:!1};function wd(t,e){try{var n="",r=e;do n+=C6(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function h_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var t8=typeof WeakMap=="function"?WeakMap:Map;function kN(t,e,n){n=qa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sy||(Sy=!0,bw=r),cw(t,e)},n}function NN(t,e,n){n=qa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){cw(t,e),typeof r!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function eR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new t8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=m8.bind(null,t,e,n),e.then(t,t))}function tR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qa(-1,1),e.tag=2,Hl(n,e,1))),n.lanes|=1),t)}var n8=tl.ReactCurrentOwner,lo=!1;function $i(t,e,n,r){e.child=t===null?dN(e,null,n,r):_d(e,t.child,n,r)}function rR(t,e,n,r,i){n=n.render;var o=e.ref;return cd(e,i),r=PM(t,e,n,r,o,i),n=IM(),t!==null&&!lo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(pr&&n&&yM(e),e.flags|=1,$i(t,e,r,i),e.child)}function iR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!GM(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ON(t,e,o,r,i)):(t=Cv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wp,n(s,r)&&t.ref===e.ref)return Za(t,e,i)}return e.flags|=1,t=jl(o,r),t.ref=e.ref,t.return=e,e.child=t}function ON(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Wp(o,r)&&t.ref===e.ref)if(lo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(lo=!0);else return e.lanes=t.lanes,Za(t,e,i)}return fw(t,e,n,r,i)}function FN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Yf,Mo),Mo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nr(Yf,Mo),Mo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nr(Yf,Mo),Mo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nr(Yf,Mo),Mo|=r;return $i(t,e,i,n),e.child}function DN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fw(t,e,n,r,i){var o=co(n)?pc:Ui.current;return o=xd(e,o),cd(e,i),n=PM(t,e,n,r,o,i),r=IM(),t!==null&&!lo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(pr&&r&&yM(e),e.flags|=1,$i(t,e,n,i),e.child)}function oR(t,e,n,r,i){if(co(n)){var o=!0;dy(e)}else o=!1;if(cd(e,i),e.stateNode===null)Mv(t,e),cN(e,n,r),uw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ss(u):(u=co(n)?pc:Ui.current,u=xd(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&KC(e,s,r,u),Il=!1;var d=e.memoizedState;s.state=d,vy(e,r,s,i),a=e.memoizedState,l!==r||d!==a||uo.current||Il?(typeof c=="function"&&(lw(e,n,c,r),a=e.memoizedState),(l=Il||YC(e,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,lN(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ms(e.type,l),s.props=u,f=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ss(a):(a=co(n)?pc:Ui.current,a=xd(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&KC(e,s,r,a),Il=!1,d=e.memoizedState,s.state=d,vy(e,r,s,i);var m=e.memoizedState;l!==f||d!==m||uo.current||Il?(typeof h=="function"&&(lw(e,n,h,r),m=e.memoizedState),(u=Il||YC(e,n,u,r,d,m,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return dw(t,e,n,r,o,i)}function dw(t,e,n,r,i,o){DN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&WC(e,n,!1),Za(t,e,o);r=e.stateNode,n8.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=_d(e,t.child,null,o),e.child=_d(e,null,l,o)):$i(t,e,l,o),e.memoizedState=r.state,i&&WC(e,n,!0),e.child}function UN(t){var e=t.stateNode;e.pendingContext?VC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VC(t,e.context,!1),TM(t,e.containerInfo)}function sR(t,e,n,r,i){return bd(),bM(i),e.flags|=256,$i(t,e,n,r),e.child}var hw={dehydrated:null,treeContext:null,retryLane:0};function pw(t){return{baseLanes:t,cachePool:null,transitions:null}}function BN(t,e,n){var r=e.pendingProps,i=xr.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nr(xr,i&1),t===null)return sw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=h1(s,r,0,null),t=lc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=pw(n),e.memoizedState=hw,t):NM(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return r8(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=jl(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=jl(l,o):(o=lc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?pw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=hw,r}return o=t.child,t=o.sibling,r=jl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function NM(t,e){return e=h1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function u0(t,e,n,r){return r!==null&&bM(r),_d(e,t.child,null,n),t=NM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function r8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=h_(Error(lt(422))),u0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=h1({mode:"visible",children:r.children},i,0,null),o=lc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&_d(e,t.child,null,s),e.child.memoizedState=pw(s),e.memoizedState=hw,o);if(!(e.mode&1))return u0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(lt(419)),r=h_(o,r,void 0),u0(t,e,s,r)}if(l=(s&t.childLanes)!==0,lo||l){if(r=di,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ja(t,i),Os(r,t,i,-1))}return zM(),r=h_(Error(lt(421))),u0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=g8.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Co=Gl(i.nextSibling),Io=e,pr=!0,Is=null,t!==null&&(es[ts++]=Wa,es[ts++]=ja,es[ts++]=mc,Wa=t.id,ja=t.overflow,mc=e),e=NM(e,r.children),e.flags|=4096,e)}function aR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aw(t.return,e,n)}function p_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($i(t,e,r.children,n),r=xr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aR(t,n,e);else if(t.tag===19)aR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nr(xr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),p_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}p_(e,!0,n,null,o);break;case"together":p_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Za(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(lt(153));if(e.child!==null){for(t=e.child,n=jl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function i8(t,e,n){switch(e.tag){case 3:UN(e),bd();break;case 5:hN(e);break;case 1:co(e.type)&&dy(e);break;case 4:TM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nr(my,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nr(xr,xr.current&1),e.flags|=128,null):n&e.child.childLanes?BN(t,e,n):(nr(xr,xr.current&1),t=Za(t,e,n),t!==null?t.sibling:null);nr(xr,xr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nr(xr,xr.current),r)break;return null;case 22:case 23:return e.lanes=0,FN(t,e,n)}return Za(t,e,n)}var GN,mw,HN,VN;GN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mw=function(){};HN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zu(da.current);var o=null;switch(n){case"input":i=DS(t,i),r=DS(t,r),o=[];break;case"select":i=Er({},i,{value:void 0}),r=Er({},r,{value:void 0}),o=[];break;case"textarea":i=zS(t,i),r=zS(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cy)}HS(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dp.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dp.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ar("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};VN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mh(t,e){if(!pr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ci(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function o8(t,e,n){var r=e.pendingProps;switch(xM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(e),null;case 1:return co(e.type)&&fy(),Ci(e),null;case 3:return r=e.stateNode,Sd(),lr(uo),lr(Ui),CM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(a0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(ww(Is),Is=null))),mw(t,e),Ci(e),null;case 5:AM(e);var i=Zu(Yp.current);if(n=e.type,t!==null&&e.stateNode!=null)HN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(lt(166));return Ci(e),null}if(t=Zu(da.current),a0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ia]=e,r[qp]=o,t=(e.mode&1)!==0,n){case"dialog":ar("cancel",r),ar("close",r);break;case"iframe":case"object":case"embed":ar("load",r);break;case"video":case"audio":for(i=0;i<ep.length;i++)ar(ep[i],r);break;case"source":ar("error",r);break;case"img":case"image":case"link":ar("error",r),ar("load",r);break;case"details":ar("toggle",r);break;case"input":gC(r,o),ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ar("invalid",r);break;case"textarea":yC(r,o),ar("invalid",r)}HS(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&s0(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&s0(r.textContent,l,t),i=["children",""+l]):Dp.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ar("scroll",r)}switch(n){case"input":Jg(r),vC(r,o,!0);break;case"textarea":Jg(r),xC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ia]=e,t[qp]=r,GN(t,e,!1,!1),e.stateNode=t;e:{switch(s=VS(n,r),n){case"dialog":ar("cancel",t),ar("close",t),i=r;break;case"iframe":case"object":case"embed":ar("load",t),i=r;break;case"video":case"audio":for(i=0;i<ep.length;i++)ar(ep[i],t);i=r;break;case"source":ar("error",t),i=r;break;case"img":case"image":case"link":ar("error",t),ar("load",t),i=r;break;case"details":ar("toggle",t),i=r;break;case"input":gC(t,r),i=DS(t,r),ar("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Er({},r,{value:void 0}),ar("invalid",t);break;case"textarea":yC(t,r),i=zS(t,r),ar("invalid",t);break;default:i=r}HS(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?xk(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vk(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Up(t,a):typeof a=="number"&&Up(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Dp.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ar("scroll",t):a!=null&&iM(t,o,a,s))}switch(n){case"input":Jg(t),vC(t,r,!1);break;case"textarea":Jg(t),xC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?sd(t,!!r.multiple,o,!1):r.defaultValue!=null&&sd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ci(e),null;case 6:if(t&&e.stateNode!=null)VN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(lt(166));if(n=Zu(Yp.current),Zu(da.current),a0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ia]=e,(o=r.nodeValue!==n)&&(t=Io,t!==null))switch(t.tag){case 3:s0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&s0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ia]=e,e.stateNode=r}return Ci(e),null;case 13:if(lr(xr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pr&&Co!==null&&e.mode&1&&!(e.flags&128))sN(),bd(),e.flags|=98560,o=!1;else if(o=a0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(lt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(lt(317));o[ia]=e}else bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ci(e),o=!1}else Is!==null&&(ww(Is),Is=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xr.current&1?ei===0&&(ei=3):zM())),e.updateQueue!==null&&(e.flags|=4),Ci(e),null);case 4:return Sd(),mw(t,e),t===null&&jp(e.stateNode.containerInfo),Ci(e),null;case 10:return wM(e.type._context),Ci(e),null;case 17:return co(e.type)&&fy(),Ci(e),null;case 19:if(lr(xr),o=e.memoizedState,o===null)return Ci(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Mh(o,!1);else{if(ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=yy(t),s!==null){for(e.flags|=128,Mh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nr(xr,xr.current&1|2),e.child}t=t.sibling}o.tail!==null&&zr()>Ed&&(e.flags|=128,r=!0,Mh(o,!1),e.lanes=4194304)}else{if(!r)if(t=yy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!pr)return Ci(e),null}else 2*zr()-o.renderingStartTime>Ed&&n!==1073741824&&(e.flags|=128,r=!0,Mh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zr(),e.sibling=null,n=xr.current,nr(xr,r?n&1|2:n&1),e):(Ci(e),null);case 22:case 23:return BM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mo&1073741824&&(Ci(e),e.subtreeFlags&6&&(e.flags|=8192)):Ci(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}function s8(t,e){switch(xM(e),e.tag){case 1:return co(e.type)&&fy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sd(),lr(uo),lr(Ui),CM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AM(e),null;case 13:if(lr(xr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));bd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lr(xr),null;case 4:return Sd(),null;case 10:return wM(e.type._context),null;case 22:case 23:return BM(),null;case 24:return null;default:return null}}var c0=!1,Ni=!1,a8=typeof WeakSet=="function"?WeakSet:Set,St=null;function Xf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pr(t,e,r)}else n.current=null}function gw(t,e,n){try{n()}catch(r){Pr(t,e,r)}}var lR=!1;function l8(t,e){if(ZS=ay,t=qk(),vM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ew={focusedElem:t,selectionRange:n},ay=!1,St=e;St!==null;)if(e=St,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,St=t;else for(;St!==null;){e=St;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ms(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(S){Pr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}return m=lR,lR=!1,m}function gp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&gw(e,n,o)}i=i.next}while(i!==r)}}function f1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WN(t){var e=t.alternate;e!==null&&(t.alternate=null,WN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ia],delete e[qp],delete e[rw],delete e[Wz],delete e[jz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jN(t){return t.tag===5||t.tag===3||t.tag===4}function uR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cy));else if(r!==4&&(t=t.child,t!==null))for(yw(t,e,n),t=t.sibling;t!==null;)yw(t,e,n),t=t.sibling}function xw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xw(t,e,n),t=t.sibling;t!==null;)xw(t,e,n),t=t.sibling}var gi=null,Rs=!1;function yl(t,e,n){for(n=n.child;n!==null;)$N(t,e,n),n=n.sibling}function $N(t,e,n){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(r1,n)}catch{}switch(n.tag){case 5:Ni||Xf(n,e);case 6:var r=gi,i=Rs;gi=null,yl(t,e,n),gi=r,Rs=i,gi!==null&&(Rs?(t=gi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gi.removeChild(n.stateNode));break;case 18:gi!==null&&(Rs?(t=gi,n=n.stateNode,t.nodeType===8?a_(t.parentNode,n):t.nodeType===1&&a_(t,n),Hp(t)):a_(gi,n.stateNode));break;case 4:r=gi,i=Rs,gi=n.stateNode.containerInfo,Rs=!0,yl(t,e,n),gi=r,Rs=i;break;case 0:case 11:case 14:case 15:if(!Ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&gw(n,e,s),i=i.next}while(i!==r)}yl(t,e,n);break;case 1:if(!Ni&&(Xf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pr(n,e,l)}yl(t,e,n);break;case 21:yl(t,e,n);break;case 22:n.mode&1?(Ni=(r=Ni)||n.memoizedState!==null,yl(t,e,n),Ni=r):yl(t,e,n);break;default:yl(t,e,n)}}function cR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new a8),e.forEach(function(r){var i=v8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _s(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:gi=l.stateNode,Rs=!1;break e;case 3:gi=l.stateNode.containerInfo,Rs=!0;break e;case 4:gi=l.stateNode.containerInfo,Rs=!0;break e}l=l.return}if(gi===null)throw Error(lt(160));$N(o,s,i),gi=null,Rs=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Pr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qN(e,t),e=e.sibling}function qN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_s(e,t),Qs(t),r&4){try{gp(3,t,t.return),f1(3,t)}catch(y){Pr(t,t.return,y)}try{gp(5,t,t.return)}catch(y){Pr(t,t.return,y)}}break;case 1:_s(e,t),Qs(t),r&512&&n!==null&&Xf(n,n.return);break;case 5:if(_s(e,t),Qs(t),r&512&&n!==null&&Xf(n,n.return),t.flags&32){var i=t.stateNode;try{Up(i,"")}catch(y){Pr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&pk(i,o),VS(l,s);var u=VS(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?xk(i,f):c==="dangerouslySetInnerHTML"?vk(i,f):c==="children"?Up(i,f):iM(i,c,f,u)}switch(l){case"input":US(i,o);break;case"textarea":mk(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?sd(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?sd(i,!!o.multiple,o.defaultValue,!0):sd(i,!!o.multiple,o.multiple?[]:"",!1))}i[qp]=o}catch(y){Pr(t,t.return,y)}}break;case 6:if(_s(e,t),Qs(t),r&4){if(t.stateNode===null)throw Error(lt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Pr(t,t.return,y)}}break;case 3:if(_s(e,t),Qs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hp(e.containerInfo)}catch(y){Pr(t,t.return,y)}break;case 4:_s(e,t),Qs(t);break;case 13:_s(e,t),Qs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(DM=zr())),r&4&&cR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ni=(u=Ni)||c,_s(e,t),Ni=u):_s(e,t),Qs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(St=t,c=t.child;c!==null;){for(f=St=c;St!==null;){switch(d=St,h=d.child,d.tag){case 0:case 11:case 14:case 15:gp(4,d,d.return);break;case 1:Xf(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Pr(r,n,y)}}break;case 5:Xf(d,d.return);break;case 22:if(d.memoizedState!==null){dR(f);continue}}h!==null?(h.return=d,St=h):dR(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=yk("display",s))}catch(y){Pr(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Pr(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_s(e,t),Qs(t),r&4&&cR(t);break;case 21:break;default:_s(e,t),Qs(t)}}function Qs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jN(n)){var r=n;break e}n=n.return}throw Error(lt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Up(i,""),r.flags&=-33);var o=uR(t);xw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=uR(t);yw(t,l,s);break;default:throw Error(lt(161))}}catch(a){Pr(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function u8(t,e,n){St=t,XN(t)}function XN(t,e,n){for(var r=(t.mode&1)!==0;St!==null;){var i=St,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||c0;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ni;l=c0;var u=Ni;if(c0=s,(Ni=a)&&!u)for(St=i;St!==null;)s=St,a=s.child,s.tag===22&&s.memoizedState!==null?hR(i):a!==null?(a.return=s,St=a):hR(i);for(;o!==null;)St=o,XN(o),o=o.sibling;St=i,c0=l,Ni=u}fR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,St=o):fR(t)}}function fR(t){for(;St!==null;){var e=St;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ni||f1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ni)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ms(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&XC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XC(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Hp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Ni||e.flags&512&&vw(e)}catch(d){Pr(e,e.return,d)}}if(e===t){St=null;break}if(n=e.sibling,n!==null){n.return=e.return,St=n;break}St=e.return}}function dR(t){for(;St!==null;){var e=St;if(e===t){St=null;break}var n=e.sibling;if(n!==null){n.return=e.return,St=n;break}St=e.return}}function hR(t){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{f1(4,e)}catch(a){Pr(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Pr(e,i,a)}}var o=e.return;try{vw(e)}catch(a){Pr(e,o,a)}break;case 5:var s=e.return;try{vw(e)}catch(a){Pr(e,s,a)}}}catch(a){Pr(e,e.return,a)}if(e===t){St=null;break}var l=e.sibling;if(l!==null){l.return=e.return,St=l;break}St=e.return}}var c8=Math.ceil,_y=tl.ReactCurrentDispatcher,OM=tl.ReactCurrentOwner,rs=tl.ReactCurrentBatchConfig,Rn=0,di=null,Xr=null,yi=0,Mo=0,Yf=au(0),ei=0,Zp=null,vc=0,d1=0,FM=0,vp=null,oo=null,DM=0,Ed=1/0,Ua=null,Sy=!1,bw=null,Vl=null,f0=!1,Dl=null,wy=0,yp=0,_w=null,Tv=-1,Av=0;function Xi(){return Rn&6?zr():Tv!==-1?Tv:Tv=zr()}function Wl(t){return t.mode&1?Rn&2&&yi!==0?yi&-yi:qz.transition!==null?(Av===0&&(Av=Ik()),Av):(t=Wn,t!==0||(t=window.event,t=t===void 0?16:Uk(t.type)),t):1}function Os(t,e,n,r){if(50<yp)throw yp=0,_w=null,Error(lt(185));Pm(t,n,r),(!(Rn&2)||t!==di)&&(t===di&&(!(Rn&2)&&(d1|=n),ei===4&&Nl(t,yi)),fo(t,r),n===1&&Rn===0&&!(e.mode&1)&&(Ed=zr()+500,l1&&lu()))}function fo(t,e){var n=t.callbackNode;q6(t,e);var r=sy(t,t===di?yi:0);if(r===0)n!==null&&SC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SC(n),e===1)t.tag===0?$z(pR.bind(null,t)):rN(pR.bind(null,t)),Hz(function(){!(Rn&6)&&lu()}),n=null;else{switch(Lk(r)){case 1:n=uM;break;case 4:n=Rk;break;case 16:n=oy;break;case 536870912:n=Pk;break;default:n=oy}n=nO(n,YN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YN(t,e){if(Tv=-1,Av=0,Rn&6)throw Error(lt(327));var n=t.callbackNode;if(fd()&&t.callbackNode!==n)return null;var r=sy(t,t===di?yi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ey(t,r);else{e=r;var i=Rn;Rn|=2;var o=QN();(di!==t||yi!==e)&&(Ua=null,Ed=zr()+500,ac(t,e));do try{h8();break}catch(l){KN(t,l)}while(1);SM(),_y.current=o,Rn=i,Xr!==null?e=0:(di=null,yi=0,e=ei)}if(e!==0){if(e===2&&(i=XS(t),i!==0&&(r=i,e=Sw(t,i))),e===1)throw n=Zp,ac(t,0),Nl(t,r),fo(t,zr()),n;if(e===6)Nl(t,r);else{if(i=t.current.alternate,!(r&30)&&!f8(i)&&(e=Ey(t,r),e===2&&(o=XS(t),o!==0&&(r=o,e=Sw(t,o))),e===1))throw n=Zp,ac(t,0),Nl(t,r),fo(t,zr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(lt(345));case 2:Gu(t,oo,Ua);break;case 3:if(Nl(t,r),(r&130023424)===r&&(e=DM+500-zr(),10<e)){if(sy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nw(Gu.bind(null,t,oo,Ua),e);break}Gu(t,oo,Ua);break;case 4:if(Nl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ns(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=zr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c8(r/1960))-r,10<r){t.timeoutHandle=nw(Gu.bind(null,t,oo,Ua),r);break}Gu(t,oo,Ua);break;case 5:Gu(t,oo,Ua);break;default:throw Error(lt(329))}}}return fo(t,zr()),t.callbackNode===n?YN.bind(null,t):null}function Sw(t,e){var n=vp;return t.current.memoizedState.isDehydrated&&(ac(t,e).flags|=256),t=Ey(t,e),t!==2&&(e=oo,oo=n,e!==null&&ww(e)),t}function ww(t){oo===null?oo=t:oo.push.apply(oo,t)}function f8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ds(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nl(t,e){for(e&=~FM,e&=~d1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ns(e),r=1<<n;t[n]=-1,e&=~r}}function pR(t){if(Rn&6)throw Error(lt(327));fd();var e=sy(t,0);if(!(e&1))return fo(t,zr()),null;var n=Ey(t,e);if(t.tag!==0&&n===2){var r=XS(t);r!==0&&(e=r,n=Sw(t,r))}if(n===1)throw n=Zp,ac(t,0),Nl(t,e),fo(t,zr()),n;if(n===6)throw Error(lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gu(t,oo,Ua),fo(t,zr()),null}function UM(t,e){var n=Rn;Rn|=1;try{return t(e)}finally{Rn=n,Rn===0&&(Ed=zr()+500,l1&&lu())}}function yc(t){Dl!==null&&Dl.tag===0&&!(Rn&6)&&fd();var e=Rn;Rn|=1;var n=rs.transition,r=Wn;try{if(rs.transition=null,Wn=1,t)return t()}finally{Wn=r,rs.transition=n,Rn=e,!(Rn&6)&&lu()}}function BM(){Mo=Yf.current,lr(Yf)}function ac(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gz(n)),Xr!==null)for(n=Xr.return;n!==null;){var r=n;switch(xM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fy();break;case 3:Sd(),lr(uo),lr(Ui),CM();break;case 5:AM(r);break;case 4:Sd();break;case 13:lr(xr);break;case 19:lr(xr);break;case 10:wM(r.type._context);break;case 22:case 23:BM()}n=n.return}if(di=t,Xr=t=jl(t.current,null),yi=Mo=e,ei=0,Zp=null,FM=d1=vc=0,oo=vp=null,Ju!==null){for(e=0;e<Ju.length;e++)if(n=Ju[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ju=null}return t}function KN(t,e){do{var n=Xr;try{if(SM(),wv.current=by,xy){for(var r=Sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xy=!1}if(gc=0,ci=Zr=Sr=null,mp=!1,Kp=0,OM.current=null,n===null||n.return===null){ei=1,Zp=e,Xr=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=yi,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=tR(s);if(h!==null){h.flags&=-257,nR(h,s,l,o,e),h.mode&1&&eR(o,u,e),e=h,a=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(a),e.updateQueue=y}else m.add(a);break e}else{if(!(e&1)){eR(o,u,e),zM();break e}a=Error(lt(426))}}else if(pr&&l.mode&1){var x=tR(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nR(x,s,l,o,e),bM(wd(a,l));break e}}o=a=wd(a,l),ei!==4&&(ei=2),vp===null?vp=[o]:vp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=kN(o,a,e);qC(o,v);break e;case 1:l=a;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vl===null||!Vl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=NN(o,l,e);qC(o,S);break e}}o=o.return}while(o!==null)}ZN(n)}catch(E){e=E,Xr===n&&n!==null&&(Xr=n=n.return);continue}break}while(1)}function QN(){var t=_y.current;return _y.current=by,t===null?by:t}function zM(){(ei===0||ei===3||ei===2)&&(ei=4),di===null||!(vc&268435455)&&!(d1&268435455)||Nl(di,yi)}function Ey(t,e){var n=Rn;Rn|=2;var r=QN();(di!==t||yi!==e)&&(Ua=null,ac(t,e));do try{d8();break}catch(i){KN(t,i)}while(1);if(SM(),Rn=n,_y.current=r,Xr!==null)throw Error(lt(261));return di=null,yi=0,ei}function d8(){for(;Xr!==null;)JN(Xr)}function h8(){for(;Xr!==null&&!U6();)JN(Xr)}function JN(t){var e=tO(t.alternate,t,Mo);t.memoizedProps=t.pendingProps,e===null?ZN(t):Xr=e,OM.current=null}function ZN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s8(n,e),n!==null){n.flags&=32767,Xr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ei=6,Xr=null;return}}else if(n=o8(n,e,Mo),n!==null){Xr=n;return}if(e=e.sibling,e!==null){Xr=e;return}Xr=e=t}while(e!==null);ei===0&&(ei=5)}function Gu(t,e,n){var r=Wn,i=rs.transition;try{rs.transition=null,Wn=1,p8(t,e,n,r)}finally{rs.transition=i,Wn=r}return null}function p8(t,e,n,r){do fd();while(Dl!==null);if(Rn&6)throw Error(lt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(lt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(X6(t,o),t===di&&(Xr=di=null,yi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f0||(f0=!0,nO(oy,function(){return fd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rs.transition,rs.transition=null;var s=Wn;Wn=1;var l=Rn;Rn|=4,OM.current=null,l8(t,n),qN(n,t),Nz(ew),ay=!!ZS,ew=ZS=null,t.current=n,u8(n),B6(),Rn=l,Wn=s,rs.transition=o}else t.current=n;if(f0&&(f0=!1,Dl=t,wy=i),o=t.pendingLanes,o===0&&(Vl=null),H6(n.stateNode),fo(t,zr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sy)throw Sy=!1,t=bw,bw=null,t;return wy&1&&t.tag!==0&&fd(),o=t.pendingLanes,o&1?t===_w?yp++:(yp=0,_w=t):yp=0,lu(),null}function fd(){if(Dl!==null){var t=Lk(wy),e=rs.transition,n=Wn;try{if(rs.transition=null,Wn=16>t?16:t,Dl===null)var r=!1;else{if(t=Dl,Dl=null,wy=0,Rn&6)throw Error(lt(331));var i=Rn;for(Rn|=4,St=t.current;St!==null;){var o=St,s=o.child;if(St.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(St=u;St!==null;){var c=St;switch(c.tag){case 0:case 11:case 15:gp(8,c,o)}var f=c.child;if(f!==null)f.return=c,St=f;else for(;St!==null;){c=St;var d=c.sibling,h=c.return;if(WN(c),c===u){St=null;break}if(d!==null){d.return=h,St=d;break}St=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}St=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,St=s;else e:for(;St!==null;){if(o=St,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gp(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,St=v;break e}St=o.return}}var _=t.current;for(St=_;St!==null;){s=St;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,St=b;else e:for(s=_;St!==null;){if(l=St,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:f1(9,l)}}catch(E){Pr(l,l.return,E)}if(l===s){St=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,St=S;break e}St=l.return}}if(Rn=i,lu(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(r1,t)}catch{}r=!0}return r}finally{Wn=n,rs.transition=e}}return!1}function mR(t,e,n){e=wd(n,e),e=kN(t,e,1),t=Hl(t,e,1),e=Xi(),t!==null&&(Pm(t,1,e),fo(t,e))}function Pr(t,e,n){if(t.tag===3)mR(t,t,n);else for(;e!==null;){if(e.tag===3){mR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vl===null||!Vl.has(r))){t=wd(n,t),t=NN(e,t,1),e=Hl(e,t,1),t=Xi(),e!==null&&(Pm(e,1,t),fo(e,t));break}}e=e.return}}function m8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xi(),t.pingedLanes|=t.suspendedLanes&n,di===t&&(yi&n)===n&&(ei===4||ei===3&&(yi&130023424)===yi&&500>zr()-DM?ac(t,0):FM|=n),fo(t,e)}function eO(t,e){e===0&&(t.mode&1?(e=t0,t0<<=1,!(t0&130023424)&&(t0=4194304)):e=1);var n=Xi();t=Ja(t,e),t!==null&&(Pm(t,e,n),fo(t,n))}function g8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eO(t,n)}function v8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(lt(314))}r!==null&&r.delete(e),eO(t,n)}var tO;tO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||uo.current)lo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lo=!1,i8(t,e,n);lo=!!(t.flags&131072)}else lo=!1,pr&&e.flags&1048576&&iN(e,py,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mv(t,e),t=e.pendingProps;var i=xd(e,Ui.current);cd(e,n),i=PM(null,e,r,t,i,n);var o=IM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,co(r)?(o=!0,dy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MM(e),i.updater=u1,e.stateNode=i,i._reactInternals=e,uw(e,r,t,n),e=dw(null,e,r,!0,o,n)):(e.tag=0,pr&&o&&yM(e),$i(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x8(r),t=Ms(r,t),i){case 0:e=fw(null,e,r,t,n);break e;case 1:e=oR(null,e,r,t,n);break e;case 11:e=rR(null,e,r,t,n);break e;case 14:e=iR(null,e,r,Ms(r.type,t),n);break e}throw Error(lt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),fw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),oR(t,e,r,i,n);case 3:e:{if(UN(e),t===null)throw Error(lt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,lN(t,e),vy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=wd(Error(lt(423)),e),e=sR(t,e,r,n,i);break e}else if(r!==i){i=wd(Error(lt(424)),e),e=sR(t,e,r,n,i);break e}else for(Co=Gl(e.stateNode.containerInfo.firstChild),Io=e,pr=!0,Is=null,n=dN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bd(),r===i){e=Za(t,e,n);break e}$i(t,e,r,n)}e=e.child}return e;case 5:return hN(e),t===null&&sw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,tw(r,i)?s=null:o!==null&&tw(r,o)&&(e.flags|=32),DN(t,e),$i(t,e,s,n),e.child;case 6:return t===null&&sw(e),null;case 13:return BN(t,e,n);case 4:return TM(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_d(e,null,r,n):$i(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),rR(t,e,r,i,n);case 7:return $i(t,e,e.pendingProps,n),e.child;case 8:return $i(t,e,e.pendingProps.children,n),e.child;case 12:return $i(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nr(my,r._currentValue),r._currentValue=s,o!==null)if(Ds(o.value,s)){if(o.children===i.children&&!uo.current){e=Za(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=qa(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),aw(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(lt(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),aw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}$i(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cd(e,n),i=ss(i),r=r(i),e.flags|=1,$i(t,e,r,n),e.child;case 14:return r=e.type,i=Ms(r,e.pendingProps),i=Ms(r.type,i),iR(t,e,r,i,n);case 15:return ON(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),Mv(t,e),e.tag=1,co(r)?(t=!0,dy(e)):t=!1,cd(e,n),cN(e,r,i),uw(e,r,i,n),dw(null,e,r,!0,t,n);case 19:return zN(t,e,n);case 22:return FN(t,e,n)}throw Error(lt(156,e.tag))};function nO(t,e){return Ck(t,e)}function y8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(t,e,n,r){return new y8(t,e,n,r)}function GM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x8(t){if(typeof t=="function")return GM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sM)return 11;if(t===aM)return 14}return 2}function jl(t,e){var n=t.alternate;return n===null?(n=ns(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cv(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")GM(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bf:return lc(n.children,i,o,e);case oM:s=8,i|=8;break;case kS:return t=ns(12,n,e,i|2),t.elementType=kS,t.lanes=o,t;case NS:return t=ns(13,n,e,i),t.elementType=NS,t.lanes=o,t;case OS:return t=ns(19,n,e,i),t.elementType=OS,t.lanes=o,t;case fk:return h1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uk:s=10;break e;case ck:s=9;break e;case sM:s=11;break e;case aM:s=14;break e;case Pl:s=16,r=null;break e}throw Error(lt(130,t==null?t:typeof t,""))}return e=ns(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function lc(t,e,n,r){return t=ns(7,t,r,e),t.lanes=n,t}function h1(t,e,n,r){return t=ns(22,t,r,e),t.elementType=fk,t.lanes=n,t.stateNode={isHidden:!1},t}function m_(t,e,n){return t=ns(6,t,null,e),t.lanes=n,t}function g_(t,e,n){return e=ns(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kb(0),this.expirationTimes=Kb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HM(t,e,n,r,i,o,s,l,a){return t=new b8(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ns(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MM(o),t}function _8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rO(t){if(!t)return Zl;t=t._reactInternals;e:{if(Pc(t)!==t||t.tag!==1)throw Error(lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(co(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(t.tag===1){var n=t.type;if(co(n))return nN(t,n,e)}return e}function iO(t,e,n,r,i,o,s,l,a){return t=HM(n,r,!0,t,i,o,s,l,a),t.context=rO(null),n=t.current,r=Xi(),i=Wl(n),o=qa(r,i),o.callback=e??null,Hl(n,o,i),t.current.lanes=i,Pm(t,i,r),fo(t,r),t}function p1(t,e,n,r){var i=e.current,o=Xi(),s=Wl(i);return n=rO(n),e.context===null?e.context=n:e.pendingContext=n,e=qa(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hl(i,e,s),t!==null&&(Os(t,i,s,o),Sv(t,i,s)),s}function My(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VM(t,e){gR(t,e),(t=t.alternate)&&gR(t,e)}function S8(){return null}var oO=typeof reportError=="function"?reportError:function(t){console.error(t)};function WM(t){this._internalRoot=t}m1.prototype.render=WM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(lt(409));p1(t,e,null,null)};m1.prototype.unmount=WM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yc(function(){p1(null,t,null,null)}),e[Qa]=null}};function m1(t){this._internalRoot=t}m1.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ok();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kl.length&&e!==0&&e<kl[n].priority;n++);kl.splice(n,0,t),n===0&&Dk(t)}};function jM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function g1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vR(){}function w8(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=My(s);o.call(u)}}var s=iO(e,r,t,0,null,!1,!1,"",vR);return t._reactRootContainer=s,t[Qa]=s.current,jp(t.nodeType===8?t.parentNode:t),yc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=My(a);l.call(u)}}var a=HM(t,0,!1,null,null,!1,!1,"",vR);return t._reactRootContainer=a,t[Qa]=a.current,jp(t.nodeType===8?t.parentNode:t),yc(function(){p1(e,a,n,r)}),a}function v1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=My(s);l.call(a)}}p1(e,s,t,i)}else s=w8(n,e,t,i,r);return My(s)}kk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zh(e.pendingLanes);n!==0&&(cM(e,n|1),fo(e,zr()),!(Rn&6)&&(Ed=zr()+500,lu()))}break;case 13:yc(function(){var r=Ja(t,1);if(r!==null){var i=Xi();Os(r,t,1,i)}}),VM(t,1)}};fM=function(t){if(t.tag===13){var e=Ja(t,134217728);if(e!==null){var n=Xi();Os(e,t,134217728,n)}VM(t,134217728)}};Nk=function(t){if(t.tag===13){var e=Wl(t),n=Ja(t,e);if(n!==null){var r=Xi();Os(n,t,e,r)}VM(t,e)}};Ok=function(){return Wn};Fk=function(t,e){var n=Wn;try{return Wn=t,e()}finally{Wn=n}};jS=function(t,e,n){switch(e){case"input":if(US(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=a1(r);if(!i)throw Error(lt(90));hk(r),US(r,i)}}}break;case"textarea":mk(t,n);break;case"select":e=n.value,e!=null&&sd(t,!!n.multiple,e,!1)}};Sk=UM;wk=yc;var E8={usingClientEntryPoint:!1,Events:[Lm,Vf,a1,bk,_k,UM]},Th={findFiberByHostInstance:Qu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M8={bundleType:Th.bundleType,version:Th.version,rendererPackageName:Th.rendererPackageName,rendererConfig:Th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tk(t),t===null?null:t.stateNode},findFiberByHostInstance:Th.findFiberByHostInstance||S8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{r1=d0.inject(M8),fa=d0}catch{}}Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E8;Oo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jM(e))throw Error(lt(200));return _8(t,e,null,n)};Oo.createRoot=function(t,e){if(!jM(t))throw Error(lt(299));var n=!1,r="",i=oO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HM(t,1,!1,null,null,n,!1,r,i),t[Qa]=e.current,jp(t.nodeType===8?t.parentNode:t),new WM(e)};Oo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(lt(188)):(t=Object.keys(t).join(","),Error(lt(268,t)));return t=Tk(e),t=t===null?null:t.stateNode,t};Oo.flushSync=function(t){return yc(t)};Oo.hydrate=function(t,e,n){if(!g1(e))throw Error(lt(200));return v1(null,t,e,!0,n)};Oo.hydrateRoot=function(t,e,n){if(!jM(t))throw Error(lt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=oO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=iO(e,null,t,1,n??null,i,!1,o,s),t[Qa]=e.current,jp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new m1(e)};Oo.render=function(t,e,n){if(!g1(e))throw Error(lt(200));return v1(null,t,e,!1,n)};Oo.unmountComponentAtNode=function(t){if(!g1(t))throw Error(lt(40));return t._reactRootContainer?(yc(function(){v1(null,null,t,!1,function(){t._reactRootContainer=null,t[Qa]=null})}),!0):!1};Oo.unstable_batchedUpdates=UM;Oo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!g1(n))throw Error(lt(200));if(t==null||t._reactInternals===void 0)throw Error(lt(38));return v1(t,e,n,!1,r)};Oo.version="18.2.0-next-9e3b772b8-20220608";function sO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sO)}catch(t){console.error(t)}}sO(),ik.exports=Oo;var y1=ik.exports;const tp=Fd(y1);var yR=y1;IS.createRoot=yR.createRoot,IS.hydrateRoot=yR.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dn(){return Dn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dn.apply(this,arguments)}var $r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($r||($r={}));const xR="popstate";function T8(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return em("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nm(i)}return C8(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Md(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A8(){return Math.random().toString(36).substr(2,8)}function bR(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n,r){return n===void 0&&(n=null),Dn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nl(e):e,{state:n,key:e&&e.key||r||A8()})}function Nm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=$r.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(Dn({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){l=$r.Pop;let x=c(),v=x==null?null:x-u;u=x,a&&a({action:l,location:y.location,delta:v})}function d(x,v){l=$r.Push;let _=em(y.location,x,v);n&&n(_,x),u=c()+1;let b=bR(_,u),S=y.createHref(_);try{s.pushState(b,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}o&&a&&a({action:l,location:y.location,delta:1})}function h(x,v){l=$r.Replace;let _=em(y.location,x,v);n&&n(_,x),u=c();let b=bR(_,u),S=y.createHref(_);s.replaceState(b,"",S),o&&a&&a({action:l,location:y.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:Nm(x);return hn(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let y={get action(){return l},get location(){return t(i,s)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(xR,f),a=x,()=>{i.removeEventListener(xR,f),a=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:h,go(x){return s.go(x)}};return y}var Jr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jr||(Jr={}));const R8=new Set(["lazy","caseSensitive","path","id","index","children"]);function P8(t){return t.index===!0}function Ew(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(hn(i.index!==!0||!i.children,"Cannot specify children on an index route"),hn(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),P8(i)){let a=Dn({},i,e(i),{id:l});return r[l]=a,a}else{let a=Dn({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Ew(i.children,e,s,r)),a}})}function Kf(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?nl(e):e,i=Om(r.pathname||"/",n);if(i==null)return null;let o=aO(t);I8(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=z8(o[l],V8(i));return s}function aO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(hn(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=$l([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(hn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aO(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:U8(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of lO(o.path))i(o,s,a)}),e}function lO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=lO(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function I8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const L8=/^:\w+$/,k8=3,N8=2,O8=1,F8=10,D8=-2,_R=t=>t==="*";function U8(t,e){let n=t.split("/"),r=n.length;return n.some(_R)&&(r+=D8),e&&(r+=N8),n.filter(i=>!_R(i)).reduce((i,o)=>i+(L8.test(o)?k8:o===""?O8:F8),r)}function B8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z8(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=G8({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let f=l.route;o.push({params:r,pathname:$l([i,c.pathname]),pathnameBase:q8($l([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=$l([i,c.pathnameBase]))}return o}function G8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=l[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=W8(l[f]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function H8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Md(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V8(t){try{return decodeURI(t)}catch(e){return Md(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function W8(t,e){try{return decodeURIComponent(t)}catch(n){return Md(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Om(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nl(t):t;return{pathname:n?n.startsWith("/")?n:$8(n,e):e,search:X8(r),hash:Y8(i)}}function $8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $M(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nl(t):(i=Dn({},t),hn(!i.pathname||!i.pathname.includes("?"),v_("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),v_("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),v_("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}l=f>=0?e[f]:"/"}let a=j8(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const $l=t=>t.join("/").replace(/\/\/+/g,"/"),q8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class qM{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function uO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cO=["post","put","patch","delete"],K8=new Set(cO),Q8=["get",...cO],J8=new Set(Q8),Z8=new Set([301,302,303,307,308]),e7=new Set([307,308]),y_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},t7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},SR={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n7=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function r7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;hn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ae=t.detectErrorBoundary;i=de=>({hasErrorBoundary:ae(de)})}else i=n7;let o={},s=Ew(t.routes,i,void 0,o),l,a=t.basename||"/",u=Dn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,f=new Set,d=null,h=null,m=null,y=t.hydrationData!=null,x=Kf(s,t.history.location,a),v=null;if(x==null){let ae=Ts(404,{pathname:t.history.location.pathname}),{matches:de,route:he}=RR(s);x=de,v={[he.id]:ae}}let _=!x.some(ae=>ae.route.lazy)&&(!x.some(ae=>ae.route.loader)||t.hydrationData!=null),b,S={historyAction:t.history.action,location:t.history.location,matches:x,initialized:_,navigation:y_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},E=$r.Pop,M=!1,T,R=!1,C=!1,P=[],D=[],z=new Map,V=0,U=-1,q=new Map,Z=new Set,ne=new Map,O=new Map,F=new Map,G=!1;function $(){return c=t.history.listen(ae=>{let{action:de,location:he,delta:me}=ae;if(G){G=!1;return}Md(F.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ue=Te({currentLocation:S.location,nextLocation:he,historyAction:de});if(Ue&&me!=null){G=!0,t.history.go(me*-1),Le(Ue,{state:"blocked",location:he,proceed(){Le(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),t.history.go(me)},reset(){se(Ue),j({blockers:new Map(b.state.blockers)})}});return}return pe(de,he)}),S.initialized||pe($r.Pop,S.location),b}function W(){c&&c(),f.clear(),T&&T.abort(),S.fetchers.forEach((ae,de)=>je(de)),S.blockers.forEach((ae,de)=>se(de))}function oe(ae){return f.add(ae),()=>f.delete(ae)}function j(ae){S=Dn({},S,ae),f.forEach(de=>de(S))}function Y(ae,de){var he,me;let Ue=S.actionData!=null&&S.navigation.formMethod!=null&&Ba(S.navigation.formMethod)&&S.navigation.state==="loading"&&((he=ae.state)==null?void 0:he._isRedirect)!==!0,Xe;de.actionData?Object.keys(de.actionData).length>0?Xe=de.actionData:Xe=null:Ue?Xe=S.actionData:Xe=null;let ie=de.loaderData?CR(S.loaderData,de.loaderData,de.matches||[],de.errors):S.loaderData;for(let[Ee]of F)se(Ee);let Be=M===!0||S.navigation.formMethod!=null&&Ba(S.navigation.formMethod)&&((me=ae.state)==null?void 0:me._isRedirect)!==!0;l&&(s=l,l=void 0),j(Dn({},de,{actionData:Xe,loaderData:ie,historyAction:E,location:ae,initialized:!0,navigation:y_,revalidation:"idle",restoreScrollPosition:Se(ae,de.matches||S.matches),preventScrollReset:Be,blockers:new Map(S.blockers)})),R||E===$r.Pop||(E===$r.Push?t.history.push(ae,ae.state):E===$r.Replace&&t.history.replace(ae,ae.state)),E=$r.Pop,M=!1,R=!1,C=!1,P=[],D=[]}async function K(ae,de){if(typeof ae=="number"){t.history.go(ae);return}let he=Mw(S.location,S.matches,a,u.v7_prependBasename,ae,de==null?void 0:de.fromRouteId,de==null?void 0:de.relative),{path:me,submission:Ue,error:Xe}=wR(u.v7_normalizeFormMethod,!1,he,de),ie=S.location,Be=em(S.location,me,de&&de.state);Be=Dn({},Be,t.history.encodeLocation(Be));let Ee=de&&de.replace!=null?de.replace:void 0,Ye=$r.Push;Ee===!0?Ye=$r.Replace:Ee===!1||Ue!=null&&Ba(Ue.formMethod)&&Ue.formAction===S.location.pathname+S.location.search&&(Ye=$r.Replace);let tt=de&&"preventScrollReset"in de?de.preventScrollReset===!0:void 0,vt=Te({currentLocation:ie,nextLocation:Be,historyAction:Ye});if(vt){Le(vt,{state:"blocked",location:Be,proceed(){Le(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Be}),K(ae,de)},reset(){se(vt),j({blockers:new Map(S.blockers)})}});return}return await pe(Ye,Be,{submission:Ue,pendingError:Xe,preventScrollReset:tt,replace:de&&de.replace})}function fe(){if(We(),j({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){pe(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}pe(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function pe(ae,de,he){T&&T.abort(),T=null,E=ae,R=(he&&he.startUninterruptedRevalidation)===!0,we(S.location,S.matches),M=(he&&he.preventScrollReset)===!0;let me=l||s,Ue=he&&he.overrideNavigation,Xe=Kf(me,de,a);if(!Xe){let xt=Ts(404,{pathname:de.pathname}),{matches:Et,route:Gt}=RR(me);_e(),Y(de,{matches:Et,loaderData:{},errors:{[Gt.id]:xt}});return}if(S.initialized&&!C&&l7(S.location,de)&&!(he&&he.submission&&Ba(he.submission.formMethod))){Y(de,{matches:Xe});return}T=new AbortController;let ie=Ch(t.history,de,T.signal,he&&he.submission),Be,Ee;if(he&&he.pendingError)Ee={[Qf(Xe).route.id]:he.pendingError};else if(he&&he.submission&&Ba(he.submission.formMethod)){let xt=await xe(ie,de,he.submission,Xe,{replace:he.replace});if(xt.shortCircuited)return;Be=xt.pendingActionData,Ee=xt.pendingActionError,Ue=Dn({state:"loading",location:de},he.submission),ie=new Request(ie.url,{signal:ie.signal})}let{shortCircuited:Ye,loaderData:tt,errors:vt}=await Ge(ie,de,Xe,Ue,he&&he.submission,he&&he.fetcherSubmission,he&&he.replace,Be,Ee);Ye||(T=null,Y(de,Dn({matches:Xe},Be?{actionData:Be}:{},{loaderData:tt,errors:vt})))}async function xe(ae,de,he,me,Ue){We();let Xe=Dn({state:"submitting",location:de},he);j({navigation:Xe});let ie,Be=Tw(me,de);if(!Be.route.action&&!Be.route.lazy)ie={type:Jr.error,error:Ts(405,{method:ae.method,pathname:de.pathname,routeId:Be.route.id})};else if(ie=await Ah("action",ae,Be,me,o,i,a),ae.signal.aborted)return{shortCircuited:!0};if(dd(ie)){let Ee;return Ue&&Ue.replace!=null?Ee=Ue.replace:Ee=ie.location===S.location.pathname+S.location.search,await Ie(S,ie,{submission:he,replace:Ee}),{shortCircuited:!0}}if(xp(ie)){let Ee=Qf(me,Be.route.id);return(Ue&&Ue.replace)!==!0&&(E=$r.Push),{pendingActionData:{},pendingActionError:{[Ee.route.id]:ie.error}}}if(ec(ie))throw Ts(400,{type:"defer-action"});return{pendingActionData:{[Be.route.id]:ie.data}}}async function Ge(ae,de,he,me,Ue,Xe,ie,Be,Ee){let Ye=me;Ye||(Ye=Dn({state:"loading",location:de,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ue));let tt=Ue||Xe?Ue||Xe:Ye.formMethod&&Ye.formAction&&Ye.formData&&Ye.formEncType?{formMethod:Ye.formMethod,formAction:Ye.formAction,formData:Ye.formData,formEncType:Ye.formEncType}:void 0,vt=l||s,[xt,Et]=ER(t.history,S,he,tt,de,C,P,D,ne,vt,a,Be,Ee);if(_e(Ht=>!(he&&he.some(bn=>bn.route.id===Ht))||xt&&xt.some(bn=>bn.route.id===Ht)),xt.length===0&&Et.length===0){let Ht=Ke();return Y(de,Dn({matches:he,loaderData:{},errors:Ee||null},Be?{actionData:Be}:{},Ht?{fetchers:new Map(S.fetchers)}:{})),{shortCircuited:!0}}if(!R){Et.forEach(bn=>{let or=S.fetchers.get(bn.key),mn={state:"loading",data:or&&or.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(bn.key,mn)});let Ht=Be||S.actionData;j(Dn({navigation:Ye},Ht?Object.keys(Ht).length===0?{actionData:null}:{actionData:Ht}:{},Et.length>0?{fetchers:new Map(S.fetchers)}:{}))}U=++V,Et.forEach(Ht=>{Ht.controller&&z.set(Ht.key,Ht.controller)});let Gt=()=>Et.forEach(Ht=>He(Ht.key));T&&T.signal.addEventListener("abort",Gt);let{results:qt,loaderResults:jt,fetcherResults:Vt}=await Re(S.matches,he,xt,Et,ae);if(ae.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Gt),Et.forEach(Ht=>z.delete(Ht.key));let $n=PR(qt);if($n)return await Ie(S,$n,{replace:ie}),{shortCircuited:!0};let{loaderData:ir,errors:fn}=AR(S,he,xt,jt,Ee,Et,Vt,O);O.forEach((Ht,bn)=>{Ht.subscribe(or=>{(or||Ht.done)&&O.delete(bn)})});let Pn=Ke(),gr=Q(U),xn=Pn||gr||Et.length>0;return Dn({loaderData:ir,errors:fn},xn?{fetchers:new Map(S.fetchers)}:{})}function Ae(ae){return S.fetchers.get(ae)||t7}function H(ae,de,he,me){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(ae)&&He(ae);let Ue=l||s,Xe=Mw(S.location,S.matches,a,u.v7_prependBasename,he,de,me==null?void 0:me.relative),ie=Kf(Ue,Xe,a);if(!ie){ke(ae,de,Ts(404,{pathname:Xe}));return}let{path:Be,submission:Ee}=wR(u.v7_normalizeFormMethod,!0,Xe,me),Ye=Tw(ie,Be);if(M=(me&&me.preventScrollReset)===!0,Ee&&Ba(Ee.formMethod)){ge(ae,de,Be,Ye,ie,Ee);return}ne.set(ae,{routeId:de,path:Be}),Me(ae,de,Be,Ye,ie,Ee)}async function ge(ae,de,he,me,Ue,Xe){if(We(),ne.delete(ae),!me.route.action&&!me.route.lazy){let mn=Ts(405,{method:Xe.formMethod,pathname:he,routeId:de});ke(ae,de,mn);return}let ie=S.fetchers.get(ae),Be=Dn({state:"submitting"},Xe,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(ae,Be),j({fetchers:new Map(S.fetchers)});let Ee=new AbortController,Ye=Ch(t.history,he,Ee.signal,Xe);z.set(ae,Ee);let tt=await Ah("action",Ye,me,Ue,o,i,a);if(Ye.signal.aborted){z.get(ae)===Ee&&z.delete(ae);return}if(dd(tt)){z.delete(ae),Z.add(ae);let mn=Dn({state:"loading"},Xe,{data:void 0," _hasFetcherDoneAnything ":!0});return S.fetchers.set(ae,mn),j({fetchers:new Map(S.fetchers)}),Ie(S,tt,{submission:Xe,isFetchActionRedirect:!0})}if(xp(tt)){ke(ae,de,tt.error);return}if(ec(tt))throw Ts(400,{type:"defer-action"});let vt=S.navigation.location||S.location,xt=Ch(t.history,vt,Ee.signal),Et=l||s,Gt=S.navigation.state!=="idle"?Kf(Et,S.navigation.location,a):S.matches;hn(Gt,"Didn't find any matches after fetcher action");let qt=++V;q.set(ae,qt);let jt=Dn({state:"loading",data:tt.data},Xe,{" _hasFetcherDoneAnything ":!0});S.fetchers.set(ae,jt);let[Vt,$n]=ER(t.history,S,Gt,Xe,vt,C,P,D,ne,Et,a,{[me.route.id]:tt.data},void 0);$n.filter(mn=>mn.key!==ae).forEach(mn=>{let ce=mn.key,$e=S.fetchers.get(ce),Je={state:"loading",data:$e&&$e.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(ce,Je),mn.controller&&z.set(ce,mn.controller)}),j({fetchers:new Map(S.fetchers)});let ir=()=>$n.forEach(mn=>He(mn.key));Ee.signal.addEventListener("abort",ir);let{results:fn,loaderResults:Pn,fetcherResults:gr}=await Re(S.matches,Gt,Vt,$n,xt);if(Ee.signal.aborted)return;Ee.signal.removeEventListener("abort",ir),q.delete(ae),z.delete(ae),$n.forEach(mn=>z.delete(mn.key));let xn=PR(fn);if(xn)return Ie(S,xn);let{loaderData:Ht,errors:bn}=AR(S,S.matches,Vt,Pn,void 0,$n,gr,O);if(S.fetchers.has(ae)){let mn={state:"idle",data:tt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(ae,mn)}let or=Q(qt);S.navigation.state==="loading"&&qt>U?(hn(E,"Expected pending action"),T&&T.abort(),Y(S.navigation.location,{matches:Gt,loaderData:Ht,errors:bn,fetchers:new Map(S.fetchers)})):(j(Dn({errors:bn,loaderData:CR(S.loaderData,Ht,Gt,bn)},or||$n.length>0?{fetchers:new Map(S.fetchers)}:{})),C=!1)}async function Me(ae,de,he,me,Ue,Xe){let ie=S.fetchers.get(ae),Be=Dn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Xe,{data:ie&&ie.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(ae,Be),j({fetchers:new Map(S.fetchers)});let Ee=new AbortController,Ye=Ch(t.history,he,Ee.signal);z.set(ae,Ee);let tt=await Ah("loader",Ye,me,Ue,o,i,a);if(ec(tt)&&(tt=await mO(tt,Ye.signal,!0)||tt),z.get(ae)===Ee&&z.delete(ae),Ye.signal.aborted)return;if(dd(tt)){Z.add(ae),await Ie(S,tt);return}if(xp(tt)){let xt=Qf(S.matches,de);S.fetchers.delete(ae),j({fetchers:new Map(S.fetchers),errors:{[xt.route.id]:tt.error}});return}hn(!ec(tt),"Unhandled fetcher deferred data");let vt={state:"idle",data:tt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(ae,vt),j({fetchers:new Map(S.fetchers)})}async function Ie(ae,de,he){let{submission:me,replace:Ue,isFetchActionRedirect:Xe}=he===void 0?{}:he;de.revalidate&&(C=!0);let ie=em(ae.location,de.location,Dn({_isRedirect:!0},Xe?{_isFetchActionRedirect:!0}:{}));if(hn(ie,"Expected a location on the redirect navigation"),fO.test(de.location)&&n){let xt=t.history.createURL(de.location),Et=Om(xt.pathname,a)==null;if(e.location.origin!==xt.origin||Et){Ue?e.location.replace(de.location):e.location.assign(de.location);return}}T=null;let Be=Ue===!0?$r.Replace:$r.Push,{formMethod:Ee,formAction:Ye,formEncType:tt,formData:vt}=ae.navigation;!me&&Ee&&Ye&&vt&&tt&&(me={formMethod:Ee,formAction:Ye,formEncType:tt,formData:vt}),e7.has(de.status)&&me&&Ba(me.formMethod)?await pe(Be,ie,{submission:Dn({},me,{formAction:de.location}),preventScrollReset:M}):Xe?await pe(Be,ie,{overrideNavigation:{state:"loading",location:ie,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:me,preventScrollReset:M}):await pe(Be,ie,{overrideNavigation:{state:"loading",location:ie,formMethod:me?me.formMethod:void 0,formAction:me?me.formAction:void 0,formEncType:me?me.formEncType:void 0,formData:me?me.formData:void 0},preventScrollReset:M})}async function Re(ae,de,he,me,Ue){let Xe=await Promise.all([...he.map(Ee=>Ah("loader",Ue,Ee,de,o,i,a)),...me.map(Ee=>Ee.matches&&Ee.match&&Ee.controller?Ah("loader",Ch(t.history,Ee.path,Ee.controller.signal),Ee.match,Ee.matches,o,i,a):{type:Jr.error,error:Ts(404,{pathname:Ee.path})})]),ie=Xe.slice(0,he.length),Be=Xe.slice(he.length);return await Promise.all([IR(ae,he,ie,ie.map(()=>Ue.signal),!1,S.loaderData),IR(ae,me.map(Ee=>Ee.match),Be,me.map(Ee=>Ee.controller?Ee.controller.signal:null),!0)]),{results:Xe,loaderResults:ie,fetcherResults:Be}}function We(){C=!0,P.push(..._e()),ne.forEach((ae,de)=>{z.has(de)&&(D.push(de),He(de))})}function ke(ae,de,he){let me=Qf(S.matches,de);je(ae),j({errors:{[me.route.id]:he},fetchers:new Map(S.fetchers)})}function je(ae){let de=S.fetchers.get(ae);z.has(ae)&&!(de&&de.state==="loading"&&q.has(ae))&&He(ae),ne.delete(ae),q.delete(ae),Z.delete(ae),S.fetchers.delete(ae)}function He(ae){let de=z.get(ae);hn(de,"Expected fetch controller: "+ae),de.abort(),z.delete(ae)}function Ne(ae){for(let de of ae){let me={state:"idle",data:Ae(de).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(de,me)}}function Ke(){let ae=[],de=!1;for(let he of Z){let me=S.fetchers.get(he);hn(me,"Expected fetcher: "+he),me.state==="loading"&&(Z.delete(he),ae.push(he),de=!0)}return Ne(ae),de}function Q(ae){let de=[];for(let[he,me]of q)if(me<ae){let Ue=S.fetchers.get(he);hn(Ue,"Expected fetcher: "+he),Ue.state==="loading"&&(He(he),q.delete(he),de.push(he))}return Ne(de),de.length>0}function N(ae,de){let he=S.blockers.get(ae)||SR;return F.get(ae)!==de&&F.set(ae,de),he}function se(ae){S.blockers.delete(ae),F.delete(ae)}function Le(ae,de){let he=S.blockers.get(ae)||SR;hn(he.state==="unblocked"&&de.state==="blocked"||he.state==="blocked"&&de.state==="blocked"||he.state==="blocked"&&de.state==="proceeding"||he.state==="blocked"&&de.state==="unblocked"||he.state==="proceeding"&&de.state==="unblocked","Invalid blocker state transition: "+he.state+" -> "+de.state),S.blockers.set(ae,de),j({blockers:new Map(S.blockers)})}function Te(ae){let{currentLocation:de,nextLocation:he,historyAction:me}=ae;if(F.size===0)return;F.size>1&&Md(!1,"A router only supports one blocker at a time");let Ue=Array.from(F.entries()),[Xe,ie]=Ue[Ue.length-1],Be=S.blockers.get(Xe);if(!(Be&&Be.state==="proceeding")&&ie({currentLocation:de,nextLocation:he,historyAction:me}))return Xe}function _e(ae){let de=[];return O.forEach((he,me)=>{(!ae||ae(me))&&(he.cancel(),de.push(me),O.delete(me))}),de}function ye(ae,de,he){if(d=ae,m=de,h=he||(me=>me.key),!y&&S.navigation===y_){y=!0;let me=Se(S.location,S.matches);me!=null&&j({restoreScrollPosition:me})}return()=>{d=null,m=null,h=null}}function we(ae,de){if(d&&h&&m){let he=de.map(Ue=>LR(Ue,S.loaderData)),me=h(ae,he)||ae.key;d[me]=m()}}function Se(ae,de){if(d&&h&&m){let he=de.map(Xe=>LR(Xe,S.loaderData)),me=h(ae,he)||ae.key,Ue=d[me];if(typeof Ue=="number")return Ue}return null}function be(ae){o={},l=Ew(ae,i,void 0,o)}return b={get basename(){return a},get state(){return S},get routes(){return s},initialize:$,subscribe:oe,enableScrollRestoration:ye,navigate:K,fetch:H,revalidate:fe,createHref:ae=>t.history.createHref(ae),encodeLocation:ae=>t.history.encodeLocation(ae),getFetcher:Ae,deleteFetcher:je,dispose:W,getBlocker:N,deleteBlocker:se,_internalFetchControllers:z,_internalActiveDeferreds:O,_internalSetRoutes:be},b}function i7(t){return t!=null&&"formData"in t}function Mw(t,e,n,r,i,o,s){let l,a;if(o!=null&&s!=="path"){l=[];for(let c of e)if(l.push(c),c.route.id===o){a=c;break}}else l=e,a=e[e.length-1];let u=$M(i||".",x1(l).map(c=>c.pathnameBase),Om(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!XM(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:$l([n,u.pathname])),Nm(u)}function wR(t,e,n,r){if(!r||!i7(r))return{path:n};if(r.formMethod&&!f7(r.formMethod))return{path:n,error:Ts(405,{method:r.formMethod})};let i;if(r.formData){let l=r.formMethod||"get";if(i={formMethod:t?l.toUpperCase():l.toLowerCase(),formAction:pO(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},Ba(i.formMethod))return{path:n,submission:i}}let o=nl(n),s=hO(r.formData);return e&&o.search&&XM(o.search)&&s.append("index",""),o.search="?"+s,{path:Nm(o),submission:i}}function o7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ER(t,e,n,r,i,o,s,l,a,u,c,f,d){let h=d?Object.values(d)[0]:f?Object.values(f)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),x=d?Object.keys(d)[0]:void 0,_=o7(n,x).filter((S,E)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(s7(e.loaderData,e.matches[E],S)||s.some(R=>R===S.route.id))return!0;let M=e.matches[E],T=S;return MR(S,Dn({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:T.params},r,{actionResult:h,defaultShouldRevalidate:o||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||dO(M,T)}))}),b=[];return a.forEach((S,E)=>{if(!n.some(C=>C.route.id===S.routeId))return;let M=Kf(u,S.path,c);if(!M){b.push({key:E,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let T=Tw(M,S.path);if(l.includes(E)){b.push({key:E,routeId:S.routeId,path:S.path,matches:M,match:T,controller:new AbortController});return}MR(T,Dn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:o}))&&b.push({key:E,routeId:S.routeId,path:S.path,matches:M,match:T,controller:new AbortController})}),[_,b]}function s7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function dO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function MR(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function TR(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];hn(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";Md(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!R8.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Dn({},e(i),{lazy:void 0}))}async function Ah(t,e,n,r,i,o,s,l,a,u){l===void 0&&(l=!1),a===void 0&&(a=!1);let c,f,d,h=x=>{let v,_=new Promise((b,S)=>v=S);return d=()=>v(),e.signal.addEventListener("abort",d),Promise.race([x({request:e,params:n.params,context:u}),_])};try{let x=n.route[t];if(n.route.lazy)if(x)f=(await Promise.all([h(x),TR(n.route,o,i)]))[0];else if(await TR(n.route,o,i),x=n.route[t],x)f=await h(x);else if(t==="action"){let v=new URL(e.url),_=v.pathname+v.search;throw Ts(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:Jr.data,data:void 0};else if(x)f=await h(x);else{let v=new URL(e.url),_=v.pathname+v.search;throw Ts(404,{pathname:_})}hn(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(x){c=Jr.error,f=x}finally{d&&e.signal.removeEventListener("abort",d)}if(c7(f)){let x=f.status;if(Z8.has(x)){let b=f.headers.get("Location");if(hn(b,"Redirects returned/thrown from loaders/actions must have a Location header"),!fO.test(b))b=Mw(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,b);else if(!l){let S=new URL(e.url),E=b.startsWith("//")?new URL(S.protocol+b):new URL(b),M=Om(E.pathname,s)!=null;E.origin===S.origin&&M&&(b=E.pathname+E.search+E.hash)}if(l)throw f.headers.set("Location",b),f;return{type:Jr.redirect,status:x,location:b,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(a)throw{type:c||Jr.data,response:f};let v,_=f.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await f.json():v=await f.text(),c===Jr.error?{type:c,error:new qM(x,f.statusText,v),headers:f.headers}:{type:Jr.data,data:v,statusCode:f.status,headers:f.headers}}if(c===Jr.error)return{type:c,error:f};if(u7(f)){var m,y;return{type:Jr.deferred,deferredData:f,statusCode:(m=f.init)==null?void 0:m.status,headers:((y=f.init)==null?void 0:y.headers)&&new Headers(f.init.headers)}}return{type:Jr.data,data:f}}function Ch(t,e,n,r){let i=t.createURL(pO(e)).toString(),o={signal:n};if(r&&Ba(r.formMethod)){let{formMethod:s,formEncType:l,formData:a}=r;o.method=s.toUpperCase(),o.body=l==="application/x-www-form-urlencoded"?hO(a):a}return new Request(i,o)}function hO(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function a7(t,e,n,r,i){let o={},s=null,l,a=!1,u={};return n.forEach((c,f)=>{let d=e[f].route.id;if(hn(!dd(c),"Cannot handle redirect results in processLoaderData"),xp(c)){let h=Qf(t,d),m=c.error;r&&(m=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=m),o[d]=void 0,a||(a=!0,l=uO(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else ec(c)?(i.set(d,c.deferredData),o[d]=c.deferredData.data):o[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(l=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function AR(t,e,n,r,i,o,s,l){let{loaderData:a,errors:u}=a7(e,n,r,i,l);for(let c=0;c<o.length;c++){let{key:f,match:d,controller:h}=o[c];hn(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let m=s[c];if(!(h&&h.signal.aborted))if(xp(m)){let y=Qf(t.matches,d==null?void 0:d.route.id);u&&u[y.route.id]||(u=Dn({},u,{[y.route.id]:m.error})),t.fetchers.delete(f)}else if(dd(m))hn(!1,"Unhandled fetcher revalidation redirect");else if(ec(m))hn(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,y)}}return{loaderData:a,errors:u}}function CR(t,e,n,r){let i=Dn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Qf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function RR(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ts(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(l="defer() is not supported in actions")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new qM(t||500,s,new Error(l),!0)}function PR(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(dd(n))return n}}function pO(t){let e=typeof t=="string"?nl(t):t;return Nm(Dn({},e,{hash:""}))}function l7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ec(t){return t.type===Jr.deferred}function xp(t){return t.type===Jr.error}function dd(t){return(t&&t.type)===Jr.redirect}function u7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function c7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function f7(t){return J8.has(t.toLowerCase())}function Ba(t){return K8.has(t.toLowerCase())}async function IR(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=e[s];if(!a)continue;let u=t.find(f=>f.route.id===a.route.id),c=u!=null&&!dO(u,a)&&(o&&o[a.route.id])!==void 0;if(ec(l)&&(i||c)){let f=r[s];hn(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await mO(l,f,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function mO(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Jr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Jr.error,error:i}}return{type:Jr.data,data:t.deferredData.data}}}function XM(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function LR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Tw(t,e){let n=typeof e=="string"?nl(e).search:e.search;if(t[t.length-1].route.index&&XM(n||""))return t[t.length-1];let r=x1(t);return r[r.length-1]}/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}const d7="startTransition";var kR=ty[d7];const b1=L.createContext(null),gO=L.createContext(null),_1=L.createContext(null),S1=L.createContext(null),uu=L.createContext({outlet:null,matches:[],isDataRoute:!1}),vO=L.createContext(null);function Fm(){return L.useContext(S1)!=null}function w1(){return Fm()||hn(!1),L.useContext(S1).location}function yO(t){L.useContext(_1).static||L.useLayoutEffect(t)}function xO(){let{isDataRoute:t}=L.useContext(uu);return t?T7():h7()}function h7(){Fm()||hn(!1);let t=L.useContext(b1),{basename:e,navigator:n}=L.useContext(_1),{matches:r}=L.useContext(uu),{pathname:i}=w1(),o=JSON.stringify(x1(r).map(a=>a.pathnameBase)),s=L.useRef(!1);return yO(()=>{s.current=!0}),L.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){n.go(a);return}let c=$M(a,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:$l([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}const p7=L.createContext(null);function m7(t){let e=L.useContext(uu).outlet;return e&&L.createElement(p7.Provider,{value:t},e)}function g7(t,e,n){Fm()||hn(!1);let{navigator:r}=L.useContext(_1),{matches:i}=L.useContext(uu),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=w1(),u;if(e){var c;let y=typeof e=="string"?nl(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||hn(!1),u=y}else u=a;let f=u.pathname||"/",d=l==="/"?f:f.slice(l.length)||"/",h=Kf(t,{pathname:d}),m=_7(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:$l([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:$l([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&m?L.createElement(S1.Provider,{value:{location:Ty({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$r.Pop}},m):m}function v7(){let t=M7(),e=uO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,o)}const y7=L.createElement(v7,null);class x7 extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?L.createElement(uu.Provider,{value:this.props.routeContext},L.createElement(vO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b7(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(b1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(uu.Provider,{value:e},r)}function _7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let l=o.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));l>=0||hn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,a,u)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,f=null;n&&(f=a.route.errorElement||y7);let d=e.concat(o.slice(0,u+1)),h=()=>{let m;return c?m=f:a.route.Component?m=L.createElement(a.route.Component,null):a.route.element?m=a.route.element:m=l,L.createElement(b7,{match:a,routeContext:{outlet:l,matches:d,isDataRoute:n!=null},children:m})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?L.createElement(x7,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var Aw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Aw||(Aw={}));var tm;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(tm||(tm={}));function S7(t){let e=L.useContext(b1);return e||hn(!1),e}function w7(t){let e=L.useContext(gO);return e||hn(!1),e}function E7(t){let e=L.useContext(uu);return e||hn(!1),e}function bO(t){let e=E7(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function M7(){var t;let e=L.useContext(vO),n=w7(tm.UseRouteError),r=bO(tm.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function T7(){let{router:t}=S7(Aw.UseNavigateStable),e=bO(tm.UseNavigateStable),n=L.useRef(!1);return yO(()=>{n.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ty({fromRouteId:e},o)))},[t,e])}function A7(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=L.useState(n.state),{v7_startTransition:s}=r||{},l=L.useCallback(f=>{s&&kR?kR(()=>o(f)):o(f)},[o,s]);L.useLayoutEffect(()=>n.subscribe(l),[n,l]);let a=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:f=>n.navigate(f),push:(f,d,h)=>n.navigate(f,{state:d,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(f,d,h)=>n.navigate(f,{replace:!0,state:d,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[n]),u=n.basename||"/",c=L.useMemo(()=>({router:n,navigator:a,static:!1,basename:u}),[n,a,u]);return L.createElement(L.Fragment,null,L.createElement(b1.Provider,{value:c},L.createElement(gO.Provider,{value:i},L.createElement(I7,{basename:u,location:i.location,navigationType:i.historyAction,navigator:a},i.initialized?L.createElement(C7,{routes:n.routes,state:i}):e))),null)}function C7(t){let{routes:e,state:n}=t;return g7(e,void 0,n)}function R7(t){let{to:e,replace:n,state:r,relative:i}=t;Fm()||hn(!1);let{matches:o}=L.useContext(uu),{pathname:s}=w1(),l=xO(),a=$M(e,x1(o).map(c=>c.pathnameBase),s,i==="path"),u=JSON.stringify(a);return L.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:i}),[l,u,i,n,r]),null}function P7(t){return m7(t.context)}function I7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$r.Pop,navigator:o,static:s=!1}=t;Fm()&&hn(!1);let l=e.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=nl(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,m=L.useMemo(()=>{let y=Om(u,l);return y==null?null:{location:{pathname:y,search:c,hash:f,state:d,key:h},navigationType:i}},[l,u,c,f,d,h,i]);return m==null?null:L.createElement(_1.Provider,{value:a},L.createElement(S1.Provider,{children:n,value:m}))}var NR;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(NR||(NR={}));new Promise(()=>{});function L7(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(this,arguments)}function k7(t,e){return r7({basename:e==null?void 0:e.basename,future:Ay({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:T8({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||N7(),routes:t,mapRouteProperties:L7}).initialize()}function N7(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ay({},e,{errors:O7(e.errors)})),e}function O7(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new qM(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}var OR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(OR||(OR={}));var FR;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FR||(FR={}));const F7={black:"#000",white:"#fff"},nm=F7,D7={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qc=D7,U7={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jc=U7,B7={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zc=B7,z7={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ef=z7,G7={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tf=G7,H7={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rh=H7,V7={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},W7=V7;function $u(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function _O(t){if(!$u(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=_O(t[n])}),e}function is(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return $u(t)&&$u(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&($u(e[i])&&i in t&&$u(t[i])?r[i]=is(t[i],e[i],n):n.clone?r[i]=$u(e[i])?_O(e[i]):e[i]:r[i]=e[i])}),r}var SO={exports:{}},j7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$7=j7,q7=$7;function wO(){}function EO(){}EO.resetWarningCache=wO;var X7=function(){function t(r,i,o,s,l,a){if(a!==q7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EO,resetWarningCache:wO};return n.PropTypes=n,n};SO.exports=X7();var Y7=SO.exports;const Jn=Fd(Y7);function eu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Lt(t){if(typeof t!="string")throw new Error(eu(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Cy(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Td(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function K7(t,e){return()=>null}function bp(t,e){return L.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Yi(t){return t&&t.ownerDocument||document}function va(t){return Yi(t).defaultView||window}function Q7(t,e){return()=>null}function Ry(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const J7=typeof window<"u"?L.useLayoutEffect:L.useEffect,ya=J7;let DR=0;function Z7(t){const[e,n]=L.useState(t),r=t||e;return L.useEffect(()=>{e==null&&(DR+=1,n(`mui-${DR}`))},[e]),r}const UR=ty["useId".toString()];function YM(t){if(UR!==void 0){const e=UR();return t??e}return Z7(t)}function eG(t,e,n,r,i){return null}function rm({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=L.useRef(t!==void 0),[o,s]=L.useState(e),l=i?t:o,a=L.useCallback(u=>{i||s(u)},[]);return[l,a]}function aa(t){const e=L.useRef(t);return ya(()=>{e.current=t}),L.useCallback((...n)=>(0,e.current)(...n),[])}function ti(...t){return L.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ry(n,e)})},t)}let E1=!0,Cw=!1,BR;const tG={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function nG(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&tG[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function rG(t){t.metaKey||t.altKey||t.ctrlKey||(E1=!0)}function x_(){E1=!1}function iG(){this.visibilityState==="hidden"&&Cw&&(E1=!0)}function oG(t){t.addEventListener("keydown",rG,!0),t.addEventListener("mousedown",x_,!0),t.addEventListener("pointerdown",x_,!0),t.addEventListener("touchstart",x_,!0),t.addEventListener("visibilitychange",iG,!0)}function sG(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return E1||nG(e)}function MO(){const t=L.useCallback(i=>{i!=null&&oG(i.ownerDocument)},[]),e=L.useRef(!1);function n(){return e.current?(Cw=!0,window.clearTimeout(BR),BR=window.setTimeout(()=>{Cw=!1},100),e.current=!1,!0):!1}function r(i){return sG(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function TO(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let nf;function AO(){if(nf)return nf;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),nf="reverse",t.scrollLeft>0?nf="default":(t.scrollLeft=1,t.scrollLeft===0&&(nf="negative")),document.body.removeChild(t),nf}function zR(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(AO()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}function KM(t,e){const n={...e};return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]={...t[r],...n[r]};else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]={...o},Object.keys(i).forEach(s=>{n[r][s]=KM(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function rn(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const l=e(s);l!==""&&o.push(l),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const GR=t=>t,aG=()=>{let t=GR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=GR}}},lG=aG(),QM=lG,uG={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Jt(t,e,n="Mui"){const r=uG[e];return r?`${n}-${r}`:`${QM.generate(t)}-${e}`}function Zt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Jt(t,i,n)}),r}const xc="$$material";function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},te.apply(this,arguments)}function _t(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var cG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fG=CO(function(t){return cG.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function dG(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function hG(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var pG=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=dG(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ii="-ms-",Py="-moz-",On="-webkit-",RO="comm",JM="rule",ZM="decl",mG="@import",PO="@keyframes",gG="@layer",vG=Math.abs,M1=String.fromCharCode,yG=Object.assign;function xG(t,e){return vi(t,0)^45?(((e<<2^vi(t,0))<<2^vi(t,1))<<2^vi(t,2))<<2^vi(t,3):0}function IO(t){return t.trim()}function bG(t,e){return(t=e.exec(t))?t[0]:t}function Fn(t,e,n){return t.replace(e,n)}function Rw(t,e){return t.indexOf(e)}function vi(t,e){return t.charCodeAt(e)|0}function im(t,e,n){return t.slice(e,n)}function ta(t){return t.length}function e2(t){return t.length}function h0(t,e){return e.push(t),t}function _G(t,e){return t.map(e).join("")}var T1=1,Ad=1,LO=0,po=0,qr=0,zd="";function A1(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:T1,column:Ad,length:s,return:""}}function Ph(t,e){return yG(A1("",null,null,"",null,null,0),t,{length:-t.length},e)}function SG(){return qr}function wG(){return qr=po>0?vi(zd,--po):0,Ad--,qr===10&&(Ad=1,T1--),qr}function Lo(){return qr=po<LO?vi(zd,po++):0,Ad++,qr===10&&(Ad=1,T1++),qr}function ha(){return vi(zd,po)}function Rv(){return po}function Dm(t,e){return im(zd,t,e)}function om(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kO(t){return T1=Ad=1,LO=ta(zd=t),po=0,[]}function NO(t){return zd="",t}function Pv(t){return IO(Dm(po-1,Pw(t===91?t+2:t===40?t+1:t)))}function EG(t){for(;(qr=ha())&&qr<33;)Lo();return om(t)>2||om(qr)>3?"":" "}function MG(t,e){for(;--e&&Lo()&&!(qr<48||qr>102||qr>57&&qr<65||qr>70&&qr<97););return Dm(t,Rv()+(e<6&&ha()==32&&Lo()==32))}function Pw(t){for(;Lo();)switch(qr){case t:return po;case 34:case 39:t!==34&&t!==39&&Pw(qr);break;case 40:t===41&&Pw(t);break;case 92:Lo();break}return po}function TG(t,e){for(;Lo()&&t+qr!==47+10;)if(t+qr===42+42&&ha()===47)break;return"/*"+Dm(e,po-1)+"*"+M1(t===47?t:Lo())}function AG(t){for(;!om(ha());)Lo();return Dm(t,po)}function CG(t){return NO(Iv("",null,null,null,[""],t=kO(t),0,[0],t))}function Iv(t,e,n,r,i,o,s,l,a){for(var u=0,c=0,f=s,d=0,h=0,m=0,y=1,x=1,v=1,_=0,b="",S=i,E=o,M=r,T=b;x;)switch(m=_,_=Lo()){case 40:if(m!=108&&vi(T,f-1)==58){Rw(T+=Fn(Pv(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=Pv(_);break;case 9:case 10:case 13:case 32:T+=EG(m);break;case 92:T+=MG(Rv()-1,7);continue;case 47:switch(ha()){case 42:case 47:h0(RG(TG(Lo(),Rv()),e,n),a);break;default:T+="/"}break;case 123*y:l[u++]=ta(T)*v;case 125*y:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+c:v==-1&&(T=Fn(T,/\f/g,"")),h>0&&ta(T)-f&&h0(h>32?VR(T+";",r,n,f-1):VR(Fn(T," ","")+";",r,n,f-2),a);break;case 59:T+=";";default:if(h0(M=HR(T,e,n,u,c,i,l,b,S=[],E=[],f),o),_===123)if(c===0)Iv(T,e,M,M,S,o,f,l,E);else switch(d===99&&vi(T,3)===110?100:d){case 100:case 108:case 109:case 115:Iv(t,M,M,r&&h0(HR(t,M,M,0,0,i,l,b,i,S=[],f),E),i,E,f,l,r?S:E);break;default:Iv(T,M,M,M,[""],E,0,l,E)}}u=c=h=0,y=v=1,b=T="",f=s;break;case 58:f=1+ta(T),h=m;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&wG()==125)continue}switch(T+=M1(_),_*y){case 38:v=c>0?1:(T+="\f",-1);break;case 44:l[u++]=(ta(T)-1)*v,v=1;break;case 64:ha()===45&&(T+=Pv(Lo())),d=ha(),c=f=ta(b=T+=AG(Rv())),_++;break;case 45:m===45&&ta(T)==2&&(y=0)}}return o}function HR(t,e,n,r,i,o,s,l,a,u,c){for(var f=i-1,d=i===0?o:[""],h=e2(d),m=0,y=0,x=0;m<r;++m)for(var v=0,_=im(t,f+1,f=vG(y=s[m])),b=t;v<h;++v)(b=IO(y>0?d[v]+" "+_:Fn(_,/&\f/g,d[v])))&&(a[x++]=b);return A1(t,e,n,i===0?JM:l,a,u,c)}function RG(t,e,n){return A1(t,e,n,RO,M1(SG()),im(t,2,-2),0)}function VR(t,e,n,r){return A1(t,e,n,ZM,im(t,0,r),im(t,r+1,-1),r)}function hd(t,e){for(var n="",r=e2(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function PG(t,e,n,r){switch(t.type){case gG:if(t.children.length)break;case mG:case ZM:return t.return=t.return||t.value;case RO:return"";case PO:return t.return=t.value+"{"+hd(t.children,r)+"}";case JM:t.value=t.props.join(",")}return ta(n=hd(t.children,r))?t.return=t.value+"{"+n+"}":""}function IG(t){var e=e2(t);return function(n,r,i,o){for(var s="",l=0;l<e;l++)s+=t[l](n,r,i,o)||"";return s}}function LG(t){return function(e){e.root||(e=e.return)&&t(e)}}var kG=function(e,n,r){for(var i=0,o=0;i=o,o=ha(),i===38&&o===12&&(n[r]=1),!om(o);)Lo();return Dm(e,po)},NG=function(e,n){var r=-1,i=44;do switch(om(i)){case 0:i===38&&ha()===12&&(n[r]=1),e[r]+=kG(po-1,n,r);break;case 2:e[r]+=Pv(i);break;case 4:if(i===44){e[++r]=ha()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=M1(i)}while(i=Lo());return e},OG=function(e,n){return NO(NG(kO(e),n))},WR=new WeakMap,FG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!WR.get(r))&&!i){WR.set(e,!0);for(var o=[],s=OG(n,o),l=r.props,a=0,u=0;a<s.length;a++)for(var c=0;c<l.length;c++,u++)e.props[u]=o[a]?s[a].replace(/&\f/g,l[c]):l[c]+" "+s[a]}}},DG=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function OO(t,e){switch(xG(t,e)){case 5103:return On+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return On+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return On+t+Py+t+Ii+t+t;case 6828:case 4268:return On+t+Ii+t+t;case 6165:return On+t+Ii+"flex-"+t+t;case 5187:return On+t+Fn(t,/(\w+).+(:[^]+)/,On+"box-$1$2"+Ii+"flex-$1$2")+t;case 5443:return On+t+Ii+"flex-item-"+Fn(t,/flex-|-self/,"")+t;case 4675:return On+t+Ii+"flex-line-pack"+Fn(t,/align-content|flex-|-self/,"")+t;case 5548:return On+t+Ii+Fn(t,"shrink","negative")+t;case 5292:return On+t+Ii+Fn(t,"basis","preferred-size")+t;case 6060:return On+"box-"+Fn(t,"-grow","")+On+t+Ii+Fn(t,"grow","positive")+t;case 4554:return On+Fn(t,/([^-])(transform)/g,"$1"+On+"$2")+t;case 6187:return Fn(Fn(Fn(t,/(zoom-|grab)/,On+"$1"),/(image-set)/,On+"$1"),t,"")+t;case 5495:case 3959:return Fn(t,/(image-set\([^]*)/,On+"$1$`$1");case 4968:return Fn(Fn(t,/(.+:)(flex-)?(.*)/,On+"box-pack:$3"+Ii+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+On+t+t;case 4095:case 3583:case 4068:case 2532:return Fn(t,/(.+)-inline(.+)/,On+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ta(t)-1-e>6)switch(vi(t,e+1)){case 109:if(vi(t,e+4)!==45)break;case 102:return Fn(t,/(.+:)(.+)-([^]+)/,"$1"+On+"$2-$3$1"+Py+(vi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Rw(t,"stretch")?OO(Fn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vi(t,e+1)!==115)break;case 6444:switch(vi(t,ta(t)-3-(~Rw(t,"!important")&&10))){case 107:return Fn(t,":",":"+On)+t;case 101:return Fn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+On+(vi(t,14)===45?"inline-":"")+"box$3$1"+On+"$2$3$1"+Ii+"$2box$3")+t}break;case 5936:switch(vi(t,e+11)){case 114:return On+t+Ii+Fn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return On+t+Ii+Fn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return On+t+Ii+Fn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return On+t+Ii+t+t}return t}var UG=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ZM:e.return=OO(e.value,e.length);break;case PO:return hd([Ph(e,{value:Fn(e.value,"@","@"+On)})],i);case JM:if(e.length)return _G(e.props,function(o){switch(bG(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hd([Ph(e,{props:[Fn(o,/:(read-\w+)/,":"+Py+"$1")]})],i);case"::placeholder":return hd([Ph(e,{props:[Fn(o,/:(plac\w+)/,":"+On+"input-$1")]}),Ph(e,{props:[Fn(o,/:(plac\w+)/,":"+Py+"$1")]}),Ph(e,{props:[Fn(o,/:(plac\w+)/,Ii+"input-$1")]})],i)}return""})}},BG=[UG],zG=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||BG,o={},s,l=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),v=1;v<x.length;v++)o[x[v]]=!0;l.push(y)});var a,u=[FG,DG];{var c,f=[PG,LG(function(y){c.insert(y)})],d=IG(u.concat(i,f)),h=function(x){return hd(CG(x),d)};a=function(x,v,_,b){c=_,h(x?x+"{"+v.styles+"}":v.styles),b&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new pG({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return m.sheet.hydrate(l),m},FO={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=typeof Symbol=="function"&&Symbol.for,t2=hi?Symbol.for("react.element"):60103,n2=hi?Symbol.for("react.portal"):60106,C1=hi?Symbol.for("react.fragment"):60107,R1=hi?Symbol.for("react.strict_mode"):60108,P1=hi?Symbol.for("react.profiler"):60114,I1=hi?Symbol.for("react.provider"):60109,L1=hi?Symbol.for("react.context"):60110,r2=hi?Symbol.for("react.async_mode"):60111,k1=hi?Symbol.for("react.concurrent_mode"):60111,N1=hi?Symbol.for("react.forward_ref"):60112,O1=hi?Symbol.for("react.suspense"):60113,GG=hi?Symbol.for("react.suspense_list"):60120,F1=hi?Symbol.for("react.memo"):60115,D1=hi?Symbol.for("react.lazy"):60116,HG=hi?Symbol.for("react.block"):60121,VG=hi?Symbol.for("react.fundamental"):60117,WG=hi?Symbol.for("react.responder"):60118,jG=hi?Symbol.for("react.scope"):60119;function Do(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case t2:switch(t=t.type,t){case r2:case k1:case C1:case P1:case R1:case O1:return t;default:switch(t=t&&t.$$typeof,t){case L1:case N1:case D1:case F1:case I1:return t;default:return e}}case n2:return e}}}function DO(t){return Do(t)===k1}jn.AsyncMode=r2;jn.ConcurrentMode=k1;jn.ContextConsumer=L1;jn.ContextProvider=I1;jn.Element=t2;jn.ForwardRef=N1;jn.Fragment=C1;jn.Lazy=D1;jn.Memo=F1;jn.Portal=n2;jn.Profiler=P1;jn.StrictMode=R1;jn.Suspense=O1;jn.isAsyncMode=function(t){return DO(t)||Do(t)===r2};jn.isConcurrentMode=DO;jn.isContextConsumer=function(t){return Do(t)===L1};jn.isContextProvider=function(t){return Do(t)===I1};jn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===t2};jn.isForwardRef=function(t){return Do(t)===N1};jn.isFragment=function(t){return Do(t)===C1};jn.isLazy=function(t){return Do(t)===D1};jn.isMemo=function(t){return Do(t)===F1};jn.isPortal=function(t){return Do(t)===n2};jn.isProfiler=function(t){return Do(t)===P1};jn.isStrictMode=function(t){return Do(t)===R1};jn.isSuspense=function(t){return Do(t)===O1};jn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C1||t===k1||t===P1||t===R1||t===O1||t===GG||typeof t=="object"&&t!==null&&(t.$$typeof===D1||t.$$typeof===F1||t.$$typeof===I1||t.$$typeof===L1||t.$$typeof===N1||t.$$typeof===VG||t.$$typeof===WG||t.$$typeof===jG||t.$$typeof===HG)};jn.typeOf=Do;FO.exports=jn;var $G=FO.exports,UO=$G,qG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BO={};BO[UO.ForwardRef]=qG;BO[UO.Memo]=XG;var YG=!0;function KG(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var zO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||YG===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},GO=function(e,n,r){zO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function QG(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var JG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZG=/[A-Z]|^ms/g,e9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HO=function(e){return e.charCodeAt(1)===45},jR=function(e){return e!=null&&typeof e!="boolean"},b_=CO(function(t){return HO(t)?t:t.replace(ZG,"-$&").toLowerCase()}),$R=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(e9,function(r,i,o){return na={name:i,styles:o,next:na},i})}return JG[e]!==1&&!HO(e)&&typeof n=="number"&&n!==0?n+"px":n};function sm(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return na={name:n.name,styles:n.styles,next:na},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)na={name:r.name,styles:r.styles,next:na},r=r.next;var i=n.styles+";";return i}return t9(t,e,n)}case"function":{if(t!==void 0){var o=na,s=n(t);return na=o,sm(t,e,s)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function t9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=sm(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":jR(s)&&(r+=b_(o)+":"+$R(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)jR(s[l])&&(r+=b_(o)+":"+$R(o,s[l])+";");else{var a=sm(t,e,s);switch(o){case"animation":case"animationName":{r+=b_(o)+":"+a+";";break}default:r+=o+"{"+a+"}"}}}return r}var qR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,na,i2=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";na=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=sm(r,n,s)):o+=s[0];for(var l=1;l<e.length;l++)o+=sm(r,n,e[l]),i&&(o+=s[l]);qR.lastIndex=0;for(var a="",u;(u=qR.exec(o))!==null;)a+="-"+u[1];var c=QG(o)+a;return{name:c,styles:o,next:na}},n9=function(e){return e()},VO=ty["useInsertionEffect"]?ty["useInsertionEffect"]:!1,r9=VO||n9,XR=VO||L.useLayoutEffect,WO=L.createContext(typeof HTMLElement<"u"?zG({key:"css"}):null);WO.Provider;var jO=function(e){return L.forwardRef(function(n,r){var i=L.useContext(WO);return e(n,i,r)})},U1=L.createContext({}),i9=jO(function(t,e){var n=t.styles,r=i2([n],void 0,L.useContext(U1)),i=L.useRef();return XR(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,a=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),a!==null&&(l=!0,a.setAttribute("data-emotion",o),s.hydrate([a])),i.current=[s,l],function(){s.flush()}},[e]),XR(function(){var o=i.current,s=o[0],l=o[1];if(l){o[1]=!1;return}if(r.next!==void 0&&GO(e,r.next,!0),s.tags.length){var a=s.tags[s.tags.length-1].nextElementSibling;s.before=a,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Gd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i2(e)}var cu=function(){var e=Gd.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},o9=fG,s9=function(e){return e!=="theme"},YR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?o9:s9},KR=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},a9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return zO(n,r,i),r9(function(){return GO(n,r,i)}),null},l9=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var l=KR(e,n,r),a=l||YR(i),u=!a("as");return function(){var c=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var d=c.length,h=1;h<d;h++)f.push(c[h],c[0][h])}var m=jO(function(y,x,v){var _=u&&y.as||i,b="",S=[],E=y;if(y.theme==null){E={};for(var M in y)E[M]=y[M];E.theme=L.useContext(U1)}typeof y.className=="string"?b=KG(x.registered,S,y.className):y.className!=null&&(b=y.className+" ");var T=i2(f.concat(S),x.registered,E);b+=x.key+"-"+T.name,s!==void 0&&(b+=" "+s);var R=u&&l===void 0?YR(_):a,C={};for(var P in y)u&&P==="as"||R(P)&&(C[P]=y[P]);return C.className=b,C.ref=v,L.createElement(L.Fragment,null,L.createElement(a9,{cache:x,serialized:T,isStringTag:typeof _=="string"}),L.createElement(_,C))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=f,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,x){return t(y,te({},n,x,{shouldForwardProp:KR(m,x,!0)})).apply(void 0,f)},m}},u9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Iw=l9.bind();u9.forEach(function(t){Iw[t]=Iw(t)});function c9(t){return t==null||Object.keys(t).length===0}function f9(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(c9(i)?n:i):e;return X.jsx(i9,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $O(t,e){return Iw(t,e)}const d9=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},h9=["values","unit","step"],p9=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>te({},n,{[r.key]:r.val}),{})};function m9(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=_t(t,h9),o=p9(e),s=Object.keys(o);function l(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function a(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,h){const m=s.indexOf(h);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:h)-r/100}${n})`}function c(d){return s.indexOf(d)+1<s.length?u(d,s[s.indexOf(d)+1]):l(d)}function f(d){const h=s.indexOf(d);return h===0?l(s[1]):h===s.length-1?a(s[h]):u(d,s[s.indexOf(d)+1]).replace("@media","@media not all and")}return te({keys:s,values:o,up:l,down:a,between:u,only:c,not:f,unit:n},i)}const g9={borderRadius:4},v9=g9;function _p(t,e){return e?is(t,e,{clone:!1}):t}const o2={xs:0,sm:600,md:900,lg:1200,xl:1536},QR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${o2[t]}px)`};function el(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||QR;return e.reduce((s,l,a)=>(s[o.up(o.keys[a])]=n(e[a]),s),{})}if(typeof e=="object"){const o=r.breakpoints||QR;return Object.keys(e).reduce((s,l)=>{if(Object.keys(o.values||o2).indexOf(l)!==-1){const a=o.up(l);s[a]=n(e[l],l)}else{const a=l;s[a]=e[a]}return s},{})}return n(e)}function y9(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function x9(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function B1(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Iy(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=B1(t,n)||r,e&&(i=e(i,r,t)),i}function Gn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const l=s[e],a=s.theme,u=B1(a,r)||{};return el(s,l,f=>{let d=Iy(u,i,f);return f===d&&typeof f=="string"&&(d=Iy(u,i,`${e}${f==="default"?"":Lt(f)}`,f)),n===!1?d:{[n]:d}})};return o.propTypes={},o.filterProps=[e],o}function b9(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const _9={m:"margin",p:"padding"},S9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},w9=b9(t=>{if(t.length>2)if(JR[t])t=JR[t];else return[t];const[e,n]=t.split(""),r=_9[e],i=S9[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),s2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],a2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...s2,...a2];function Um(t,e,n,r){var i;const o=(i=B1(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function qO(t){return Um(t,"spacing",8)}function Bm(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function E9(t,e){return n=>t.reduce((r,i)=>(r[i]=Bm(e,n),r),{})}function M9(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=w9(n),o=E9(i,r),s=t[n];return el(t,s,o)}function XO(t,e){const n=qO(t.theme);return Object.keys(t).map(r=>M9(t,e,r,n)).reduce(_p,{})}function Cr(t){return XO(t,s2)}Cr.propTypes={};Cr.filterProps=s2;function Rr(t){return XO(t,a2)}Rr.propTypes={};Rr.filterProps=a2;function T9(t=8){if(t.mui)return t;const e=qO({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function z1(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?_p(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function oa(t){return typeof t!="number"?t:`${t}px solid`}const A9=Gn({prop:"border",themeKey:"borders",transform:oa}),C9=Gn({prop:"borderTop",themeKey:"borders",transform:oa}),R9=Gn({prop:"borderRight",themeKey:"borders",transform:oa}),P9=Gn({prop:"borderBottom",themeKey:"borders",transform:oa}),I9=Gn({prop:"borderLeft",themeKey:"borders",transform:oa}),L9=Gn({prop:"borderColor",themeKey:"palette"}),k9=Gn({prop:"borderTopColor",themeKey:"palette"}),N9=Gn({prop:"borderRightColor",themeKey:"palette"}),O9=Gn({prop:"borderBottomColor",themeKey:"palette"}),F9=Gn({prop:"borderLeftColor",themeKey:"palette"}),G1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Um(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Bm(e,r)});return el(t,t.borderRadius,n)}return null};G1.propTypes={};G1.filterProps=["borderRadius"];z1(A9,C9,R9,P9,I9,L9,k9,N9,O9,F9,G1);const H1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Um(t.theme,"spacing",8),n=r=>({gap:Bm(e,r)});return el(t,t.gap,n)}return null};H1.propTypes={};H1.filterProps=["gap"];const V1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Um(t.theme,"spacing",8),n=r=>({columnGap:Bm(e,r)});return el(t,t.columnGap,n)}return null};V1.propTypes={};V1.filterProps=["columnGap"];const W1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Um(t.theme,"spacing",8),n=r=>({rowGap:Bm(e,r)});return el(t,t.rowGap,n)}return null};W1.propTypes={};W1.filterProps=["rowGap"];const D9=Gn({prop:"gridColumn"}),U9=Gn({prop:"gridRow"}),B9=Gn({prop:"gridAutoFlow"}),z9=Gn({prop:"gridAutoColumns"}),G9=Gn({prop:"gridAutoRows"}),H9=Gn({prop:"gridTemplateColumns"}),V9=Gn({prop:"gridTemplateRows"}),W9=Gn({prop:"gridTemplateAreas"}),j9=Gn({prop:"gridArea"});z1(H1,V1,W1,D9,U9,B9,z9,G9,H9,V9,W9,j9);function pd(t,e){return e==="grey"?e:t}const $9=Gn({prop:"color",themeKey:"palette",transform:pd}),q9=Gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pd}),X9=Gn({prop:"backgroundColor",themeKey:"palette",transform:pd});z1($9,q9,X9);function To(t){return t<=1&&t!==0?`${t*100}%`:t}const Y9=Gn({prop:"width",transform:To}),l2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,o;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(o=i.values)==null?void 0:o[n])||o2[n]||To(n)}};return el(t,t.maxWidth,e)}return null};l2.filterProps=["maxWidth"];const K9=Gn({prop:"minWidth",transform:To}),Q9=Gn({prop:"height",transform:To}),J9=Gn({prop:"maxHeight",transform:To}),Z9=Gn({prop:"minHeight",transform:To});Gn({prop:"size",cssProperty:"width",transform:To});Gn({prop:"size",cssProperty:"height",transform:To});const eH=Gn({prop:"boxSizing"});z1(Y9,l2,K9,Q9,J9,Z9,eH);const tH={border:{themeKey:"borders",transform:oa},borderTop:{themeKey:"borders",transform:oa},borderRight:{themeKey:"borders",transform:oa},borderBottom:{themeKey:"borders",transform:oa},borderLeft:{themeKey:"borders",transform:oa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:G1},color:{themeKey:"palette",transform:pd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pd},backgroundColor:{themeKey:"palette",transform:pd},p:{style:Rr},pt:{style:Rr},pr:{style:Rr},pb:{style:Rr},pl:{style:Rr},px:{style:Rr},py:{style:Rr},padding:{style:Rr},paddingTop:{style:Rr},paddingRight:{style:Rr},paddingBottom:{style:Rr},paddingLeft:{style:Rr},paddingX:{style:Rr},paddingY:{style:Rr},paddingInline:{style:Rr},paddingInlineStart:{style:Rr},paddingInlineEnd:{style:Rr},paddingBlock:{style:Rr},paddingBlockStart:{style:Rr},paddingBlockEnd:{style:Rr},m:{style:Cr},mt:{style:Cr},mr:{style:Cr},mb:{style:Cr},ml:{style:Cr},mx:{style:Cr},my:{style:Cr},margin:{style:Cr},marginTop:{style:Cr},marginRight:{style:Cr},marginBottom:{style:Cr},marginLeft:{style:Cr},marginX:{style:Cr},marginY:{style:Cr},marginInline:{style:Cr},marginInlineStart:{style:Cr},marginInlineEnd:{style:Cr},marginBlock:{style:Cr},marginBlockStart:{style:Cr},marginBlockEnd:{style:Cr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:H1},rowGap:{style:W1},columnGap:{style:V1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:To},maxWidth:{style:l2},minWidth:{transform:To},height:{transform:To},maxHeight:{transform:To},minHeight:{transform:To},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},j1=tH;function nH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function rH(t,e){return typeof t=="function"?t(e):t}function iH(){function t(n,r,i,o){const s={[n]:r,theme:i},l=o[n];if(!l)return{[n]:r};const{cssProperty:a=n,themeKey:u,transform:c,style:f}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const d=B1(i,u)||{};return f?f(s):el(s,r,m=>{let y=Iy(d,c,m);return m===y&&typeof m=="string"&&(y=Iy(d,c,`${n}${m==="default"?"":Lt(m)}`,m)),a===!1?y:{[a]:y}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:j1;function l(a){let u=a;if(typeof a=="function")u=a(o);else if(typeof a!="object")return a;if(!u)return null;const c=y9(o.breakpoints),f=Object.keys(c);let d=c;return Object.keys(u).forEach(h=>{const m=rH(u[h],o);if(m!=null)if(typeof m=="object")if(s[h])d=_p(d,t(h,m,o,s));else{const y=el({theme:o},m,x=>({[h]:x}));nH(y,m)?d[h]=e({sx:m,theme:o}):d=_p(d,y)}else d=_p(d,t(h,m,o,s))}),x9(f,d)}return Array.isArray(i)?i.map(l):l(i)}return e}const YO=iH();YO.filterProps=["sx"];const $1=YO,oH=["breakpoints","palette","spacing","shape"];function u2(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=_t(t,oH),l=m9(n),a=T9(i);let u=is({breakpoints:l,direction:"ltr",components:{},palette:te({mode:"light"},r),spacing:a,shape:te({},v9,o)},s);return u=e.reduce((c,f)=>is(c,f),u),u.unstable_sxConfig=te({},j1,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(f){return $1({sx:f,theme:this})},u}function sH(t){return Object.keys(t).length===0}function KO(t=null){const e=L.useContext(U1);return!e||sH(e)?t:e}const aH=u2();function q1(t=aH){return KO(t)}function lH({styles:t,themeId:e,defaultTheme:n={}}){const r=q1(n),i=typeof t=="function"?t(e&&r[e]||r):t;return X.jsx(f9,{styles:i})}const uH=["sx"],cH=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:j1;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function QO(t){const{sx:e}=t,n=_t(t,uH),{systemProps:r,otherProps:i}=cH(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const l=e(...s);return $u(l)?te({},r,l):r}:o=te({},r,e),te({},i,{sx:o})}function JO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=JO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function At(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=JO(t))&&(r&&(r+=" "),r+=e);return r}const fH=["className","component"];function dH(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=$O("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})($1);return L.forwardRef(function(a,u){const c=q1(n),f=QO(a),{className:d,component:h="div"}=f,m=_t(f,fH);return X.jsx(o,te({as:h,ref:u,className:At(d,i?i(r):r),theme:e&&c[e]||c},m))})}const hH=["variant"];function ZR(t){return t.length===0}function ZO(t){const{variant:e}=t,n=_t(t,hH);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=ZR(r)?t[i]:Lt(t[i]):r+=`${ZR(r)?i:Lt(i)}${Lt(t[i].toString())}`}),r}const pH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mH(t){return Object.keys(t).length===0}function gH(t){return typeof t=="string"&&t.charCodeAt(0)>96}const vH=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,yH=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const o=ZO(i.props);r[o]=i.style}),r},xH=(t,e,n,r)=>{var i,o;const{ownerState:s={}}=t,l=[],a=n==null||(i=n.components)==null||(o=i[r])==null?void 0:o.variants;return a&&a.forEach(u=>{let c=!0;Object.keys(u.props).forEach(f=>{s[f]!==u.props[f]&&t[f]!==u.props[f]&&(c=!1)}),c&&l.push(e[ZO(u.props)])}),l};function Sp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const bH=u2();function Ih({defaultTheme:t,theme:e,themeId:n}){return mH(e)?t:e[n]||e}function _H(t={}){const{themeId:e,defaultTheme:n=bH,rootShouldForwardProp:r=Sp,slotShouldForwardProp:i=Sp}=t,o=s=>$1(te({},s,{theme:Ih(te({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,l={})=>{d9(s,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:u,skipVariantsResolver:c,skipSx:f,overridesResolver:d}=l,h=_t(l,pH),m=c!==void 0?c:u&&u!=="Root"||!1,y=f||!1;let x,v=Sp;u==="Root"?v=r:u?v=i:gH(s)&&(v=void 0);const _=$O(s,te({shouldForwardProp:v,label:x},h)),b=(S,...E)=>{const M=E?E.map(P=>typeof P=="function"&&P.__emotion_real!==P?D=>P(te({},D,{theme:Ih(te({},D,{defaultTheme:n,themeId:e}))})):P):[];let T=S;a&&d&&M.push(P=>{const D=Ih(te({},P,{defaultTheme:n,themeId:e})),z=vH(a,D);if(z){const V={};return Object.entries(z).forEach(([U,q])=>{V[U]=typeof q=="function"?q(te({},P,{theme:D})):q}),d(P,V)}return null}),a&&!m&&M.push(P=>{const D=Ih(te({},P,{defaultTheme:n,themeId:e}));return xH(P,yH(a,D),D,a)}),y||M.push(o);const R=M.length-E.length;if(Array.isArray(S)&&R>0){const P=new Array(R).fill("");T=[...S,...P],T.raw=[...S.raw,...P]}else typeof S=="function"&&S.__emotion_real!==S&&(T=P=>S(te({},P,{theme:Ih(te({},P,{defaultTheme:n,themeId:e}))})));const C=_(T,...M);return s.muiName&&(C.muiName=s.muiName),C};return _.withConfig&&(b.withConfig=_.withConfig),b}}function SH(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:KM(e.components[n].defaultProps,r)}function wH({props:t,name:e,defaultTheme:n,themeId:r}){let i=q1(n);return r&&(i=i[r]||i),SH({theme:i,name:e,props:t})}function c2(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function EH(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bc(t){if(t.type)return t;if(t.charAt(0)==="#")return bc(EH(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(eu(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(eu(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function X1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function MH(t){t=bc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let l="rgb";const a=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(l+="a",a.push(e[3])),X1({type:l,values:a})}function eP(t){t=bc(t);let e=t.type==="hsl"||t.type==="hsla"?bc(MH(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function TH(t,e){const n=eP(t),r=eP(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Fi(t,e){return t=bc(t),e=c2(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,X1(t)}function eF(t,e){if(t=bc(t),e=c2(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return X1(t)}function tF(t,e){if(t=bc(t),e=c2(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return X1(t)}const AH=L.createContext(null),nF=AH;function rF(){return L.useContext(nF)}const CH=typeof Symbol=="function"&&Symbol.for,RH=CH?Symbol.for("mui.nested"):"__THEME_NESTED__";function PH(t,e){return typeof e=="function"?e(t):{...t,...e}}function IH(t){const{children:e,theme:n}=t,r=rF(),i=L.useMemo(()=>{const o=r===null?n:PH(r,n);return o!=null&&(o[RH]=r!==null),o},[n,r]);return X.jsx(nF.Provider,{value:i,children:e})}const tP={};function nP(t,e,n,r=!1){return L.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?te({},e,{[t]:o}):o;return r?()=>s:s}return t?te({},e,{[t]:n}):te({},e,n)},[t,e,n,r])}function LH(t){const{children:e,theme:n,themeId:r}=t,i=KO(tP),o=rF()||tP,s=nP(r,i,n),l=nP(r,o,n,!0);return X.jsx(IH,{theme:l,children:X.jsx(U1.Provider,{value:s,children:e})})}function kH(t,e){return te({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const NH=["mode","contrastThreshold","tonalOffset"],rP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nm.white,default:nm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},__={text:{primary:nm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function iP(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=tF(t.main,i):e==="dark"&&(t.dark=eF(t.main,o)))}function OH(t="light"){return t==="dark"?{main:Zc[200],light:Zc[50],dark:Zc[400]}:{main:Zc[700],light:Zc[400],dark:Zc[800]}}function FH(t="light"){return t==="dark"?{main:Jc[200],light:Jc[50],dark:Jc[400]}:{main:Jc[500],light:Jc[300],dark:Jc[700]}}function DH(t="light"){return t==="dark"?{main:Qc[500],light:Qc[300],dark:Qc[700]}:{main:Qc[700],light:Qc[400],dark:Qc[800]}}function UH(t="light"){return t==="dark"?{main:ef[400],light:ef[300],dark:ef[700]}:{main:ef[700],light:ef[500],dark:ef[900]}}function BH(t="light"){return t==="dark"?{main:tf[400],light:tf[300],dark:tf[700]}:{main:tf[800],light:tf[500],dark:tf[900]}}function zH(t="light"){return t==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:"#ed6c02",light:Rh[500],dark:Rh[900]}}function GH(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=_t(t,NH),o=t.primary||OH(e),s=t.secondary||FH(e),l=t.error||DH(e),a=t.info||UH(e),u=t.success||BH(e),c=t.warning||zH(e);function f(y){return TH(y,__.text.primary)>=n?__.text.primary:rP.text.primary}const d=({color:y,name:x,mainShade:v=500,lightShade:_=300,darkShade:b=700})=>{if(y=te({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(eu(11,x?` (${x})`:"",v));if(typeof y.main!="string")throw new Error(eu(12,x?` (${x})`:"",JSON.stringify(y.main)));return iP(y,"light",_,r),iP(y,"dark",b,r),y.contrastText||(y.contrastText=f(y.main)),y},h={dark:__,light:rP};return is(te({common:te({},nm),mode:e,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:l,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:a,name:"info"}),success:d({color:u,name:"success"}),grey:W7,contrastThreshold:n,getContrastText:f,augmentColor:d,tonalOffset:r},h[e]),i)}const HH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function VH(t){return Math.round(t*1e5)/1e5}const oP={textTransform:"uppercase"},sP='"Roboto", "Helvetica", "Arial", sans-serif';function WH(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=sP,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:a=700,htmlFontSize:u=16,allVariants:c,pxToRem:f}=n,d=_t(n,HH),h=i/14,m=f||(v=>`${v/u*h}rem`),y=(v,_,b,S,E)=>te({fontFamily:r,fontWeight:v,fontSize:m(_),lineHeight:b},r===sP?{letterSpacing:`${VH(S/_)}em`}:{},E,c),x={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,oP),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,oP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return is(te({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:a},x),d,{clone:!1})}const jH=.2,$H=.14,qH=.12;function fr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${jH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$H})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${qH})`].join(",")}const XH=["none",fr(0,2,1,-1,0,1,1,0,0,1,3,0),fr(0,3,1,-2,0,2,2,0,0,1,5,0),fr(0,3,3,-2,0,3,4,0,0,1,8,0),fr(0,2,4,-1,0,4,5,0,0,1,10,0),fr(0,3,5,-1,0,5,8,0,0,1,14,0),fr(0,3,5,-1,0,6,10,0,0,1,18,0),fr(0,4,5,-2,0,7,10,1,0,2,16,1),fr(0,5,5,-3,0,8,10,1,0,3,14,2),fr(0,5,6,-3,0,9,12,1,0,3,16,2),fr(0,6,6,-3,0,10,14,1,0,4,18,3),fr(0,6,7,-4,0,11,15,1,0,4,20,3),fr(0,7,8,-4,0,12,17,2,0,5,22,4),fr(0,7,8,-4,0,13,19,2,0,5,24,4),fr(0,7,9,-4,0,14,21,2,0,5,26,4),fr(0,8,9,-5,0,15,22,2,0,6,28,5),fr(0,8,10,-5,0,16,24,2,0,6,30,5),fr(0,8,11,-5,0,17,26,2,0,6,32,5),fr(0,9,11,-5,0,18,28,2,0,7,34,6),fr(0,9,12,-6,0,19,29,2,0,7,36,6),fr(0,10,13,-6,0,20,31,3,0,8,38,7),fr(0,10,13,-6,0,21,33,3,0,8,40,7),fr(0,10,14,-6,0,22,35,3,0,8,42,7),fr(0,11,14,-7,0,23,36,3,0,9,44,8),fr(0,11,15,-7,0,24,38,3,0,9,46,8)],YH=XH,KH=["duration","easing","delay"],QH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iF={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function aP(t){return`${Math.round(t)}ms`}function JH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function ZH(t){const e=te({},QH,t.easing),n=te({},iF,t.duration);return te({getAutoHeightDuration:JH,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:l=e.easeInOut,delay:a=0}=o;return _t(o,KH),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:aP(s)} ${l} ${typeof a=="string"?a:aP(a)}`).join(",")}},t,{easing:e,duration:n})}const eV={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},tV=eV,nV=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Y1(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=_t(t,nV);if(t.vars)throw new Error(eu(18));const l=GH(r),a=u2(t);let u=is(a,{mixins:kH(a.breakpoints,n),palette:l,shadows:YH.slice(),typography:WH(l,o),transitions:ZH(i),zIndex:te({},tV)});return u=is(u,s),u=e.reduce((c,f)=>is(c,f),u),u.unstable_sxConfig=te({},j1,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(f){return $1({sx:f,theme:this})},u}const rV=Y1(),K1=rV;function Ic(){const t=q1(K1);return t[xc]||t}function on({props:t,name:e}){return wH({props:t,name:e,defaultTheme:K1,themeId:xc})}const zs=t=>Sp(t)&&t!=="classes",iV=Sp,oV=_H({themeId:xc,defaultTheme:K1,rootShouldForwardProp:zs}),ft=oV,sV=["theme"];function oF(t){let{theme:e}=t,n=_t(t,sV);const r=e[xc];return X.jsx(LH,te({},n,{themeId:r?xc:void 0,theme:r||e}))}const aV=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},lP=aV;function _c(t){return typeof t=="string"}function lV(t,e,n){return t===void 0||_c(t)?e:te({},e,{ownerState:te({},e.ownerState,n)})}const uV={disableDefaultClasses:!1},cV=L.createContext(uV);function fV(t){const{disableDefaultClasses:e}=L.useContext(cV);return n=>e?"":t(n)}function dV(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Lw(t,e){return typeof t=="function"?t(e):t}function uP(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function hV(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const h=At(i==null?void 0:i.className,r==null?void 0:r.className,o,n==null?void 0:n.className),m=te({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=te({},n,i,r);return h.length>0&&(y.className=h),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const s=dV(te({},i,r)),l=uP(r),a=uP(i),u=e(s),c=At(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=te({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),d=te({},u,n,a,l);return c.length>0&&(d.className=c),Object.keys(f).length>0&&(d.style=f),{props:d,internalRef:u.ref}}const pV=["elementType","externalSlotProps","ownerState"];function tu(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,o=_t(t,pV),s=Lw(r,i),{props:l,internalRef:a}=hV(te({},o,{externalSlotProps:s})),u=ti(a,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return lV(n,te({},l,{ref:u}),i)}const mV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function gV(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function vV(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function yV(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||vV(t))}function xV(t){const e=[],n=[];return Array.from(t.querySelectorAll(mV)).forEach((r,i)=>{const o=gV(r);o===-1||!yV(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function bV(){return!0}function _V(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=xV,isEnabled:s=bV,open:l}=t,a=L.useRef(!1),u=L.useRef(null),c=L.useRef(null),f=L.useRef(null),d=L.useRef(null),h=L.useRef(!1),m=L.useRef(null),y=ti(e.ref,m),x=L.useRef(null);L.useEffect(()=>{!l||!m.current||(h.current=!n)},[n,l]),L.useEffect(()=>{if(!l||!m.current)return;const b=Yi(m.current);return m.current.contains(b.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),h.current&&m.current.focus()),()=>{i||(f.current&&f.current.focus&&(a.current=!0,f.current.focus()),f.current=null)}},[l]),L.useEffect(()=>{if(!l||!m.current)return;const b=Yi(m.current),S=T=>{const{current:R}=m;if(R!==null){if(!b.hasFocus()||r||!s()||a.current){a.current=!1;return}if(!R.contains(b.activeElement)){if(T&&d.current!==T.target||b.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!h.current)return;let D=[];if((b.activeElement===u.current||b.activeElement===c.current)&&(D=o(m.current)),D.length>0){var C,P;const z=!!((C=x.current)!=null&&C.shiftKey&&((P=x.current)==null?void 0:P.key)==="Tab"),V=D[0],U=D[D.length-1];typeof V!="string"&&typeof U!="string"&&(z?U.focus():V.focus())}else R.focus()}}},E=T=>{x.current=T,!(r||!s()||T.key!=="Tab")&&b.activeElement===m.current&&T.shiftKey&&(a.current=!0,c.current&&c.current.focus())};b.addEventListener("focusin",S),b.addEventListener("keydown",E,!0);const M=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&S(null)},50);return()=>{clearInterval(M),b.removeEventListener("focusin",S),b.removeEventListener("keydown",E,!0)}},[n,r,i,s,l,o]);const v=b=>{f.current===null&&(f.current=b.relatedTarget),h.current=!0,d.current=b.target;const S=e.props.onFocus;S&&S(b)},_=b=>{f.current===null&&(f.current=b.relatedTarget),h.current=!0};return X.jsxs(L.Fragment,{children:[X.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:u,"data-testid":"sentinelStart"}),L.cloneElement(e,{ref:y,onFocus:v}),X.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:c,"data-testid":"sentinelEnd"})]})}function SV(t){return typeof t=="function"?t():t}const wV=L.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,l]=L.useState(null),a=ti(L.isValidElement(r)?r.ref:null,n);if(ya(()=>{o||l(SV(i)||document.body)},[i,o]),ya(()=>{if(s&&!o)return Ry(n,s),()=>{Ry(n,null)}},[n,s,o]),o){if(L.isValidElement(r)){const u={ref:a};return L.cloneElement(r,u)}return X.jsx(L.Fragment,{children:r})}return X.jsx(L.Fragment,{children:s&&y1.createPortal(r,s)})}),EV=wV;function MV(t){const e=Yi(t);return e.body===t?va(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function wp(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function cP(t){return parseInt(va(t).getComputedStyle(t).paddingRight,10)||0}function TV(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function fP(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const l=o.indexOf(s)===-1,a=!TV(s);l&&a&&wp(s,i)})}function S_(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function AV(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(MV(r)){const s=TO(Yi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${cP(r)+s}px`;const l=Yi(r).querySelectorAll(".mui-fixed");[].forEach.call(l,a=>{n.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${cP(a)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Yi(r).body;else{const s=r.parentElement,l=va(r);o=(s==null?void 0:s.nodeName)==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:l})=>{o?s.style.setProperty(l,o):s.style.removeProperty(l)})}}function CV(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class RV{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&wp(e.modalRef,!1);const i=CV(n);fP(n,e.mount,e.modalRef,i,!0);const o=S_(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=S_(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=AV(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=S_(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&wp(e.modalRef,n),fP(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&wp(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function PV(t){return Jt("MuiModal",t)}Zt("MuiModal",["root","hidden","backdrop"]);const IV=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],LV=t=>{const{open:e,exited:n}=t;return rn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},fV(PV))};function kV(t){return typeof t=="function"?t():t}function NV(t){return t?t.props.hasOwnProperty("in"):!1}const OV=new RV,FV=L.forwardRef(function(e,n){var r,i;const{children:o,closeAfterTransition:s=!1,container:l,disableAutoFocus:a=!1,disableEnforceFocus:u=!1,disableEscapeKeyDown:c=!1,disablePortal:f=!1,disableRestoreFocus:d=!1,disableScrollLock:h=!1,hideBackdrop:m=!1,keepMounted:y=!1,manager:x=OV,onBackdropClick:v,onClose:_,onKeyDown:b,open:S,onTransitionEnter:E,onTransitionExited:M,slotProps:T={},slots:R={}}=e,C=_t(e,IV),P=x,[D,z]=L.useState(!S),V=L.useRef({}),U=L.useRef(null),q=L.useRef(null),Z=ti(q,n),ne=NV(o),O=(r=e["aria-hidden"])!=null?r:!0,F=()=>Yi(U.current),G=()=>(V.current.modalRef=q.current,V.current.mountNode=U.current,V.current),$=()=>{P.mount(G(),{disableScrollLock:h}),q.current&&(q.current.scrollTop=0)},W=aa(()=>{const We=kV(l)||F().body;P.add(G(),We),q.current&&$()}),oe=L.useCallback(()=>P.isTopModal(G()),[P]),j=aa(We=>{U.current=We,!(!We||!q.current)&&(S&&oe()?$():wp(q.current,O))}),Y=L.useCallback(()=>{P.remove(G(),O)},[P,O]);L.useEffect(()=>()=>{Y()},[Y]),L.useEffect(()=>{S?W():(!ne||!s)&&Y()},[S,Y,ne,s,W]);const K=te({},e,{closeAfterTransition:s,disableAutoFocus:a,disableEnforceFocus:u,disableEscapeKeyDown:c,disablePortal:f,disableRestoreFocus:d,disableScrollLock:h,exited:D,hideBackdrop:m,keepMounted:y}),fe=LV(K),pe=()=>{z(!1),E&&E()},xe=()=>{z(!0),M&&M(),s&&Y()},Ge=We=>{We.target===We.currentTarget&&(v&&v(We),_&&_(We,"backdropClick"))},Ae=We=>{b&&b(We),!(We.key!=="Escape"||!oe())&&(c||(We.stopPropagation(),_&&_(We,"escapeKeyDown")))},H={};o.props.tabIndex===void 0&&(H.tabIndex="-1"),ne&&(H.onEnter=Cy(pe,o.props.onEnter),H.onExited=Cy(xe,o.props.onExited));const ge=(i=R.root)!=null?i:"div",Me=tu({elementType:ge,externalSlotProps:T.root,externalForwardedProps:C,additionalProps:{ref:Z,role:"presentation",onKeyDown:Ae},className:fe.root,ownerState:K}),Ie=R.backdrop,Re=tu({elementType:Ie,externalSlotProps:T.backdrop,additionalProps:{"aria-hidden":!0,onClick:Ge,open:S},className:fe.backdrop,ownerState:K});return!y&&!S&&(!ne||D)?null:X.jsx(EV,{ref:j,container:l,disablePortal:f,children:X.jsxs(ge,te({},Me,{children:[!m&&Ie?X.jsx(Ie,te({},Re)):null,X.jsx(_V,{disableEnforceFocus:u,disableAutoFocus:a,disableRestoreFocus:d,isEnabled:oe,open:S,children:L.cloneElement(o,H)})]}))})}),DV=FV,UV=["onChange","maxRows","minRows","style","value"];function p0(t){return parseInt(t,10)||0}const BV={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dP(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const zV=L.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:l}=e,a=_t(e,UV),{current:u}=L.useRef(l!=null),c=L.useRef(null),f=ti(n,c),d=L.useRef(null),h=L.useRef(0),[m,y]=L.useState({outerHeightStyle:0}),x=L.useCallback(()=>{const E=c.current,T=va(E).getComputedStyle(E);if(T.width==="0px")return{outerHeightStyle:0};const R=d.current;R.style.width=T.width,R.value=E.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const C=T.boxSizing,P=p0(T.paddingBottom)+p0(T.paddingTop),D=p0(T.borderBottomWidth)+p0(T.borderTopWidth),z=R.scrollHeight;R.value="x";const V=R.scrollHeight;let U=z;o&&(U=Math.max(Number(o)*V,U)),i&&(U=Math.min(Number(i)*V,U)),U=Math.max(U,V);const q=U+(C==="border-box"?P+D:0),Z=Math.abs(U-z)<=1;return{outerHeightStyle:q,overflow:Z}},[i,o,e.placeholder]),v=(E,M)=>{const{outerHeightStyle:T,overflow:R}=M;return h.current<20&&(T>0&&Math.abs((E.outerHeightStyle||0)-T)>1||E.overflow!==R)?(h.current+=1,{overflow:R,outerHeightStyle:T}):E},_=L.useCallback(()=>{const E=x();dP(E)||y(M=>v(M,E))},[x]),b=()=>{const E=x();dP(E)||y1.flushSync(()=>{y(M=>v(M,E))})};L.useEffect(()=>{const E=Td(()=>{h.current=0,c.current&&b()});let M;const T=c.current,R=va(T);return R.addEventListener("resize",E),typeof ResizeObserver<"u"&&(M=new ResizeObserver(E),M.observe(T)),()=>{E.clear(),R.removeEventListener("resize",E),M&&M.disconnect()}}),ya(()=>{_()}),L.useEffect(()=>{h.current=0},[l]);const S=E=>{h.current=0,u||_(),r&&r(E)};return X.jsxs(L.Fragment,{children:[X.jsx("textarea",te({value:l,onChange:S,ref:f,rows:o,style:te({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},s)},a)),X.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:te({},BV.shadow,s,{padding:0})})]})}),GV=zV;function HV(t){return Jt("MuiSvgIcon",t)}Zt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const VV=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],WV=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Lt(e)}`,`fontSize${Lt(n)}`]};return rn(i,HV,r)},jV=ft("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Lt(n.color)}`],e[`fontSize${Lt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,l,a,u,c,f,d,h,m,y,x,v,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(m=h[e.color])==null?void 0:m.main)!=null?d:{action:(y=(t.vars||t).palette)==null||(x=y.action)==null?void 0:x.active,disabled:(v=(t.vars||t).palette)==null||(_=v.action)==null?void 0:_.disabled,inherit:void 0}[e.color]}}),sF=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:l="svg",fontSize:a="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:f,viewBox:d="0 0 24 24"}=r,h=_t(r,VV),m=te({},r,{color:s,component:l,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:d}),y={};c||(y.viewBox=d);const x=WV(m);return X.jsxs(jV,te({as:l,className:At(x.root,o),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,h,{ownerState:m,children:[i,f?X.jsx("title",{children:f}):null]}))});sF.muiName="SvgIcon";const hP=sF;function rl(t,e){function n(r,i){return X.jsx(hP,te({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=hP.muiName,L.memo(L.forwardRef(n))}const $V={configure:t=>{QM.configure(t)}},qV=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Lt,createChainedFunction:Cy,createSvgIcon:rl,debounce:Td,deprecatedPropType:K7,isMuiElement:bp,ownerDocument:Yi,ownerWindow:va,requirePropFactory:Q7,setRef:Ry,unstable_ClassNameGenerator:$V,unstable_useEnhancedEffect:ya,unstable_useId:YM,unsupportedProp:eG,useControlled:rm,useEventCallback:aa,useForkRef:ti,useIsFocusVisible:MO},Symbol.toStringTag,{value:"Module"}));var Kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2=Symbol.for("react.element"),d2=Symbol.for("react.portal"),Q1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),ex=Symbol.for("react.provider"),tx=Symbol.for("react.context"),XV=Symbol.for("react.server_context"),nx=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),YV=Symbol.for("react.offscreen"),aF;aF=Symbol.for("react.module.reference");function us(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f2:switch(t=t.type,t){case Q1:case Z1:case J1:case rx:case ix:return t;default:switch(t=t&&t.$$typeof,t){case XV:case tx:case nx:case sx:case ox:case ex:return t;default:return e}}case d2:return e}}}Kn.ContextConsumer=tx;Kn.ContextProvider=ex;Kn.Element=f2;Kn.ForwardRef=nx;Kn.Fragment=Q1;Kn.Lazy=sx;Kn.Memo=ox;Kn.Portal=d2;Kn.Profiler=Z1;Kn.StrictMode=J1;Kn.Suspense=rx;Kn.SuspenseList=ix;Kn.isAsyncMode=function(){return!1};Kn.isConcurrentMode=function(){return!1};Kn.isContextConsumer=function(t){return us(t)===tx};Kn.isContextProvider=function(t){return us(t)===ex};Kn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f2};Kn.isForwardRef=function(t){return us(t)===nx};Kn.isFragment=function(t){return us(t)===Q1};Kn.isLazy=function(t){return us(t)===sx};Kn.isMemo=function(t){return us(t)===ox};Kn.isPortal=function(t){return us(t)===d2};Kn.isProfiler=function(t){return us(t)===Z1};Kn.isStrictMode=function(t){return us(t)===J1};Kn.isSuspense=function(t){return us(t)===rx};Kn.isSuspenseList=function(t){return us(t)===ix};Kn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Q1||t===Z1||t===J1||t===rx||t===ix||t===YV||typeof t=="object"&&t!==null&&(t.$$typeof===sx||t.$$typeof===ox||t.$$typeof===ex||t.$$typeof===tx||t.$$typeof===nx||t.$$typeof===aF||t.getModuleId!==void 0)};Kn.typeOf=us;function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kw(t,e)}function Lc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kw(t,e)}const pP={disabled:!1},Ly=Zn.createContext(null);var KV=function(e){return e.scrollTop},np="unmounted",Hu="exited",Vu="entering",If="entered",Nw="exiting",il=function(t){Lc(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,a;return o.appearStatus=null,r.in?l?(a=Hu,o.appearStatus=Vu):a=If:r.unmountOnExit||r.mountOnEnter?a=np:a=Hu,o.state={status:a},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===np?{status:Hu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Vu&&s!==If&&(o=Vu):(s===Vu||s===If)&&(o=Nw)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Vu){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:tp.findDOMNode(this);s&&KV(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hu&&this.setState({status:np})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,a=this.props.nodeRef?[l]:[tp.findDOMNode(this),l],u=a[0],c=a[1],f=this.getTimeouts(),d=l?f.appear:f.enter;if(!i&&!s||pP.disabled){this.safeSetState({status:If},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Vu},function(){o.props.onEntering(u,c),o.onTransitionEnd(d,function(){o.safeSetState({status:If},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:tp.findDOMNode(this);if(!o||pP.disabled){this.safeSetState({status:Hu},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Nw},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Hu},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:tp.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=a[0],c=a[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===np)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=_t(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zn.createElement(Ly.Provider,{value:null},typeof s=="function"?s(i,l):Zn.cloneElement(Zn.Children.only(s),l))},e}(Zn.Component);il.contextType=Ly;il.propTypes={};function rf(){}il.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rf,onEntering:rf,onEntered:rf,onExit:rf,onExiting:rf,onExited:rf};il.UNMOUNTED=np;il.EXITED=Hu;il.ENTERING=Vu;il.ENTERED=If;il.EXITING=Nw;const h2=il;function QV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(t,e){var n=function(o){return e&&L.isValidElement(o)?e(o):o},r=Object.create(null);return t&&L.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function JV(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,l={};for(var a in e){if(r[a])for(s=0;s<r[a].length;s++){var u=r[a][s];l[r[a][s]]=n(u)}l[a]=n(a)}for(s=0;s<i.length;s++)l[i[s]]=n(i[s]);return l}function tc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ZV(t,e){return p2(t.children,function(n){return L.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:tc(n,"appear",t),enter:tc(n,"enter",t),exit:tc(n,"exit",t)})})}function eW(t,e,n){var r=p2(t.children),i=JV(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(L.isValidElement(s)){var l=o in e,a=o in r,u=e[o],c=L.isValidElement(u)&&!u.props.in;a&&(!l||c)?i[o]=L.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:tc(s,"exit",t),enter:tc(s,"enter",t)}):!a&&l&&!c?i[o]=L.cloneElement(s,{in:!1}):a&&l&&L.isValidElement(u)&&(i[o]=L.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:tc(s,"exit",t),enter:tc(s,"enter",t)}))}}),i}var tW=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},nW={component:"div",childFactory:function(e){return e}},m2=function(t){Lc(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(QV(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,l=o.handleExited,a=o.firstRender;return{children:a?ZV(i,l):eW(i,s,l),firstRender:!1}},n.handleExited=function(i,o){var s=p2(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var a=te({},l.children);return delete a[i.key],{children:a}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,l=_t(i,["component","childFactory"]),a=this.state.contextValue,u=tW(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,o===null?Zn.createElement(Ly.Provider,{value:a},u):Zn.createElement(Ly.Provider,{value:a},Zn.createElement(o,l,u))},e}(Zn.Component);m2.propTypes={};m2.defaultProps=nW;const rW=m2,lF=t=>t.scrollTop;function Cd(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function iW(t){return Jt("MuiCollapse",t)}Zt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const oW=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],sW=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return rn(r,iW,n)},aW=ft("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>te({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&te({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),lW=ft("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>te({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),uW=ft("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>te({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),uF=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:l="0px",component:a,easing:u,in:c,onEnter:f,onEntered:d,onEntering:h,onExit:m,onExited:y,onExiting:x,orientation:v="vertical",style:_,timeout:b=iF.standard,TransitionComponent:S=h2}=r,E=_t(r,oW),M=te({},r,{orientation:v,collapsedSize:l}),T=sW(M),R=Ic(),C=L.useRef(),P=L.useRef(null),D=L.useRef(),z=typeof l=="number"?`${l}px`:l,V=v==="horizontal",U=V?"width":"height";L.useEffect(()=>()=>{clearTimeout(C.current)},[]);const q=L.useRef(null),Z=ti(n,q),ne=K=>fe=>{if(K){const pe=q.current;fe===void 0?K(pe):K(pe,fe)}},O=()=>P.current?P.current[V?"clientWidth":"clientHeight"]:0,F=ne((K,fe)=>{P.current&&V&&(P.current.style.position="absolute"),K.style[U]=z,f&&f(K,fe)}),G=ne((K,fe)=>{const pe=O();P.current&&V&&(P.current.style.position="");const{duration:xe,easing:Ge}=Cd({style:_,timeout:b,easing:u},{mode:"enter"});if(b==="auto"){const Ae=R.transitions.getAutoHeightDuration(pe);K.style.transitionDuration=`${Ae}ms`,D.current=Ae}else K.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;K.style[U]=`${pe}px`,K.style.transitionTimingFunction=Ge,h&&h(K,fe)}),$=ne((K,fe)=>{K.style[U]="auto",d&&d(K,fe)}),W=ne(K=>{K.style[U]=`${O()}px`,m&&m(K)}),oe=ne(y),j=ne(K=>{const fe=O(),{duration:pe,easing:xe}=Cd({style:_,timeout:b,easing:u},{mode:"exit"});if(b==="auto"){const Ge=R.transitions.getAutoHeightDuration(fe);K.style.transitionDuration=`${Ge}ms`,D.current=Ge}else K.style.transitionDuration=typeof pe=="string"?pe:`${pe}ms`;K.style[U]=z,K.style.transitionTimingFunction=xe,x&&x(K)}),Y=K=>{b==="auto"&&(C.current=setTimeout(K,D.current||0)),i&&i(q.current,K)};return X.jsx(S,te({in:c,onEnter:F,onEntered:$,onEntering:G,onExit:W,onExited:oe,onExiting:j,addEndListener:Y,nodeRef:q,timeout:b==="auto"?null:b},E,{children:(K,fe)=>X.jsx(aW,te({as:a,className:At(T.root,s,{entered:T.entered,exited:!c&&z==="0px"&&T.hidden}[K]),style:te({[V?"minWidth":"minHeight"]:z},_),ownerState:te({},M,{state:K}),ref:Z},fe,{children:X.jsx(lW,{ownerState:te({},M,{state:K}),className:T.wrapper,ref:P,children:X.jsx(uW,{ownerState:te({},M,{state:K}),className:T.wrapperInner,children:o})})}))}))});uF.muiSupportAuto=!0;const cW=uF;function fW(t){return Jt("MuiPaper",t)}Zt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const dW=["className","component","elevation","square","variant"],hW=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return rn(o,fW,i)},pW=ft("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return te({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&te({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Fi("#fff",lP(e.elevation))}, ${Fi("#fff",lP(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),mW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:l=!1,variant:a="elevation"}=r,u=_t(r,dW),c=te({},r,{component:o,elevation:s,square:l,variant:a}),f=hW(c);return X.jsx(pW,te({as:o,ownerState:c,className:At(f.root,i),ref:n},u))}),cF=mW;function gW(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:l,onExited:a,timeout:u}=t,[c,f]=L.useState(!1),d=At(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=At(n.child,c&&n.childLeaving,r&&n.childPulsate);return!l&&!c&&f(!0),L.useEffect(()=>{if(!l&&a!=null){const y=setTimeout(a,u);return()=>{clearTimeout(y)}}},[a,l,u]),X.jsx("span",{className:d,style:h,children:X.jsx("span",{className:m})})}const vW=Zt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Zo=vW,yW=["center","classes","className"];let ax=t=>t,mP,gP,vP,yP;const Ow=550,xW=80,bW=cu(mP||(mP=ax`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),_W=cu(gP||(gP=ax`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),SW=cu(vP||(vP=ax`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),wW=ft("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),EW=ft(gW,{name:"MuiTouchRipple",slot:"Ripple"})(yP||(yP=ax`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Zo.rippleVisible,bW,Ow,({theme:t})=>t.transitions.easing.easeInOut,Zo.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Zo.child,Zo.childLeaving,_W,Ow,({theme:t})=>t.transitions.easing.easeInOut,Zo.childPulsate,SW,({theme:t})=>t.transitions.easing.easeInOut),MW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,l=_t(r,yW),[a,u]=L.useState([]),c=L.useRef(0),f=L.useRef(null);L.useEffect(()=>{f.current&&(f.current(),f.current=null)},[a]);const d=L.useRef(!1),h=L.useRef(null),m=L.useRef(null),y=L.useRef(null);L.useEffect(()=>()=>{clearTimeout(h.current)},[]);const x=L.useCallback(S=>{const{pulsate:E,rippleX:M,rippleY:T,rippleSize:R,cb:C}=S;u(P=>[...P,X.jsx(EW,{classes:{ripple:At(o.ripple,Zo.ripple),rippleVisible:At(o.rippleVisible,Zo.rippleVisible),ripplePulsate:At(o.ripplePulsate,Zo.ripplePulsate),child:At(o.child,Zo.child),childLeaving:At(o.childLeaving,Zo.childLeaving),childPulsate:At(o.childPulsate,Zo.childPulsate)},timeout:Ow,pulsate:E,rippleX:M,rippleY:T,rippleSize:R},c.current)]),c.current+=1,f.current=C},[o]),v=L.useCallback((S={},E={},M=()=>{})=>{const{pulsate:T=!1,center:R=i||E.pulsate,fakeElement:C=!1}=E;if((S==null?void 0:S.type)==="mousedown"&&d.current){d.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(d.current=!0);const P=C?null:y.current,D=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,V,U;if(R||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)z=Math.round(D.width/2),V=Math.round(D.height/2);else{const{clientX:q,clientY:Z}=S.touches&&S.touches.length>0?S.touches[0]:S;z=Math.round(q-D.left),V=Math.round(Z-D.top)}if(R)U=Math.sqrt((2*D.width**2+D.height**2)/3),U%2===0&&(U+=1);else{const q=Math.max(Math.abs((P?P.clientWidth:0)-z),z)*2+2,Z=Math.max(Math.abs((P?P.clientHeight:0)-V),V)*2+2;U=Math.sqrt(q**2+Z**2)}S!=null&&S.touches?m.current===null&&(m.current=()=>{x({pulsate:T,rippleX:z,rippleY:V,rippleSize:U,cb:M})},h.current=setTimeout(()=>{m.current&&(m.current(),m.current=null)},xW)):x({pulsate:T,rippleX:z,rippleY:V,rippleSize:U,cb:M})},[i,x]),_=L.useCallback(()=>{v({},{pulsate:!0})},[v]),b=L.useCallback((S,E)=>{if(clearTimeout(h.current),(S==null?void 0:S.type)==="touchend"&&m.current){m.current(),m.current=null,h.current=setTimeout(()=>{b(S,E)});return}m.current=null,u(M=>M.length>0?M.slice(1):M),f.current=E},[]);return L.useImperativeHandle(n,()=>({pulsate:_,start:v,stop:b}),[_,v,b]),X.jsx(wW,te({className:At(Zo.root,o.root,s),ref:y},l,{children:X.jsx(rW,{component:null,exit:!0,children:a})}))}),TW=MW;function AW(t){return Jt("MuiButtonBase",t)}const CW=Zt("MuiButtonBase",["root","disabled","focusVisible"]),RW=CW,PW=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],IW=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=rn({root:["root",e&&"disabled",n&&"focusVisible"]},AW,i);return n&&r&&(s.root+=` ${r}`),s},LW=ft("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${RW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:l,component:a="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:f=!1,focusRipple:d=!1,LinkComponent:h="a",onBlur:m,onClick:y,onContextMenu:x,onDragLeave:v,onFocus:_,onFocusVisible:b,onKeyDown:S,onKeyUp:E,onMouseDown:M,onMouseLeave:T,onMouseUp:R,onTouchEnd:C,onTouchMove:P,onTouchStart:D,tabIndex:z=0,TouchRippleProps:V,touchRippleRef:U,type:q}=r,Z=_t(r,PW),ne=L.useRef(null),O=L.useRef(null),F=ti(O,U),{isFocusVisibleRef:G,onFocus:$,onBlur:W,ref:oe}=MO(),[j,Y]=L.useState(!1);u&&j&&Y(!1),L.useImperativeHandle(i,()=>({focusVisible:()=>{Y(!0),ne.current.focus()}}),[]);const[K,fe]=L.useState(!1);L.useEffect(()=>{fe(!0)},[]);const pe=K&&!c&&!u;L.useEffect(()=>{j&&d&&!c&&K&&O.current.pulsate()},[c,d,j,K]);function xe(ye,we,Se=f){return aa(be=>(we&&we(be),!Se&&O.current&&O.current[ye](be),!0))}const Ge=xe("start",M),Ae=xe("stop",x),H=xe("stop",v),ge=xe("stop",R),Me=xe("stop",ye=>{j&&ye.preventDefault(),T&&T(ye)}),Ie=xe("start",D),Re=xe("stop",C),We=xe("stop",P),ke=xe("stop",ye=>{W(ye),G.current===!1&&Y(!1),m&&m(ye)},!1),je=aa(ye=>{ne.current||(ne.current=ye.currentTarget),$(ye),G.current===!0&&(Y(!0),b&&b(ye)),_&&_(ye)}),He=()=>{const ye=ne.current;return a&&a!=="button"&&!(ye.tagName==="A"&&ye.href)},Ne=L.useRef(!1),Ke=aa(ye=>{d&&!Ne.current&&j&&O.current&&ye.key===" "&&(Ne.current=!0,O.current.stop(ye,()=>{O.current.start(ye)})),ye.target===ye.currentTarget&&He()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&He()&&ye.key==="Enter"&&!u&&(ye.preventDefault(),y&&y(ye))}),Q=aa(ye=>{d&&ye.key===" "&&O.current&&j&&!ye.defaultPrevented&&(Ne.current=!1,O.current.stop(ye,()=>{O.current.pulsate(ye)})),E&&E(ye),y&&ye.target===ye.currentTarget&&He()&&ye.key===" "&&!ye.defaultPrevented&&y(ye)});let N=a;N==="button"&&(Z.href||Z.to)&&(N=h);const se={};N==="button"?(se.type=q===void 0?"button":q,se.disabled=u):(!Z.href&&!Z.to&&(se.role="button"),u&&(se["aria-disabled"]=u));const Le=ti(n,oe,ne),Te=te({},r,{centerRipple:o,component:a,disabled:u,disableRipple:c,disableTouchRipple:f,focusRipple:d,tabIndex:z,focusVisible:j}),_e=IW(Te);return X.jsxs(LW,te({as:N,className:At(_e.root,l),ownerState:Te,onBlur:ke,onClick:y,onContextMenu:Ae,onFocus:je,onKeyDown:Ke,onKeyUp:Q,onMouseDown:Ge,onMouseLeave:Me,onMouseUp:ge,onDragLeave:H,onTouchEnd:Re,onTouchMove:We,onTouchStart:Ie,ref:Le,tabIndex:u?-1:z,type:q},se,Z,{children:[s,pe?X.jsx(TW,te({ref:F,center:o},V)):null]}))}),Hd=kW;function NW(t){return Jt("MuiTypography",t)}Zt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const OW=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],FW=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,l={root:["root",o,t.align!=="inherit"&&`align${Lt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return rn(l,NW,s)},DW=ft("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Lt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>te({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),xP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},UW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},BW=t=>UW[t]||t,zW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTypography"}),i=BW(r.color),o=QO(te({},r,{color:i})),{align:s="inherit",className:l,component:a,gutterBottom:u=!1,noWrap:c=!1,paragraph:f=!1,variant:d="body1",variantMapping:h=xP}=o,m=_t(o,OW),y=te({},o,{align:s,color:i,className:l,component:a,gutterBottom:u,noWrap:c,paragraph:f,variant:d,variantMapping:h}),x=a||(f?"p":h[d]||xP[d])||"span",v=FW(y);return X.jsx(DW,te({as:x,ref:n,ownerState:y,className:At(v.root,l)},m))}),Ro=zW;function GW(t){return Jt("MuiAppBar",t)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const HW=["className","color","enableColorOnDark","position"],VW=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Lt(e)}`,`position${Lt(n)}`]};return rn(i,GW,r)},m0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,WW=ft(cF,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Lt(n.position)}`],e[`color${Lt(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return te({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&te({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&te({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&te({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:m0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:m0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:m0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:m0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),jW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed"}=r,a=_t(r,HW),u=te({},r,{color:o,position:l,enableColorOnDark:s}),c=VW(u);return X.jsx(WW,te({square:!0,component:"header",ownerState:u,elevation:4,className:At(c.root,i,l==="fixed"&&"mui-fixed"),ref:n},a))}),$W=jW;function fu({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const qW=L.createContext(void 0),g2=qW;function ol(){return L.useContext(g2)}function fF(t){return X.jsx(lH,te({},t,{defaultTheme:K1,themeId:xc}))}function bP(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ky(t,e=!1){return t&&(bP(t.value)&&t.value!==""||e&&bP(t.defaultValue)&&t.defaultValue!=="")}function XW(t){return t.startAdornment}function YW(t){return Jt("MuiInputBase",t)}const KW=Zt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Rd=KW,QW=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],lx=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Lt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},ux=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},JW=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:a,hiddenLabel:u,multiline:c,readOnly:f,size:d,startAdornment:h,type:m}=t,y={root:["root",`color${Lt(n)}`,r&&"disabled",i&&"error",a&&"fullWidth",s&&"focused",l&&"formControl",d==="small"&&"sizeSmall",c&&"multiline",h&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",d==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return rn(y,YW,e)},cx=ft("div",{name:"MuiInputBase",slot:"Root",overridesResolver:lx})(({theme:t,ownerState:e})=>te({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Rd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&te({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),fx=ft("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ux})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=te({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return te({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Rd.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Rd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),ZW=X.jsx(fF,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ej=L.forwardRef(function(e,n){var r;const i=on({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:l,className:a,components:u={},componentsProps:c={},defaultValue:f,disabled:d,disableInjectingGlobalStyles:h,endAdornment:m,fullWidth:y=!1,id:x,inputComponent:v="input",inputProps:_={},inputRef:b,maxRows:S,minRows:E,multiline:M=!1,name:T,onBlur:R,onChange:C,onClick:P,onFocus:D,onKeyDown:z,onKeyUp:V,placeholder:U,readOnly:q,renderSuffix:Z,rows:ne,slotProps:O={},slots:F={},startAdornment:G,type:$="text",value:W}=i,oe=_t(i,QW),j=_.value!=null?_.value:W,{current:Y}=L.useRef(j!=null),K=L.useRef(),fe=L.useCallback(_e=>{},[]),pe=ti(K,b,_.ref,fe),[xe,Ge]=L.useState(!1),Ae=ol(),H=fu({props:i,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});H.focused=Ae?Ae.focused:xe,L.useEffect(()=>{!Ae&&d&&xe&&(Ge(!1),R&&R())},[Ae,d,xe,R]);const ge=Ae&&Ae.onFilled,Me=Ae&&Ae.onEmpty,Ie=L.useCallback(_e=>{ky(_e)?ge&&ge():Me&&Me()},[ge,Me]);ya(()=>{Y&&Ie({value:j})},[j,Ie,Y]);const Re=_e=>{if(H.disabled){_e.stopPropagation();return}D&&D(_e),_.onFocus&&_.onFocus(_e),Ae&&Ae.onFocus?Ae.onFocus(_e):Ge(!0)},We=_e=>{R&&R(_e),_.onBlur&&_.onBlur(_e),Ae&&Ae.onBlur?Ae.onBlur(_e):Ge(!1)},ke=(_e,...ye)=>{if(!Y){const we=_e.target||K.current;if(we==null)throw new Error(eu(1));Ie({value:we.value})}_.onChange&&_.onChange(_e,...ye),C&&C(_e,...ye)};L.useEffect(()=>{Ie(K.current)},[]);const je=_e=>{K.current&&_e.currentTarget===_e.target&&K.current.focus(),P&&!H.disabled&&P(_e)};let He=v,Ne=_;M&&He==="input"&&(ne?Ne=te({type:void 0,minRows:ne,maxRows:ne},Ne):Ne=te({type:void 0,maxRows:S,minRows:E},Ne),He=GV);const Ke=_e=>{Ie(_e.animationName==="mui-auto-fill-cancel"?K.current:{value:"x"})};L.useEffect(()=>{Ae&&Ae.setAdornedStart(!!G)},[Ae,G]);const Q=te({},i,{color:H.color||"primary",disabled:H.disabled,endAdornment:m,error:H.error,focused:H.focused,formControl:Ae,fullWidth:y,hiddenLabel:H.hiddenLabel,multiline:M,size:H.size,startAdornment:G,type:$}),N=JW(Q),se=F.root||u.Root||cx,Le=O.root||c.root||{},Te=F.input||u.Input||fx;return Ne=te({},Ne,(r=O.input)!=null?r:c.input),X.jsxs(L.Fragment,{children:[!h&&ZW,X.jsxs(se,te({},Le,!_c(se)&&{ownerState:te({},Q,Le.ownerState)},{ref:n,onClick:je},oe,{className:At(N.root,Le.className,a,q&&"MuiInputBase-readOnly"),children:[G,X.jsx(g2.Provider,{value:null,children:X.jsx(Te,te({ownerState:Q,"aria-invalid":H.error,"aria-describedby":o,autoComplete:s,autoFocus:l,defaultValue:f,disabled:H.disabled,id:x,onAnimationStart:Ke,name:T,placeholder:U,readOnly:q,required:H.required,rows:ne,value:j,onKeyDown:z,onKeyUp:V,type:$},Ne,!_c(Te)&&{as:He,ownerState:te({},Q,Ne.ownerState)},{ref:pe,className:At(N.input,Ne.className,q&&"MuiInputBase-readOnly"),onBlur:We,onChange:ke,onFocus:Re}))}),m,Z?Z(te({},H,{startAdornment:G})):null]}))]})}),v2=ej;function tj(t){return Jt("MuiInput",t)}const nj=te({},Rd,Zt("MuiInput",["root","underline","input"])),Lh=nj;function rj(t){return Jt("MuiOutlinedInput",t)}const ij=te({},Rd,Zt("MuiOutlinedInput",["root","notchedOutline","input"])),xl=ij;function oj(t){return Jt("MuiFilledInput",t)}const sj=te({},Rd,Zt("MuiFilledInput",["root","underline","input"])),Au=sj,aj=rl(X.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),lj=rl(X.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function uj(t){return Jt("MuiAvatar",t)}Zt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const cj=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],fj=t=>{const{classes:e,variant:n,colorDefault:r}=t;return rn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},uj,e)},dj=ft("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>te({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&te({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),hj=ft("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),pj=ft(lj,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function mj({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=L.useState(!1);return L.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const l=new Image;return l.onload=()=>{s&&o("loaded")},l.onerror=()=>{s&&o("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const gj=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:l="div",imgProps:a,sizes:u,src:c,srcSet:f,variant:d="circular"}=r,h=_t(r,cj);let m=null;const y=mj(te({},a,{src:c,srcSet:f})),x=c||f,v=x&&y!=="error",_=te({},r,{colorDefault:!v,component:l,variant:d}),b=fj(_);return v?m=X.jsx(hj,te({alt:i,src:c,srcSet:f,sizes:u,ownerState:_,className:b.img},a)):o!=null?m=o:x&&i?m=i[0]:m=X.jsx(pj,{ownerState:_,className:b.fallback}),X.jsx(dj,te({as:l,ownerState:_,className:At(b.root,s),ref:n},h,{children:m}))}),vj=gj,yj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],xj={entering:{opacity:1},entered:{opacity:1}},bj=L.forwardRef(function(e,n){const r=Ic(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:l,easing:a,in:u,onEnter:c,onEntered:f,onEntering:d,onExit:h,onExited:m,onExiting:y,style:x,timeout:v=i,TransitionComponent:_=h2}=e,b=_t(e,yj),S=L.useRef(null),E=ti(S,l.ref,n),M=U=>q=>{if(U){const Z=S.current;q===void 0?U(Z):U(Z,q)}},T=M(d),R=M((U,q)=>{lF(U);const Z=Cd({style:x,timeout:v,easing:a},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",Z),U.style.transition=r.transitions.create("opacity",Z),c&&c(U,q)}),C=M(f),P=M(y),D=M(U=>{const q=Cd({style:x,timeout:v,easing:a},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",q),U.style.transition=r.transitions.create("opacity",q),h&&h(U)}),z=M(m),V=U=>{o&&o(S.current,U)};return X.jsx(_,te({appear:s,in:u,nodeRef:S,onEnter:R,onEntered:C,onEntering:T,onExit:D,onExited:z,onExiting:P,addEndListener:V,timeout:v},b,{children:(U,q)=>L.cloneElement(l,te({style:te({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},xj[U],x,l.props.style),ref:E},q))}))}),_j=bj;function Sj(t){return Jt("MuiBackdrop",t)}Zt("MuiBackdrop",["root","invisible"]);const wj=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ej=t=>{const{classes:e,invisible:n}=t;return rn({root:["root",n&&"invisible"]},Sj,e)},Mj=ft("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>te({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Tj=L.forwardRef(function(e,n){var r,i,o;const s=on({props:e,name:"MuiBackdrop"}),{children:l,className:a,component:u="div",components:c={},componentsProps:f={},invisible:d=!1,open:h,slotProps:m={},slots:y={},TransitionComponent:x=_j,transitionDuration:v}=s,_=_t(s,wj),b=te({},s,{component:u,invisible:d}),S=Ej(b),E=(r=m.root)!=null?r:f.root;return X.jsx(x,te({in:h,timeout:v},_,{children:X.jsx(Mj,te({"aria-hidden":!0},E,{as:(i=(o=y.root)!=null?o:c.Root)!=null?i:u,className:At(S.root,a,E==null?void 0:E.className),ownerState:te({},b,E==null?void 0:E.ownerState),classes:S,ref:n,children:l}))}))}),Aj=Tj,Cj=Y1(),Rj=dH({themeId:xc,defaultTheme:Cj,defaultClassName:"MuiBox-root",generateClassName:QM.generate}),yn=Rj;function Pj(t){return Jt("MuiButton",t)}const Ij=Zt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),g0=Ij,Lj=L.createContext({}),kj=Lj,Nj=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Oj=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,l={root:["root",o,`${o}${Lt(e)}`,`size${Lt(i)}`,`${o}Size${Lt(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Lt(i)}`],endIcon:["endIcon",`iconSize${Lt(i)}`]},a=rn(l,Pj,s);return te({},s,a)},dF=t=>te({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Fj=ft(Hd,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Lt(n.color)}`],e[`size${Lt(n.size)}`],e[`${n.variant}Size${Lt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return te({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":te({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Fi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":te({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${g0.focusVisible}`]:te({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${g0.disabled}`]:te({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Fi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${g0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${g0.disabled}`]:{boxShadow:"none"}}),Dj=ft("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Lt(n.size)}`]]}})(({ownerState:t})=>te({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},dF(t))),Uj=ft("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Lt(n.size)}`]]}})(({ownerState:t})=>te({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},dF(t))),Bj=L.forwardRef(function(e,n){const r=L.useContext(kj),i=KM(r,e),o=on({props:i,name:"MuiButton"}),{children:s,color:l="primary",component:a="button",className:u,disabled:c=!1,disableElevation:f=!1,disableFocusRipple:d=!1,endIcon:h,focusVisibleClassName:m,fullWidth:y=!1,size:x="medium",startIcon:v,type:_,variant:b="text"}=o,S=_t(o,Nj),E=te({},o,{color:l,component:a,disabled:c,disableElevation:f,disableFocusRipple:d,fullWidth:y,size:x,type:_,variant:b}),M=Oj(E),T=v&&X.jsx(Dj,{className:M.startIcon,ownerState:E,children:v}),R=h&&X.jsx(Uj,{className:M.endIcon,ownerState:E,children:h});return X.jsxs(Fj,te({ownerState:E,className:At(r.className,M.root,u),component:a,disabled:c,focusRipple:!d,focusVisibleClassName:At(M.focusVisible,m),ref:n,type:_},S,{classes:M,children:[T,s,R]}))}),io=Bj;function zj(t){return Jt("PrivateSwitchBase",t)}Zt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Gj=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Hj=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Lt(i)}`],input:["input"]};return rn(o,zj,e)},Vj=ft(Hd)(({ownerState:t})=>te({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),Wj=ft("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),jj=L.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:l,disabled:a,disableFocusRipple:u=!1,edge:c=!1,icon:f,id:d,inputProps:h,inputRef:m,name:y,onBlur:x,onChange:v,onFocus:_,readOnly:b,required:S=!1,tabIndex:E,type:M,value:T}=e,R=_t(e,Gj),[C,P]=rm({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),D=ol(),z=F=>{_&&_(F),D&&D.onFocus&&D.onFocus(F)},V=F=>{x&&x(F),D&&D.onBlur&&D.onBlur(F)},U=F=>{if(F.nativeEvent.defaultPrevented)return;const G=F.target.checked;P(G),v&&v(F,G)};let q=a;D&&typeof q>"u"&&(q=D.disabled);const Z=M==="checkbox"||M==="radio",ne=te({},e,{checked:C,disabled:q,disableFocusRipple:u,edge:c}),O=Hj(ne);return X.jsxs(Vj,te({component:"span",className:At(O.root,s),centerRipple:!0,focusRipple:!u,disabled:q,tabIndex:null,role:void 0,onFocus:z,onBlur:V,ownerState:ne,ref:n},R,{children:[X.jsx(Wj,te({autoFocus:r,checked:i,defaultChecked:l,className:O.input,disabled:q,id:Z?d:void 0,name:y,onChange:U,readOnly:b,ref:m,required:S,ownerState:ne,tabIndex:E,type:M},M==="checkbox"&&T===void 0?{}:{value:T},h)),C?o:f]}))}),$j=jj;function qj(t){return Jt("MuiCircularProgress",t)}Zt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Xj=["className","color","disableShrink","size","style","thickness","value","variant"];let dx=t=>t,_P,SP,wP,EP;const bl=44,Yj=cu(_P||(_P=dx`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Kj=cu(SP||(SP=dx`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Qj=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${Lt(r)}`],svg:["svg"],circle:["circle",`circle${Lt(n)}`,i&&"circleDisableShrink"]};return rn(o,qj,e)},Jj=ft("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Lt(n.color)}`]]}})(({ownerState:t,theme:e})=>te({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Gd(wP||(wP=dx`
      animation: ${0} 1.4s linear infinite;
    `),Yj)),Zj=ft("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),e$=ft("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Lt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>te({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Gd(EP||(EP=dx`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Kj)),t$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:l=40,style:a,thickness:u=3.6,value:c=0,variant:f="indeterminate"}=r,d=_t(r,Xj),h=te({},r,{color:o,disableShrink:s,size:l,thickness:u,value:c,variant:f}),m=Qj(h),y={},x={},v={};if(f==="determinate"){const _=2*Math.PI*((bl-u)/2);y.strokeDasharray=_.toFixed(3),v["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*_).toFixed(3)}px`,x.transform="rotate(-90deg)"}return X.jsx(Jj,te({className:At(m.root,i),style:te({width:l,height:l},x,a),ownerState:h,ref:n,role:"progressbar"},v,d,{children:X.jsx(Zj,{className:m.svg,ownerState:h,viewBox:`${bl/2} ${bl/2} ${bl} ${bl}`,children:X.jsx(e$,{className:m.circle,style:y,ownerState:h,cx:bl,cy:bl,r:(bl-u)/2,fill:"none",strokeWidth:u})})}))}),n$=t$,r$=(t,e)=>te({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),i$=t=>te({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),o$=(t,e=!1)=>{var n,r;const i={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([l,a])=>{var u;i[t.getColorSchemeSelector(l).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let o=te({html:r$(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:te({margin:0},i$(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},i);const s=(n=t.components)==null||(r=n.MuiCssBaseline)==null?void 0:r.styleOverrides;return s&&(o=[o,s]),o};function s$(t){const e=on({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return X.jsxs(L.Fragment,{children:[X.jsx(fF,{styles:i=>o$(i,r)}),n]})}const a$=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],l$=ft("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>te({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),u$=ft(Aj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),c$=L.forwardRef(function(e,n){var r,i,o,s,l,a;const u=on({name:"MuiModal",props:e}),{BackdropComponent:c=u$,BackdropProps:f,classes:d,className:h,closeAfterTransition:m=!1,children:y,container:x,component:v,components:_={},componentsProps:b={},disableAutoFocus:S=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:M=!1,disablePortal:T=!1,disableRestoreFocus:R=!1,disableScrollLock:C=!1,hideBackdrop:P=!1,keepMounted:D=!1,onBackdropClick:z,onClose:V,open:U,slotProps:q,slots:Z,theme:ne}=u,O=_t(u,a$),[F,G]=L.useState(!0),$={container:x,closeAfterTransition:m,disableAutoFocus:S,disableEnforceFocus:E,disableEscapeKeyDown:M,disablePortal:T,disableRestoreFocus:R,disableScrollLock:C,hideBackdrop:P,keepMounted:D,onBackdropClick:z,onClose:V,open:U},W=te({},u,$,{exited:F}),oe=(r=(i=Z==null?void 0:Z.root)!=null?i:_.Root)!=null?r:l$,j=(o=(s=Z==null?void 0:Z.backdrop)!=null?s:_.Backdrop)!=null?o:c,Y=(l=q==null?void 0:q.root)!=null?l:b.root,K=(a=q==null?void 0:q.backdrop)!=null?a:b.backdrop;return X.jsx(DV,te({slots:{root:oe,backdrop:j},slotProps:{root:()=>te({},Lw(Y,W),!_c(oe)&&{as:v,theme:ne},{className:At(h,Y==null?void 0:Y.className,d==null?void 0:d.root,!W.open&&W.exited&&(d==null?void 0:d.hidden))}),backdrop:()=>te({},f,Lw(K,W),{className:At(K==null?void 0:K.className,f==null?void 0:f.className,d==null?void 0:d.backdrop)})},onTransitionEnter:()=>G(!1),onTransitionExited:()=>G(!0),ref:n},O,$,{children:y}))}),f$=c$;function d$(t){return Jt("MuiDivider",t)}Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const h$=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p$=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:l,variant:a}=t;return rn({root:["root",e&&"absolute",a,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",l==="right"&&s!=="vertical"&&"textAlignRight",l==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},d$,r)},m$=ft("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>te({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Fi(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>te({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>te({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>te({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>te({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),g$=ft("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>te({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),v$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:l=o?"div":"hr",flexItem:a=!1,light:u=!1,orientation:c="horizontal",role:f=l!=="hr"?"separator":void 0,textAlign:d="center",variant:h="fullWidth"}=r,m=_t(r,h$),y=te({},r,{absolute:i,component:l,flexItem:a,light:u,orientation:c,role:f,textAlign:d,variant:h}),x=p$(y);return X.jsx(m$,te({as:l,className:At(x.root,s),role:f,ref:n,ownerState:y},m,{children:o?X.jsx(g$,{className:x.wrapper,ownerState:y,children:o}):null}))}),y$=v$,x$=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],b$=t=>{const{classes:e,disableUnderline:n}=t,i=rn({root:["root",!n&&"underline"],input:["input"]},oj,e);return te({},e,i)},_$=ft(cx,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...lx(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return te({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Au.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Au.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Au.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Au.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Au.disabled}, .${Au.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Au.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&te({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),S$=ft(fx,{name:"MuiFilledInput",slot:"Input",overridesResolver:ux})(({theme:t,ownerState:e})=>te({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),hF=L.forwardRef(function(e,n){var r,i,o,s;const l=on({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:u,fullWidth:c=!1,inputComponent:f="input",multiline:d=!1,slotProps:h,slots:m={},type:y="text"}=l,x=_t(l,x$),v=te({},l,{fullWidth:c,inputComponent:f,multiline:d,type:y}),_=b$(l),b={root:{ownerState:v},input:{ownerState:v}},S=h??u?is(h??u,b):b,E=(r=(i=m.root)!=null?i:a.Root)!=null?r:_$,M=(o=(s=m.input)!=null?s:a.Input)!=null?o:S$;return X.jsx(v2,te({slots:{root:E,input:M},componentsProps:S,fullWidth:c,inputComponent:f,multiline:d,ref:n,type:y},x,{classes:_}))});hF.muiName="Input";const pF=hF;function w$(t){return Jt("MuiFormControl",t)}Zt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const E$=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],M$=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Lt(n)}`,r&&"fullWidth"]};return rn(i,w$,e)},T$=ft("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>te({},e.root,e[`margin${Lt(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>te({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),A$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:l="div",disabled:a=!1,error:u=!1,focused:c,fullWidth:f=!1,hiddenLabel:d=!1,margin:h="none",required:m=!1,size:y="medium",variant:x="outlined"}=r,v=_t(r,E$),_=te({},r,{color:s,component:l,disabled:a,error:u,fullWidth:f,hiddenLabel:d,margin:h,required:m,size:y,variant:x}),b=M$(_),[S,E]=L.useState(()=>{let V=!1;return i&&L.Children.forEach(i,U=>{if(!bp(U,["Input","Select"]))return;const q=bp(U,["Select"])?U.props.input:U;q&&XW(q.props)&&(V=!0)}),V}),[M,T]=L.useState(()=>{let V=!1;return i&&L.Children.forEach(i,U=>{bp(U,["Input","Select"])&&(ky(U.props,!0)||ky(U.props.inputProps,!0))&&(V=!0)}),V}),[R,C]=L.useState(!1);a&&R&&C(!1);const P=c!==void 0&&!a?c:R;let D;const z=L.useMemo(()=>({adornedStart:S,setAdornedStart:E,color:s,disabled:a,error:u,filled:M,focused:P,fullWidth:f,hiddenLabel:d,size:y,onBlur:()=>{C(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{C(!0)},registerEffect:D,required:m,variant:x}),[S,s,a,u,M,P,f,d,D,m,y,x]);return X.jsx(g2.Provider,{value:z,children:X.jsx(T$,te({as:l,ownerState:_,className:At(b.root,o),ref:n},v,{children:i}))})}),C$=A$;function R$(t){return Jt("MuiFormControlLabel",t)}const P$=Zt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),rp=P$,I$=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],L$=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Lt(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return rn(s,R$,e)},k$=ft("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${rp.label}`]:e.label},e.root,e[`labelPlacement${Lt(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>te({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${rp.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${rp.label}`]:{[`&.${rp.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),N$=ft("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${rp.error}`]:{color:(t.vars||t).palette.error.main}})),O$=L.forwardRef(function(e,n){var r,i;const o=on({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:l={},control:a,disabled:u,disableTypography:c,label:f,labelPlacement:d="end",required:h,slotProps:m={}}=o,y=_t(o,I$),x=ol(),v=(r=u??a.props.disabled)!=null?r:x==null?void 0:x.disabled,_=h??a.props.required,b={disabled:v,required:_};["checked","name","onChange","value","inputRef"].forEach(C=>{typeof a.props[C]>"u"&&typeof o[C]<"u"&&(b[C]=o[C])});const S=fu({props:o,muiFormControl:x,states:["error"]}),E=te({},o,{disabled:v,labelPlacement:d,required:_,error:S.error}),M=L$(E),T=(i=m.typography)!=null?i:l.typography;let R=f;return R!=null&&R.type!==Ro&&!c&&(R=X.jsx(Ro,te({component:"span"},T,{className:At(M.label,T==null?void 0:T.className),children:R}))),X.jsxs(k$,te({className:At(M.root,s),ownerState:E,ref:n},y,{children:[L.cloneElement(a,b),R,_&&X.jsxs(N$,{ownerState:E,"aria-hidden":!0,className:M.asterisk,children:[" ","*"]})]}))}),w_=O$;function F$(t){return Jt("MuiFormGroup",t)}Zt("MuiFormGroup",["root","row","error"]);const D$=["className","row"],U$=t=>{const{classes:e,row:n,error:r}=t;return rn({root:["root",n&&"row",r&&"error"]},F$,e)},B$=ft("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>te({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),z$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=_t(r,D$),l=ol(),a=fu({props:r,muiFormControl:l,states:["error"]}),u=te({},r,{row:o,error:a.error}),c=U$(u);return X.jsx(B$,te({className:At(c.root,i),ownerState:u,ref:n},s))}),mF=z$;function G$(t){return Jt("MuiFormHelperText",t)}const H$=Zt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),MP=H$;var TP;const V$=["children","className","component","disabled","error","filled","focused","margin","required","variant"],W$=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:l,required:a}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${Lt(r)}`,n&&"contained",l&&"focused",s&&"filled",a&&"required"]};return rn(u,G$,e)},j$=ft("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Lt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>te({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${MP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${MP.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),$$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,l=_t(r,V$),a=ol(),u=fu({props:r,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),c=te({},r,{component:s,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=W$(c);return X.jsx(j$,te({as:s,ownerState:c,className:At(f.root,o),ref:n},l,{children:i===" "?TP||(TP=X.jsx("span",{className:"notranslate",children:"​"})):i}))}),q$=$$;function X$(t){return Jt("MuiFormLabel",t)}const Y$=Zt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ep=Y$,K$=["children","className","color","component","disabled","error","filled","focused","required"],Q$=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:l}=t,a={root:["root",`color${Lt(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return rn(a,X$,e)},J$=ft("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>te({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>te({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ep.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Ep.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ep.error}`]:{color:(t.vars||t).palette.error.main}})),Z$=ft("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ep.error}`]:{color:(t.vars||t).palette.error.main}})),eq=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,l=_t(r,K$),a=ol(),u=fu({props:r,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),c=te({},r,{color:u.color||"primary",component:s,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=Q$(c);return X.jsxs(J$,te({as:s,ownerState:c,className:At(f.root,o),ref:n},l,{children:[i,u.required&&X.jsxs(Z$,{ownerState:c,"aria-hidden":!0,className:f.asterisk,children:[" ","*"]})]}))}),tq=eq,nq=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Fw(t){return`scale(${t}, ${t**2})`}const rq={entering:{opacity:1,transform:Fw(1)},entered:{opacity:1,transform:"none"}},E_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gF=L.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:l,onEnter:a,onEntered:u,onEntering:c,onExit:f,onExited:d,onExiting:h,style:m,timeout:y="auto",TransitionComponent:x=h2}=e,v=_t(e,nq),_=L.useRef(),b=L.useRef(),S=Ic(),E=L.useRef(null),M=ti(E,o.ref,n),T=q=>Z=>{if(q){const ne=E.current;Z===void 0?q(ne):q(ne,Z)}},R=T(c),C=T((q,Z)=>{lF(q);const{duration:ne,delay:O,easing:F}=Cd({style:m,timeout:y,easing:s},{mode:"enter"});let G;y==="auto"?(G=S.transitions.getAutoHeightDuration(q.clientHeight),b.current=G):G=ne,q.style.transition=[S.transitions.create("opacity",{duration:G,delay:O}),S.transitions.create("transform",{duration:E_?G:G*.666,delay:O,easing:F})].join(","),a&&a(q,Z)}),P=T(u),D=T(h),z=T(q=>{const{duration:Z,delay:ne,easing:O}=Cd({style:m,timeout:y,easing:s},{mode:"exit"});let F;y==="auto"?(F=S.transitions.getAutoHeightDuration(q.clientHeight),b.current=F):F=Z,q.style.transition=[S.transitions.create("opacity",{duration:F,delay:ne}),S.transitions.create("transform",{duration:E_?F:F*.666,delay:E_?ne:ne||F*.333,easing:O})].join(","),q.style.opacity=0,q.style.transform=Fw(.75),f&&f(q)}),V=T(d),U=q=>{y==="auto"&&(_.current=setTimeout(q,b.current||0)),r&&r(E.current,q)};return L.useEffect(()=>()=>{clearTimeout(_.current)},[]),X.jsx(x,te({appear:i,in:l,nodeRef:E,onEnter:C,onEntered:P,onEntering:R,onExit:z,onExited:V,onExiting:D,addEndListener:U,timeout:y==="auto"?null:y},v,{children:(q,Z)=>L.cloneElement(o,te({style:te({opacity:0,transform:Fw(.75),visibility:q==="exited"&&!l?"hidden":void 0},rq[q],m,o.props.style),ref:M},Z))}))});gF.muiSupportAuto=!0;const iq=gF,oq=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sq=t=>{const{classes:e,disableUnderline:n}=t,i=rn({root:["root",!n&&"underline"],input:["input"]},tj,e);return te({},e,i)},aq=ft(cx,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...lx(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),te({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Lh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Lh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Lh.disabled}, .${Lh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Lh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),lq=ft(fx,{name:"MuiInput",slot:"Input",overridesResolver:ux})({}),vF=L.forwardRef(function(e,n){var r,i,o,s;const l=on({props:e,name:"MuiInput"}),{disableUnderline:a,components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:d="input",multiline:h=!1,slotProps:m,slots:y={},type:x="text"}=l,v=_t(l,oq),_=sq(l),S={root:{ownerState:{disableUnderline:a}}},E=m??c?is(m??c,S):S,M=(r=(i=y.root)!=null?i:u.Root)!=null?r:aq,T=(o=(s=y.input)!=null?s:u.Input)!=null?o:lq;return X.jsx(v2,te({slots:{root:M,input:T},slotProps:E,fullWidth:f,inputComponent:d,multiline:h,ref:n,type:x},v,{classes:_}))});vF.muiName="Input";const yF=vF;function uq(t){return Jt("MuiInputLabel",t)}Zt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const cq=["disableAnimation","margin","shrink","variant","className"],fq=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:l}=t,u=rn({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r==="small"&&"sizeSmall",s],asterisk:[l&&"asterisk"]},uq,e);return te({},e,u)},dq=ft(tq,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ep.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>te({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&te({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&te({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&te({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),hq=L.forwardRef(function(e,n){const r=on({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,l=_t(r,cq),a=ol();let u=o;typeof u>"u"&&a&&(u=a.filled||a.focused||a.adornedStart);const c=fu({props:r,muiFormControl:a,states:["size","variant","required"]}),f=te({},r,{disableAnimation:i,formControl:a,shrink:u,size:c.size,variant:c.variant,required:c.required}),d=fq(f);return X.jsx(dq,te({"data-shrink":u,ownerState:f,ref:n,className:At(d.root,s)},l,{classes:d}))}),pq=hq;function mq(t){return Jt("MuiLinearProgress",t)}Zt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const gq=["className","color","value","valueBuffer","variant"];let Vd=t=>t,AP,CP,RP,PP,IP,LP;const Dw=4,vq=cu(AP||(AP=Vd`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),yq=cu(CP||(CP=Vd`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),xq=cu(RP||(RP=Vd`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),bq=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${Lt(r)}`,n],dashed:["dashed",`dashedColor${Lt(r)}`],bar1:["bar",`barColor${Lt(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Lt(r)}`,n==="buffer"&&`color${Lt(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return rn(i,mq,e)},y2=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?tF(t.palette[e].main,.62):eF(t.palette[e].main,.5),_q=ft("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Lt(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>te({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:y2(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Sq=ft("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Lt(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=y2(e,t.color);return te({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Gd(PP||(PP=Vd`
    animation: ${0} 3s infinite linear;
  `),xq)),wq=ft("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Lt(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>te({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${Dw}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${Dw}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Gd(IP||(IP=Vd`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),vq)),Eq=ft("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Lt(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>te({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:y2(e,t.color),transition:`transform .${Dw}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Gd(LP||(LP=Vd`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),yq)),Mq=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:l,variant:a="indeterminate"}=r,u=_t(r,gq),c=te({},r,{color:o,variant:a}),f=bq(c),d=Ic(),h={},m={bar1:{},bar2:{}};if((a==="determinate"||a==="buffer")&&s!==void 0){h["aria-valuenow"]=Math.round(s),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let y=s-100;d.direction==="rtl"&&(y=-y),m.bar1.transform=`translateX(${y}%)`}if(a==="buffer"&&l!==void 0){let y=(l||0)-100;d.direction==="rtl"&&(y=-y),m.bar2.transform=`translateX(${y}%)`}return X.jsxs(_q,te({className:At(f.root,i),ownerState:c,role:"progressbar"},h,{ref:n},u,{children:[a==="buffer"?X.jsx(Sq,{className:f.dashed,ownerState:c}):null,X.jsx(wq,{className:f.bar1,ownerState:c,style:m.bar1}),a==="determinate"?null:X.jsx(Eq,{className:f.bar2,ownerState:c,style:m.bar2})]}))}),Tq=Mq,Aq=L.createContext({}),pa=Aq;function Cq(t){return Jt("MuiList",t)}Zt("MuiList",["root","padding","dense","subheader"]);const Rq=["children","className","component","dense","disablePadding","subheader"],Pq=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return rn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Cq,e)},Iq=ft("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>te({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Lq=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:l=!1,disablePadding:a=!1,subheader:u}=r,c=_t(r,Rq),f=L.useMemo(()=>({dense:l}),[l]),d=te({},r,{component:s,dense:l,disablePadding:a}),h=Pq(d);return X.jsx(pa.Provider,{value:f,children:X.jsxs(Iq,te({as:s,className:At(h.root,o),ref:n,ownerState:d},c,{children:[u,i]}))})}),x2=Lq;function kq(t){return Jt("MuiListItem",t)}const Nq=Zt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Lf=Nq;function Oq(t){return Jt("MuiListItemButton",t)}const Fq=Zt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),kf=Fq,Dq=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Uq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Bq=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:l}=t,u=rn({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},Oq,n);return te({},n,u)},zq=ft(Hd,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Uq})(({theme:t,ownerState:e})=>te({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${kf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${kf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Gq=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:l,dense:a=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:f,selected:d=!1,className:h}=r,m=_t(r,Dq),y=L.useContext(pa),x=L.useMemo(()=>({dense:a||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,a,u]),v=L.useRef(null);ya(()=>{o&&v.current&&v.current.focus()},[o]);const _=te({},r,{alignItems:i,dense:x.dense,disableGutters:u,divider:c,selected:d}),b=Bq(_),S=ti(v,n);return X.jsx(pa.Provider,{value:x,children:X.jsx(zq,te({ref:S,href:m.href||m.to,component:(m.href||m.to)&&s==="div"?"button":s,focusVisibleClassName:At(b.focusVisible,f),ownerState:_,className:At(b.root,h)},m,{classes:b,children:l}))})}),Uw=Gq;function Hq(t){return Jt("MuiListItemSecondaryAction",t)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const Vq=["className"],Wq=t=>{const{disableGutters:e,classes:n}=t;return rn({root:["root",e&&"disableGutters"]},Hq,n)},jq=ft("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>te({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),xF=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=_t(r,Vq),s=L.useContext(pa),l=te({},r,{disableGutters:s.disableGutters}),a=Wq(l);return X.jsx(jq,te({className:At(a.root,i),ownerState:l,ref:n},o))});xF.muiName="ListItemSecondaryAction";const $q=xF,qq=["className"],Xq=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Yq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},Kq=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:l,divider:a,hasSecondaryAction:u,selected:c}=t;return rn({root:["root",i&&"dense",!s&&"gutters",!l&&"padding",a&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},kq,r)},Qq=ft("div",{name:"MuiListItem",slot:"Root",overridesResolver:Yq})(({theme:t,ownerState:e})=>te({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&te({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${kf.root}`]:{paddingRight:48}},{[`&.${Lf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Lf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Lf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Lf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fi(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Jq=ft("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Zq=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:l,className:a,component:u,components:c={},componentsProps:f={},ContainerComponent:d="li",ContainerProps:{className:h}={},dense:m=!1,disabled:y=!1,disableGutters:x=!1,disablePadding:v=!1,divider:_=!1,focusVisibleClassName:b,secondaryAction:S,selected:E=!1,slotProps:M={},slots:T={}}=r,R=_t(r.ContainerProps,qq),C=_t(r,Xq),P=L.useContext(pa),D=L.useMemo(()=>({dense:m||P.dense||!1,alignItems:i,disableGutters:x}),[i,P.dense,m,x]),z=L.useRef(null);ya(()=>{o&&z.current&&z.current.focus()},[o]);const V=L.Children.toArray(l),U=V.length&&bp(V[V.length-1],["ListItemSecondaryAction"]),q=te({},r,{alignItems:i,autoFocus:o,button:s,dense:D.dense,disabled:y,disableGutters:x,disablePadding:v,divider:_,hasSecondaryAction:U,selected:E}),Z=Kq(q),ne=ti(z,n),O=T.root||c.Root||Qq,F=M.root||f.root||{},G=te({className:At(Z.root,F.className,a),disabled:y},C);let $=u||"li";return s&&(G.component=u||"div",G.focusVisibleClassName=At(Lf.focusVisible,b),$=Hd),U?($=!G.component&&!u?"div":$,d==="li"&&($==="li"?$="div":G.component==="li"&&(G.component="div")),X.jsx(pa.Provider,{value:D,children:X.jsxs(Jq,te({as:d,className:At(Z.container,h),ref:ne,ownerState:q},R,{children:[X.jsx(O,te({},F,!_c(O)&&{as:$,ownerState:te({},q,F.ownerState)},G,{children:V})),V.pop()]}))})):X.jsx(pa.Provider,{value:D,children:X.jsxs(O,te({},F,{as:$,ref:ne},!_c(O)&&{ownerState:te({},q,F.ownerState)},G,{children:[V,S&&X.jsx($q,{children:S})]}))})}),eX=Zq;function tX(t){return Jt("MuiListItemAvatar",t)}Zt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const nX=["className"],rX=t=>{const{alignItems:e,classes:n}=t;return rn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},tX,n)},iX=ft("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>te({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),oX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemAvatar"}),{className:i}=r,o=_t(r,nX),s=L.useContext(pa),l=te({},r,{alignItems:s.alignItems}),a=rX(l);return X.jsx(iX,te({className:At(a.root,i),ownerState:l,ref:n},o))}),sX=oX;function aX(t){return Jt("MuiListItemIcon",t)}Zt("MuiListItemIcon",["root","alignItemsFlexStart"]);const lX=["className"],uX=t=>{const{alignItems:e,classes:n}=t;return rn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},aX,n)},cX=ft("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>te({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),fX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=_t(r,lX),s=L.useContext(pa),l=te({},r,{alignItems:s.alignItems}),a=uX(l);return X.jsx(cX,te({className:At(a.root,i),ownerState:l,ref:n},o))}),dX=fX;function hX(t){return Jt("MuiListItemText",t)}const pX=Zt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),kP=pX,mX=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],gX=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return rn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},hX,e)},vX=ft("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${kP.primary}`]:e.primary},{[`& .${kP.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>te({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),yX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:l=!1,primary:a,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=r,d=_t(r,mX),{dense:h}=L.useContext(pa);let m=a??i,y=c;const x=te({},r,{disableTypography:s,inset:l,primary:!!m,secondary:!!y,dense:h}),v=gX(x);return m!=null&&m.type!==Ro&&!s&&(m=X.jsx(Ro,te({variant:h?"body2":"body1",className:v.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:m}))),y!=null&&y.type!==Ro&&!s&&(y=X.jsx(Ro,te({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},f,{children:y}))),X.jsxs(vX,te({className:At(v.root,o),ownerState:x,ref:n},d,{children:[m,y]}))}),bF=yX,xX=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function M_(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function NP(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function _F(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function kh(t,e,n,r,i,o){let s=!1,l=i(t,e,e?n:!1);for(;l;){if(l===t.firstChild){if(s)return!1;s=!0}const a=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!_F(l,o)||a)l=i(t,l,n);else return l.focus(),!0}return!1}const bX=L.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:l,disabledItemsFocusable:a=!1,disableListWrap:u=!1,onKeyDown:c,variant:f="selectedMenu"}=e,d=_t(e,xX),h=L.useRef(null),m=L.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ya(()=>{i&&h.current.focus()},[i]),L.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,S)=>{const E=!h.current.style.width;if(b.clientHeight<h.current.clientHeight&&E){const M=`${TO(Yi(b))}px`;h.current.style[S.direction==="rtl"?"paddingLeft":"paddingRight"]=M,h.current.style.width=`calc(100% + ${M})`}return h.current}}),[]);const y=b=>{const S=h.current,E=b.key,M=Yi(S).activeElement;if(E==="ArrowDown")b.preventDefault(),kh(S,M,u,a,M_);else if(E==="ArrowUp")b.preventDefault(),kh(S,M,u,a,NP);else if(E==="Home")b.preventDefault(),kh(S,null,u,a,M_);else if(E==="End")b.preventDefault(),kh(S,null,u,a,NP);else if(E.length===1){const T=m.current,R=E.toLowerCase(),C=performance.now();T.keys.length>0&&(C-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=C,T.keys.push(R);const P=M&&!T.repeating&&_F(M,T);T.previousKeyMatched&&(P||kh(S,M,!1,a,M_,T))?b.preventDefault():T.previousKeyMatched=!1}c&&c(b)},x=ti(h,n);let v=-1;L.Children.forEach(s,(b,S)=>{if(!L.isValidElement(b)){v===S&&(v+=1,v>=s.length&&(v=-1));return}b.props.disabled||(f==="selectedMenu"&&b.props.selected||v===-1)&&(v=S),v===S&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))});const _=L.Children.map(s,(b,S)=>{if(S===v){const E={};return o&&(E.autoFocus=!0),b.props.tabIndex===void 0&&f==="selectedMenu"&&(E.tabIndex=0),L.cloneElement(b,E)}return b});return X.jsx(x2,te({role:"menu",ref:x,className:l,onKeyDown:y,tabIndex:i?0:-1},d,{children:_}))}),_X=bX;function SX(t){return Jt("MuiPopover",t)}Zt("MuiPopover",["root","paper"]);const wX=["onEntering"],EX=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],MX=["slotProps"];function OP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function FP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function DP(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function T_(t){return typeof t=="function"?t():t}const TX=t=>{const{classes:e}=t;return rn({root:["root"],paper:["paper"]},SX,e)},AX=ft(f$,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),SF=ft(cF,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),CX=L.forwardRef(function(e,n){var r,i,o;const s=on({props:e,name:"MuiPopover"}),{action:l,anchorEl:a,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:d,className:h,container:m,elevation:y=8,marginThreshold:x=16,open:v,PaperProps:_={},slots:b,slotProps:S,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:M=iq,transitionDuration:T="auto",TransitionProps:{onEntering:R}={}}=s,C=_t(s.TransitionProps,wX),P=_t(s,EX),D=(r=S==null?void 0:S.paper)!=null?r:_,z=L.useRef(),V=ti(z,D.ref),U=te({},s,{anchorOrigin:u,anchorReference:f,elevation:y,marginThreshold:x,externalPaperSlotProps:D,transformOrigin:E,TransitionComponent:M,transitionDuration:T,TransitionProps:C}),q=TX(U),Z=L.useCallback(()=>{if(f==="anchorPosition")return c;const H=T_(a),Me=(H&&H.nodeType===1?H:Yi(z.current).body).getBoundingClientRect();return{top:Me.top+OP(Me,u.vertical),left:Me.left+FP(Me,u.horizontal)}},[a,u.horizontal,u.vertical,c,f]),ne=L.useCallback(H=>({vertical:OP(H,E.vertical),horizontal:FP(H,E.horizontal)}),[E.horizontal,E.vertical]),O=L.useCallback(H=>{const ge={width:H.offsetWidth,height:H.offsetHeight},Me=ne(ge);if(f==="none")return{top:null,left:null,transformOrigin:DP(Me)};const Ie=Z();let Re=Ie.top-Me.vertical,We=Ie.left-Me.horizontal;const ke=Re+ge.height,je=We+ge.width,He=va(T_(a)),Ne=He.innerHeight-x,Ke=He.innerWidth-x;if(Re<x){const Q=Re-x;Re-=Q,Me.vertical+=Q}else if(ke>Ne){const Q=ke-Ne;Re-=Q,Me.vertical+=Q}if(We<x){const Q=We-x;We-=Q,Me.horizontal+=Q}else if(je>Ke){const Q=je-Ke;We-=Q,Me.horizontal+=Q}return{top:`${Math.round(Re)}px`,left:`${Math.round(We)}px`,transformOrigin:DP(Me)}},[a,f,Z,ne,x]),[F,G]=L.useState(v),$=L.useCallback(()=>{const H=z.current;if(!H)return;const ge=O(H);ge.top!==null&&(H.style.top=ge.top),ge.left!==null&&(H.style.left=ge.left),H.style.transformOrigin=ge.transformOrigin,G(!0)},[O]),W=(H,ge)=>{R&&R(H,ge),$()},oe=()=>{G(!1)};L.useEffect(()=>{v&&$()}),L.useImperativeHandle(l,()=>v?{updatePosition:()=>{$()}}:null,[v,$]),L.useEffect(()=>{if(!v)return;const H=Td(()=>{$()}),ge=va(a);return ge.addEventListener("resize",H),()=>{H.clear(),ge.removeEventListener("resize",H)}},[a,v,$]);let j=T;T==="auto"&&!M.muiSupportAuto&&(j=void 0);const Y=m||(a?Yi(T_(a)).body:void 0),K=(i=b==null?void 0:b.root)!=null?i:AX,fe=(o=b==null?void 0:b.paper)!=null?o:SF,pe=tu({elementType:fe,externalSlotProps:te({},D,{style:F?D.style:te({},D.style,{opacity:0})}),additionalProps:{elevation:y,ref:V},ownerState:U,className:At(q.paper,D==null?void 0:D.className)}),xe=tu({elementType:K,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:P,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Y,open:v},ownerState:U,className:At(q.root,h)}),{slotProps:Ge}=xe,Ae=_t(xe,MX);return X.jsx(K,te({},Ae,!_c(K)&&{slotProps:Ge},{children:X.jsx(M,te({appear:!0,in:v,onEntering:W,onExited:oe,timeout:j},C,{children:X.jsx(fe,te({},pe,{children:d}))}))}))}),RX=CX;function PX(t){return Jt("MuiMenu",t)}Zt("MuiMenu",["root","paper","list"]);const IX=["onEntering"],LX=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],kX={vertical:"top",horizontal:"right"},NX={vertical:"top",horizontal:"left"},OX=t=>{const{classes:e}=t;return rn({root:["root"],paper:["paper"],list:["list"]},PX,e)},FX=ft(RX,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),DX=ft(SF,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),UX=ft(_X,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),BX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:a,open:u,PaperProps:c={},PopoverClasses:f,transitionDuration:d="auto",TransitionProps:{onEntering:h}={},variant:m="selectedMenu"}=r,y=_t(r.TransitionProps,IX),x=_t(r,LX),v=Ic(),_=v.direction==="rtl",b=te({},r,{autoFocus:i,disableAutoFocusItem:s,MenuListProps:l,onEntering:h,PaperProps:c,transitionDuration:d,TransitionProps:y,variant:m}),S=OX(b),E=i&&!s&&u,M=L.useRef(null),T=(P,D)=>{M.current&&M.current.adjustStyleForScrollbar(P,v),h&&h(P,D)},R=P=>{P.key==="Tab"&&(P.preventDefault(),a&&a(P,"tabKeyDown"))};let C=-1;return L.Children.map(o,(P,D)=>{L.isValidElement(P)&&(P.props.disabled||(m==="selectedMenu"&&P.props.selected||C===-1)&&(C=D))}),X.jsx(FX,te({onClose:a,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?kX:NX,slots:{paper:DX},slotProps:{paper:te({},c,{classes:te({},c.classes,{root:S.paper})})},className:S.root,open:u,ref:n,transitionDuration:d,TransitionProps:te({onEntering:T},y),ownerState:b},x,{classes:f,children:X.jsx(UX,te({onKeyDown:R,actions:M,autoFocus:i&&(C===-1||s),autoFocusItem:E,variant:m},l,{className:At(S.list,l.className),children:o}))}))}),zX=BX;function GX(t){return Jt("MuiNativeSelect",t)}const HX=Zt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),b2=HX,VX=["className","disabled","error","IconComponent","inputRef","variant"],WX=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Lt(n)}`,o&&"iconOpen",r&&"disabled"]};return rn(l,GX,e)},wF=({ownerState:t,theme:e})=>te({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":te({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${b2.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),jX=ft("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zs,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${b2.multiple}`]:e.multiple}]}})(wF),EF=({ownerState:t,theme:e})=>te({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${b2.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),$X=ft("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Lt(n.variant)}`],n.open&&e.iconOpen]}})(EF),qX=L.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:l,variant:a="standard"}=e,u=_t(e,VX),c=te({},e,{disabled:i,variant:a,error:o}),f=WX(c);return X.jsxs(L.Fragment,{children:[X.jsx(jX,te({ownerState:c,className:At(f.select,r),disabled:i,ref:l||n},u)),e.multiple?null:X.jsx($X,{as:s,ownerState:c,className:f.icon})]})}),XX=qX;var UP;const YX=["children","classes","className","label","notched"],KX=ft("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),QX=ft("legend")(({ownerState:t,theme:e})=>te({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&te({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function JX(t){const{className:e,label:n,notched:r}=t,i=_t(t,YX),o=n!=null&&n!=="",s=te({},t,{notched:r,withLabel:o});return X.jsx(KX,te({"aria-hidden":!0,className:e,ownerState:s},i,{children:X.jsx(QX,{ownerState:s,children:o?X.jsx("span",{children:n}):UP||(UP=X.jsx("span",{className:"notranslate",children:"​"}))})}))}const ZX=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],eY=t=>{const{classes:e}=t,r=rn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},rj,e);return te({},e,r)},tY=ft(cx,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:lx})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return te({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${xl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${xl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${xl.focused} .${xl.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${xl.error} .${xl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${xl.disabled} .${xl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&te({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),nY=ft(JX,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),rY=ft(fx,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ux})(({theme:t,ownerState:e})=>te({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),MF=L.forwardRef(function(e,n){var r,i,o,s,l;const a=on({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:f="input",label:d,multiline:h=!1,notched:m,slots:y={},type:x="text"}=a,v=_t(a,ZX),_=eY(a),b=ol(),S=fu({props:a,muiFormControl:b,states:["required"]}),E=te({},a,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:b,fullWidth:c,hiddenLabel:S.hiddenLabel,multiline:h,size:S.size,type:x}),M=(r=(i=y.root)!=null?i:u.Root)!=null?r:tY,T=(o=(s=y.input)!=null?s:u.Input)!=null?o:rY;return X.jsx(v2,te({slots:{root:M,input:T},renderSuffix:R=>X.jsx(nY,{ownerState:E,className:_.notchedOutline,label:d!=null&&d!==""&&S.required?l||(l=X.jsxs(L.Fragment,{children:[d," ","*"]})):d,notched:typeof m<"u"?m:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:c,inputComponent:f,multiline:h,ref:n,type:x},v,{classes:te({},_,{notchedOutline:null})}))});MF.muiName="Input";const TF=MF,iY=rl(X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),oY=rl(X.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),sY=ft("span")({position:"relative",display:"flex"}),aY=ft(iY)({transform:"scale(1)"}),lY=ft(oY)(({theme:t,ownerState:e})=>te({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function AF(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=te({},t,{checked:e});return X.jsxs(sY,{className:n.root,ownerState:i,children:[X.jsx(aY,{fontSize:r,className:n.background,ownerState:i}),X.jsx(lY,{fontSize:r,className:n.dot,ownerState:i})]})}const uY=L.createContext(void 0),CF=uY;function cY(){return L.useContext(CF)}function fY(t){return Jt("MuiRadio",t)}const dY=Zt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),BP=dY,hY=["checked","checkedIcon","color","icon","name","onChange","size","className"],pY=t=>{const{classes:e,color:n}=t,r={root:["root",`color${Lt(n)}`]};return te({},e,rn(r,fY,e))},mY=ft($j,{shouldForwardProp:t=>zs(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Lt(n.color)}`]]}})(({theme:t,ownerState:e})=>te({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fi(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${BP.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${BP.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function gY(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const zP=X.jsx(AF,{checked:!0}),GP=X.jsx(AF,{}),vY=L.forwardRef(function(e,n){var r,i;const o=on({props:e,name:"MuiRadio"}),{checked:s,checkedIcon:l=zP,color:a="primary",icon:u=GP,name:c,onChange:f,size:d="medium",className:h}=o,m=_t(o,hY),y=te({},o,{color:a,size:d}),x=pY(y),v=cY();let _=s;const b=Cy(f,v&&v.onChange);let S=c;return v&&(typeof _>"u"&&(_=gY(v.value,o.value)),typeof S>"u"&&(S=v.name)),X.jsx(mY,te({type:"radio",icon:L.cloneElement(u,{fontSize:(r=GP.props.fontSize)!=null?r:d}),checkedIcon:L.cloneElement(l,{fontSize:(i=zP.props.fontSize)!=null?i:d}),ownerState:y,classes:x,name:S,checked:_,onChange:b,ref:n,className:At(x.root,h)},m))}),A_=vY,yY=["actions","children","defaultValue","name","onChange","value"],xY=L.forwardRef(function(e,n){const{actions:r,children:i,defaultValue:o,name:s,onChange:l,value:a}=e,u=_t(e,yY),c=L.useRef(null),[f,d]=rm({controlled:a,default:o,name:"RadioGroup"});L.useImperativeHandle(r,()=>({focus:()=>{let x=c.current.querySelector("input:not(:disabled):checked");x||(x=c.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const h=ti(n,c),m=YM(s),y=L.useMemo(()=>({name:m,onChange(x){d(x.target.value),l&&l(x,x.target.value)},value:f}),[m,l,d,f]);return X.jsx(CF.Provider,{value:y,children:X.jsx(mF,te({role:"radiogroup",ref:h},u,{children:i}))})}),bY=xY;function _Y(t){return Jt("MuiSelect",t)}const SY=Zt("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Nh=SY;var HP;const wY=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],EY=ft("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Nh.select}`]:e.select},{[`&.${Nh.select}`]:e[n.variant]},{[`&.${Nh.error}`]:e.error},{[`&.${Nh.multiple}`]:e.multiple}]}})(wF,{[`&.${Nh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),MY=ft("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Lt(n.variant)}`],n.open&&e.iconOpen]}})(EF),TY=ft("input",{shouldForwardProp:t=>iV(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function VP(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function AY(t){return t==null||typeof t=="string"&&!t.trim()}const CY=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Lt(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return rn(l,_Y,e)},RY=L.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:l,className:a,defaultOpen:u,defaultValue:c,disabled:f,displayEmpty:d,error:h=!1,IconComponent:m,inputRef:y,labelId:x,MenuProps:v={},multiple:_,name:b,onBlur:S,onChange:E,onClose:M,onFocus:T,onOpen:R,open:C,readOnly:P,renderValue:D,SelectDisplayProps:z={},tabIndex:V,value:U,variant:q="standard"}=e,Z=_t(e,wY),[ne,O]=rm({controlled:U,default:c,name:"Select"}),[F,G]=rm({controlled:C,default:u,name:"Select"}),$=L.useRef(null),W=L.useRef(null),[oe,j]=L.useState(null),{current:Y}=L.useRef(C!=null),[K,fe]=L.useState(),pe=ti(n,y),xe=L.useCallback(we=>{W.current=we,we&&j(we)},[]),Ge=oe==null?void 0:oe.parentNode;L.useImperativeHandle(pe,()=>({focus:()=>{W.current.focus()},node:$.current,value:ne}),[ne]),L.useEffect(()=>{u&&F&&oe&&!Y&&(fe(s?null:Ge.clientWidth),W.current.focus())},[oe,s]),L.useEffect(()=>{o&&W.current.focus()},[o]),L.useEffect(()=>{if(!x)return;const we=Yi(W.current).getElementById(x);if(we){const Se=()=>{getSelection().isCollapsed&&W.current.focus()};return we.addEventListener("click",Se),()=>{we.removeEventListener("click",Se)}}},[x]);const Ae=(we,Se)=>{we?R&&R(Se):M&&M(Se),Y||(fe(s?null:Ge.clientWidth),G(we))},H=we=>{we.button===0&&(we.preventDefault(),W.current.focus(),Ae(!0,we))},ge=we=>{Ae(!1,we)},Me=L.Children.toArray(l),Ie=we=>{const Se=Me.find(be=>be.props.value===we.target.value);Se!==void 0&&(O(Se.props.value),E&&E(we,Se))},Re=we=>Se=>{let be;if(Se.currentTarget.hasAttribute("tabindex")){if(_){be=Array.isArray(ne)?ne.slice():[];const ae=ne.indexOf(we.props.value);ae===-1?be.push(we.props.value):be.splice(ae,1)}else be=we.props.value;if(we.props.onClick&&we.props.onClick(Se),ne!==be&&(O(be),E)){const ae=Se.nativeEvent||Se,de=new ae.constructor(ae.type,ae);Object.defineProperty(de,"target",{writable:!0,value:{value:be,name:b}}),E(de,we)}_||Ae(!1,Se)}},We=we=>{P||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),Ae(!0,we))},ke=oe!==null&&F,je=we=>{!ke&&S&&(Object.defineProperty(we,"target",{writable:!0,value:{value:ne,name:b}}),S(we))};delete Z["aria-invalid"];let He,Ne;const Ke=[];let Q=!1;(ky({value:ne})||d)&&(D?He=D(ne):Q=!0);const N=Me.map(we=>{if(!L.isValidElement(we))return null;let Se;if(_){if(!Array.isArray(ne))throw new Error(eu(2));Se=ne.some(be=>VP(be,we.props.value)),Se&&Q&&Ke.push(we.props.children)}else Se=VP(ne,we.props.value),Se&&Q&&(Ne=we.props.children);return L.cloneElement(we,{"aria-selected":Se?"true":"false",onClick:Re(we),onKeyUp:be=>{be.key===" "&&be.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(be)},role:"option",selected:Se,value:void 0,"data-value":we.props.value})});Q&&(_?Ke.length===0?He=null:He=Ke.reduce((we,Se,be)=>(we.push(Se),be<Ke.length-1&&we.push(", "),we),[]):He=Ne);let se=K;!s&&Y&&oe&&(se=Ge.clientWidth);let Le;typeof V<"u"?Le=V:Le=f?null:0;const Te=z.id||(b?`mui-component-select-${b}`:void 0),_e=te({},e,{variant:q,value:ne,open:ke,error:h}),ye=CY(_e);return X.jsxs(L.Fragment,{children:[X.jsx(EY,te({ref:xe,tabIndex:Le,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Te].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:We,onMouseDown:f||P?null:H,onBlur:je,onFocus:T},z,{ownerState:_e,className:At(z.className,ye.select,a),id:Te,children:AY(He)?HP||(HP=X.jsx("span",{className:"notranslate",children:"​"})):He})),X.jsx(TY,te({"aria-invalid":h,value:Array.isArray(ne)?ne.join(","):ne,name:b,ref:$,"aria-hidden":!0,onChange:Ie,tabIndex:-1,disabled:f,className:ye.nativeInput,autoFocus:o,ownerState:_e},Z)),X.jsx(MY,{as:m,className:ye.icon,ownerState:_e}),X.jsx(zX,te({id:`menu-${b||""}`,anchorEl:Ge,open:ke,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:te({"aria-labelledby":x,role:"listbox",disableListWrap:!0},v.MenuListProps),PaperProps:te({},v.PaperProps,{style:te({minWidth:se},v.PaperProps!=null?v.PaperProps.style:null)}),children:N}))]})}),PY=RY,IY=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],LY=t=>{const{classes:e}=t;return e},_2={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>zs(t)&&t!=="variant",slot:"Root"},kY=ft(yF,_2)(""),NY=ft(TF,_2)(""),OY=ft(pF,_2)(""),RF=L.forwardRef(function(e,n){const r=on({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:l,defaultOpen:a=!1,displayEmpty:u=!1,IconComponent:c=aj,id:f,input:d,inputProps:h,label:m,labelId:y,MenuProps:x,multiple:v=!1,native:_=!1,onClose:b,onOpen:S,open:E,renderValue:M,SelectDisplayProps:T,variant:R="outlined"}=r,C=_t(r,IY),P=_?XX:PY,D=ol(),z=fu({props:r,muiFormControl:D,states:["variant","error"]}),V=z.variant||R,U=te({},r,{variant:V,classes:s}),q=LY(U),Z=d||{standard:X.jsx(kY,{ownerState:U}),outlined:X.jsx(NY,{label:m,ownerState:U}),filled:X.jsx(OY,{ownerState:U})}[V],ne=ti(n,Z.ref);return X.jsx(L.Fragment,{children:L.cloneElement(Z,te({inputComponent:P,inputProps:te({children:o,error:z.error,IconComponent:c,variant:V,type:void 0,multiple:v},_?{id:f}:{autoWidth:i,defaultOpen:a,displayEmpty:u,labelId:y,MenuProps:x,onClose:b,onOpen:S,open:E,renderValue:M,SelectDisplayProps:te({id:f},T)},h,{classes:h?is(q,h.classes):q},d?d.props.inputProps:{})},v&&_&&V==="outlined"?{notched:!0}:{},{ref:ne,className:At(Z.props.className,l)},!d&&{variant:V},C))})});RF.muiName="Select";const FY=RF;function DY(t){return Jt("MuiTab",t)}const UY=Zt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Cu=UY,BY=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],zY=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:l,disabled:a}=t,u={root:["root",o&&s&&"labelIcon",`textColor${Lt(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",a&&"disabled"],iconWrapper:["iconWrapper"]};return rn(u,DY,e)},GY=ft(Hd,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Lt(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>te({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Cu.iconWrapper}`]:te({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Cu.selected}`]:{opacity:1},[`&.${Cu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Cu.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Cu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Cu.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Cu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),HY=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:l,icon:a,iconPosition:u="top",indicator:c,label:f,onChange:d,onClick:h,onFocus:m,selected:y,selectionFollowsFocus:x,textColor:v="inherit",value:_,wrapped:b=!1}=r,S=_t(r,BY),E=te({},r,{disabled:o,disableFocusRipple:s,selected:y,icon:!!a,iconPosition:u,label:!!f,fullWidth:l,textColor:v,wrapped:b}),M=zY(E),T=a&&f&&L.isValidElement(a)?L.cloneElement(a,{className:At(M.iconWrapper,a.props.className)}):a,R=P=>{!y&&d&&d(P,_),h&&h(P)},C=P=>{x&&!y&&d&&d(P,_),m&&m(P)};return X.jsxs(GY,te({focusRipple:!s,className:At(M.root,i),ref:n,role:"tab","aria-selected":y,disabled:o,onClick:R,onFocus:C,ownerState:E,tabIndex:y?0:-1},S,{children:[u==="top"||u==="start"?X.jsxs(L.Fragment,{children:[T,f]}):X.jsxs(L.Fragment,{children:[f,T]}),c]}))}),C_=HY;function VY(t){return Jt("MuiToolbar",t)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const WY=["className","component","disableGutters","variant"],jY=t=>{const{classes:e,disableGutters:n,variant:r}=t;return rn({root:["root",!n&&"gutters",r]},VY,e)},$Y=ft("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>te({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),qY=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:l="regular"}=r,a=_t(r,WY),u=te({},r,{component:o,disableGutters:s,variant:l}),c=jY(u);return X.jsx($Y,te({as:o,className:At(c.root,i),ref:n,ownerState:u},a))}),XY=qY,YY=rl(X.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KY=rl(X.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function QY(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function JY(t,e,n,r={},i=()=>{}){const{ease:o=QY,duration:s=300}=r;let l=null;const a=e[t];let u=!1;const c=()=>{u=!0},f=d=>{if(u){i(new Error("Animation cancelled"));return}l===null&&(l=d);const h=Math.min(1,(d-l)/s);if(e[t]=o(h)*(n-a)+a,h>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return a===n?(i(new Error("Element already at target position")),c):(requestAnimationFrame(f),c)}const ZY=["onChange"],eK={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function tK(t){const{onChange:e}=t,n=_t(t,ZY),r=L.useRef(),i=L.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return ya(()=>{const s=Td(()=>{const a=r.current;o(),a!==r.current&&e(r.current)}),l=va(i.current);return l.addEventListener("resize",s),()=>{s.clear(),l.removeEventListener("resize",s)}},[e]),L.useEffect(()=>{o(),e(r.current)},[e]),X.jsx("div",te({style:eK,ref:i},n))}function nK(t){return Jt("MuiTabScrollButton",t)}const rK=Zt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),iK=rK,oK=["className","slots","slotProps","direction","orientation","disabled"],sK=t=>{const{classes:e,orientation:n,disabled:r}=t;return rn({root:["root",n,r&&"disabled"]},nK,e)},aK=ft(Hd,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>te({width:40,flexShrink:0,opacity:.8,[`&.${iK.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),lK=L.forwardRef(function(e,n){var r,i;const o=on({props:e,name:"MuiTabScrollButton"}),{className:s,slots:l={},slotProps:a={},direction:u}=o,c=_t(o,oK),d=Ic().direction==="rtl",h=te({isRtl:d},o),m=sK(h),y=(r=l.StartScrollButtonIcon)!=null?r:YY,x=(i=l.EndScrollButtonIcon)!=null?i:KY,v=tu({elementType:y,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),_=tu({elementType:x,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return X.jsx(aK,te({component:"div",className:At(m.root,s),ref:n,role:null,ownerState:h,tabIndex:null},c,{children:u==="left"?X.jsx(y,te({},v)):X.jsx(x,te({},_))}))}),uK=lK;function cK(t){return Jt("MuiTabs",t)}const fK=Zt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),R_=fK,dK=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],WP=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,jP=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,v0=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},hK=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:l,classes:a}=t;return rn({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},cK,a)},pK=ft("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${R_.scrollButtons}`]:e.scrollButtons},{[`& .${R_.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>te({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${R_.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),mK=ft("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>te({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),gK=ft("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>te({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),vK=ft("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>te({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),yK=ft(tK,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$P={},xK=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTabs"}),i=Ic(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":l,action:a,centered:u=!1,children:c,className:f,component:d="div",allowScrollButtonsMobile:h=!1,indicatorColor:m="primary",onChange:y,orientation:x="horizontal",ScrollButtonComponent:v=uK,scrollButtons:_="auto",selectionFollowsFocus:b,slots:S={},slotProps:E={},TabIndicatorProps:M={},TabScrollButtonProps:T={},textColor:R="primary",value:C,variant:P="standard",visibleScrollbar:D=!1}=r,z=_t(r,dK),V=P==="scrollable",U=x==="vertical",q=U?"scrollTop":"scrollLeft",Z=U?"top":"left",ne=U?"bottom":"right",O=U?"clientHeight":"clientWidth",F=U?"height":"width",G=te({},r,{component:d,allowScrollButtonsMobile:h,indicatorColor:m,orientation:x,vertical:U,scrollButtons:_,textColor:R,variant:P,visibleScrollbar:D,fixed:!V,hideScrollbar:V&&!D,scrollableX:V&&!U,scrollableY:V&&U,centered:u&&!V,scrollButtonsHideMobile:!h}),$=hK(G),W=tu({elementType:S.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:G}),oe=tu({elementType:S.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:G}),[j,Y]=L.useState(!1),[K,fe]=L.useState($P),[pe,xe]=L.useState({start:!1,end:!1}),[Ge,Ae]=L.useState({overflow:"hidden",scrollbarWidth:0}),H=new Map,ge=L.useRef(null),Me=L.useRef(null),Ie=()=>{const be=ge.current;let ae;if(be){const he=be.getBoundingClientRect();ae={clientWidth:be.clientWidth,scrollLeft:be.scrollLeft,scrollTop:be.scrollTop,scrollLeftNormalized:zR(be,i.direction),scrollWidth:be.scrollWidth,top:he.top,bottom:he.bottom,left:he.left,right:he.right}}let de;if(be&&C!==!1){const he=Me.current.children;if(he.length>0){const me=he[H.get(C)];de=me?me.getBoundingClientRect():null}}return{tabsMeta:ae,tabMeta:de}},Re=aa(()=>{const{tabsMeta:be,tabMeta:ae}=Ie();let de=0,he;if(U)he="top",ae&&be&&(de=ae.top-be.top+be.scrollTop);else if(he=o?"right":"left",ae&&be){const Ue=o?be.scrollLeftNormalized+be.clientWidth-be.scrollWidth:be.scrollLeft;de=(o?-1:1)*(ae[he]-be[he]+Ue)}const me={[he]:de,[F]:ae?ae[F]:0};if(isNaN(K[he])||isNaN(K[F]))fe(me);else{const Ue=Math.abs(K[he]-me[he]),Xe=Math.abs(K[F]-me[F]);(Ue>=1||Xe>=1)&&fe(me)}}),We=(be,{animation:ae=!0}={})=>{ae?JY(q,ge.current,be,{duration:i.transitions.duration.standard}):ge.current[q]=be},ke=be=>{let ae=ge.current[q];U?ae+=be:(ae+=be*(o?-1:1),ae*=o&&AO()==="reverse"?-1:1),We(ae)},je=()=>{const be=ge.current[O];let ae=0;const de=Array.from(Me.current.children);for(let he=0;he<de.length;he+=1){const me=de[he];if(ae+me[O]>be){he===0&&(ae=be);break}ae+=me[O]}return ae},He=()=>{ke(-1*je())},Ne=()=>{ke(je())},Ke=L.useCallback(be=>{Ae({overflow:null,scrollbarWidth:be})},[]),Q=()=>{const be={};be.scrollbarSizeListener=V?X.jsx(yK,{onChange:Ke,className:At($.scrollableX,$.hideScrollbar)}):null;const ae=pe.start||pe.end,de=V&&(_==="auto"&&ae||_===!0);return be.scrollButtonStart=de?X.jsx(v,te({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:W},orientation:x,direction:o?"right":"left",onClick:He,disabled:!pe.start},T,{className:At($.scrollButtons,T.className)})):null,be.scrollButtonEnd=de?X.jsx(v,te({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:oe},orientation:x,direction:o?"left":"right",onClick:Ne,disabled:!pe.end},T,{className:At($.scrollButtons,T.className)})):null,be},N=aa(be=>{const{tabsMeta:ae,tabMeta:de}=Ie();if(!(!de||!ae)){if(de[Z]<ae[Z]){const he=ae[q]+(de[Z]-ae[Z]);We(he,{animation:be})}else if(de[ne]>ae[ne]){const he=ae[q]+(de[ne]-ae[ne]);We(he,{animation:be})}}}),se=aa(()=>{if(V&&_!==!1){const{scrollTop:be,scrollHeight:ae,clientHeight:de,scrollWidth:he,clientWidth:me}=ge.current;let Ue,Xe;if(U)Ue=be>1,Xe=be<ae-de-1;else{const ie=zR(ge.current,i.direction);Ue=o?ie<he-me-1:ie>1,Xe=o?ie>1:ie<he-me-1}(Ue!==pe.start||Xe!==pe.end)&&xe({start:Ue,end:Xe})}});L.useEffect(()=>{const be=Td(()=>{ge.current&&(Re(),se())}),ae=va(ge.current);ae.addEventListener("resize",be);let de;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(be),Array.from(Me.current.children).forEach(he=>{de.observe(he)})),()=>{be.clear(),ae.removeEventListener("resize",be),de&&de.disconnect()}},[Re,se]);const Le=L.useMemo(()=>Td(()=>{se()}),[se]);L.useEffect(()=>()=>{Le.clear()},[Le]),L.useEffect(()=>{Y(!0)},[]),L.useEffect(()=>{Re(),se()}),L.useEffect(()=>{N($P!==K)},[N,K]),L.useImperativeHandle(a,()=>({updateIndicator:Re,updateScrollButtons:se}),[Re,se]);const Te=X.jsx(vK,te({},M,{className:At($.indicator,M.className),ownerState:G,style:te({},K,M.style)}));let _e=0;const ye=L.Children.map(c,be=>{if(!L.isValidElement(be))return null;const ae=be.props.value===void 0?_e:be.props.value;H.set(ae,_e);const de=ae===C;return _e+=1,L.cloneElement(be,te({fullWidth:P==="fullWidth",indicator:de&&!j&&Te,selected:de,selectionFollowsFocus:b,onChange:y,textColor:R,value:ae},_e===1&&C===!1&&!be.props.tabIndex?{tabIndex:0}:{}))}),we=be=>{const ae=Me.current,de=Yi(ae).activeElement;if(de.getAttribute("role")!=="tab")return;let me=x==="horizontal"?"ArrowLeft":"ArrowUp",Ue=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(me="ArrowRight",Ue="ArrowLeft"),be.key){case me:be.preventDefault(),v0(ae,de,jP);break;case Ue:be.preventDefault(),v0(ae,de,WP);break;case"Home":be.preventDefault(),v0(ae,null,WP);break;case"End":be.preventDefault(),v0(ae,null,jP);break}},Se=Q();return X.jsxs(pK,te({className:At($.root,f),ownerState:G,ref:n,as:d},z,{children:[Se.scrollButtonStart,Se.scrollbarSizeListener,X.jsxs(mK,{className:$.scroller,ownerState:G,style:{overflow:Ge.overflow,[U?`margin${o?"Left":"Right"}`:"marginBottom"]:D?void 0:-Ge.scrollbarWidth},ref:ge,onScroll:Le,children:[X.jsx(gK,{"aria-label":s,"aria-labelledby":l,"aria-orientation":x==="vertical"?"vertical":null,className:$.flexContainer,ownerState:G,onKeyDown:we,ref:Me,role:"tablist",children:ye}),j&&Te]}),Se.scrollButtonEnd]}))}),bK=xK;function _K(t){return Jt("MuiTextField",t)}Zt("MuiTextField",["root"]);const SK=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],wK={standard:yF,filled:pF,outlined:TF},EK=t=>{const{classes:e}=t;return rn({root:["root"]},_K,e)},MK=ft(C$,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),TK=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:l,color:a="primary",defaultValue:u,disabled:c=!1,error:f=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:m,id:y,InputLabelProps:x,inputProps:v,InputProps:_,inputRef:b,label:S,maxRows:E,minRows:M,multiline:T=!1,name:R,onBlur:C,onChange:P,onClick:D,onFocus:z,placeholder:V,required:U=!1,rows:q,select:Z=!1,SelectProps:ne,type:O,value:F,variant:G="outlined"}=r,$=_t(r,SK),W=te({},r,{autoFocus:o,color:a,disabled:c,error:f,fullWidth:h,multiline:T,required:U,select:Z,variant:G}),oe=EK(W),j={};G==="outlined"&&(x&&typeof x.shrink<"u"&&(j.notched=x.shrink),j.label=S),Z&&((!ne||!ne.native)&&(j.id=void 0),j["aria-describedby"]=void 0);const Y=YM(y),K=m&&Y?`${Y}-helper-text`:void 0,fe=S&&Y?`${Y}-label`:void 0,pe=wK[G],xe=X.jsx(pe,te({"aria-describedby":K,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:h,multiline:T,name:R,rows:q,maxRows:E,minRows:M,type:O,value:F,id:Y,inputRef:b,onBlur:C,onChange:P,onFocus:z,onClick:D,placeholder:V,inputProps:v},j,_));return X.jsxs(MK,te({className:At(oe.root,l),disabled:c,error:f,fullWidth:h,ref:n,required:U,color:a,variant:G,ownerState:W},$,{children:[S!=null&&S!==""&&X.jsx(pq,te({htmlFor:Y,id:fe},x,{children:S})),Z?X.jsx(FY,te({"aria-describedby":K,id:Y,labelId:fe,value:F,input:xe},ne,{children:s})):xe,m&&X.jsx(q$,te({id:K},d,{children:m}))]}))}),AK=TK,CK="/demo/jukebox/assets/logo-2c410450.svg",PF=({loading:t})=>{const[e,n]=L.useState(0),[r,i]=L.useState(0);return L.useEffect(()=>{n(t?1:2)},[t]),X.jsxs(X.Fragment,{children:[e===1&&r===0&&X.jsx(yn,{sx:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(128, 128, 128, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:X.jsxs(yn,{display:"flex",flexDirection:"column",alignItems:"center",children:[X.jsx(n$,{}),X.jsx(Ro,{color:"#FF1234",children:"Loading..."})]})}),e===1&&r===1&&X.jsx(Tq,{color:"primary",sx:{width:"100%"}})]})},RK=rl(X.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),PK=rl(X.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),IK=Y1({components:{MuiAppBar:{styleOverrides:{root:{background:"white",color:"#6c757d"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"white",color:"#8391a2"}}},MuiListItemButton:{styleOverrides:{root:{"&.Mui-selected":{color:"#000000","& .MuiSvgIcon-root":{color:"rgba(0, 0, 0, 0.54)"}}}}},MuiTypography:{styleOverrides:{root:{fontSize:13}}},MuiListItem:{styleOverrides:{root:{marginLeft:20}}}}}),IF=200,LK=ft($W,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:e})=>({zIndex:t.zIndex.drawer+-1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...e&&{width:`calc(100% - ${IF}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),kK=()=>{const[t,e]=L.useState([{displayName:"Playground",link:"/playground"},{displayName:"Game",link:"/game"},{displayName:"Scale",link:"/scale/major",subs:[{displayName:"Major",link:"/scale/major"}]}]),[n]=L.useState(!0),r=xO(),i=w1(),o=L.useCallback(s=>X.jsx(x2,{sx:{display:"flex"},children:s.map((l,a)=>X.jsxs(eX,{disablePadding:!0,children:[X.jsxs(Uw,{sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},onClick:()=>{r(l.link)},selected:l.link===(i.pathname==="/"?"/medicalrecord":i.pathname),children:[l.icon&&X.jsx(dX,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:l.icon}),X.jsx(bF,{primary:l.displayName,sx:{opacity:n?1:0}}),l.subs&&X.jsx(X.Fragment,{children:X.jsx(Uw,{onClick:()=>{l.open=!l.open,e([...t])},children:l.open?X.jsx(RK,{}):X.jsx(PK,{})})})]}),l.subs&&X.jsx(cW,{in:l.open,timeout:"auto",unmountOnExit:!0,children:o(l.subs)})]},a))}),[t,i.pathname,r,n]);return X.jsxs(yn,{sx:{display:"flex"},children:[X.jsx(s$,{}),X.jsx(oF,{theme:IK,children:X.jsxs(yn,{sx:{flex:1,overflow:"auto"},children:[X.jsxs(LK,{sx:{width:"100%",borderRadius:0,borderBottom:"solid 1px #EAEAEA",maxHeight:60},position:"sticky",elevation:0,open:n,children:[X.jsxs(XY,{children:[X.jsxs(yn,{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexGrow:1,children:[X.jsx(Ro,{variant:"h6",component:"div",children:"Jazz Piano Practice Portal"}),X.jsx("img",{alt:"logo",src:CK,width:50})]}),X.jsxs(yn,{sx:{display:"flex"},children:[o(t),X.jsx(io,{sx:{minWidth:100},children:"Sign in"})]})]}),X.jsx(PF,{loading:!1})]}),X.jsx(yn,{component:"main",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 60px)",minWidth:`calc(100vw - ${IF})`,children:X.jsx(yn,{sx:{width:"100%",height:"calc(100vh - 100px)"},children:X.jsx(P7,{})})})]})})]})},NK=()=>X.jsx(yn,{children:"jfwieo"}),OK=()=>X.jsx(yn,{children:"Major scale"});function Wd(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})}function jd(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function qP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function XP(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var FK=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function zm(t,e){var n=DK(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function DK(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=FK.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var UK=[".DS_Store","Thumbs.db"];function BK(t){return Wd(this,void 0,void 0,function(){return jd(this,function(e){return Ny(t)&&zK(t.dataTransfer)?[2,WK(t.dataTransfer,t.type)]:GK(t)?[2,HK(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,VK(t)]:[2,[]]})})}function zK(t){return Ny(t)}function GK(t){return Ny(t)&&Ny(t.target)}function Ny(t){return typeof t=="object"&&t!==null}function HK(t){return Bw(t.target.files).map(function(e){return zm(e)})}function VK(t){return Wd(this,void 0,void 0,function(){var e;return jd(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return zm(r)})]}})})}function WK(t,e){return Wd(this,void 0,void 0,function(){var n,r;return jd(this,function(i){switch(i.label){case 0:return t.items?(n=Bw(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(jK))]):[3,2];case 1:return r=i.sent(),[2,YP(LF(r))];case 2:return[2,YP(Bw(t.files).map(function(o){return zm(o)}))]}})})}function YP(t){return t.filter(function(e){return UK.indexOf(e.name)===-1})}function Bw(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function jK(t){if(typeof t.webkitGetAsEntry!="function")return KP(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?kF(e):KP(t)}function LF(t){return t.reduce(function(e,n){return XP(XP([],qP(e),!1),qP(Array.isArray(n)?LF(n):[n]),!1)},[])}function KP(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=zm(e);return Promise.resolve(n)}function $K(t){return Wd(this,void 0,void 0,function(){return jd(this,function(e){return[2,t.isDirectory?kF(t):qK(t)]})})}function kF(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(l){return Wd(s,void 0,void 0,function(){var a,u,c;return jd(this,function(f){switch(f.label){case 0:if(l.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return a=f.sent(),n(a),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(l.map($K)),i.push(c),o(),f.label=6;case 6:return[2]}})})},function(l){r(l)})}o()})}function qK(t){return Wd(this,void 0,void 0,function(){return jd(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=zm(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var XK=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function QP(t){return QK(t)||KK(t)||OF(t)||YK()}function YK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QK(t){if(Array.isArray(t))return zw(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){NF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function am(t,e){return eQ(t)||ZK(t,e)||OF(t,e)||JK()}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function eQ(t){if(Array.isArray(t))return t}var tQ="file-invalid-type",nQ="file-too-large",rQ="file-too-small",iQ="too-many-files",oQ=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:tQ,message:"File type must be ".concat(n)}},e3=function(e){return{code:nQ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},t3=function(e){return{code:rQ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},sQ={code:iQ,message:"Too many files"};function FF(t,e){var n=t.type==="application/x-moz-file"||XK(t,e);return[n,n?null:oQ(e)]}function DF(t,e,n){if(qu(t.size))if(qu(e)&&qu(n)){if(t.size>n)return[!1,e3(n)];if(t.size<e)return[!1,t3(e)]}else{if(qu(e)&&t.size<e)return[!1,t3(e)];if(qu(n)&&t.size>n)return[!1,e3(n)]}return[!0,null]}function qu(t){return t!=null}function aQ(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(a){var u=FF(a,n),c=am(u,1),f=c[0],d=DF(a,r,i),h=am(d,1),m=h[0],y=l?l(a):null;return f&&m&&!y})}function Oy(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function y0(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function n3(t){t.preventDefault()}function lQ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function uQ(t){return t.indexOf("Edge/")!==-1}function cQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return lQ(t)||uQ(t)}function Js(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(l){return!Oy(r)&&l&&l.apply(void 0,[r].concat(o)),Oy(r)})}}function fQ(){return"showOpenFilePicker"in window}function dQ(t){if(qu(t)){var e=Object.entries(t).filter(function(n){var r=am(n,2),i=r[0],o=r[1],s=!0;return UF(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(BF))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=am(r,2),o=i[0],s=i[1];return ZP(ZP({},n),{},NF({},o,s))},{});return[{description:"Files",accept:e}]}return t}function hQ(t){if(qu(t))return Object.entries(t).reduce(function(e,n){var r=am(n,2),i=r[0],o=r[1];return[].concat(QP(e),[i],QP(o))},[]).filter(function(e){return UF(e)||BF(e)}).join(",")}function pQ(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function mQ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function UF(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function BF(t){return/^.*\.[\w]+$/.test(t)}var gQ=["children"],vQ=["open"],yQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],xQ=["refKey","onChange","onClick"];function bQ(t){return wQ(t)||SQ(t)||zF(t)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wQ(t){if(Array.isArray(t))return Gw(t)}function P_(t,e){return TQ(t)||MQ(t,e)||zF(t,e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zF(t,e){if(t){if(typeof t=="string")return Gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(t,e)}}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function TQ(t){if(Array.isArray(t))return t}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){Hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fy(t,e){if(t==null)return{};var n=AQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hx=L.forwardRef(function(t,e){var n=t.children,r=Fy(t,gQ),i=RQ(r),o=i.open,s=Fy(i,vQ);return L.useImperativeHandle(e,function(){return{open:o}},[o]),Zn.createElement(L.Fragment,null,n(yr(yr({},s),{},{open:o})))});hx.displayName="Dropzone";var GF={disabled:!1,getFilesFromEvent:BK,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};hx.defaultProps=GF;hx.propTypes={children:Jn.func,accept:Jn.objectOf(Jn.arrayOf(Jn.string)),multiple:Jn.bool,preventDropOnDocument:Jn.bool,noClick:Jn.bool,noKeyboard:Jn.bool,noDrag:Jn.bool,noDragEventsBubbling:Jn.bool,minSize:Jn.number,maxSize:Jn.number,maxFiles:Jn.number,disabled:Jn.bool,getFilesFromEvent:Jn.func,onFileDialogCancel:Jn.func,onFileDialogOpen:Jn.func,useFsAccessApi:Jn.bool,autoFocus:Jn.bool,onDragEnter:Jn.func,onDragLeave:Jn.func,onDragOver:Jn.func,onDrop:Jn.func,onDropAccepted:Jn.func,onDropRejected:Jn.func,onError:Jn.func,validator:Jn.func};const CQ=hx;var Vw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function RQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=yr(yr({},GF),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,l=e.multiple,a=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,d=e.onDrop,h=e.onDropAccepted,m=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,v=e.useFsAccessApi,_=e.autoFocus,b=e.preventDropOnDocument,S=e.noClick,E=e.noKeyboard,M=e.noDrag,T=e.noDragEventsBubbling,R=e.onError,C=e.validator,P=L.useMemo(function(){return hQ(n)},[n]),D=L.useMemo(function(){return dQ(n)},[n]),z=L.useMemo(function(){return typeof x=="function"?x:i3},[x]),V=L.useMemo(function(){return typeof y=="function"?y:i3},[y]),U=L.useRef(null),q=L.useRef(null),Z=L.useReducer(PQ,Vw),ne=P_(Z,2),O=ne[0],F=ne[1],G=O.isFocused,$=O.isFileDialogActive,W=L.useRef(typeof window<"u"&&window.isSecureContext&&v&&fQ()),oe=function(){!W.current&&$&&setTimeout(function(){if(q.current){var se=q.current.files;se.length||(F({type:"closeDialog"}),V())}},300)};L.useEffect(function(){return window.addEventListener("focus",oe,!1),function(){window.removeEventListener("focus",oe,!1)}},[q,$,V,W]);var j=L.useRef([]),Y=function(se){U.current&&U.current.contains(se.target)||(se.preventDefault(),j.current=[])};L.useEffect(function(){return b&&(document.addEventListener("dragover",n3,!1),document.addEventListener("drop",Y,!1)),function(){b&&(document.removeEventListener("dragover",n3),document.removeEventListener("drop",Y))}},[U,b]),L.useEffect(function(){return!r&&_&&U.current&&U.current.focus(),function(){}},[U,_,r]);var K=L.useCallback(function(N){R?R(N):console.error(N)},[R]),fe=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N),j.current=[].concat(bQ(j.current),[N.target]),y0(N)&&Promise.resolve(i(N)).then(function(se){if(!(Oy(N)&&!T)){var Le=se.length,Te=Le>0&&aQ({files:se,accept:P,minSize:s,maxSize:o,multiple:l,maxFiles:a,validator:C}),_e=Le>0&&!Te;F({isDragAccept:Te,isDragReject:_e,isDragActive:!0,type:"setDraggedFiles"}),u&&u(N)}}).catch(function(se){return K(se)})},[i,u,K,T,P,s,o,l,a,C]),pe=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N);var se=y0(N);if(se&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return se&&f&&f(N),!1},[f,T]),xe=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N);var se=j.current.filter(function(Te){return U.current&&U.current.contains(Te)}),Le=se.indexOf(N.target);Le!==-1&&se.splice(Le,1),j.current=se,!(se.length>0)&&(F({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),y0(N)&&c&&c(N))},[U,c,T]),Ge=L.useCallback(function(N,se){var Le=[],Te=[];N.forEach(function(_e){var ye=FF(_e,P),we=P_(ye,2),Se=we[0],be=we[1],ae=DF(_e,s,o),de=P_(ae,2),he=de[0],me=de[1],Ue=C?C(_e):null;if(Se&&he&&!Ue)Le.push(_e);else{var Xe=[be,me];Ue&&(Xe=Xe.concat(Ue)),Te.push({file:_e,errors:Xe.filter(function(ie){return ie})})}}),(!l&&Le.length>1||l&&a>=1&&Le.length>a)&&(Le.forEach(function(_e){Te.push({file:_e,errors:[sQ]})}),Le.splice(0)),F({acceptedFiles:Le,fileRejections:Te,type:"setFiles"}),d&&d(Le,Te,se),Te.length>0&&m&&m(Te,se),Le.length>0&&h&&h(Le,se)},[F,l,P,s,o,a,d,h,m,C]),Ae=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N),j.current=[],y0(N)&&Promise.resolve(i(N)).then(function(se){Oy(N)&&!T||Ge(se,N)}).catch(function(se){return K(se)}),F({type:"reset"})},[i,Ge,K,T]),H=L.useCallback(function(){if(W.current){F({type:"openDialog"}),z();var N={multiple:l,types:D};window.showOpenFilePicker(N).then(function(se){return i(se)}).then(function(se){Ge(se,null),F({type:"closeDialog"})}).catch(function(se){pQ(se)?(V(se),F({type:"closeDialog"})):mQ(se)?(W.current=!1,q.current?(q.current.value=null,q.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(se)});return}q.current&&(F({type:"openDialog"}),z(),q.current.value=null,q.current.click())},[F,z,V,v,Ge,K,D,l]),ge=L.useCallback(function(N){!U.current||!U.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),H())},[U,H]),Me=L.useCallback(function(){F({type:"focus"})},[]),Ie=L.useCallback(function(){F({type:"blur"})},[]),Re=L.useCallback(function(){S||(cQ()?setTimeout(H,0):H())},[S,H]),We=function(se){return r?null:se},ke=function(se){return E?null:We(se)},je=function(se){return M?null:We(se)},He=function(se){T&&se.stopPropagation()},Ne=L.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=N.refKey,Le=se===void 0?"ref":se,Te=N.role,_e=N.onKeyDown,ye=N.onFocus,we=N.onBlur,Se=N.onClick,be=N.onDragEnter,ae=N.onDragOver,de=N.onDragLeave,he=N.onDrop,me=Fy(N,yQ);return yr(yr(Hw({onKeyDown:ke(Js(_e,ge)),onFocus:ke(Js(ye,Me)),onBlur:ke(Js(we,Ie)),onClick:We(Js(Se,Re)),onDragEnter:je(Js(be,fe)),onDragOver:je(Js(ae,pe)),onDragLeave:je(Js(de,xe)),onDrop:je(Js(he,Ae)),role:typeof Te=="string"&&Te!==""?Te:"presentation"},Le,U),!r&&!E?{tabIndex:0}:{}),me)}},[U,ge,Me,Ie,Re,fe,pe,xe,Ae,E,M,r]),Ke=L.useCallback(function(N){N.stopPropagation()},[]),Q=L.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=N.refKey,Le=se===void 0?"ref":se,Te=N.onChange,_e=N.onClick,ye=Fy(N,xQ),we=Hw({accept:P,multiple:l,type:"file",style:{display:"none"},onChange:We(Js(Te,Ae)),onClick:We(Js(_e,Ke)),tabIndex:-1},Le,q);return yr(yr({},we),ye)}},[q,n,l,Ae,r]);return yr(yr({},O),{},{isFocused:G&&!r,getRootProps:Ne,getInputProps:Q,rootRef:U,inputRef:q,open:We(H)})}function PQ(t,e){switch(e.type){case"focus":return yr(yr({},t),{},{isFocused:!0});case"blur":return yr(yr({},t),{},{isFocused:!1});case"openDialog":return yr(yr({},Vw),{},{isFileDialogActive:!0});case"closeDialog":return yr(yr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return yr(yr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return yr(yr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return yr({},Vw);default:return t}}function i3(){}var wt={},Ww={exports:{}};(function(t,e){(function(n,r){var i="1.0.35",o="",s="?",l="function",a="undefined",u="object",c="string",f="major",d="model",h="name",m="type",y="vendor",x="version",v="architecture",_="console",b="mobile",S="tablet",E="smarttv",M="wearable",T="embedded",R=350,C="Amazon",P="Apple",D="ASUS",z="BlackBerry",V="Browser",U="Chrome",q="Edge",Z="Firefox",ne="Google",O="Huawei",F="LG",G="Microsoft",$="Motorola",W="Opera",oe="Samsung",j="Sharp",Y="Sony",K="Xiaomi",fe="Zebra",pe="Facebook",xe="Chromium OS",Ge="Mac OS",Ae=function(se,Le){var Te={};for(var _e in se)Le[_e]&&Le[_e].length%2===0?Te[_e]=Le[_e].concat(se[_e]):Te[_e]=se[_e];return Te},H=function(se){for(var Le={},Te=0;Te<se.length;Te++)Le[se[Te].toUpperCase()]=se[Te];return Le},ge=function(se,Le){return typeof se===c?Me(Le).indexOf(Me(se))!==-1:!1},Me=function(se){return se.toLowerCase()},Ie=function(se){return typeof se===c?se.replace(/[^\d\.]/g,o).split(".")[0]:r},Re=function(se,Le){if(typeof se===c)return se=se.replace(/^\s\s*/,o),typeof Le===a?se:se.substring(0,R)},We=function(se,Le){for(var Te=0,_e,ye,we,Se,be,ae;Te<Le.length&&!be;){var de=Le[Te],he=Le[Te+1];for(_e=ye=0;_e<de.length&&!be&&de[_e];)if(be=de[_e++].exec(se),be)for(we=0;we<he.length;we++)ae=be[++ye],Se=he[we],typeof Se===u&&Se.length>0?Se.length===2?typeof Se[1]==l?this[Se[0]]=Se[1].call(this,ae):this[Se[0]]=Se[1]:Se.length===3?typeof Se[1]===l&&!(Se[1].exec&&Se[1].test)?this[Se[0]]=ae?Se[1].call(this,ae,Se[2]):r:this[Se[0]]=ae?ae.replace(Se[1],Se[2]):r:Se.length===4&&(this[Se[0]]=ae?Se[3].call(this,ae.replace(Se[1],Se[2])):r):this[Se]=ae||r;Te+=2}},ke=function(se,Le){for(var Te in Le)if(typeof Le[Te]===u&&Le[Te].length>0){for(var _e=0;_e<Le[Te].length;_e++)if(ge(Le[Te][_e],se))return Te===s?r:Te}else if(ge(Le[Te],se))return Te===s?r:Te;return se},je={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},He={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,x],[/opios[\/ ]+([\w\.]+)/i],[x,[h,W+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[h,W]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[h,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[x,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+V],x],[/\bfocus\/([\w\.]+)/i],[x,[h,Z+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[h,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[h,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[h,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[x,[h,Z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+V]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+V],x],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,pe],x],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[h,U+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,U+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[h,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[x,ke,je]],[/(webkit|khtml)\/([\w\.]+)/i],[h,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[h,Z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,x],[/(cobalt)\/([\w\.]+)/i],[h,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,Me]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,o,Me]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,Me]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[y,oe],[m,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[y,oe],[m,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[y,P],[m,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[y,P],[m,S]],[/(macintosh);/i],[d,[y,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[y,j],[m,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[y,O],[m,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[y,O],[m,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[y,K],[m,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[y,K],[m,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[y,"OPPO"],[m,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[y,"Vivo"],[m,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[y,"Realme"],[m,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[y,$],[m,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[y,$],[m,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[y,F],[m,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[y,F],[m,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[y,"Lenovo"],[m,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[y,"Nokia"],[m,b]],[/(pixel c)\b/i],[d,[y,ne],[m,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[y,ne],[m,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[y,Y],[m,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[y,Y],[m,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[y,"OnePlus"],[m,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[y,C],[m,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[y,C],[m,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,y,[m,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[y,z],[m,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[y,D],[m,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[y,D],[m,b]],[/(nexus 9)/i],[d,[y,"HTC"],[m,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[d,/_/g," "],[m,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[y,"Acer"],[m,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[y,"Meizu"],[m,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,d,[m,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,d,[m,S]],[/(surface duo)/i],[d,[y,G],[m,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[y,"Fairphone"],[m,b]],[/(u304aa)/i],[d,[y,"AT&T"],[m,b]],[/\bsie-(\w*)/i],[d,[y,"Siemens"],[m,b]],[/\b(rct\w+) b/i],[d,[y,"RCA"],[m,S]],[/\b(venue[\d ]{2,7}) b/i],[d,[y,"Dell"],[m,S]],[/\b(q(?:mv|ta)\w+) b/i],[d,[y,"Verizon"],[m,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[y,"Barnes & Noble"],[m,S]],[/\b(tm\d{3}\w+) b/i],[d,[y,"NuVision"],[m,S]],[/\b(k88) b/i],[d,[y,"ZTE"],[m,S]],[/\b(nx\d{3}j) b/i],[d,[y,"ZTE"],[m,b]],[/\b(gen\d{3}) b.+49h/i],[d,[y,"Swiss"],[m,b]],[/\b(zur\d{3}) b/i],[d,[y,"Swiss"],[m,S]],[/\b((zeki)?tb.*\b) b/i],[d,[y,"Zeki"],[m,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],d,[m,S]],[/\b(ns-?\w{0,9}) b/i],[d,[y,"Insignia"],[m,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[y,"NextBook"],[m,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],d,[m,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],d,[m,b]],[/\b(ph-1) /i],[d,[y,"Essential"],[m,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[y,"Envizen"],[m,S]],[/\b(trio[-\w\. ]+) b/i],[d,[y,"MachSpeed"],[m,S]],[/\btu_(1491) b/i],[d,[y,"Rotor"],[m,S]],[/(shield[\w ]+) b/i],[d,[y,"Nvidia"],[m,S]],[/(sprint) (\w+)/i],[y,d,[m,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[y,G],[m,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[y,fe],[m,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[y,fe],[m,b]],[/smart-tv.+(samsung)/i],[y,[m,E]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[y,oe],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,F],[m,E]],[/(apple) ?tv/i],[y,[d,P+" TV"],[m,E]],[/crkey/i],[[d,U+"cast"],[y,ne],[m,E]],[/droid.+aft(\w)( bui|\))/i],[d,[y,C],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[y,j],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[d,[y,Y],[m,E]],[/(mitv-\w{5}) bui/i],[d,[y,K],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[y,d,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,Re],[d,Re],[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,d,[m,_]],[/droid.+; (shield) bui/i],[d,[y,"Nvidia"],[m,_]],[/(playstation [345portablevi]+)/i],[d,[y,Y],[m,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[y,G],[m,_]],[/((pebble))app/i],[y,d,[m,M]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[y,P],[m,M]],[/droid.+; (glass) \d/i],[d,[y,ne],[m,M]],[/droid.+; (wt63?0{2,3})\)/i],[d,[y,fe],[m,M]],[/(quest( 2| pro)?)/i],[d,[y,pe],[m,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[m,T]],[/(aeobc)\b/i],[d,[y,C],[m,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[m,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[m,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[h,q+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[x,ke,He]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[x,ke,He]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Ge],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,x],[/\(bb(10);/i],[x,[h,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[h,Z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[h,U+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,xe],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,x],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,x]]},Ke=function(se,Le){if(typeof se===u&&(Le=se,se=r),!(this instanceof Ke))return new Ke(se,Le).getResult();var Te=typeof n!==a&&n.navigator?n.navigator:r,_e=se||(Te&&Te.userAgent?Te.userAgent:o),ye=Te&&Te.userAgentData?Te.userAgentData:r,we=Le?Ae(Ne,Le):Ne,Se=Te&&Te.userAgent==_e;return this.getBrowser=function(){var be={};return be[h]=r,be[x]=r,We.call(be,_e,we.browser),be[f]=Ie(be[x]),Se&&Te&&Te.brave&&typeof Te.brave.isBrave==l&&(be[h]="Brave"),be},this.getCPU=function(){var be={};return be[v]=r,We.call(be,_e,we.cpu),be},this.getDevice=function(){var be={};return be[y]=r,be[d]=r,be[m]=r,We.call(be,_e,we.device),Se&&!be[m]&&ye&&ye.mobile&&(be[m]=b),Se&&be[d]=="Macintosh"&&Te&&typeof Te.standalone!==a&&Te.maxTouchPoints&&Te.maxTouchPoints>2&&(be[d]="iPad",be[m]=S),be},this.getEngine=function(){var be={};return be[h]=r,be[x]=r,We.call(be,_e,we.engine),be},this.getOS=function(){var be={};return be[h]=r,be[x]=r,We.call(be,_e,we.os),Se&&!be[h]&&ye&&ye.platform!="Unknown"&&(be[h]=ye.platform.replace(/chrome os/i,xe).replace(/macos/i,Ge)),be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _e},this.setUA=function(be){return _e=typeof be===c&&be.length>R?Re(be,R):be,this},this.setUA(_e),this};Ke.VERSION=i,Ke.BROWSER=H([h,x,f]),Ke.CPU=H([v]),Ke.DEVICE=H([d,y,m,_,b,E,S,M,T]),Ke.ENGINE=Ke.OS=H([h,x]),t.exports&&(e=t.exports=Ke),e.UAParser=Ke;var Q=typeof n!==a&&(n.jQuery||n.Zepto);if(Q&&!Q.ua){var N=new Ke;Q.ua=N.getResult(),Q.ua.get=function(){return N.getUA()},Q.ua.set=function(se){N.setUA(se);var Le=N.getResult();for(var Te in Le)Q.ua[Te]=Le[Te]}}})(typeof window=="object"?window:Ku)})(Ww,Ww.exports);var IQ=Ww.exports;Object.defineProperty(wt,"__esModule",{value:!0});function LQ(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Di=L,rr=LQ(Di),HF=IQ,du=new HF,Bi=du.getBrowser(),kQ=du.getCPU(),Uo=du.getDevice(),S2=du.getEngine(),hu=du.getOS(),Gm=du.getUA(),VF=function(e){return du.setUA(e)},Hm=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new HF(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},WF=Object.freeze({ClientUAInstance:du,browser:Bi,cpu:kQ,device:Uo,engine:S2,os:hu,ua:Gm,setUa:VF,parseUserAgent:Hm});function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mp=function(e){return typeof e}:Mp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function OQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FQ(t,e,n){return e&&s3(t.prototype,e),n&&s3(t,n),t}function DQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jw(){return jw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function UQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qw(t,e)}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$w(t)}function qw(t,e){return qw=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qw(t,e)}function BQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cs(t,e){if(t==null)return{};var n=BQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zQ(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lv(t)}function GQ(t,e){return HQ(t)||VQ(t,e)||WQ(t,e)||jQ()}function HQ(t){if(Array.isArray(t))return t}function VQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function WQ(t,e){if(t){if(typeof t=="string")return a3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a3(t,e)}}function a3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ki={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},mo={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},$d={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},$Q={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},qQ=function(e){switch(e){case ki.Mobile:return{isMobile:!0};case ki.Tablet:return{isTablet:!0};case ki.SmartTv:return{isSmartTV:!0};case ki.Console:return{isConsole:!0};case ki.Wearable:return{isWearable:!0};case ki.Browser:return{isBrowser:!0};case ki.Embedded:return{isEmbedded:!0};default:return $Q}},XQ=function(e){return VF(e)},Wt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},w2=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},E2=function(e){var n=w2();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},YQ=function(e,n,r,i,o){return{isBrowser:e,browserMajorVersion:Wt(n.major),browserFullVersion:Wt(n.version),browserName:Wt(n.name),engineName:Wt(r.name),engineVersion:Wt(r.version),osName:Wt(i.name),osVersion:Wt(i.version),userAgent:Wt(o)}},l3=function(e,n,r,i){return NQ({},e,{vendor:Wt(n.vendor),model:Wt(n.model),os:Wt(r.name),osVersion:Wt(r.version),ua:Wt(i)})},KQ=function(e,n,r,i){return{isSmartTV:e,engineName:Wt(n.name),engineVersion:Wt(n.version),osName:Wt(r.name),osVersion:Wt(r.version),userAgent:Wt(i)}},QQ=function(e,n,r,i){return{isConsole:e,engineName:Wt(n.name),engineVersion:Wt(n.version),osName:Wt(r.name),osVersion:Wt(r.version),userAgent:Wt(i)}},JQ=function(e,n,r,i){return{isWearable:e,engineName:Wt(n.name),engineVersion:Wt(n.version),osName:Wt(r.name),osVersion:Wt(r.version),userAgent:Wt(i)}},ZQ=function(e,n,r,i,o){return{isEmbedded:e,vendor:Wt(n.vendor),model:Wt(n.model),engineName:Wt(r.name),engineVersion:Wt(r.version),osName:Wt(i.name),osVersion:Wt(i.version),userAgent:Wt(o)}};function eJ(t){var e=t?Hm(t):WF,n=e.device,r=e.browser,i=e.engine,o=e.os,s=e.ua,l=qQ(n.type),a=l.isBrowser,u=l.isMobile,c=l.isTablet,f=l.isSmartTV,d=l.isConsole,h=l.isWearable,m=l.isEmbedded;if(a)return YQ(a,r,i,o,s);if(f)return KQ(f,i,o,s);if(d)return QQ(d,i,o,s);if(u||c)return l3(l,n,o,s);if(h)return JQ(h,i,o,s);if(m)return ZQ(m,n,i,o,s)}var jF=function(e){var n=e.type;return n===ki.Mobile},$F=function(e){var n=e.type;return n===ki.Tablet},qF=function(e){var n=e.type;return n===ki.Mobile||n===ki.Tablet},XF=function(e){var n=e.type;return n===ki.SmartTv},Dy=function(e){var n=e.type;return n===ki.Browser},YF=function(e){var n=e.type;return n===ki.Wearable},KF=function(e){var n=e.type;return n===ki.Console},QF=function(e){var n=e.type;return n===ki.Embedded},JF=function(e){var n=e.vendor;return Wt(n)},ZF=function(e){var n=e.model;return Wt(n)},eD=function(e){var n=e.type;return Wt(n,"browser")},tD=function(e){var n=e.name;return n===$d.Android},nD=function(e){var n=e.name;return n===$d.Windows},rD=function(e){var n=e.name;return n===$d.MAC_OS},iD=function(e){var n=e.name;return n===$d.WindowsPhone},oD=function(e){var n=e.name;return n===$d.IOS},sD=function(e){var n=e.version;return Wt(n)},aD=function(e){var n=e.name;return Wt(n)},lD=function(e){var n=e.name;return n===mo.Chrome},uD=function(e){var n=e.name;return n===mo.Firefox},cD=function(e){var n=e.name;return n===mo.Chromium},Uy=function(e){var n=e.name;return n===mo.Edge},fD=function(e){var n=e.name;return n===mo.Yandex},dD=function(e){var n=e.name;return n===mo.Safari||n===mo.MobileSafari},hD=function(e){var n=e.name;return n===mo.MobileSafari},pD=function(e){var n=e.name;return n===mo.Opera},mD=function(e){var n=e.name;return n===mo.InternetExplorer||n===mo.Ie},gD=function(e){var n=e.name;return n===mo.MIUI},vD=function(e){var n=e.name;return n===mo.SamsungBrowser},yD=function(e){var n=e.version;return Wt(n)},xD=function(e){var n=e.major;return Wt(n)},bD=function(e){var n=e.name;return Wt(n)},_D=function(e){var n=e.name;return Wt(n)},SD=function(e){var n=e.version;return Wt(n)},wD=function(){var e=w2(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},md=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},ED=function(){var e=w2();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},sa=function(){return E2("iPad")},MD=function(){return E2("iPhone")},TD=function(){return E2("iPod")},AD=function(e){return Wt(e)};function CD(t){var e=t||WF,n=e.device,r=e.browser,i=e.os,o=e.engine,s=e.ua;return{isSmartTV:XF(n),isConsole:KF(n),isWearable:YF(n),isEmbedded:QF(n),isMobileSafari:hD(r)||sa(),isChromium:cD(r),isMobile:qF(n)||sa(),isMobileOnly:jF(n),isTablet:$F(n)||sa(),isBrowser:Dy(n),isDesktop:Dy(n),isAndroid:tD(i),isWinPhone:iD(i),isIOS:oD(i)||sa(),isChrome:lD(r),isFirefox:uD(r),isSafari:dD(r),isOpera:pD(r),isIE:mD(r),osVersion:sD(i),osName:aD(i),fullBrowserVersion:yD(r),browserVersion:xD(r),browserName:bD(r),mobileVendor:JF(n),mobileModel:ZF(n),engineName:_D(o),engineVersion:SD(o),getUA:AD(s),isEdge:Uy(r)||md(s),isYandex:fD(r),deviceType:eD(n),isIOS13:ED(),isIPad13:sa(),isIPhone13:MD(),isIPod13:TD(),isElectron:wD(),isEdgeChromium:md(s),isLegacyEdge:Uy(r)&&!md(s),isWindows:nD(i),isMacOs:rD(i),isMIUI:gD(r),isSamsungBrowser:vD(r)}}var RD=XF(Uo),PD=KF(Uo),ID=YF(Uo),tJ=QF(Uo),nJ=hD(Bi)||sa(),rJ=cD(Bi),px=qF(Uo)||sa(),LD=jF(Uo),kD=$F(Uo)||sa(),ND=Dy(Uo),iJ=Dy(Uo),OD=tD(hu),FD=iD(hu),DD=oD(hu)||sa(),oJ=lD(Bi),sJ=uD(Bi),aJ=dD(Bi),lJ=pD(Bi),UD=mD(Bi),uJ=sD(hu),cJ=aD(hu),fJ=yD(Bi),dJ=xD(Bi),hJ=bD(Bi),pJ=JF(Uo),mJ=ZF(Uo),gJ=_D(S2),vJ=SD(S2),yJ=AD(Gm),xJ=Uy(Bi)||md(Gm),bJ=fD(Bi),_J=eD(Uo),SJ=ED(),wJ=sa(),EJ=MD(),MJ=TD(),TJ=wD(),AJ=md(Gm),CJ=Uy(Bi)&&!md(Gm),RJ=nD(hu),PJ=rD(hu),IJ=gD(Bi),LJ=vD(Bi),kJ=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=Hm(e),r=n.device,i=n.browser,o=n.os,s=n.engine,l=n.ua;return CD({device:r,browser:i,os:o,engine:s,ua:l})},NJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return OD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},OJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return ND?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},FJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return UD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},DJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return DD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},UJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return px?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},BJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return kD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},zJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return FD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},GJ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=cs(e,["renderWithFragment","children","viewClassName","style"]);return LD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},HJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return RD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},VJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return PD?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},WJ=function(e){var n=e.renderWithFragment,r=e.children,i=cs(e,["renderWithFragment","children"]);return ID?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",i,r):null},jJ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,o=cs(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?rr.createElement(Di.Fragment,null,r):rr.createElement("div",o,r):null};function $J(t){return function(e){UQ(n,e);function n(r){var i;return OQ(this,n),i=zQ(this,$w(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Lv(i)),i.onOrientationChange=i.onOrientationChange.bind(Lv(i)),i.onPageLoad=i.onPageLoad.bind(Lv(i)),i.state={isLandscape:!1,isPortrait:!1},i}return FQ(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":Mp(window))!==void 0&&px&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return rr.createElement(t,jw({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(rr.Component)}function qJ(){var t=Di.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=GQ(t,2),n=e[0],r=e[1],i=Di.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,s={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==s.orientation&&r(s)},[n.orientation]);return Di.useEffect(function(){return(typeof window>"u"?"undefined":Mp(window))!==void 0&&px&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function BD(t){var e=t||window.navigator.userAgent;return Hm(e)}function XJ(t){var e=t||window.navigator.userAgent,n=BD(e),r=CD(n);return[r,n]}wt.AndroidView=NJ;wt.BrowserTypes=mo;wt.BrowserView=OJ;wt.ConsoleView=VJ;wt.CustomView=jJ;wt.IEView=FJ;wt.IOSView=DJ;wt.MobileOnlyView=GJ;wt.MobileView=UJ;wt.OsTypes=$d;wt.SmartTVView=HJ;wt.TabletView=BJ;wt.WearableView=WJ;wt.WinPhoneView=zJ;wt.browserName=hJ;wt.browserVersion=dJ;wt.deviceDetect=eJ;wt.deviceType=_J;wt.engineName=gJ;wt.engineVersion=vJ;wt.fullBrowserVersion=fJ;wt.getSelectorsByUserAgent=kJ;wt.getUA=yJ;wt.isAndroid=OD;wt.isBrowser=ND;wt.isChrome=oJ;wt.isChromium=rJ;wt.isConsole=PD;wt.isDesktop=iJ;wt.isEdge=xJ;wt.isEdgeChromium=AJ;wt.isElectron=TJ;wt.isEmbedded=tJ;wt.isFirefox=sJ;wt.isIE=UD;wt.isIOS=DD;wt.isIOS13=SJ;wt.isIPad13=wJ;wt.isIPhone13=EJ;wt.isIPod13=MJ;wt.isLegacyEdge=CJ;wt.isMIUI=IJ;wt.isMacOs=PJ;var YJ=wt.isMobile=px;wt.isMobileOnly=LD;wt.isMobileSafari=nJ;wt.isOpera=lJ;wt.isSafari=aJ;wt.isSamsungBrowser=LJ;wt.isSmartTV=RD;wt.isTablet=kD;wt.isWearable=ID;wt.isWinPhone=FD;wt.isWindows=RJ;wt.isYandex=bJ;wt.mobileModel=mJ;wt.mobileVendor=pJ;wt.osName=cJ;wt.osVersion=uJ;wt.parseUserAgent=Hm;wt.setUserAgent=XQ;wt.useDeviceData=BD;wt.useDeviceSelectors=XJ;wt.useMobileOrientation=qJ;wt.withOrientationChange=$J;const KJ=()=>{const[t,e]=L.useState("");return{youtubeLink:t,setYoutubeLink:e}},QJ=!1,zD=t=>{const e=L.useCallback(n=>{t.onDrop(n)},[t]);return KJ(),X.jsx(yn,{color:["red","white"],border:1,bgcolor:["#83234266","transparent"],sx:{borderStyle:"dashed"},display:"flex",justifyContent:"center",alignItems:"center",width:"100%",children:X.jsx(CQ,{accept:{"audio/midi":[".mid"]},onDrop:e,children:({getRootProps:n,getInputProps:r})=>{const i=n();return i.style={...i.style,minWidth:"100%",width:"100%"},X.jsxs("div",{...i,children:[X.jsx("input",{...r()}),X.jsx("p",{style:{textAlign:"center"},children:YJ?"midi file":"Drag 'n' drop midi file here, or click to select file"}),QJ]})}})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mx="153",JJ={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ZJ={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GD=0,Xw=1,HD=2,eZ=3,VD=0,gx=1,Tp=2,As=3,xa=0,xi=1,Ao=2,tZ=2,Xa=0,uc=1,By=2,Yw=3,Kw=4,WD=5,Xu=100,jD=101,$D=102,Qw=103,Jw=104,qD=200,XD=201,YD=202,KD=203,M2=204,T2=205,QD=206,JD=207,ZD=208,eU=209,tU=210,nU=0,rU=1,iU=2,zy=3,oU=4,sU=5,aU=6,lU=7,Vm=0,uU=1,cU=2,Fs=0,fU=1,dU=2,hU=3,A2=4,pU=5,vx=300,nu=301,ru=302,lm=303,um=304,qd=306,cm=1e3,Oi=1001,fm=1002,Br=1003,Gy=1004,nZ=1004,Ap=1005,rZ=1005,br=1006,C2=1007,iZ=1007,iu=1008,oZ=1008,ma=1009,mU=1010,gU=1011,yx=1012,R2=1013,$a=1014,la=1015,Pd=1016,P2=1017,I2=1018,ql=1020,vU=1021,ao=1023,yU=1024,xU=1025,Xl=1026,Sc=1027,bU=1028,L2=1029,_U=1030,k2=1031,N2=1033,kv=33776,Nv=33777,Ov=33778,Fv=33779,Zw=35840,eE=35841,tE=35842,nE=35843,SU=36196,rE=37492,iE=37496,oE=37808,sE=37809,aE=37810,lE=37811,uE=37812,cE=37813,fE=37814,dE=37815,hE=37816,pE=37817,mE=37818,gE=37819,vE=37820,yE=37821,Dv=36492,wU=36283,xE=36284,bE=36285,_E=36286,EU=2200,MU=2201,TU=2202,dm=2300,hm=2301,Uv=2302,nc=2400,rc=2401,pm=2402,xx=2500,O2=2501,sZ=0,aZ=1,lZ=2,F2=3e3,Yl=3001,AU=3200,D2=3201,pu=0,CU=1,Kl="",Qt="srgb",Us="srgb-linear",U2="display-p3",uZ=0,Bv=7680,cZ=7681,fZ=7682,dZ=7683,hZ=34055,pZ=34056,mZ=5386,gZ=512,vZ=513,yZ=514,xZ=515,bZ=516,_Z=517,SZ=518,RU=519,PU=512,IU=513,LU=514,kU=515,NU=516,OU=517,FU=518,DU=519,mm=35044,wZ=35048,EZ=35040,MZ=35045,TZ=35049,AZ=35041,CZ=35046,RZ=35050,PZ=35042,IZ="100",SE="300 es",Hy=1035,ua=2e3,gm=2001;class sl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let u3=1234567;const cc=Math.PI/180,Id=180/Math.PI;function ko(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ri[t&255]+Ri[t>>8&255]+Ri[t>>16&255]+Ri[t>>24&255]+"-"+Ri[e&255]+Ri[e>>8&255]+"-"+Ri[e>>16&15|64]+Ri[e>>24&255]+"-"+Ri[n&63|128]+Ri[n>>8&255]+"-"+Ri[n>>16&255]+Ri[n>>24&255]+Ri[r&255]+Ri[r>>8&255]+Ri[r>>16&255]+Ri[r>>24&255]).toLowerCase()}function Lr(t,e,n){return Math.max(e,Math.min(n,t))}function B2(t,e){return(t%e+e)%e}function LZ(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function kZ(t,e,n){return t!==e?(n-t)/(e-t):0}function Cp(t,e,n){return(1-n)*t+n*e}function NZ(t,e,n,r){return Cp(t,e,1-Math.exp(-n*r))}function OZ(t,e=1){return e-Math.abs(B2(t,e*2)-e)}function FZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function DZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function UZ(t,e){return t+Math.floor(Math.random()*(e-t+1))}function BZ(t,e){return t+Math.random()*(e-t)}function zZ(t){return t*(.5-Math.random())}function GZ(t){t!==void 0&&(u3=t);let e=u3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function HZ(t){return t*cc}function VZ(t){return t*Id}function wE(t){return(t&t-1)===0&&t!==0}function UU(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Vy(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function WZ(t,e,n,r,i){const o=Math.cos,s=Math.sin,l=o(n/2),a=s(n/2),u=o((e+r)/2),c=s((e+r)/2),f=o((e-r)/2),d=s((e-r)/2),h=o((r-e)/2),m=s((r-e)/2);switch(i){case"XYX":t.set(l*c,a*f,a*d,l*u);break;case"YZY":t.set(a*d,l*c,a*f,l*u);break;case"ZXZ":t.set(a*f,a*d,l*c,l*u);break;case"XZX":t.set(l*c,a*m,a*h,l*u);break;case"YXY":t.set(a*h,l*c,a*m,l*u);break;case"ZYZ":t.set(a*m,a*h,l*c,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Po(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function un(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const jZ={DEG2RAD:cc,RAD2DEG:Id,generateUUID:ko,clamp:Lr,euclideanModulo:B2,mapLinear:LZ,inverseLerp:kZ,lerp:Cp,damp:NZ,pingpong:OZ,smoothstep:FZ,smootherstep:DZ,randInt:UZ,randFloat:BZ,randFloatSpread:zZ,seededRandom:GZ,degToRad:HZ,radToDeg:VZ,isPowerOfTwo:wE,ceilPowerOfTwo:UU,floorPowerOfTwo:Vy,setQuaternionFromProperEuler:WZ,normalize:un,denormalize:Po};class it{constructor(e=0,n=0){it.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Lr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tn{constructor(e,n,r,i,o,s,l,a,u){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,l,a,u)}set(e,n,r,i,o,s,l,a,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=l,c[3]=n,c[4]=o,c[5]=a,c[6]=r,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],l=r[3],a=r[6],u=r[1],c=r[4],f=r[7],d=r[2],h=r[5],m=r[8],y=i[0],x=i[3],v=i[6],_=i[1],b=i[4],S=i[7],E=i[2],M=i[5],T=i[8];return o[0]=s*y+l*_+a*E,o[3]=s*x+l*b+a*M,o[6]=s*v+l*S+a*T,o[1]=u*y+c*_+f*E,o[4]=u*x+c*b+f*M,o[7]=u*v+c*S+f*T,o[2]=d*y+h*_+m*E,o[5]=d*x+h*b+m*M,o[8]=d*v+h*S+m*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],a=e[6],u=e[7],c=e[8];return n*s*c-n*l*u-r*o*c+r*l*a+i*o*u-i*s*a}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],a=e[6],u=e[7],c=e[8],f=c*s-l*u,d=l*a-c*o,h=u*o-s*a,m=n*f+r*d+i*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/m;return e[0]=f*y,e[1]=(i*u-c*r)*y,e[2]=(l*r-i*s)*y,e[3]=d*y,e[4]=(c*n-i*a)*y,e[5]=(i*o-l*n)*y,e[6]=h*y,e[7]=(r*a-u*n)*y,e[8]=(s*n-r*o)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,l){const a=Math.cos(o),u=Math.sin(o);return this.set(r*a,r*u,-r*(a*s+u*l)+s+e,-i*u,i*a,-i*(-u*s+a*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(I_.makeScale(e,n)),this}rotate(e){return this.premultiply(I_.makeRotation(-e)),this}translate(e,n){return this.premultiply(I_.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const I_=new tn;function BU(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const $Z={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jf(t,e){return new $Z[t](e)}function vm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const c3={};function Rp(t){t in c3||(c3[t]=!0,console.warn(t))}function gd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function L_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const qZ=new tn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),XZ=new tn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function YZ(t){return t.convertSRGBToLinear().applyMatrix3(XZ)}function KZ(t){return t.applyMatrix3(qZ).convertLinearToSRGB()}const QZ={[Us]:t=>t,[Qt]:t=>t.convertSRGBToLinear(),[U2]:YZ},JZ={[Us]:t=>t,[Qt]:t=>t.convertLinearToSRGB(),[U2]:KZ},Yo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Us},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=QZ[e],i=JZ[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let of;class z2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{of===void 0&&(of=vm("canvas")),of.width=e.width,of.height=e.height;const r=of.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=of}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=vm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=gd(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(gd(n[r]/255)*255):n[r]=gd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZZ=0;class ic{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZZ++}),this.uuid=ko(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,l=i.length;s<l;s++)i[s].isDataTexture?o.push(k_(i[s].image)):o.push(k_(i[s]))}else o=k_(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function k_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?z2.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let eee=0;class wr extends sl{constructor(e=wr.DEFAULT_IMAGE,n=wr.DEFAULT_MAPPING,r=Oi,i=Oi,o=br,s=iu,l=ao,a=ma,u=wr.DEFAULT_ANISOTROPY,c=Kl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eee++}),this.uuid=ko(),this.name="",this.source=new ic(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=a,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(Rp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Yl?Qt:Kl),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case cm:e.x=e.x-Math.floor(e.x);break;case Oi:e.x=e.x<0?0:1;break;case fm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case cm:e.y=e.y-Math.floor(e.y);break;case Oi:e.y=e.y<0?0:1;break;case fm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Rp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Qt?Yl:F2}set encoding(e){Rp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Yl?Qt:Kl}}wr.DEFAULT_IMAGE=null;wr.DEFAULT_MAPPING=vx;wr.DEFAULT_ANISOTROPY=1;class Un{constructor(e=0,n=0,r=0,i=1){Un.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const a=e.elements,u=a[0],c=a[4],f=a[8],d=a[1],h=a[5],m=a[9],y=a[2],x=a[6],v=a[10];if(Math.abs(c-d)<.01&&Math.abs(f-y)<.01&&Math.abs(m-x)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+y)<.1&&Math.abs(m+x)<.1&&Math.abs(u+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,S=(h+1)/2,E=(v+1)/2,M=(c+d)/4,T=(f+y)/4,R=(m+x)/4;return b>S&&b>E?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=M/r,o=T/r):S>E?S<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(S),r=M/i,o=R/i):E<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(E),r=T/o,i=R/o),this.set(r,i,o,n),this}let _=Math.sqrt((x-m)*(x-m)+(f-y)*(f-y)+(d-c)*(d-c));return Math.abs(_)<.001&&(_=1),this.x=(x-m)/_,this.y=(f-y)/_,this.z=(d-c)/_,this.w=Math.acos((u+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bs extends sl{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Un(0,0,e,n),this.scissorTest=!1,this.viewport=new Un(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Rp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Yl?Qt:Kl),this.texture=new wr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:br,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new ic(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bx extends wr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Br,this.minFilter=Br,this.wrapR=Oi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class tee extends Bs{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new bx(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class G2 extends wr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Br,this.minFilter=Br,this.wrapR=Oi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nee extends Bs{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new G2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class ree extends Bs{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=o.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ho{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,l){let a=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=o[s+0],h=o[s+1],m=o[s+2],y=o[s+3];if(l===0){e[n+0]=a,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(l===1){e[n+0]=d,e[n+1]=h,e[n+2]=m,e[n+3]=y;return}if(f!==y||a!==d||u!==h||c!==m){let x=1-l;const v=a*d+u*h+c*m+f*y,_=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const E=Math.sqrt(b),M=Math.atan2(E,v*_);x=Math.sin(x*M)/E,l=Math.sin(l*M)/E}const S=l*_;if(a=a*x+d*S,u=u*x+h*S,c=c*x+m*S,f=f*x+y*S,x===1-l){const E=1/Math.sqrt(a*a+u*u+c*c+f*f);a*=E,u*=E,c*=E,f*=E}}e[n]=a,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,s){const l=r[i],a=r[i+1],u=r[i+2],c=r[i+3],f=o[s],d=o[s+1],h=o[s+2],m=o[s+3];return e[n]=l*m+c*f+a*h-u*d,e[n+1]=a*m+c*d+u*f-l*h,e[n+2]=u*m+c*h+l*d-a*f,e[n+3]=c*m-l*f-a*d-u*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,o=e._z,s=e._order,l=Math.cos,a=Math.sin,u=l(r/2),c=l(i/2),f=l(o/2),d=a(r/2),h=a(i/2),m=a(o/2);switch(s){case"XYZ":this._x=d*c*f+u*h*m,this._y=u*h*f-d*c*m,this._z=u*c*m+d*h*f,this._w=u*c*f-d*h*m;break;case"YXZ":this._x=d*c*f+u*h*m,this._y=u*h*f-d*c*m,this._z=u*c*m-d*h*f,this._w=u*c*f+d*h*m;break;case"ZXY":this._x=d*c*f-u*h*m,this._y=u*h*f+d*c*m,this._z=u*c*m+d*h*f,this._w=u*c*f-d*h*m;break;case"ZYX":this._x=d*c*f-u*h*m,this._y=u*h*f+d*c*m,this._z=u*c*m-d*h*f,this._w=u*c*f+d*h*m;break;case"YZX":this._x=d*c*f+u*h*m,this._y=u*h*f+d*c*m,this._z=u*c*m-d*h*f,this._w=u*c*f-d*h*m;break;case"XZY":this._x=d*c*f-u*h*m,this._y=u*h*f-d*c*m,this._z=u*c*m+d*h*f,this._w=u*c*f+d*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],l=n[5],a=n[9],u=n[2],c=n[6],f=n[10],d=r+l+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-a)*h,this._y=(o-u)*h,this._z=(s-i)*h}else if(r>l&&r>f){const h=2*Math.sqrt(1+r-l-f);this._w=(c-a)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+u)/h}else if(l>f){const h=2*Math.sqrt(1+l-r-f);this._w=(o-u)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(a+c)/h}else{const h=2*Math.sqrt(1+f-r-l);this._w=(s-i)/h,this._x=(o+u)/h,this._y=(a+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Lr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,l=n._x,a=n._y,u=n._z,c=n._w;return this._x=r*c+s*l+i*u-o*a,this._y=i*c+s*a+o*l-r*u,this._z=o*c+s*u+r*a-i*l,this._w=s*c-r*l-i*a-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let l=s*e._w+r*e._x+i*e._y+o*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const a=1-l*l;if(a<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(a),c=Math.atan2(u,l),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=s*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ue{constructor(e=0,n=0,r=0){ue.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(f3.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(f3.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,l=e.z,a=e.w,u=a*n+s*i-l*r,c=a*r+l*n-o*i,f=a*i+o*r-s*n,d=-o*n-s*r-l*i;return this.x=u*a+d*-o+c*-l-f*-s,this.y=c*a+d*-s+f*-o-u*-l,this.z=f*a+d*-l+u*-s-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,l=n.y,a=n.z;return this.x=i*a-o*l,this.y=o*s-r*a,this.z=r*l-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return N_.copy(this).projectOnVector(e),this.sub(N_)}reflect(e){return this.sub(N_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Lr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const N_=new ue,f3=new ho;class Gs{constructor(e=new ue(1/0,1/0,1/0),n=new ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(La.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(La.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=La.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),sf.copy(e.boundingBox),sf.applyMatrix4(e.matrixWorld),this.union(sf);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const o=i.attributes.position;for(let s=0,l=o.count;s<l;s++)La.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(La)}else i.boundingBox===null&&i.computeBoundingBox(),sf.copy(i.boundingBox),sf.applyMatrix4(e.matrixWorld),this.union(sf)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,La),La.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Oh),x0.subVectors(this.max,Oh),af.subVectors(e.a,Oh),lf.subVectors(e.b,Oh),uf.subVectors(e.c,Oh),_l.subVectors(lf,af),Sl.subVectors(uf,lf),Ru.subVectors(af,uf);let n=[0,-_l.z,_l.y,0,-Sl.z,Sl.y,0,-Ru.z,Ru.y,_l.z,0,-_l.x,Sl.z,0,-Sl.x,Ru.z,0,-Ru.x,-_l.y,_l.x,0,-Sl.y,Sl.x,0,-Ru.y,Ru.x,0];return!O_(n,af,lf,uf,x0)||(n=[1,0,0,0,1,0,0,0,1],!O_(n,af,lf,uf,x0))?!1:(b0.crossVectors(_l,Sl),n=[b0.x,b0.y,b0.z],O_(n,af,lf,uf,x0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,La).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(La).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ia[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ia[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ia[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ia[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ia[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ia[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ia[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ia[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ia),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ia=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue],La=new ue,sf=new Gs,af=new ue,lf=new ue,uf=new ue,_l=new ue,Sl=new ue,Ru=new ue,Oh=new ue,x0=new ue,b0=new ue,Pu=new ue;function O_(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Pu.fromArray(t,o);const l=i.x*Math.abs(Pu.x)+i.y*Math.abs(Pu.y)+i.z*Math.abs(Pu.z),a=e.dot(Pu),u=n.dot(Pu),c=r.dot(Pu);if(Math.max(-Math.max(a,u,c),Math.min(a,u,c))>l)return!1}return!0}const iee=new Gs,Fh=new ue,F_=new ue;class fs{constructor(e=new ue,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):iee.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fh.subVectors(e,this.center);const n=Fh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Fh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(F_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fh.copy(e.center).add(F_)),this.expandByPoint(Fh.copy(e.center).sub(F_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ka=new ue,D_=new ue,_0=new ue,wl=new ue,U_=new ue,S0=new ue,B_=new ue;class Xd{constructor(e=new ue,n=new ue(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ka)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ka.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ka.copy(this.origin).addScaledVector(this.direction,n),ka.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){D_.copy(e).add(n).multiplyScalar(.5),_0.copy(n).sub(e).normalize(),wl.copy(this.origin).sub(D_);const o=e.distanceTo(n)*.5,s=-this.direction.dot(_0),l=wl.dot(this.direction),a=-wl.dot(_0),u=wl.lengthSq(),c=Math.abs(1-s*s);let f,d,h,m;if(c>0)if(f=s*a-l,d=s*l-a,m=o*c,f>=0)if(d>=-m)if(d<=m){const y=1/c;f*=y,d*=y,h=f*(f+s*d+2*l)+d*(s*f+d+2*a)+u}else d=o,f=Math.max(0,-(s*d+l)),h=-f*f+d*(d+2*a)+u;else d=-o,f=Math.max(0,-(s*d+l)),h=-f*f+d*(d+2*a)+u;else d<=-m?(f=Math.max(0,-(-s*o+l)),d=f>0?-o:Math.min(Math.max(-o,-a),o),h=-f*f+d*(d+2*a)+u):d<=m?(f=0,d=Math.min(Math.max(-o,-a),o),h=d*(d+2*a)+u):(f=Math.max(0,-(s*o+l)),d=f>0?o:Math.min(Math.max(-o,-a),o),h=-f*f+d*(d+2*a)+u);else d=s>0?-o:o,f=Math.max(0,-(s*d+l)),h=-f*f+d*(d+2*a)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(D_).addScaledVector(_0,d),h}intersectSphere(e,n){ka.subVectors(e.center,this.origin);const r=ka.dot(this.direction),i=ka.dot(ka)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),l=r-s,a=r+s;return a<0?null:l<0?this.at(a,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,l,a;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(o=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),f>=0?(l=(e.min.z-d.z)*f,a=(e.max.z-d.z)*f):(l=(e.max.z-d.z)*f,a=(e.min.z-d.z)*f),r>a||l>i)||((l>r||r!==r)&&(r=l),(a<i||i!==i)&&(i=a),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ka)!==null}intersectTriangle(e,n,r,i,o){U_.subVectors(n,e),S0.subVectors(r,e),B_.crossVectors(U_,S0);let s=this.direction.dot(B_),l;if(s>0){if(i)return null;l=1}else if(s<0)l=-1,s=-s;else return null;wl.subVectors(this.origin,e);const a=l*this.direction.dot(S0.crossVectors(wl,S0));if(a<0)return null;const u=l*this.direction.dot(U_.cross(wl));if(u<0||a+u>s)return null;const c=-l*wl.dot(B_);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(e,n,r,i,o,s,l,a,u,c,f,d,h,m,y,x){Xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,l,a,u,c,f,d,h,m,y,x)}set(e,n,r,i,o,s,l,a,u,c,f,d,h,m,y,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=o,v[5]=s,v[9]=l,v[13]=a,v[2]=u,v[6]=c,v[10]=f,v[14]=d,v[3]=h,v[7]=m,v[11]=y,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/cf.setFromMatrixColumn(e,0).length(),o=1/cf.setFromMatrixColumn(e,1).length(),s=1/cf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),l=Math.sin(r),a=Math.cos(i),u=Math.sin(i),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=s*c,h=s*f,m=l*c,y=l*f;n[0]=a*c,n[4]=-a*f,n[8]=u,n[1]=h+m*u,n[5]=d-y*u,n[9]=-l*a,n[2]=y-d*u,n[6]=m+h*u,n[10]=s*a}else if(e.order==="YXZ"){const d=a*c,h=a*f,m=u*c,y=u*f;n[0]=d+y*l,n[4]=m*l-h,n[8]=s*u,n[1]=s*f,n[5]=s*c,n[9]=-l,n[2]=h*l-m,n[6]=y+d*l,n[10]=s*a}else if(e.order==="ZXY"){const d=a*c,h=a*f,m=u*c,y=u*f;n[0]=d-y*l,n[4]=-s*f,n[8]=m+h*l,n[1]=h+m*l,n[5]=s*c,n[9]=y-d*l,n[2]=-s*u,n[6]=l,n[10]=s*a}else if(e.order==="ZYX"){const d=s*c,h=s*f,m=l*c,y=l*f;n[0]=a*c,n[4]=m*u-h,n[8]=d*u+y,n[1]=a*f,n[5]=y*u+d,n[9]=h*u-m,n[2]=-u,n[6]=l*a,n[10]=s*a}else if(e.order==="YZX"){const d=s*a,h=s*u,m=l*a,y=l*u;n[0]=a*c,n[4]=y-d*f,n[8]=m*f+h,n[1]=f,n[5]=s*c,n[9]=-l*c,n[2]=-u*c,n[6]=h*f+m,n[10]=d-y*f}else if(e.order==="XZY"){const d=s*a,h=s*u,m=l*a,y=l*u;n[0]=a*c,n[4]=-f,n[8]=u*c,n[1]=d*f+y,n[5]=s*c,n[9]=h*f-m,n[2]=m*f-h,n[6]=l*c,n[10]=y*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(oee,e,see)}lookAt(e,n,r){const i=this.elements;return wo.subVectors(e,n),wo.lengthSq()===0&&(wo.z=1),wo.normalize(),El.crossVectors(r,wo),El.lengthSq()===0&&(Math.abs(r.z)===1?wo.x+=1e-4:wo.z+=1e-4,wo.normalize(),El.crossVectors(r,wo)),El.normalize(),w0.crossVectors(wo,El),i[0]=El.x,i[4]=w0.x,i[8]=wo.x,i[1]=El.y,i[5]=w0.y,i[9]=wo.y,i[2]=El.z,i[6]=w0.z,i[10]=wo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],l=r[4],a=r[8],u=r[12],c=r[1],f=r[5],d=r[9],h=r[13],m=r[2],y=r[6],x=r[10],v=r[14],_=r[3],b=r[7],S=r[11],E=r[15],M=i[0],T=i[4],R=i[8],C=i[12],P=i[1],D=i[5],z=i[9],V=i[13],U=i[2],q=i[6],Z=i[10],ne=i[14],O=i[3],F=i[7],G=i[11],$=i[15];return o[0]=s*M+l*P+a*U+u*O,o[4]=s*T+l*D+a*q+u*F,o[8]=s*R+l*z+a*Z+u*G,o[12]=s*C+l*V+a*ne+u*$,o[1]=c*M+f*P+d*U+h*O,o[5]=c*T+f*D+d*q+h*F,o[9]=c*R+f*z+d*Z+h*G,o[13]=c*C+f*V+d*ne+h*$,o[2]=m*M+y*P+x*U+v*O,o[6]=m*T+y*D+x*q+v*F,o[10]=m*R+y*z+x*Z+v*G,o[14]=m*C+y*V+x*ne+v*$,o[3]=_*M+b*P+S*U+E*O,o[7]=_*T+b*D+S*q+E*F,o[11]=_*R+b*z+S*Z+E*G,o[15]=_*C+b*V+S*ne+E*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],l=e[5],a=e[9],u=e[13],c=e[2],f=e[6],d=e[10],h=e[14],m=e[3],y=e[7],x=e[11],v=e[15];return m*(+o*a*f-i*u*f-o*l*d+r*u*d+i*l*h-r*a*h)+y*(+n*a*h-n*u*d+o*s*d-i*s*h+i*u*c-o*a*c)+x*(+n*u*f-n*l*h-o*s*f+r*s*h+o*l*c-r*u*c)+v*(-i*l*c-n*a*f+n*l*d+i*s*f-r*s*d+r*a*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],a=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],m=e[12],y=e[13],x=e[14],v=e[15],_=f*x*u-y*d*u+y*a*h-l*x*h-f*a*v+l*d*v,b=m*d*u-c*x*u-m*a*h+s*x*h+c*a*v-s*d*v,S=c*y*u-m*f*u+m*l*h-s*y*h-c*l*v+s*f*v,E=m*f*a-c*y*a-m*l*d+s*y*d+c*l*x-s*f*x,M=n*_+r*b+i*S+o*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=_*T,e[1]=(y*d*o-f*x*o-y*i*h+r*x*h+f*i*v-r*d*v)*T,e[2]=(l*x*o-y*a*o+y*i*u-r*x*u-l*i*v+r*a*v)*T,e[3]=(f*a*o-l*d*o-f*i*u+r*d*u+l*i*h-r*a*h)*T,e[4]=b*T,e[5]=(c*x*o-m*d*o+m*i*h-n*x*h-c*i*v+n*d*v)*T,e[6]=(m*a*o-s*x*o-m*i*u+n*x*u+s*i*v-n*a*v)*T,e[7]=(s*d*o-c*a*o+c*i*u-n*d*u-s*i*h+n*a*h)*T,e[8]=S*T,e[9]=(m*f*o-c*y*o-m*r*h+n*y*h+c*r*v-n*f*v)*T,e[10]=(s*y*o-m*l*o+m*r*u-n*y*u-s*r*v+n*l*v)*T,e[11]=(c*l*o-s*f*o-c*r*u+n*f*u+s*r*h-n*l*h)*T,e[12]=E*T,e[13]=(c*y*i-m*f*i+m*r*d-n*y*d-c*r*x+n*f*x)*T,e[14]=(m*l*i-s*y*i-m*r*a+n*y*a+s*r*x-n*l*x)*T,e[15]=(s*f*i-c*l*i+c*r*a-n*f*a-s*r*d+n*l*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,l=e.y,a=e.z,u=o*s,c=o*l;return this.set(u*s+r,u*l-i*a,u*a+i*l,0,u*l+i*a,c*l+r,c*a-i*s,0,u*a-i*l,c*a+i*s,o*a*a+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,l=n._z,a=n._w,u=o+o,c=s+s,f=l+l,d=o*u,h=o*c,m=o*f,y=s*c,x=s*f,v=l*f,_=a*u,b=a*c,S=a*f,E=r.x,M=r.y,T=r.z;return i[0]=(1-(y+v))*E,i[1]=(h+S)*E,i[2]=(m-b)*E,i[3]=0,i[4]=(h-S)*M,i[5]=(1-(d+v))*M,i[6]=(x+_)*M,i[7]=0,i[8]=(m+b)*T,i[9]=(x-_)*T,i[10]=(1-(d+y))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=cf.set(i[0],i[1],i[2]).length();const s=cf.set(i[4],i[5],i[6]).length(),l=cf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Ss.copy(this);const u=1/o,c=1/s,f=1/l;return Ss.elements[0]*=u,Ss.elements[1]*=u,Ss.elements[2]*=u,Ss.elements[4]*=c,Ss.elements[5]*=c,Ss.elements[6]*=c,Ss.elements[8]*=f,Ss.elements[9]*=f,Ss.elements[10]*=f,n.setFromRotationMatrix(Ss),r.x=o,r.y=s,r.z=l,this}makePerspective(e,n,r,i,o,s,l=ua){const a=this.elements,u=2*o/(n-e),c=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,m;if(l===ua)h=-(s+o)/(s-o),m=-2*s*o/(s-o);else if(l===gm)h=-s/(s-o),m=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return a[0]=u,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,o,s,l=ua){const a=this.elements,u=1/(n-e),c=1/(r-i),f=1/(s-o),d=(n+e)*u,h=(r+i)*c;let m,y;if(l===ua)m=(s+o)*f,y=-2*f;else if(l===gm)m=o*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=y,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const cf=new ue,Ss=new Xt,oee=new ue(0,0,0),see=new ue(1,1,1),El=new ue,w0=new ue,wo=new ue,d3=new Xt,h3=new ho;class Wm{constructor(e=0,n=0,r=0,i=Wm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],l=i[8],a=i[1],u=i[5],c=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Lr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Lr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(l,h),this._z=Math.atan2(a,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Lr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(a,o));break;case"ZYX":this._y=Math.asin(-Lr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(a,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Lr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,h));break;case"XZY":this._z=Math.asin(-Lr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return d3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(d3,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return h3.setFromEuler(this),this.setFromQuaternion(h3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wm.DEFAULT_ORDER="XYZ";class fc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let aee=0;const p3=new ue,ff=new ho,Na=new Xt,E0=new ue,Dh=new ue,lee=new ue,uee=new ho,m3=new ue(1,0,0),g3=new ue(0,1,0),v3=new ue(0,0,1),cee={type:"added"},y3={type:"removed"};class kn extends sl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:aee++}),this.uuid=ko(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kn.DEFAULT_UP.clone();const e=new ue,n=new Wm,r=new ho,i=new ue(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xt},normalMatrix:{value:new tn}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=kn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new fc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ff.setFromAxisAngle(e,n),this.quaternion.multiply(ff),this}rotateOnWorldAxis(e,n){return ff.setFromAxisAngle(e,n),this.quaternion.premultiply(ff),this}rotateX(e){return this.rotateOnAxis(m3,e)}rotateY(e){return this.rotateOnAxis(g3,e)}rotateZ(e){return this.rotateOnAxis(v3,e)}translateOnAxis(e,n){return p3.copy(e).applyQuaternion(this.quaternion),this.position.add(p3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(m3,e)}translateY(e){return this.translateOnAxis(g3,e)}translateZ(e){return this.translateOnAxis(v3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Na.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?E0.copy(e):E0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Dh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Na.lookAt(Dh,E0,this.up):Na.lookAt(E0,Dh,this.up),this.quaternion.setFromRotationMatrix(Na),i&&(Na.extractRotation(i.matrixWorld),ff.setFromRotationMatrix(Na),this.quaternion.premultiply(ff.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(cee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(y3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(y3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Na.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Na.multiply(e.parent.matrixWorld)),e.applyMatrix4(Na),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,o=this.children.length;i<o;i++){const s=this.children[i].getObjectsByProperty(e,n);s.length>0&&(r=r.concat(s))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dh,e,lee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dh,uee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const l=i[o];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(l,a){return l[a.uuid]===void 0&&(l[a.uuid]=a.toJSON(e)),a.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const a=l.shapes;if(Array.isArray(a))for(let u=0,c=a.length;u<c;u++){const f=a[u];o(e.shapes,f)}else o(e.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let a=0,u=this.material.length;a<u;a++)l.push(o(e.materials,this.material[a]));i.material=l}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const a=this.animations[l];i.animations.push(o(e.animations,a))}}if(n){const l=s(e.geometries),a=s(e.materials),u=s(e.textures),c=s(e.images),f=s(e.shapes),d=s(e.skeletons),h=s(e.animations),m=s(e.nodes);l.length>0&&(r.geometries=l),a.length>0&&(r.materials=a),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),m.length>0&&(r.nodes=m)}return r.object=i,r;function s(l){const a=[];for(const u in l){const c=l[u];delete c.metadata,a.push(c)}return a}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}kn.DEFAULT_UP=new ue(0,1,0);kn.DEFAULT_MATRIX_AUTO_UPDATE=!0;kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ws=new ue,Oa=new ue,z_=new ue,Fa=new ue,df=new ue,hf=new ue,x3=new ue,G_=new ue,H_=new ue,V_=new ue;let M0=!1;class so{constructor(e=new ue,n=new ue,r=new ue){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ws.subVectors(e,n),i.cross(ws);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){ws.subVectors(i,n),Oa.subVectors(r,n),z_.subVectors(e,n);const s=ws.dot(ws),l=ws.dot(Oa),a=ws.dot(z_),u=Oa.dot(Oa),c=Oa.dot(z_),f=s*u-l*l;if(f===0)return o.set(-2,-1,-1);const d=1/f,h=(u*a-l*c)*d,m=(s*c-l*a)*d;return o.set(1-h-m,m,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Fa),Fa.x>=0&&Fa.y>=0&&Fa.x+Fa.y<=1}static getUV(e,n,r,i,o,s,l,a){return M0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),M0=!0),this.getInterpolation(e,n,r,i,o,s,l,a)}static getInterpolation(e,n,r,i,o,s,l,a){return this.getBarycoord(e,n,r,i,Fa),a.setScalar(0),a.addScaledVector(o,Fa.x),a.addScaledVector(s,Fa.y),a.addScaledVector(l,Fa.z),a}static isFrontFacing(e,n,r,i){return ws.subVectors(r,n),Oa.subVectors(e,n),ws.cross(Oa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ws.subVectors(this.c,this.b),Oa.subVectors(this.a,this.b),ws.cross(Oa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return so.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return so.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return M0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),M0=!0),so.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return so.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return so.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return so.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,l;df.subVectors(i,r),hf.subVectors(o,r),G_.subVectors(e,r);const a=df.dot(G_),u=hf.dot(G_);if(a<=0&&u<=0)return n.copy(r);H_.subVectors(e,i);const c=df.dot(H_),f=hf.dot(H_);if(c>=0&&f<=c)return n.copy(i);const d=a*f-c*u;if(d<=0&&a>=0&&c<=0)return s=a/(a-c),n.copy(r).addScaledVector(df,s);V_.subVectors(e,o);const h=df.dot(V_),m=hf.dot(V_);if(m>=0&&h<=m)return n.copy(o);const y=h*u-a*m;if(y<=0&&u>=0&&m<=0)return l=u/(u-m),n.copy(r).addScaledVector(hf,l);const x=c*m-h*f;if(x<=0&&f-c>=0&&h-m>=0)return x3.subVectors(o,i),l=(f-c)/(f-c+(h-m)),n.copy(i).addScaledVector(x3,l);const v=1/(x+y+d);return s=y*v,l=d*v,n.copy(r).addScaledVector(df,s).addScaledVector(hf,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let fee=0;class _i extends sl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:fee++}),this.uuid=ko(),this.name="",this.type="Material",this.blending=uc,this.side=xa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=M2,this.blendDst=T2,this.blendEquation=Xu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=zy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=RU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bv,this.stencilZFail=Bv,this.stencilZPass=Bv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==uc&&(r.blending=this.blending),this.side!==xa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const l in o){const a=o[l];delete a.metadata,s.push(a)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const zU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Es={h:0,s:0,l:0},T0={h:0,s:0,l:0};function W_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class yt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Qt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Yo.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Yo.workingColorSpace){return this.r=e,this.g=n,this.b=r,Yo.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Yo.workingColorSpace){if(e=B2(e,1),n=Lr(n,0,1),r=Lr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=W_(s,o,e+1/3),this.g=W_(s,o,e),this.b=W_(s,o,e-1/3)}return Yo.toWorkingColorSpace(this,i),this}setStyle(e,n=Qt){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],l=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Qt){const r=zU[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gd(e.r),this.g=gd(e.g),this.b=gd(e.b),this}copyLinearToSRGB(e){return this.r=L_(e.r),this.g=L_(e.g),this.b=L_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Qt){return Yo.fromWorkingColorSpace(Pi.copy(this),e),Math.round(Lr(Pi.r*255,0,255))*65536+Math.round(Lr(Pi.g*255,0,255))*256+Math.round(Lr(Pi.b*255,0,255))}getHexString(e=Qt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Yo.workingColorSpace){Yo.fromWorkingColorSpace(Pi.copy(this),n);const r=Pi.r,i=Pi.g,o=Pi.b,s=Math.max(r,i,o),l=Math.min(r,i,o);let a,u;const c=(l+s)/2;if(l===s)a=0,u=0;else{const f=s-l;switch(u=c<=.5?f/(s+l):f/(2-s-l),s){case r:a=(i-o)/f+(i<o?6:0);break;case i:a=(o-r)/f+2;break;case o:a=(r-i)/f+4;break}a/=6}return e.h=a,e.s=u,e.l=c,e}getRGB(e,n=Yo.workingColorSpace){return Yo.fromWorkingColorSpace(Pi.copy(this),n),e.r=Pi.r,e.g=Pi.g,e.b=Pi.b,e}getStyle(e=Qt){Yo.fromWorkingColorSpace(Pi.copy(this),e);const n=Pi.r,r=Pi.g,i=Pi.b;return e!==Qt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Es),Es.h+=e,Es.s+=n,Es.l+=r,this.setHSL(Es.h,Es.s,Es.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Es),e.getHSL(T0);const r=Cp(Es.h,T0.h,n),i=Cp(Es.s,T0.s,n),o=Cp(Es.l,T0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Pi=new yt;yt.NAMES=zU;class _a extends _i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Va=dee();function dee(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let a=0;a<256;++a){const u=a-127;u<-27?(r[a]=0,r[a|256]=32768,i[a]=24,i[a|256]=24):u<-14?(r[a]=1024>>-u-14,r[a|256]=1024>>-u-14|32768,i[a]=-u-1,i[a|256]=-u-1):u<=15?(r[a]=u+15<<10,r[a|256]=u+15<<10|32768,i[a]=13,i[a|256]=13):u<128?(r[a]=31744,r[a|256]=64512,i[a]=24,i[a|256]=24):(r[a]=31744,r[a|256]=64512,i[a]=13,i[a|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let a=1;a<1024;++a){let u=a<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[a]=u|c}for(let a=1024;a<2048;++a)o[a]=939524096+(a-1024<<13);for(let a=1;a<31;++a)s[a]=a<<23;s[31]=1199570944,s[32]=2147483648;for(let a=33;a<63;++a)s[a]=2147483648+(a-32<<23);s[63]=3347054592;for(let a=1;a<64;++a)a!==32&&(l[a]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:l}}function ro(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Lr(t,-65504,65504),Va.floatView[0]=t;const e=Va.uint32View[0],n=e>>23&511;return Va.baseTable[n]+((e&8388607)>>Va.shiftTable[n])}function ip(t){const e=t>>10;return Va.uint32View[0]=Va.mantissaTable[Va.offsetTable[e]+(t&1023)]+Va.exponentTable[e],Va.floatView[0]}const hee={toHalfFloat:ro,fromHalfFloat:ip},jr=new ue,A0=new it;class er{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=mm,this.updateRange={offset:0,count:-1},this.gpuType=la,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)A0.fromBufferAttribute(this,n),A0.applyMatrix3(e),this.setXY(n,A0.x,A0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.applyMatrix3(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.applyMatrix4(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.applyNormalMatrix(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)jr.fromBufferAttribute(this,n),jr.transformDirection(e),this.setXYZ(n,jr.x,jr.y,jr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Po(n,this.array)),n}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Po(n,this.array)),n}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Po(n,this.array)),n}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Po(n,this.array)),n}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array),o=un(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class pee extends er{constructor(e,n,r){super(new Int8Array(e),n,r)}}class mee extends er{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class gee extends er{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class vee extends er{constructor(e,n,r){super(new Int16Array(e),n,r)}}class H2 extends er{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class yee extends er{constructor(e,n,r){super(new Int32Array(e),n,r)}}class V2 extends er{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class xee extends er{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ip(this.array[e*this.itemSize]);return this.normalized&&(n=Po(n,this.array)),n}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize]=ro(n),this}getY(e){let n=ip(this.array[e*this.itemSize+1]);return this.normalized&&(n=Po(n,this.array)),n}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+1]=ro(n),this}getZ(e){let n=ip(this.array[e*this.itemSize+2]);return this.normalized&&(n=Po(n,this.array)),n}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+2]=ro(n),this}getW(e){let n=ip(this.array[e*this.itemSize+3]);return this.normalized&&(n=Po(n,this.array)),n}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.array[e*this.itemSize+3]=ro(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array)),this.array[e+0]=ro(n),this.array[e+1]=ro(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array)),this.array[e+0]=ro(n),this.array[e+1]=ro(r),this.array[e+2]=ro(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array),o=un(o,this.array)),this.array[e+0]=ro(n),this.array[e+1]=ro(r),this.array[e+2]=ro(i),this.array[e+3]=ro(o),this}}class Ct extends er{constructor(e,n,r){super(new Float32Array(e),n,r)}}class bee extends er{constructor(e,n,r){super(new Float64Array(e),n,r)}}let _ee=0;const Xo=new Xt,j_=new kn,pf=new ue,Eo=new Gs,Uh=new Gs,ui=new ue;class nn extends sl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_ee++}),this.uuid=ko(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(BU(e)?V2:H2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new tn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xo.makeRotationFromQuaternion(e),this.applyMatrix4(Xo),this}rotateX(e){return Xo.makeRotationX(e),this.applyMatrix4(Xo),this}rotateY(e){return Xo.makeRotationY(e),this.applyMatrix4(Xo),this}rotateZ(e){return Xo.makeRotationZ(e),this.applyMatrix4(Xo),this}translate(e,n,r){return Xo.makeTranslation(e,n,r),this.applyMatrix4(Xo),this}scale(e,n,r){return Xo.makeScale(e,n,r),this.applyMatrix4(Xo),this}lookAt(e){return j_.lookAt(e),j_.updateMatrix(),this.applyMatrix4(j_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pf).negate(),this.translate(pf.x,pf.y,pf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Ct(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ue(-1/0,-1/0,-1/0),new ue(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Eo.setFromBufferAttribute(o),this.morphTargetsRelative?(ui.addVectors(this.boundingBox.min,Eo.min),this.boundingBox.expandByPoint(ui),ui.addVectors(this.boundingBox.max,Eo.max),this.boundingBox.expandByPoint(ui)):(this.boundingBox.expandByPoint(Eo.min),this.boundingBox.expandByPoint(Eo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ue,1/0);return}if(e){const r=this.boundingSphere.center;if(Eo.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const l=n[o];Uh.setFromBufferAttribute(l),this.morphTargetsRelative?(ui.addVectors(Eo.min,Uh.min),Eo.expandByPoint(ui),ui.addVectors(Eo.max,Uh.max),Eo.expandByPoint(ui)):(Eo.expandByPoint(Uh.min),Eo.expandByPoint(Uh.max))}Eo.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)ui.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ui));if(n)for(let o=0,s=n.length;o<s;o++){const l=n[o],a=this.morphTargetsRelative;for(let u=0,c=l.count;u<c;u++)ui.fromBufferAttribute(l,u),a&&(pf.fromBufferAttribute(e,u),ui.add(pf)),i=Math.max(i,r.distanceToSquared(ui))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,s=n.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new er(new Float32Array(4*l),4));const a=this.getAttribute("tangent").array,u=[],c=[];for(let P=0;P<l;P++)u[P]=new ue,c[P]=new ue;const f=new ue,d=new ue,h=new ue,m=new it,y=new it,x=new it,v=new ue,_=new ue;function b(P,D,z){f.fromArray(i,P*3),d.fromArray(i,D*3),h.fromArray(i,z*3),m.fromArray(s,P*2),y.fromArray(s,D*2),x.fromArray(s,z*2),d.sub(f),h.sub(f),y.sub(m),x.sub(m);const V=1/(y.x*x.y-x.x*y.y);isFinite(V)&&(v.copy(d).multiplyScalar(x.y).addScaledVector(h,-y.y).multiplyScalar(V),_.copy(h).multiplyScalar(y.x).addScaledVector(d,-x.x).multiplyScalar(V),u[P].add(v),u[D].add(v),u[z].add(v),c[P].add(_),c[D].add(_),c[z].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let P=0,D=S.length;P<D;++P){const z=S[P],V=z.start,U=z.count;for(let q=V,Z=V+U;q<Z;q+=3)b(r[q+0],r[q+1],r[q+2])}const E=new ue,M=new ue,T=new ue,R=new ue;function C(P){T.fromArray(o,P*3),R.copy(T);const D=u[P];E.copy(D),E.sub(T.multiplyScalar(T.dot(D))).normalize(),M.crossVectors(R,D);const V=M.dot(c[P])<0?-1:1;a[P*4]=E.x,a[P*4+1]=E.y,a[P*4+2]=E.z,a[P*4+3]=V}for(let P=0,D=S.length;P<D;++P){const z=S[P],V=z.start,U=z.count;for(let q=V,Z=V+U;q<Z;q+=3)C(r[q+0]),C(r[q+1]),C(r[q+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new er(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new ue,o=new ue,s=new ue,l=new ue,a=new ue,u=new ue,c=new ue,f=new ue;if(e)for(let d=0,h=e.count;d<h;d+=3){const m=e.getX(d+0),y=e.getX(d+1),x=e.getX(d+2);i.fromBufferAttribute(n,m),o.fromBufferAttribute(n,y),s.fromBufferAttribute(n,x),c.subVectors(s,o),f.subVectors(i,o),c.cross(f),l.fromBufferAttribute(r,m),a.fromBufferAttribute(r,y),u.fromBufferAttribute(r,x),l.add(c),a.add(c),u.add(c),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),s.fromBufferAttribute(n,d+2),c.subVectors(s,o),f.subVectors(i,o),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ui.fromBufferAttribute(e,n),ui.normalize(),e.setXYZ(n,ui.x,ui.y,ui.z)}toNonIndexed(){function e(l,a){const u=l.array,c=l.itemSize,f=l.normalized,d=new u.constructor(a.length*c);let h=0,m=0;for(let y=0,x=a.length;y<x;y++){l.isInterleavedBufferAttribute?h=a[y]*l.data.stride+l.offset:h=a[y]*c;for(let v=0;v<c;v++)d[m++]=u[h++]}return new er(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new nn,r=this.index.array,i=this.attributes;for(const l in i){const a=i[l],u=e(a,r);n.setAttribute(l,u)}const o=this.morphAttributes;for(const l in o){const a=[],u=o[l];for(let c=0,f=u.length;c<f;c++){const d=u[c],h=e(d,r);a.push(h)}n.morphAttributes[l]=a}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,a=s.length;l<a;l++){const u=s[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const u in a)a[u]!==void 0&&(e[u]=a[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const a in r){const u=r[a];e.data.attributes[a]=u.toJSON(e.data)}const i={};let o=!1;for(const a in this.morphAttributes){const u=this.morphAttributes[a],c=[];for(let f=0,d=u.length;f<d;f++){const h=u[f];c.push(h.toJSON(e.data))}c.length>0&&(i[a]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],f=o[u];for(let d=0,h=f.length;d<h;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const b3=new Xt,Iu=new Xd,C0=new fs,_3=new ue,mf=new ue,gf=new ue,vf=new ue,$_=new ue,R0=new ue,P0=new it,I0=new it,L0=new it,S3=new ue,w3=new ue,E3=new ue,k0=new ue,N0=new ue;class mr extends kn{constructor(e=new nn,n=new _a){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const l=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(o&&l){R0.set(0,0,0);for(let a=0,u=o.length;a<u;a++){const c=l[a],f=o[a];c!==0&&($_.fromBufferAttribute(f,e),s?R0.addScaledVector($_,c):R0.addScaledVector($_.sub(n),c))}n.add(R0)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),C0.copy(r.boundingSphere),C0.applyMatrix4(o),Iu.copy(e.ray).recast(e.near),!(C0.containsPoint(Iu.origin)===!1&&(Iu.intersectSphere(C0,_3)===null||Iu.origin.distanceToSquared(_3)>(e.far-e.near)**2))&&(b3.copy(o).invert(),Iu.copy(e.ray).applyMatrix4(b3),!(r.boundingBox!==null&&Iu.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Iu)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,l=o.index,a=o.attributes.position,u=o.attributes.uv,c=o.attributes.uv1,f=o.attributes.normal,d=o.groups,h=o.drawRange;if(l!==null)if(Array.isArray(s))for(let m=0,y=d.length;m<y;m++){const x=d[m],v=s[x.materialIndex],_=Math.max(x.start,h.start),b=Math.min(l.count,Math.min(x.start+x.count,h.start+h.count));for(let S=_,E=b;S<E;S+=3){const M=l.getX(S),T=l.getX(S+1),R=l.getX(S+2);i=O0(this,v,e,r,u,c,f,M,T,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),y=Math.min(l.count,h.start+h.count);for(let x=m,v=y;x<v;x+=3){const _=l.getX(x),b=l.getX(x+1),S=l.getX(x+2);i=O0(this,s,e,r,u,c,f,_,b,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(a!==void 0)if(Array.isArray(s))for(let m=0,y=d.length;m<y;m++){const x=d[m],v=s[x.materialIndex],_=Math.max(x.start,h.start),b=Math.min(a.count,Math.min(x.start+x.count,h.start+h.count));for(let S=_,E=b;S<E;S+=3){const M=S,T=S+1,R=S+2;i=O0(this,v,e,r,u,c,f,M,T,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),y=Math.min(a.count,h.start+h.count);for(let x=m,v=y;x<v;x+=3){const _=x,b=x+1,S=x+2;i=O0(this,s,e,r,u,c,f,_,b,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function See(t,e,n,r,i,o,s,l){let a;if(e.side===xi?a=r.intersectTriangle(s,o,i,!0,l):a=r.intersectTriangle(i,o,s,e.side===xa,l),a===null)return null;N0.copy(l),N0.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(N0);return u<n.near||u>n.far?null:{distance:u,point:N0.clone(),object:t}}function O0(t,e,n,r,i,o,s,l,a,u){t.getVertexPosition(l,mf),t.getVertexPosition(a,gf),t.getVertexPosition(u,vf);const c=See(t,e,n,r,mf,gf,vf,k0);if(c){i&&(P0.fromBufferAttribute(i,l),I0.fromBufferAttribute(i,a),L0.fromBufferAttribute(i,u),c.uv=so.getInterpolation(k0,mf,gf,vf,P0,I0,L0,new it)),o&&(P0.fromBufferAttribute(o,l),I0.fromBufferAttribute(o,a),L0.fromBufferAttribute(o,u),c.uv1=so.getInterpolation(k0,mf,gf,vf,P0,I0,L0,new it),c.uv2=c.uv1),s&&(S3.fromBufferAttribute(s,l),w3.fromBufferAttribute(s,a),E3.fromBufferAttribute(s,u),c.normal=so.getInterpolation(k0,mf,gf,vf,S3,w3,E3,new ue),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:l,b:a,c:u,normal:new ue,materialIndex:0};so.getNormal(mf,gf,vf,f.normal),c.face=f}return c}class Sa extends nn{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const l=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const a=[],u=[],c=[],f=[];let d=0,h=0;m("z","y","x",-1,-1,r,n,e,s,o,0),m("z","y","x",1,-1,r,n,-e,s,o,1),m("x","z","y",1,1,e,r,n,i,s,2),m("x","z","y",1,-1,e,r,-n,i,s,3),m("x","y","z",1,-1,e,n,r,i,o,4),m("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(a),this.setAttribute("position",new Ct(u,3)),this.setAttribute("normal",new Ct(c,3)),this.setAttribute("uv",new Ct(f,2));function m(y,x,v,_,b,S,E,M,T,R,C){const P=S/T,D=E/R,z=S/2,V=E/2,U=M/2,q=T+1,Z=R+1;let ne=0,O=0;const F=new ue;for(let G=0;G<Z;G++){const $=G*D-V;for(let W=0;W<q;W++){const oe=W*P-z;F[y]=oe*_,F[x]=$*b,F[v]=U,u.push(F.x,F.y,F.z),F[y]=0,F[x]=0,F[v]=M>0?1:-1,c.push(F.x,F.y,F.z),f.push(W/T),f.push(1-G/R),ne+=1}}for(let G=0;G<R;G++)for(let $=0;$<T;$++){const W=d+$+q*G,oe=d+$+q*(G+1),j=d+($+1)+q*(G+1),Y=d+($+1)+q*G;a.push(W,oe,Y),a.push(oe,j,Y),O+=6}l.addGroup(h,O,C),h+=O,d+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ld(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ji(t){const e={};for(let n=0;n<t.length;n++){const r=Ld(t[n]);for(const i in r)e[i]=r[i]}return e}function wee(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function GU(t){return t.getRenderTarget()===null?t.outputColorSpace:Us}const _x={clone:Ld,merge:ji};var Eee=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Mee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ls extends _i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Eee,this.fragmentShader=Mee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ld(e.uniforms),this.uniformsGroups=wee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class jm extends kn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt,this.coordinateSystem=ua}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class fi extends jm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Id*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Id*2*Math.atan(Math.tan(cc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(cc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const a=s.fullWidth,u=s.fullHeight;o+=s.offsetX*i/a,n-=s.offsetY*r/u,i*=s.width/a,r*=s.height/u}const l=this.filmOffset;l!==0&&(o+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const yf=-90,xf=1;class HU extends kn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new fi(yf,xf,e,n);i.layers=this.layers,this.add(i);const o=new fi(yf,xf,e,n);o.layers=this.layers,this.add(o);const s=new fi(yf,xf,e,n);s.layers=this.layers,this.add(s);const l=new fi(yf,xf,e,n);l.layers=this.layers,this.add(l);const a=new fi(yf,xf,e,n);a.layers=this.layers,this.add(a);const u=new fi(yf,xf,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,l,a]=n;for(const u of n)this.remove(u);if(e===ua)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else if(e===gm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,l,a,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Fs,e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,o),e.setRenderTarget(r,2),e.render(n,s),e.setRenderTarget(r,3),e.render(n,l),e.setRenderTarget(r,4),e.render(n,a),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class $m extends wr{constructor(e,n,r,i,o,s,l,a,u,c){e=e!==void 0?e:[],n=n!==void 0?n:nu,super(e,n,r,i,o,s,l,a,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VU extends Bs{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Rp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Yl?Qt:Kl),this.texture=new $m(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:br}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Sa(5,5,5),o=new ls({name:"CubemapFromEquirect",uniforms:Ld(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xi,blending:Xa});o.uniforms.tEquirect.value=n;const s=new mr(i,o),l=n.minFilter;return n.minFilter===iu&&(n.minFilter=br),new HU(1,10,this).update(e,s),n.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const q_=new ue,Tee=new ue,Aee=new tn;class Ha{constructor(e=new ue(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=q_.subVectors(r,n).cross(Tee.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(q_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Aee.getNormalMatrix(e),i=this.coplanarPoint(q_).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lu=new fs,F0=new ue;class Sx{constructor(e=new Ha,n=new Ha,r=new Ha,i=new Ha,o=new Ha,s=new Ha){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(o),l[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ua){const r=this.planes,i=e.elements,o=i[0],s=i[1],l=i[2],a=i[3],u=i[4],c=i[5],f=i[6],d=i[7],h=i[8],m=i[9],y=i[10],x=i[11],v=i[12],_=i[13],b=i[14],S=i[15];if(r[0].setComponents(a-o,d-u,x-h,S-v).normalize(),r[1].setComponents(a+o,d+u,x+h,S+v).normalize(),r[2].setComponents(a+s,d+c,x+m,S+_).normalize(),r[3].setComponents(a-s,d-c,x-m,S-_).normalize(),r[4].setComponents(a-l,d-f,x-y,S-b).normalize(),n===ua)r[5].setComponents(a+l,d+f,x+y,S+b).normalize();else if(n===gm)r[5].setComponents(l,f,y,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Lu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lu)}intersectsSprite(e){return Lu.center.set(0,0,0),Lu.radius=.7071067811865476,Lu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(F0.x=i.normal.x>0?e.max.x:e.min.x,F0.y=i.normal.y>0?e.max.y:e.min.y,F0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(F0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WU(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Cee(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,h=t.createBuffer();t.bindBuffer(c,h),t.bufferData(c,f,d),u.onUploadCallback();let m;if(f instanceof Float32Array)m=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)m=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)m=t.SHORT;else if(f instanceof Uint32Array)m=t.UNSIGNED_INT;else if(f instanceof Int32Array)m=t.INT;else if(f instanceof Int8Array)m=t.BYTE;else if(f instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:h,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,f){const d=c.array,h=c.updateRange;t.bindBuffer(f,u),h.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),c.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function l(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function a(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(o(f.buffer,u,c),f.version=u.version)}return{get:s,remove:l,update:a}}class al extends nn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,l=Math.floor(r),a=Math.floor(i),u=l+1,c=a+1,f=e/l,d=n/a,h=[],m=[],y=[],x=[];for(let v=0;v<c;v++){const _=v*d-s;for(let b=0;b<u;b++){const S=b*f-o;m.push(S,-_,0),y.push(0,0,1),x.push(b/l),x.push(1-v/a)}}for(let v=0;v<a;v++)for(let _=0;_<l;_++){const b=_+u*v,S=_+u*(v+1),E=_+1+u*(v+1),M=_+1+u*v;h.push(b,S,M),h.push(S,E,M)}this.setIndex(h),this.setAttribute("position",new Ct(m,3)),this.setAttribute("normal",new Ct(y,3)),this.setAttribute("uv",new Ct(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new al(e.width,e.height,e.widthSegments,e.heightSegments)}}var Ree=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Pee=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Iee=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Lee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,kee=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Nee=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Oee="vec3 transformed = vec3( position );",Fee=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Dee=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Uee=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Bee=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zee=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Gee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Hee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Vee=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Wee=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,$ee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,qee=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Xee=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Yee=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Kee=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Qee=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Jee=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Zee=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ete=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,tte="gl_FragColor = linearToOutputTexel( gl_FragColor );",nte=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,rte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ite=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ote=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ste=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ate=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lte=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ute=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,cte=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fte=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,dte=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,hte=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,pte=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mte=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,gte=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,vte=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,yte=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,xte=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,bte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_te=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ste=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,wte=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Ete=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Mte=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Tte=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Ate=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Cte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Rte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Pte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Ite=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Lte=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,kte=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Nte=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ote=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fte=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Dte=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ute=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Bte=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,zte=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Gte=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Hte=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Vte=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Wte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$te=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,qte=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Xte=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Yte=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Kte=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Qte=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Jte=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Zte=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ene=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,tne=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,nne=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,rne=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ine=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,one=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sne=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ane=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,lne=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,une=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,cne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,fne=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,dne=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,hne=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pne=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mne=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gne=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,vne=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,yne=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,xne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bne=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_ne=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Sne=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,wne=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ene=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Mne=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Tne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ane=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Cne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Rne=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Pne=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ine=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Lne=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kne=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Nne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,One=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Fne=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Dne=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Une=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Bne=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zne=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gne=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hne=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Vne=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wne=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jne=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,$ne=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qne=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xne=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Yne=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kne=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qne=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jne=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Zne=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ere=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tre=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,nre=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,en={alphamap_fragment:Ree,alphamap_pars_fragment:Pee,alphatest_fragment:Iee,alphatest_pars_fragment:Lee,aomap_fragment:kee,aomap_pars_fragment:Nee,begin_vertex:Oee,beginnormal_vertex:Fee,bsdfs:Dee,iridescence_fragment:Uee,bumpmap_pars_fragment:Bee,clipping_planes_fragment:zee,clipping_planes_pars_fragment:Gee,clipping_planes_pars_vertex:Hee,clipping_planes_vertex:Vee,color_fragment:Wee,color_pars_fragment:jee,color_pars_vertex:$ee,color_vertex:qee,common:Xee,cube_uv_reflection_fragment:Yee,defaultnormal_vertex:Kee,displacementmap_pars_vertex:Qee,displacementmap_vertex:Jee,emissivemap_fragment:Zee,emissivemap_pars_fragment:ete,encodings_fragment:tte,encodings_pars_fragment:nte,envmap_fragment:rte,envmap_common_pars_fragment:ite,envmap_pars_fragment:ote,envmap_pars_vertex:ste,envmap_physical_pars_fragment:yte,envmap_vertex:ate,fog_vertex:lte,fog_pars_vertex:ute,fog_fragment:cte,fog_pars_fragment:fte,gradientmap_pars_fragment:dte,lightmap_fragment:hte,lightmap_pars_fragment:pte,lights_lambert_fragment:mte,lights_lambert_pars_fragment:gte,lights_pars_begin:vte,lights_toon_fragment:xte,lights_toon_pars_fragment:bte,lights_phong_fragment:_te,lights_phong_pars_fragment:Ste,lights_physical_fragment:wte,lights_physical_pars_fragment:Ete,lights_fragment_begin:Mte,lights_fragment_maps:Tte,lights_fragment_end:Ate,logdepthbuf_fragment:Cte,logdepthbuf_pars_fragment:Rte,logdepthbuf_pars_vertex:Pte,logdepthbuf_vertex:Ite,map_fragment:Lte,map_pars_fragment:kte,map_particle_fragment:Nte,map_particle_pars_fragment:Ote,metalnessmap_fragment:Fte,metalnessmap_pars_fragment:Dte,morphcolor_vertex:Ute,morphnormal_vertex:Bte,morphtarget_pars_vertex:zte,morphtarget_vertex:Gte,normal_fragment_begin:Hte,normal_fragment_maps:Vte,normal_pars_fragment:Wte,normal_pars_vertex:jte,normal_vertex:$te,normalmap_pars_fragment:qte,clearcoat_normal_fragment_begin:Xte,clearcoat_normal_fragment_maps:Yte,clearcoat_pars_fragment:Kte,iridescence_pars_fragment:Qte,output_fragment:Jte,packing:Zte,premultiplied_alpha_fragment:ene,project_vertex:tne,dithering_fragment:nne,dithering_pars_fragment:rne,roughnessmap_fragment:ine,roughnessmap_pars_fragment:one,shadowmap_pars_fragment:sne,shadowmap_pars_vertex:ane,shadowmap_vertex:lne,shadowmask_pars_fragment:une,skinbase_vertex:cne,skinning_pars_vertex:fne,skinning_vertex:dne,skinnormal_vertex:hne,specularmap_fragment:pne,specularmap_pars_fragment:mne,tonemapping_fragment:gne,tonemapping_pars_fragment:vne,transmission_fragment:yne,transmission_pars_fragment:xne,uv_pars_fragment:bne,uv_pars_vertex:_ne,uv_vertex:Sne,worldpos_vertex:wne,background_vert:Ene,background_frag:Mne,backgroundCube_vert:Tne,backgroundCube_frag:Ane,cube_vert:Cne,cube_frag:Rne,depth_vert:Pne,depth_frag:Ine,distanceRGBA_vert:Lne,distanceRGBA_frag:kne,equirect_vert:Nne,equirect_frag:One,linedashed_vert:Fne,linedashed_frag:Dne,meshbasic_vert:Une,meshbasic_frag:Bne,meshlambert_vert:zne,meshlambert_frag:Gne,meshmatcap_vert:Hne,meshmatcap_frag:Vne,meshnormal_vert:Wne,meshnormal_frag:jne,meshphong_vert:$ne,meshphong_frag:qne,meshphysical_vert:Xne,meshphysical_frag:Yne,meshtoon_vert:Kne,meshtoon_frag:Qne,points_vert:Jne,points_frag:Zne,shadow_vert:ere,shadow_frag:tre,sprite_vert:nre,sprite_frag:rre},pt={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},Ls={basic:{uniforms:ji([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:en.meshbasic_vert,fragmentShader:en.meshbasic_frag},lambert:{uniforms:ji([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new yt(0)}}]),vertexShader:en.meshlambert_vert,fragmentShader:en.meshlambert_frag},phong:{uniforms:ji([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:en.meshphong_vert,fragmentShader:en.meshphong_frag},standard:{uniforms:ji([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag},toon:{uniforms:ji([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new yt(0)}}]),vertexShader:en.meshtoon_vert,fragmentShader:en.meshtoon_frag},matcap:{uniforms:ji([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:en.meshmatcap_vert,fragmentShader:en.meshmatcap_frag},points:{uniforms:ji([pt.points,pt.fog]),vertexShader:en.points_vert,fragmentShader:en.points_frag},dashed:{uniforms:ji([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:en.linedashed_vert,fragmentShader:en.linedashed_frag},depth:{uniforms:ji([pt.common,pt.displacementmap]),vertexShader:en.depth_vert,fragmentShader:en.depth_frag},normal:{uniforms:ji([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:en.meshnormal_vert,fragmentShader:en.meshnormal_frag},sprite:{uniforms:ji([pt.sprite,pt.fog]),vertexShader:en.sprite_vert,fragmentShader:en.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:en.background_vert,fragmentShader:en.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:en.backgroundCube_vert,fragmentShader:en.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:en.cube_vert,fragmentShader:en.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:en.equirect_vert,fragmentShader:en.equirect_frag},distanceRGBA:{uniforms:ji([pt.common,pt.displacementmap,{referencePosition:{value:new ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:en.distanceRGBA_vert,fragmentShader:en.distanceRGBA_frag},shadow:{uniforms:ji([pt.lights,pt.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:en.shadow_vert,fragmentShader:en.shadow_frag}};Ls.physical={uniforms:ji([Ls.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag};const D0={r:0,b:0,g:0};function ire(t,e,n,r,i,o,s){const l=new yt(0);let a=o===!0?0:1,u,c,f=null,d=0,h=null;function m(x,v){let _=!1,b=v.isScene===!0?v.background:null;switch(b&&b.isTexture&&(b=(v.backgroundBlurriness>0?n:e).get(b)),b===null?y(l,a):b&&b.isColor&&(y(b,1),_=!0),t.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,s),_=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,s),_=!0;break}(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===qd)?(c===void 0&&(c=new mr(new Sa(1,1,1),new ls({name:"BackgroundCubeMaterial",uniforms:Ld(Ls.backgroundCube.uniforms),vertexShader:Ls.backgroundCube.vertexShader,fragmentShader:Ls.backgroundCube.fragmentShader,side:xi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=b.colorSpace!==Qt,(f!==b||d!==b.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=b,d=b.version,h=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new mr(new al(2,2),new ls({name:"BackgroundMaterial",uniforms:Ld(Ls.background.uniforms),vertexShader:Ls.background.vertexShader,fragmentShader:Ls.background.fragmentShader,side:xa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=b.colorSpace!==Qt,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||d!==b.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,d=b.version,h=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function y(x,v){x.getRGB(D0,GU(t)),r.buffers.color.setClear(D0.r,D0.g,D0.b,v,s)}return{getClearColor:function(){return l},setClearColor:function(x,v=1){l.set(x),a=v,y(l,a)},getClearAlpha:function(){return a},setClearAlpha:function(x){a=x,y(l,a)},render:m}}function ore(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,l={},a=x(null);let u=a,c=!1;function f(U,q,Z,ne,O){let F=!1;if(s){const G=y(ne,Z,q);u!==G&&(u=G,h(u.object)),F=v(U,ne,Z,O),F&&_(U,ne,Z,O)}else{const G=q.wireframe===!0;(u.geometry!==ne.id||u.program!==Z.id||u.wireframe!==G)&&(u.geometry=ne.id,u.program=Z.id,u.wireframe=G,F=!0)}O!==null&&n.update(O,t.ELEMENT_ARRAY_BUFFER),(F||c)&&(c=!1,R(U,q,Z,ne),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(O).buffer))}function d(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function h(U){return r.isWebGL2?t.bindVertexArray(U):o.bindVertexArrayOES(U)}function m(U){return r.isWebGL2?t.deleteVertexArray(U):o.deleteVertexArrayOES(U)}function y(U,q,Z){const ne=Z.wireframe===!0;let O=l[U.id];O===void 0&&(O={},l[U.id]=O);let F=O[q.id];F===void 0&&(F={},O[q.id]=F);let G=F[ne];return G===void 0&&(G=x(d()),F[ne]=G),G}function x(U){const q=[],Z=[],ne=[];for(let O=0;O<i;O++)q[O]=0,Z[O]=0,ne[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:Z,attributeDivisors:ne,object:U,attributes:{},index:null}}function v(U,q,Z,ne){const O=u.attributes,F=q.attributes;let G=0;const $=Z.getAttributes();for(const W in $)if($[W].location>=0){const j=O[W];let Y=F[W];if(Y===void 0&&(W==="instanceMatrix"&&U.instanceMatrix&&(Y=U.instanceMatrix),W==="instanceColor"&&U.instanceColor&&(Y=U.instanceColor)),j===void 0||j.attribute!==Y||Y&&j.data!==Y.data)return!0;G++}return u.attributesNum!==G||u.index!==ne}function _(U,q,Z,ne){const O={},F=q.attributes;let G=0;const $=Z.getAttributes();for(const W in $)if($[W].location>=0){let j=F[W];j===void 0&&(W==="instanceMatrix"&&U.instanceMatrix&&(j=U.instanceMatrix),W==="instanceColor"&&U.instanceColor&&(j=U.instanceColor));const Y={};Y.attribute=j,j&&j.data&&(Y.data=j.data),O[W]=Y,G++}u.attributes=O,u.attributesNum=G,u.index=ne}function b(){const U=u.newAttributes;for(let q=0,Z=U.length;q<Z;q++)U[q]=0}function S(U){E(U,0)}function E(U,q){const Z=u.newAttributes,ne=u.enabledAttributes,O=u.attributeDivisors;Z[U]=1,ne[U]===0&&(t.enableVertexAttribArray(U),ne[U]=1),O[U]!==q&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,q),O[U]=q)}function M(){const U=u.newAttributes,q=u.enabledAttributes;for(let Z=0,ne=q.length;Z<ne;Z++)q[Z]!==U[Z]&&(t.disableVertexAttribArray(Z),q[Z]=0)}function T(U,q,Z,ne,O,F,G){G===!0?t.vertexAttribIPointer(U,q,Z,O,F):t.vertexAttribPointer(U,q,Z,ne,O,F)}function R(U,q,Z,ne){if(r.isWebGL2===!1&&(U.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const O=ne.attributes,F=Z.getAttributes(),G=q.defaultAttributeValues;for(const $ in F){const W=F[$];if(W.location>=0){let oe=O[$];if(oe===void 0&&($==="instanceMatrix"&&U.instanceMatrix&&(oe=U.instanceMatrix),$==="instanceColor"&&U.instanceColor&&(oe=U.instanceColor)),oe!==void 0){const j=oe.normalized,Y=oe.itemSize,K=n.get(oe);if(K===void 0)continue;const fe=K.buffer,pe=K.type,xe=K.bytesPerElement,Ge=r.isWebGL2===!0&&(pe===t.INT||pe===t.UNSIGNED_INT||oe.gpuType===R2);if(oe.isInterleavedBufferAttribute){const Ae=oe.data,H=Ae.stride,ge=oe.offset;if(Ae.isInstancedInterleavedBuffer){for(let Me=0;Me<W.locationSize;Me++)E(W.location+Me,Ae.meshPerAttribute);U.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Me=0;Me<W.locationSize;Me++)S(W.location+Me);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Me=0;Me<W.locationSize;Me++)T(W.location+Me,Y/W.locationSize,pe,j,H*xe,(ge+Y/W.locationSize*Me)*xe,Ge)}else{if(oe.isInstancedBufferAttribute){for(let Ae=0;Ae<W.locationSize;Ae++)E(W.location+Ae,oe.meshPerAttribute);U.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Ae=0;Ae<W.locationSize;Ae++)S(W.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Ae=0;Ae<W.locationSize;Ae++)T(W.location+Ae,Y/W.locationSize,pe,j,Y*xe,Y/W.locationSize*Ae*xe,Ge)}}else if(G!==void 0){const j=G[$];if(j!==void 0)switch(j.length){case 2:t.vertexAttrib2fv(W.location,j);break;case 3:t.vertexAttrib3fv(W.location,j);break;case 4:t.vertexAttrib4fv(W.location,j);break;default:t.vertexAttrib1fv(W.location,j)}}}}M()}function C(){z();for(const U in l){const q=l[U];for(const Z in q){const ne=q[Z];for(const O in ne)m(ne[O].object),delete ne[O];delete q[Z]}delete l[U]}}function P(U){if(l[U.id]===void 0)return;const q=l[U.id];for(const Z in q){const ne=q[Z];for(const O in ne)m(ne[O].object),delete ne[O];delete q[Z]}delete l[U.id]}function D(U){for(const q in l){const Z=l[q];if(Z[U.id]===void 0)continue;const ne=Z[U.id];for(const O in ne)m(ne[O].object),delete ne[O];delete Z[U.id]}}function z(){V(),c=!0,u!==a&&(u=a,h(u.object))}function V(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:f,reset:z,resetDefaultState:V,dispose:C,releaseStatesOfGeometry:P,releaseStatesOfProgram:D,initAttributes:b,enableAttribute:S,disableUnusedAttributes:M}}function sre(t,e,n,r){const i=r.isWebGL2;let o;function s(u){o=u}function l(u,c){t.drawArrays(o,u,c),n.update(c,o,1)}function a(u,c,f){if(f===0)return;let d,h;if(i)d=t,h="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[h](o,u,c,f),n.update(c,o,f)}this.setMode=s,this.render=l,this.renderInstances=a}function are(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let l=n.precision!==void 0?n.precision:"highp";const a=o(l);a!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",a,"instead."),l=a);const u=s||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=d>0,S=s||e.has("OES_texture_float"),E=b&&S,M=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:M}}function lre(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new Ha,l=new tn,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,h){const m=f.clippingPlanes,y=f.clipIntersection,x=f.clipShadows,v=t.get(f);if(!i||m===null||m.length===0||o&&!x)o?c(null):u();else{const _=o?0:r,b=_*4;let S=v.clippingState||null;a.value=S,S=c(m,d,b,h);for(let E=0;E!==b;++E)S[E]=n[E];v.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function u(){a.value!==n&&(a.value=n,a.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,h,m){const y=f!==null?f.length:0;let x=null;if(y!==0){if(x=a.value,m!==!0||x===null){const v=h+y*4,_=d.matrixWorldInverse;l.getNormalMatrix(_),(x===null||x.length<v)&&(x=new Float32Array(v));for(let b=0,S=h;b!==y;++b,S+=4)s.copy(f[b]).applyMatrix4(_,l),s.normal.toArray(x,S),x[S+3]=s.constant}a.value=x,a.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function ure(t){let e=new WeakMap;function n(s,l){return l===lm?s.mapping=nu:l===um&&(s.mapping=ru),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const l=s.mapping;if(l===lm||l===um)if(e.has(s)){const a=e.get(s).texture;return n(a,s.mapping)}else{const a=s.image;if(a&&a.height>0){const u=new VU(a.height/2);return u.fromEquirectangularTexture(t,s),e.set(s,u),s.addEventListener("dispose",i),n(u.texture,s.mapping)}else return null}}return s}function i(s){const l=s.target;l.removeEventListener("dispose",i);const a=e.get(l);a!==void 0&&(e.delete(l),a.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class qm extends jm{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,l=i+n,a=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,l-=c*this.view.offsetY,a=l-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,l,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Zf=4,M3=[.125,.215,.35,.446,.526,.582],Yu=20,X_=new qm,T3=new yt;let Y_=null;const Wu=(1+Math.sqrt(5))/2,bf=1/Wu,A3=[new ue(1,1,1),new ue(-1,1,1),new ue(1,1,-1),new ue(-1,1,-1),new ue(0,Wu,bf),new ue(0,Wu,-bf),new ue(bf,0,Wu),new ue(-bf,0,Wu),new ue(Wu,bf,0),new ue(-Wu,bf,0)];class EE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Y_=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=P3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=R3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Y_),e.scissorTest=!1,U0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===nu||e.mapping===ru?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Y_=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:br,minFilter:br,generateMipmaps:!1,type:Pd,format:ao,colorSpace:Us,depthBuffer:!1},i=C3(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=C3(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cre(o)),this._blurMaterial=fre(o,e,n)}return i}_compileMaterial(e){const n=new mr(this._lodPlanes[0],e);this._renderer.compile(n,X_)}_sceneToCubeUV(e,n,r,i){const l=new fi(90,1,n,r),a=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(T3),c.toneMapping=Fs,c.autoClear=!1;const h=new _a({name:"PMREM.Background",side:xi,depthWrite:!1,depthTest:!1}),m=new mr(new Sa,h);let y=!1;const x=e.background;x?x.isColor&&(h.color.copy(x),e.background=null,y=!0):(h.color.copy(T3),y=!0);for(let v=0;v<6;v++){const _=v%3;_===0?(l.up.set(0,a[v],0),l.lookAt(u[v],0,0)):_===1?(l.up.set(0,0,a[v]),l.lookAt(0,u[v],0)):(l.up.set(0,a[v],0),l.lookAt(0,0,u[v]));const b=this._cubeSize;U0(i,_*b,v>2?b:0,b,b),c.setRenderTarget(i),y&&c.render(m,l),c.render(e,l)}m.geometry.dispose(),m.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===nu||e.mapping===ru;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=P3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=R3());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new mr(this._lodPlanes[0],o),l=o.uniforms;l.envMap.value=e;const a=this._cubeSize;U0(n,0,0,3*a,2*a),r.setRenderTarget(n),r.render(s,X_)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=A3[(i-1)%A3.length];this._blur(e,i-1,i,o,s)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,l){const a=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new mr(this._lodPlanes[i],u),d=u.uniforms,h=this._sizeLods[r]-1,m=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Yu-1),y=o/m,x=isFinite(o)?1+Math.floor(c*y):Yu;x>Yu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Yu}`);const v=[];let _=0;for(let T=0;T<Yu;++T){const R=T/y,C=Math.exp(-R*R/2);v.push(C),T===0?_+=C:T<x&&(_+=2*C)}for(let T=0;T<v.length;T++)v[T]=v[T]/_;d.envMap.value=e.texture,d.samples.value=x,d.weights.value=v,d.latitudinal.value=s==="latitudinal",l&&(d.poleAxis.value=l);const{_lodMax:b}=this;d.dTheta.value=m,d.mipInt.value=b-r;const S=this._sizeLods[i],E=3*S*(i>b-Zf?i-b+Zf:0),M=4*(this._cubeSize-S);U0(n,E,M,3*S,2*S),a.setRenderTarget(n),a.render(f,X_)}}function cre(t){const e=[],n=[],r=[];let i=t;const o=t-Zf+1+M3.length;for(let s=0;s<o;s++){const l=Math.pow(2,i);n.push(l);let a=1/l;s>t-Zf?a=M3[s-t+Zf-1]:s===0&&(a=0),r.push(a);const u=1/(l-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,m=6,y=3,x=2,v=1,_=new Float32Array(y*m*h),b=new Float32Array(x*m*h),S=new Float32Array(v*m*h);for(let M=0;M<h;M++){const T=M%3*2/3-1,R=M>2?0:-1,C=[T,R,0,T+2/3,R,0,T+2/3,R+1,0,T,R,0,T+2/3,R+1,0,T,R+1,0];_.set(C,y*m*M),b.set(d,x*m*M);const P=[M,M,M,M,M,M];S.set(P,v*m*M)}const E=new nn;E.setAttribute("position",new er(_,y)),E.setAttribute("uv",new er(b,x)),E.setAttribute("faceIndex",new er(S,v)),e.push(E),i>Zf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function C3(t,e,n){const r=new Bs(t,e,n);return r.texture.mapping=qd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function U0(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function fre(t,e,n){const r=new Float32Array(Yu),i=new ue(0,1,0);return new ls({name:"SphericalGaussianBlur",defines:{n:Yu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:W2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xa,depthTest:!1,depthWrite:!1})}function R3(){return new ls({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:W2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xa,depthTest:!1,depthWrite:!1})}function P3(){return new ls({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:W2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xa,depthTest:!1,depthWrite:!1})}function W2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function dre(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const a=l.mapping,u=a===lm||a===um,c=a===nu||a===ru;if(u||c)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let f=e.get(l);return n===null&&(n=new EE(t)),f=u?n.fromEquirectangular(l,f):n.fromCubemap(l,f),e.set(l,f),f.texture}else{if(e.has(l))return e.get(l).texture;{const f=l.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new EE(t));const d=u?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,d),l.addEventListener("dispose",o),d.texture}else return null}}}return l}function i(l){let a=0;const u=6;for(let c=0;c<u;c++)l[c]!==void 0&&a++;return a===u}function o(l){const a=l.target;a.removeEventListener("dispose",o);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function hre(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function pre(t,e,n,r){const i={},o=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);for(const m in d.morphAttributes){const y=d.morphAttributes[m];for(let x=0,v=y.length;x<v;x++)e.remove(y[x])}d.removeEventListener("dispose",s),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function l(f,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,n.memory.geometries++),d}function a(f){const d=f.attributes;for(const m in d)e.update(d[m],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const m in h){const y=h[m];for(let x=0,v=y.length;x<v;x++)e.update(y[x],t.ARRAY_BUFFER)}}function u(f){const d=[],h=f.index,m=f.attributes.position;let y=0;if(h!==null){const _=h.array;y=h.version;for(let b=0,S=_.length;b<S;b+=3){const E=_[b+0],M=_[b+1],T=_[b+2];d.push(E,M,M,T,T,E)}}else{const _=m.array;y=m.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const E=b+0,M=b+1,T=b+2;d.push(E,M,M,T,T,E)}}const x=new(BU(d)?V2:H2)(d,1);x.version=y;const v=o.get(f);v&&e.remove(v),o.set(f,x)}function c(f){const d=o.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&u(f)}else u(f);return o.get(f)}return{get:l,update:a,getWireframeAttribute:c}}function mre(t,e,n,r){const i=r.isWebGL2;let o;function s(d){o=d}let l,a;function u(d){l=d.type,a=d.bytesPerElement}function c(d,h){t.drawElements(o,h,l,d*a),n.update(h,o,1)}function f(d,h,m){if(m===0)return;let y,x;if(i)y=t,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](o,h,l,d*a,m),n.update(h,o,m)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=f}function gre(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,l){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=l*(o/3);break;case t.LINES:n.lines+=l*(o/2);break;case t.LINE_STRIP:n.lines+=l*(o-1);break;case t.LINE_LOOP:n.lines+=l*o;break;case t.POINTS:n.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function vre(t,e){return t[0]-e[0]}function yre(t,e){return Math.abs(e[1])-Math.abs(t[1])}function xre(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,s=new Un,l=[];for(let u=0;u<8;u++)l[u]=[u,0];function a(u,c,f){const d=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=m!==void 0?m.length:0;let x=o.get(c);if(x===void 0||x.count!==y){let q=function(){V.dispose(),o.delete(c),c.removeEventListener("dispose",q)};var h=q;x!==void 0&&x.texture.dispose();const b=c.morphAttributes.position!==void 0,S=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],T=c.morphAttributes.normal||[],R=c.morphAttributes.color||[];let C=0;b===!0&&(C=1),S===!0&&(C=2),E===!0&&(C=3);let P=c.attributes.position.count*C,D=1;P>e.maxTextureSize&&(D=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const z=new Float32Array(P*D*4*y),V=new bx(z,P,D,y);V.type=la,V.needsUpdate=!0;const U=C*4;for(let Z=0;Z<y;Z++){const ne=M[Z],O=T[Z],F=R[Z],G=P*D*4*Z;for(let $=0;$<ne.count;$++){const W=$*U;b===!0&&(s.fromBufferAttribute(ne,$),z[G+W+0]=s.x,z[G+W+1]=s.y,z[G+W+2]=s.z,z[G+W+3]=0),S===!0&&(s.fromBufferAttribute(O,$),z[G+W+4]=s.x,z[G+W+5]=s.y,z[G+W+6]=s.z,z[G+W+7]=0),E===!0&&(s.fromBufferAttribute(F,$),z[G+W+8]=s.x,z[G+W+9]=s.y,z[G+W+10]=s.z,z[G+W+11]=F.itemSize===4?s.w:1)}}x={count:y,texture:V,size:new it(P,D)},o.set(c,x),c.addEventListener("dispose",q)}let v=0;for(let b=0;b<d.length;b++)v+=d[b];const _=c.morphTargetsRelative?1:1-v;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const m=d===void 0?0:d.length;let y=r[c.id];if(y===void 0||y.length!==m){y=[];for(let S=0;S<m;S++)y[S]=[S,0];r[c.id]=y}for(let S=0;S<m;S++){const E=y[S];E[0]=S,E[1]=d[S]}y.sort(yre);for(let S=0;S<8;S++)S<m&&y[S][1]?(l[S][0]=y[S][0],l[S][1]=y[S][1]):(l[S][0]=Number.MAX_SAFE_INTEGER,l[S][1]=0);l.sort(vre);const x=c.morphAttributes.position,v=c.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const E=l[S],M=E[0],T=E[1];M!==Number.MAX_SAFE_INTEGER&&T?(x&&c.getAttribute("morphTarget"+S)!==x[M]&&c.setAttribute("morphTarget"+S,x[M]),v&&c.getAttribute("morphNormal"+S)!==v[M]&&c.setAttribute("morphNormal"+S,v[M]),i[S]=T,_+=T):(x&&c.hasAttribute("morphTarget"+S)===!0&&c.deleteAttribute("morphTarget"+S),v&&c.hasAttribute("morphNormal"+S)===!0&&c.deleteAttribute("morphNormal"+S),i[S]=0)}const b=c.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:a}}function bre(t,e,n,r){let i=new WeakMap;function o(a){const u=r.render.frame,c=a.geometry,f=e.get(a,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),a.isInstancedMesh&&(a.hasEventListener("dispose",l)===!1&&a.addEventListener("dispose",l),n.update(a.instanceMatrix,t.ARRAY_BUFFER),a.instanceColor!==null&&n.update(a.instanceColor,t.ARRAY_BUFFER)),f}function s(){i=new WeakMap}function l(a){const u=a.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:s}}const jU=new wr,$U=new bx,qU=new G2,XU=new $m,I3=[],L3=[],k3=new Float32Array(16),N3=new Float32Array(9),O3=new Float32Array(4);function Yd(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=I3[i];if(o===void 0&&(o=new Float32Array(i),I3[i]=o),e!==0){r.toArray(o,0);for(let s=1,l=0;s!==e;++s)l+=n,t[s].toArray(o,l)}return o}function ni(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ri(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function wx(t,e){let n=L3[e];n===void 0&&(n=new Int32Array(e),L3[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function _re(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Sre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2fv(this.addr,e),ri(n,e)}}function wre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ni(n,e))return;t.uniform3fv(this.addr,e),ri(n,e)}}function Ere(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4fv(this.addr,e),ri(n,e)}}function Mre(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;O3.set(r),t.uniformMatrix2fv(this.addr,!1,O3),ri(n,r)}}function Tre(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;N3.set(r),t.uniformMatrix3fv(this.addr,!1,N3),ri(n,r)}}function Are(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;k3.set(r),t.uniformMatrix4fv(this.addr,!1,k3),ri(n,r)}}function Cre(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Rre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2iv(this.addr,e),ri(n,e)}}function Pre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3iv(this.addr,e),ri(n,e)}}function Ire(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4iv(this.addr,e),ri(n,e)}}function Lre(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function kre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2uiv(this.addr,e),ri(n,e)}}function Nre(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3uiv(this.addr,e),ri(n,e)}}function Ore(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4uiv(this.addr,e),ri(n,e)}}function Fre(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||jU,i)}function Dre(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||qU,i)}function Ure(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||XU,i)}function Bre(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||$U,i)}function zre(t){switch(t){case 5126:return _re;case 35664:return Sre;case 35665:return wre;case 35666:return Ere;case 35674:return Mre;case 35675:return Tre;case 35676:return Are;case 5124:case 35670:return Cre;case 35667:case 35671:return Rre;case 35668:case 35672:return Pre;case 35669:case 35673:return Ire;case 5125:return Lre;case 36294:return kre;case 36295:return Nre;case 36296:return Ore;case 35678:case 36198:case 36298:case 36306:case 35682:return Fre;case 35679:case 36299:case 36307:return Dre;case 35680:case 36300:case 36308:case 36293:return Ure;case 36289:case 36303:case 36311:case 36292:return Bre}}function Gre(t,e){t.uniform1fv(this.addr,e)}function Hre(t,e){const n=Yd(e,this.size,2);t.uniform2fv(this.addr,n)}function Vre(t,e){const n=Yd(e,this.size,3);t.uniform3fv(this.addr,n)}function Wre(t,e){const n=Yd(e,this.size,4);t.uniform4fv(this.addr,n)}function jre(t,e){const n=Yd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function $re(t,e){const n=Yd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function qre(t,e){const n=Yd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Xre(t,e){t.uniform1iv(this.addr,e)}function Yre(t,e){t.uniform2iv(this.addr,e)}function Kre(t,e){t.uniform3iv(this.addr,e)}function Qre(t,e){t.uniform4iv(this.addr,e)}function Jre(t,e){t.uniform1uiv(this.addr,e)}function Zre(t,e){t.uniform2uiv(this.addr,e)}function eie(t,e){t.uniform3uiv(this.addr,e)}function tie(t,e){t.uniform4uiv(this.addr,e)}function nie(t,e,n){const r=this.cache,i=e.length,o=wx(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||jU,o[s])}function rie(t,e,n){const r=this.cache,i=e.length,o=wx(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||qU,o[s])}function iie(t,e,n){const r=this.cache,i=e.length,o=wx(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||XU,o[s])}function oie(t,e,n){const r=this.cache,i=e.length,o=wx(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||$U,o[s])}function sie(t){switch(t){case 5126:return Gre;case 35664:return Hre;case 35665:return Vre;case 35666:return Wre;case 35674:return jre;case 35675:return $re;case 35676:return qre;case 5124:case 35670:return Xre;case 35667:case 35671:return Yre;case 35668:case 35672:return Kre;case 35669:case 35673:return Qre;case 5125:return Jre;case 36294:return Zre;case 36295:return eie;case 36296:return tie;case 35678:case 36198:case 36298:case 36306:case 35682:return nie;case 35679:case 36299:case 36307:return rie;case 35680:case 36300:case 36308:case 36293:return iie;case 36289:case 36303:case 36311:case 36292:return oie}}class aie{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=zre(n.type)}}class lie{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=sie(n.type)}}class uie{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const l=i[o];l.setValue(e,n[l.id],r)}}}const K_=/(\w+)(\])?(\[|\.)?/g;function F3(t,e){t.seq.push(e),t.map[e.id]=e}function cie(t,e,n){const r=t.name,i=r.length;for(K_.lastIndex=0;;){const o=K_.exec(r),s=K_.lastIndex;let l=o[1];const a=o[2]==="]",u=o[3];if(a&&(l=l|0),u===void 0||u==="["&&s+2===i){F3(n,u===void 0?new aie(l,t,e):new lie(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new uie(l),F3(n,f)),n=f}}}class zv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);cie(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const l=n[o],a=r[l.id];a.needsUpdate!==!1&&l.setValue(e,a.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function D3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let fie=0;function die(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const l=s+1;r.push(`${l===e?">":" "} ${l}: ${n[s]}`)}return r.join(`
`)}function hie(t){switch(t){case Us:return["Linear","( value )"];case Qt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function U3(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+die(t.getShaderSource(e),s)}else return i}function pie(t,e){const n=hie(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function mie(t,e){let n;switch(e){case fU:n="Linear";break;case dU:n="Reinhard";break;case hU:n="OptimizedCineon";break;case A2:n="ACESFilmic";break;case pU:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function gie(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(op).join(`
`)}function vie(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function yie(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let l=1;o.type===t.FLOAT_MAT2&&(l=2),o.type===t.FLOAT_MAT3&&(l=3),o.type===t.FLOAT_MAT4&&(l=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:l}}return n}function op(t){return t!==""}function B3(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function z3(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const xie=/^[ \t]*#include +<([\w\d./]+)>/gm;function ME(t){return t.replace(xie,bie)}function bie(t,e){const n=en[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return ME(n)}const _ie=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function G3(t){return t.replace(_ie,Sie)}function Sie(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function H3(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function wie(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===gx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Tp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===As&&(e="SHADOWMAP_TYPE_VSM"),e}function Eie(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case nu:case ru:e="ENVMAP_TYPE_CUBE";break;case qd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Mie(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ru:e="ENVMAP_MODE_REFRACTION";break}return e}function Tie(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Vm:e="ENVMAP_BLENDING_MULTIPLY";break;case uU:e="ENVMAP_BLENDING_MIX";break;case cU:e="ENVMAP_BLENDING_ADD";break}return e}function Aie(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Cie(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,l=n.fragmentShader;const a=wie(n),u=Eie(n),c=Mie(n),f=Tie(n),d=Aie(n),h=n.isWebGL2?"":gie(n),m=vie(o),y=i.createProgram();let x,v,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(op).join(`
`),x.length>0&&(x+=`
`),v=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(op).join(`
`),v.length>0&&(v+=`
`)):(x=[H3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+a:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(op).join(`
`),v=[h,H3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+a:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Fs?"#define TONE_MAPPING":"",n.toneMapping!==Fs?en.tonemapping_pars_fragment:"",n.toneMapping!==Fs?mie("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",en.encodings_pars_fragment,pie("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(op).join(`
`)),s=ME(s),s=B3(s,n),s=z3(s,n),l=ME(l),l=B3(l,n),l=z3(l,n),s=G3(s),l=G3(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",n.glslVersion===SE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===SE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=_+x+s,S=_+v+l,E=D3(i,i.VERTEX_SHADER,b),M=D3(i,i.FRAGMENT_SHADER,S);if(i.attachShader(y,E),i.attachShader(y,M),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(y).trim(),P=i.getShaderInfoLog(E).trim(),D=i.getShaderInfoLog(M).trim();let z=!0,V=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,M);else{const U=U3(i,E,"vertex"),q=U3(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+U+`
`+q)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(P===""||D==="")&&(V=!1);V&&(this.diagnostics={runnable:z,programLog:C,vertexShader:{log:P,prefix:x},fragmentShader:{log:D,prefix:v}})}i.deleteShader(E),i.deleteShader(M);let T;this.getUniforms=function(){return T===void 0&&(T=new zv(i,y)),T};let R;return this.getAttributes=function(){return R===void 0&&(R=yie(i,y)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=fie++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let Rie=0;class Pie{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Iie(e),n.set(e,r)),r}}class Iie{constructor(e){this.id=Rie++,this.code=e,this.usedTimes=0}}function Lie(t,e,n,r,i,o,s){const l=new fc,a=new Pie,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(C){return C===0?"uv":`uv${C}`}function x(C,P,D,z,V){const U=z.fog,q=V.geometry,Z=C.isMeshStandardMaterial?z.environment:null,ne=(C.isMeshStandardMaterial?n:e).get(C.envMap||Z),O=ne&&ne.mapping===qd?ne.image.height:null,F=m[C.type];C.precision!==null&&(h=i.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const G=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,$=G!==void 0?G.length:0;let W=0;q.morphAttributes.position!==void 0&&(W=1),q.morphAttributes.normal!==void 0&&(W=2),q.morphAttributes.color!==void 0&&(W=3);let oe,j,Y,K;if(F){const Et=Ls[F];oe=Et.vertexShader,j=Et.fragmentShader}else oe=C.vertexShader,j=C.fragmentShader,a.update(C),Y=a.getVertexShaderID(C),K=a.getFragmentShaderID(C);const fe=t.getRenderTarget(),pe=V.isInstancedMesh===!0,xe=!!C.map,Ge=!!C.matcap,Ae=!!ne,H=!!C.aoMap,ge=!!C.lightMap,Me=!!C.bumpMap,Ie=!!C.normalMap,Re=!!C.displacementMap,We=!!C.emissiveMap,ke=!!C.metalnessMap,je=!!C.roughnessMap,He=C.anisotropy>0,Ne=C.clearcoat>0,Ke=C.iridescence>0,Q=C.sheen>0,N=C.transmission>0,se=He&&!!C.anisotropyMap,Le=Ne&&!!C.clearcoatMap,Te=Ne&&!!C.clearcoatNormalMap,_e=Ne&&!!C.clearcoatRoughnessMap,ye=Ke&&!!C.iridescenceMap,we=Ke&&!!C.iridescenceThicknessMap,Se=Q&&!!C.sheenColorMap,be=Q&&!!C.sheenRoughnessMap,ae=!!C.specularMap,de=!!C.specularColorMap,he=!!C.specularIntensityMap,me=N&&!!C.transmissionMap,Ue=N&&!!C.thicknessMap,Xe=!!C.gradientMap,ie=!!C.alphaMap,Be=C.alphaTest>0,Ee=!!C.extensions,Ye=!!q.attributes.uv1,tt=!!q.attributes.uv2,vt=!!q.attributes.uv3;return{isWebGL2:c,shaderID:F,shaderType:C.type,shaderName:C.name,vertexShader:oe,fragmentShader:j,defines:C.defines,customVertexShaderID:Y,customFragmentShaderID:K,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,instancing:pe,instancingColor:pe&&V.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Us,map:xe,matcap:Ge,envMap:Ae,envMapMode:Ae&&ne.mapping,envMapCubeUVHeight:O,aoMap:H,lightMap:ge,bumpMap:Me,normalMap:Ie,displacementMap:d&&Re,emissiveMap:We,normalMapObjectSpace:Ie&&C.normalMapType===CU,normalMapTangentSpace:Ie&&C.normalMapType===pu,metalnessMap:ke,roughnessMap:je,anisotropy:He,anisotropyMap:se,clearcoat:Ne,clearcoatMap:Le,clearcoatNormalMap:Te,clearcoatRoughnessMap:_e,iridescence:Ke,iridescenceMap:ye,iridescenceThicknessMap:we,sheen:Q,sheenColorMap:Se,sheenRoughnessMap:be,specularMap:ae,specularColorMap:de,specularIntensityMap:he,transmission:N,transmissionMap:me,thicknessMap:Ue,gradientMap:Xe,opaque:C.transparent===!1&&C.blending===uc,alphaMap:ie,alphaTest:Be,combine:C.combine,mapUv:xe&&y(C.map.channel),aoMapUv:H&&y(C.aoMap.channel),lightMapUv:ge&&y(C.lightMap.channel),bumpMapUv:Me&&y(C.bumpMap.channel),normalMapUv:Ie&&y(C.normalMap.channel),displacementMapUv:Re&&y(C.displacementMap.channel),emissiveMapUv:We&&y(C.emissiveMap.channel),metalnessMapUv:ke&&y(C.metalnessMap.channel),roughnessMapUv:je&&y(C.roughnessMap.channel),anisotropyMapUv:se&&y(C.anisotropyMap.channel),clearcoatMapUv:Le&&y(C.clearcoatMap.channel),clearcoatNormalMapUv:Te&&y(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_e&&y(C.clearcoatRoughnessMap.channel),iridescenceMapUv:ye&&y(C.iridescenceMap.channel),iridescenceThicknessMapUv:we&&y(C.iridescenceThicknessMap.channel),sheenColorMapUv:Se&&y(C.sheenColorMap.channel),sheenRoughnessMapUv:be&&y(C.sheenRoughnessMap.channel),specularMapUv:ae&&y(C.specularMap.channel),specularColorMapUv:de&&y(C.specularColorMap.channel),specularIntensityMapUv:he&&y(C.specularIntensityMap.channel),transmissionMapUv:me&&y(C.transmissionMap.channel),thicknessMapUv:Ue&&y(C.thicknessMap.channel),alphaMapUv:ie&&y(C.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Ie||He),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,vertexUv1s:Ye,vertexUv2s:tt,vertexUv3s:vt,pointsUvs:V.isPoints===!0&&!!q.attributes.uv&&(xe||ie),fog:!!U,useFog:C.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:V.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:W,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:C.toneMapped?t.toneMapping:Fs,useLegacyLights:t.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Ao,flipSided:C.side===xi,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:Ee&&C.extensions.derivatives===!0,extensionFragDepth:Ee&&C.extensions.fragDepth===!0,extensionDrawBuffers:Ee&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ee&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const P=[];if(C.shaderID?P.push(C.shaderID):(P.push(C.customVertexShaderID),P.push(C.customFragmentShaderID)),C.defines!==void 0)for(const D in C.defines)P.push(D),P.push(C.defines[D]);return C.isRawShaderMaterial===!1&&(_(P,C),b(P,C),P.push(t.outputColorSpace)),P.push(C.customProgramCacheKey),P.join()}function _(C,P){C.push(P.precision),C.push(P.outputColorSpace),C.push(P.envMapMode),C.push(P.envMapCubeUVHeight),C.push(P.mapUv),C.push(P.alphaMapUv),C.push(P.lightMapUv),C.push(P.aoMapUv),C.push(P.bumpMapUv),C.push(P.normalMapUv),C.push(P.displacementMapUv),C.push(P.emissiveMapUv),C.push(P.metalnessMapUv),C.push(P.roughnessMapUv),C.push(P.anisotropyMapUv),C.push(P.clearcoatMapUv),C.push(P.clearcoatNormalMapUv),C.push(P.clearcoatRoughnessMapUv),C.push(P.iridescenceMapUv),C.push(P.iridescenceThicknessMapUv),C.push(P.sheenColorMapUv),C.push(P.sheenRoughnessMapUv),C.push(P.specularMapUv),C.push(P.specularColorMapUv),C.push(P.specularIntensityMapUv),C.push(P.transmissionMapUv),C.push(P.thicknessMapUv),C.push(P.combine),C.push(P.fogExp2),C.push(P.sizeAttenuation),C.push(P.morphTargetsCount),C.push(P.morphAttributeCount),C.push(P.numDirLights),C.push(P.numPointLights),C.push(P.numSpotLights),C.push(P.numSpotLightMaps),C.push(P.numHemiLights),C.push(P.numRectAreaLights),C.push(P.numDirLightShadows),C.push(P.numPointLightShadows),C.push(P.numSpotLightShadows),C.push(P.numSpotLightShadowsWithMaps),C.push(P.shadowMapType),C.push(P.toneMapping),C.push(P.numClippingPlanes),C.push(P.numClipIntersection),C.push(P.depthPacking)}function b(C,P){l.disableAll(),P.isWebGL2&&l.enable(0),P.supportsVertexTextures&&l.enable(1),P.instancing&&l.enable(2),P.instancingColor&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),C.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.skinning&&l.enable(4),P.morphTargets&&l.enable(5),P.morphNormals&&l.enable(6),P.morphColors&&l.enable(7),P.premultipliedAlpha&&l.enable(8),P.shadowMapEnabled&&l.enable(9),P.useLegacyLights&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),C.push(l.mask)}function S(C){const P=m[C.type];let D;if(P){const z=Ls[P];D=_x.clone(z.uniforms)}else D=C.uniforms;return D}function E(C,P){let D;for(let z=0,V=u.length;z<V;z++){const U=u[z];if(U.cacheKey===P){D=U,++D.usedTimes;break}}return D===void 0&&(D=new Cie(t,P,C,o),u.push(D)),D}function M(C){if(--C.usedTimes===0){const P=u.indexOf(C);u[P]=u[u.length-1],u.pop(),C.destroy()}}function T(C){a.remove(C)}function R(){a.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:S,acquireProgram:E,releaseProgram:M,releaseShaderCache:T,programs:u,dispose:R}}function kie(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,l){t.get(o)[s]=l}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Nie(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function V3(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function W3(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(f,d,h,m,y,x){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:d,material:h,groupOrder:m,renderOrder:f.renderOrder,z:y,group:x},t[e]=v):(v.id=f.id,v.object=f,v.geometry=d,v.material=h,v.groupOrder=m,v.renderOrder=f.renderOrder,v.z=y,v.group=x),e++,v}function l(f,d,h,m,y,x){const v=s(f,d,h,m,y,x);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):n.push(v)}function a(f,d,h,m,y,x){const v=s(f,d,h,m,y,x);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):n.unshift(v)}function u(f,d){n.length>1&&n.sort(f||Nie),r.length>1&&r.sort(d||V3),i.length>1&&i.sort(d||V3)}function c(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:l,unshift:a,finish:c,sort:u}}function Oie(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new W3,t.set(r,[s])):i>=o.length?(s=new W3,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Fie(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ue,color:new yt};break;case"SpotLight":n={position:new ue,direction:new ue,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ue,color:new yt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ue,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":n={color:new yt,position:new ue,halfWidth:new ue,halfHeight:new ue};break}return t[e.id]=n,n}}}function Die(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Uie=0;function Bie(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function zie(t,e){const n=new Fie,r=Die(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new ue);const o=new ue,s=new Xt,l=new Xt;function a(c,f){let d=0,h=0,m=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let y=0,x=0,v=0,_=0,b=0,S=0,E=0,M=0,T=0,R=0;c.sort(Bie);const C=f===!0?Math.PI:1;for(let D=0,z=c.length;D<z;D++){const V=c[D],U=V.color,q=V.intensity,Z=V.distance,ne=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)d+=U.r*q*C,h+=U.g*q*C,m+=U.b*q*C;else if(V.isLightProbe)for(let O=0;O<9;O++)i.probe[O].addScaledVector(V.sh.coefficients[O],q);else if(V.isDirectionalLight){const O=n.get(V);if(O.color.copy(V.color).multiplyScalar(V.intensity*C),V.castShadow){const F=V.shadow,G=r.get(V);G.shadowBias=F.bias,G.shadowNormalBias=F.normalBias,G.shadowRadius=F.radius,G.shadowMapSize=F.mapSize,i.directionalShadow[y]=G,i.directionalShadowMap[y]=ne,i.directionalShadowMatrix[y]=V.shadow.matrix,S++}i.directional[y]=O,y++}else if(V.isSpotLight){const O=n.get(V);O.position.setFromMatrixPosition(V.matrixWorld),O.color.copy(U).multiplyScalar(q*C),O.distance=Z,O.coneCos=Math.cos(V.angle),O.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),O.decay=V.decay,i.spot[v]=O;const F=V.shadow;if(V.map&&(i.spotLightMap[T]=V.map,T++,F.updateMatrices(V),V.castShadow&&R++),i.spotLightMatrix[v]=F.matrix,V.castShadow){const G=r.get(V);G.shadowBias=F.bias,G.shadowNormalBias=F.normalBias,G.shadowRadius=F.radius,G.shadowMapSize=F.mapSize,i.spotShadow[v]=G,i.spotShadowMap[v]=ne,M++}v++}else if(V.isRectAreaLight){const O=n.get(V);O.color.copy(U).multiplyScalar(q),O.halfWidth.set(V.width*.5,0,0),O.halfHeight.set(0,V.height*.5,0),i.rectArea[_]=O,_++}else if(V.isPointLight){const O=n.get(V);if(O.color.copy(V.color).multiplyScalar(V.intensity*C),O.distance=V.distance,O.decay=V.decay,V.castShadow){const F=V.shadow,G=r.get(V);G.shadowBias=F.bias,G.shadowNormalBias=F.normalBias,G.shadowRadius=F.radius,G.shadowMapSize=F.mapSize,G.shadowCameraNear=F.camera.near,G.shadowCameraFar=F.camera.far,i.pointShadow[x]=G,i.pointShadowMap[x]=ne,i.pointShadowMatrix[x]=V.shadow.matrix,E++}i.point[x]=O,x++}else if(V.isHemisphereLight){const O=n.get(V);O.skyColor.copy(V.color).multiplyScalar(q*C),O.groundColor.copy(V.groundColor).multiplyScalar(q*C),i.hemi[b]=O,b++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=m;const P=i.hash;(P.directionalLength!==y||P.pointLength!==x||P.spotLength!==v||P.rectAreaLength!==_||P.hemiLength!==b||P.numDirectionalShadows!==S||P.numPointShadows!==E||P.numSpotShadows!==M||P.numSpotMaps!==T)&&(i.directional.length=y,i.spot.length=v,i.rectArea.length=_,i.point.length=x,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=M+T-R,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=R,P.directionalLength=y,P.pointLength=x,P.spotLength=v,P.rectAreaLength=_,P.hemiLength=b,P.numDirectionalShadows=S,P.numPointShadows=E,P.numSpotShadows=M,P.numSpotMaps=T,i.version=Uie++)}function u(c,f){let d=0,h=0,m=0,y=0,x=0;const v=f.matrixWorldInverse;for(let _=0,b=c.length;_<b;_++){const S=c[_];if(S.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(o),E.direction.transformDirection(v),d++}else if(S.isSpotLight){const E=i.spot[m];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(v),E.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(o),E.direction.transformDirection(v),m++}else if(S.isRectAreaLight){const E=i.rectArea[y];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(v),l.identity(),s.copy(S.matrixWorld),s.premultiply(v),l.extractRotation(s),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(l),E.halfHeight.applyMatrix4(l),y++}else if(S.isPointLight){const E=i.point[h];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(v),h++}else if(S.isHemisphereLight){const E=i.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(v),x++}}}return{setup:a,setupView:u,state:i}}function j3(t,e){const n=new zie(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(f){r.push(f)}function l(f){i.push(f)}function a(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:a,setupLightsView:u,pushLight:s,pushShadow:l}}function Gie(t,e){let n=new WeakMap;function r(o,s=0){const l=n.get(o);let a;return l===void 0?(a=new j3(t,e),n.set(o,[a])):s>=l.length?(a=new j3(t,e),l.push(a)):a=l[s],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class Ex extends _i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=AU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Mx extends _i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Hie=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Vie=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Wie(t,e,n){let r=new Sx;const i=new it,o=new it,s=new Un,l=new Ex({depthPacking:D2}),a=new Mx,u={},c=n.maxTextureSize,f={[xa]:xi,[xi]:xa,[Ao]:Ao},d=new ls({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:Hie,fragmentShader:Vie}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const m=new nn;m.setAttribute("position",new er(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new mr(m,d),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=gx;let v=this.type;this.render=function(E,M,T){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||E.length===0)return;const R=t.getRenderTarget(),C=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),D=t.state;D.setBlending(Xa),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const z=v!==As&&this.type===As,V=v===As&&this.type!==As;for(let U=0,q=E.length;U<q;U++){const Z=E[U],ne=Z.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;i.copy(ne.mapSize);const O=ne.getFrameExtents();if(i.multiply(O),o.copy(ne.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/O.x),i.x=o.x*O.x,ne.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/O.y),i.y=o.y*O.y,ne.mapSize.y=o.y)),ne.map===null||z===!0||V===!0){const G=this.type!==As?{minFilter:Br,magFilter:Br}:{};ne.map!==null&&ne.map.dispose(),ne.map=new Bs(i.x,i.y,G),ne.map.texture.name=Z.name+".shadowMap",ne.camera.updateProjectionMatrix()}t.setRenderTarget(ne.map),t.clear();const F=ne.getViewportCount();for(let G=0;G<F;G++){const $=ne.getViewport(G);s.set(o.x*$.x,o.y*$.y,o.x*$.z,o.y*$.w),D.viewport(s),ne.updateMatrices(Z,G),r=ne.getFrustum(),S(M,T,ne.camera,Z,this.type)}ne.isPointLightShadow!==!0&&this.type===As&&_(ne,T),ne.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(R,C,P)};function _(E,M){const T=e.update(y);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,h.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Bs(i.x,i.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(M,null,T,d,y,null),h.uniforms.shadow_pass.value=E.mapPass.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(M,null,T,h,y,null)}function b(E,M,T,R){let C=null;const P=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(P!==void 0)C=P;else if(C=T.isPointLight===!0?a:l,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const D=C.uuid,z=M.uuid;let V=u[D];V===void 0&&(V={},u[D]=V);let U=V[z];U===void 0&&(U=C.clone(),V[z]=U),C=U}if(C.visible=M.visible,C.wireframe=M.wireframe,R===As?C.side=M.shadowSide!==null?M.shadowSide:M.side:C.side=M.shadowSide!==null?M.shadowSide:f[M.side],C.alphaMap=M.alphaMap,C.alphaTest=M.alphaTest,C.map=M.map,C.clipShadows=M.clipShadows,C.clippingPlanes=M.clippingPlanes,C.clipIntersection=M.clipIntersection,C.displacementMap=M.displacementMap,C.displacementScale=M.displacementScale,C.displacementBias=M.displacementBias,C.wireframeLinewidth=M.wireframeLinewidth,C.linewidth=M.linewidth,T.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const D=t.properties.get(C);D.light=T}return C}function S(E,M,T,R,C){if(E.visible===!1)return;if(E.layers.test(M.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&C===As)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const z=e.update(E),V=E.material;if(Array.isArray(V)){const U=z.groups;for(let q=0,Z=U.length;q<Z;q++){const ne=U[q],O=V[ne.materialIndex];if(O&&O.visible){const F=b(E,O,R,C);t.renderBufferDirect(T,null,z,F,E,ne)}}}else if(V.visible){const U=b(E,V,R,C);t.renderBufferDirect(T,null,z,U,E,null)}}const D=E.children;for(let z=0,V=D.length;z<V;z++)S(D[z],M,T,R,C)}}function jie(t,e,n){const r=n.isWebGL2;function i(){let ie=!1;const Be=new Un;let Ee=null;const Ye=new Un(0,0,0,0);return{setMask:function(tt){Ee!==tt&&!ie&&(t.colorMask(tt,tt,tt,tt),Ee=tt)},setLocked:function(tt){ie=tt},setClear:function(tt,vt,xt,Et,Gt){Gt===!0&&(tt*=Et,vt*=Et,xt*=Et),Be.set(tt,vt,xt,Et),Ye.equals(Be)===!1&&(t.clearColor(tt,vt,xt,Et),Ye.copy(Be))},reset:function(){ie=!1,Ee=null,Ye.set(-1,0,0,0)}}}function o(){let ie=!1,Be=null,Ee=null,Ye=null;return{setTest:function(tt){tt?fe(t.DEPTH_TEST):pe(t.DEPTH_TEST)},setMask:function(tt){Be!==tt&&!ie&&(t.depthMask(tt),Be=tt)},setFunc:function(tt){if(Ee!==tt){switch(tt){case nU:t.depthFunc(t.NEVER);break;case rU:t.depthFunc(t.ALWAYS);break;case iU:t.depthFunc(t.LESS);break;case zy:t.depthFunc(t.LEQUAL);break;case oU:t.depthFunc(t.EQUAL);break;case sU:t.depthFunc(t.GEQUAL);break;case aU:t.depthFunc(t.GREATER);break;case lU:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ee=tt}},setLocked:function(tt){ie=tt},setClear:function(tt){Ye!==tt&&(t.clearDepth(tt),Ye=tt)},reset:function(){ie=!1,Be=null,Ee=null,Ye=null}}}function s(){let ie=!1,Be=null,Ee=null,Ye=null,tt=null,vt=null,xt=null,Et=null,Gt=null;return{setTest:function(qt){ie||(qt?fe(t.STENCIL_TEST):pe(t.STENCIL_TEST))},setMask:function(qt){Be!==qt&&!ie&&(t.stencilMask(qt),Be=qt)},setFunc:function(qt,jt,Vt){(Ee!==qt||Ye!==jt||tt!==Vt)&&(t.stencilFunc(qt,jt,Vt),Ee=qt,Ye=jt,tt=Vt)},setOp:function(qt,jt,Vt){(vt!==qt||xt!==jt||Et!==Vt)&&(t.stencilOp(qt,jt,Vt),vt=qt,xt=jt,Et=Vt)},setLocked:function(qt){ie=qt},setClear:function(qt){Gt!==qt&&(t.clearStencil(qt),Gt=qt)},reset:function(){ie=!1,Be=null,Ee=null,Ye=null,tt=null,vt=null,xt=null,Et=null,Gt=null}}}const l=new i,a=new o,u=new s,c=new WeakMap,f=new WeakMap;let d={},h={},m=new WeakMap,y=[],x=null,v=!1,_=null,b=null,S=null,E=null,M=null,T=null,R=null,C=!1,P=null,D=null,z=null,V=null,U=null;const q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,ne=0;const O=t.getParameter(t.VERSION);O.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(O)[1]),Z=ne>=1):O.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),Z=ne>=2);let F=null,G={};const $=t.getParameter(t.SCISSOR_BOX),W=t.getParameter(t.VIEWPORT),oe=new Un().fromArray($),j=new Un().fromArray(W);function Y(ie,Be,Ee,Ye){const tt=new Uint8Array(4),vt=t.createTexture();t.bindTexture(ie,vt),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let xt=0;xt<Ee;xt++)r&&(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)?t.texImage3D(Be,0,t.RGBA,1,1,Ye,0,t.RGBA,t.UNSIGNED_BYTE,tt):t.texImage2D(Be+xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,tt);return vt}const K={};K[t.TEXTURE_2D]=Y(t.TEXTURE_2D,t.TEXTURE_2D,1),K[t.TEXTURE_CUBE_MAP]=Y(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(K[t.TEXTURE_2D_ARRAY]=Y(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),K[t.TEXTURE_3D]=Y(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),a.setClear(1),u.setClear(0),fe(t.DEPTH_TEST),a.setFunc(zy),Re(!1),We(Xw),fe(t.CULL_FACE),Me(Xa);function fe(ie){d[ie]!==!0&&(t.enable(ie),d[ie]=!0)}function pe(ie){d[ie]!==!1&&(t.disable(ie),d[ie]=!1)}function xe(ie,Be){return h[ie]!==Be?(t.bindFramebuffer(ie,Be),h[ie]=Be,r&&(ie===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Be),ie===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Be)),!0):!1}function Ge(ie,Be){let Ee=y,Ye=!1;if(ie)if(Ee=m.get(Be),Ee===void 0&&(Ee=[],m.set(Be,Ee)),ie.isWebGLMultipleRenderTargets){const tt=ie.texture;if(Ee.length!==tt.length||Ee[0]!==t.COLOR_ATTACHMENT0){for(let vt=0,xt=tt.length;vt<xt;vt++)Ee[vt]=t.COLOR_ATTACHMENT0+vt;Ee.length=tt.length,Ye=!0}}else Ee[0]!==t.COLOR_ATTACHMENT0&&(Ee[0]=t.COLOR_ATTACHMENT0,Ye=!0);else Ee[0]!==t.BACK&&(Ee[0]=t.BACK,Ye=!0);Ye&&(n.isWebGL2?t.drawBuffers(Ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function Ae(ie){return x!==ie?(t.useProgram(ie),x=ie,!0):!1}const H={[Xu]:t.FUNC_ADD,[jD]:t.FUNC_SUBTRACT,[$D]:t.FUNC_REVERSE_SUBTRACT};if(r)H[Qw]=t.MIN,H[Jw]=t.MAX;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(H[Qw]=ie.MIN_EXT,H[Jw]=ie.MAX_EXT)}const ge={[qD]:t.ZERO,[XD]:t.ONE,[YD]:t.SRC_COLOR,[M2]:t.SRC_ALPHA,[tU]:t.SRC_ALPHA_SATURATE,[ZD]:t.DST_COLOR,[QD]:t.DST_ALPHA,[KD]:t.ONE_MINUS_SRC_COLOR,[T2]:t.ONE_MINUS_SRC_ALPHA,[eU]:t.ONE_MINUS_DST_COLOR,[JD]:t.ONE_MINUS_DST_ALPHA};function Me(ie,Be,Ee,Ye,tt,vt,xt,Et){if(ie===Xa){v===!0&&(pe(t.BLEND),v=!1);return}if(v===!1&&(fe(t.BLEND),v=!0),ie!==WD){if(ie!==_||Et!==C){if((b!==Xu||M!==Xu)&&(t.blendEquation(t.FUNC_ADD),b=Xu,M=Xu),Et)switch(ie){case uc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case By:t.blendFunc(t.ONE,t.ONE);break;case Yw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Kw:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case uc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case By:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Yw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Kw:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}S=null,E=null,T=null,R=null,_=ie,C=Et}return}tt=tt||Be,vt=vt||Ee,xt=xt||Ye,(Be!==b||tt!==M)&&(t.blendEquationSeparate(H[Be],H[tt]),b=Be,M=tt),(Ee!==S||Ye!==E||vt!==T||xt!==R)&&(t.blendFuncSeparate(ge[Ee],ge[Ye],ge[vt],ge[xt]),S=Ee,E=Ye,T=vt,R=xt),_=ie,C=!1}function Ie(ie,Be){ie.side===Ao?pe(t.CULL_FACE):fe(t.CULL_FACE);let Ee=ie.side===xi;Be&&(Ee=!Ee),Re(Ee),ie.blending===uc&&ie.transparent===!1?Me(Xa):Me(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),a.setFunc(ie.depthFunc),a.setTest(ie.depthTest),a.setMask(ie.depthWrite),l.setMask(ie.colorWrite);const Ye=ie.stencilWrite;u.setTest(Ye),Ye&&(u.setMask(ie.stencilWriteMask),u.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),u.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),je(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Re(ie){P!==ie&&(ie?t.frontFace(t.CW):t.frontFace(t.CCW),P=ie)}function We(ie){ie!==GD?(fe(t.CULL_FACE),ie!==D&&(ie===Xw?t.cullFace(t.BACK):ie===HD?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):pe(t.CULL_FACE),D=ie}function ke(ie){ie!==z&&(Z&&t.lineWidth(ie),z=ie)}function je(ie,Be,Ee){ie?(fe(t.POLYGON_OFFSET_FILL),(V!==Be||U!==Ee)&&(t.polygonOffset(Be,Ee),V=Be,U=Ee)):pe(t.POLYGON_OFFSET_FILL)}function He(ie){ie?fe(t.SCISSOR_TEST):pe(t.SCISSOR_TEST)}function Ne(ie){ie===void 0&&(ie=t.TEXTURE0+q-1),F!==ie&&(t.activeTexture(ie),F=ie)}function Ke(ie,Be,Ee){Ee===void 0&&(F===null?Ee=t.TEXTURE0+q-1:Ee=F);let Ye=G[Ee];Ye===void 0&&(Ye={type:void 0,texture:void 0},G[Ee]=Ye),(Ye.type!==ie||Ye.texture!==Be)&&(F!==Ee&&(t.activeTexture(Ee),F=Ee),t.bindTexture(ie,Be||K[ie]),Ye.type=ie,Ye.texture=Be)}function Q(){const ie=G[F];ie!==void 0&&ie.type!==void 0&&(t.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function N(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function se(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Le(){try{t.texSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Te(){try{t.texSubImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function _e(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ye(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function we(){try{t.texStorage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Se(){try{t.texStorage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function be(){try{t.texImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ae(){try{t.texImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function de(ie){oe.equals(ie)===!1&&(t.scissor(ie.x,ie.y,ie.z,ie.w),oe.copy(ie))}function he(ie){j.equals(ie)===!1&&(t.viewport(ie.x,ie.y,ie.z,ie.w),j.copy(ie))}function me(ie,Be){let Ee=f.get(Be);Ee===void 0&&(Ee=new WeakMap,f.set(Be,Ee));let Ye=Ee.get(ie);Ye===void 0&&(Ye=t.getUniformBlockIndex(Be,ie.name),Ee.set(ie,Ye))}function Ue(ie,Be){const Ye=f.get(Be).get(ie);c.get(Be)!==Ye&&(t.uniformBlockBinding(Be,Ye,ie.__bindingPointIndex),c.set(Be,Ye))}function Xe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},F=null,G={},h={},m=new WeakMap,y=[],x=null,v=!1,_=null,b=null,S=null,E=null,M=null,T=null,R=null,C=!1,P=null,D=null,z=null,V=null,U=null,oe.set(0,0,t.canvas.width,t.canvas.height),j.set(0,0,t.canvas.width,t.canvas.height),l.reset(),a.reset(),u.reset()}return{buffers:{color:l,depth:a,stencil:u},enable:fe,disable:pe,bindFramebuffer:xe,drawBuffers:Ge,useProgram:Ae,setBlending:Me,setMaterial:Ie,setFlipSided:Re,setCullFace:We,setLineWidth:ke,setPolygonOffset:je,setScissorTest:He,activeTexture:Ne,bindTexture:Ke,unbindTexture:Q,compressedTexImage2D:N,compressedTexImage3D:se,texImage2D:be,texImage3D:ae,updateUBOMapping:me,uniformBlockBinding:Ue,texStorage2D:we,texStorage3D:Se,texSubImage2D:Le,texSubImage3D:Te,compressedTexSubImage2D:_e,compressedTexSubImage3D:ye,scissor:de,viewport:he,reset:Xe}}function $ie(t,e,n,r,i,o,s){const l=i.isWebGL2,a=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let y;const x=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Q,N){return v?new OffscreenCanvas(Q,N):vm("canvas")}function b(Q,N,se,Le){let Te=1;if((Q.width>Le||Q.height>Le)&&(Te=Le/Math.max(Q.width,Q.height)),Te<1||N===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const _e=N?Vy:Math.floor,ye=_e(Te*Q.width),we=_e(Te*Q.height);y===void 0&&(y=_(ye,we));const Se=se?_(ye,we):y;return Se.width=ye,Se.height=we,Se.getContext("2d").drawImage(Q,0,0,ye,we),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ye+"x"+we+")."),Se}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function S(Q){return wE(Q.width)&&wE(Q.height)}function E(Q){return l?!1:Q.wrapS!==Oi||Q.wrapT!==Oi||Q.minFilter!==Br&&Q.minFilter!==br}function M(Q,N){return Q.generateMipmaps&&N&&Q.minFilter!==Br&&Q.minFilter!==br}function T(Q){t.generateMipmap(Q)}function R(Q,N,se,Le,Te=!1){if(l===!1)return N;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let _e=N;return N===t.RED&&(se===t.FLOAT&&(_e=t.R32F),se===t.HALF_FLOAT&&(_e=t.R16F),se===t.UNSIGNED_BYTE&&(_e=t.R8)),N===t.RG&&(se===t.FLOAT&&(_e=t.RG32F),se===t.HALF_FLOAT&&(_e=t.RG16F),se===t.UNSIGNED_BYTE&&(_e=t.RG8)),N===t.RGBA&&(se===t.FLOAT&&(_e=t.RGBA32F),se===t.HALF_FLOAT&&(_e=t.RGBA16F),se===t.UNSIGNED_BYTE&&(_e=Le===Qt&&Te===!1?t.SRGB8_ALPHA8:t.RGBA8),se===t.UNSIGNED_SHORT_4_4_4_4&&(_e=t.RGBA4),se===t.UNSIGNED_SHORT_5_5_5_1&&(_e=t.RGB5_A1)),(_e===t.R16F||_e===t.R32F||_e===t.RG16F||_e===t.RG32F||_e===t.RGBA16F||_e===t.RGBA32F)&&e.get("EXT_color_buffer_float"),_e}function C(Q,N,se){return M(Q,se)===!0||Q.isFramebufferTexture&&Q.minFilter!==Br&&Q.minFilter!==br?Math.log2(Math.max(N.width,N.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?N.mipmaps.length:1}function P(Q){return Q===Br||Q===Gy||Q===Ap?t.NEAREST:t.LINEAR}function D(Q){const N=Q.target;N.removeEventListener("dispose",D),V(N),N.isVideoTexture&&m.delete(N)}function z(Q){const N=Q.target;N.removeEventListener("dispose",z),q(N)}function V(Q){const N=r.get(Q);if(N.__webglInit===void 0)return;const se=Q.source,Le=x.get(se);if(Le){const Te=Le[N.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&U(Q),Object.keys(Le).length===0&&x.delete(se)}r.remove(Q)}function U(Q){const N=r.get(Q);t.deleteTexture(N.__webglTexture);const se=Q.source,Le=x.get(se);delete Le[N.__cacheKey],s.memory.textures--}function q(Q){const N=Q.texture,se=r.get(Q),Le=r.get(N);if(Le.__webglTexture!==void 0&&(t.deleteTexture(Le.__webglTexture),s.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)t.deleteFramebuffer(se.__webglFramebuffer[Te]),se.__webglDepthbuffer&&t.deleteRenderbuffer(se.__webglDepthbuffer[Te]);else{if(t.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&t.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&t.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let Te=0;Te<se.__webglColorRenderbuffer.length;Te++)se.__webglColorRenderbuffer[Te]&&t.deleteRenderbuffer(se.__webglColorRenderbuffer[Te]);se.__webglDepthRenderbuffer&&t.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Te=0,_e=N.length;Te<_e;Te++){const ye=r.get(N[Te]);ye.__webglTexture&&(t.deleteTexture(ye.__webglTexture),s.memory.textures--),r.remove(N[Te])}r.remove(N),r.remove(Q)}let Z=0;function ne(){Z=0}function O(){const Q=Z;return Q>=a&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+a),Z+=1,Q}function F(Q){const N=[];return N.push(Q.wrapS),N.push(Q.wrapT),N.push(Q.wrapR||0),N.push(Q.magFilter),N.push(Q.minFilter),N.push(Q.anisotropy),N.push(Q.internalFormat),N.push(Q.format),N.push(Q.type),N.push(Q.generateMipmaps),N.push(Q.premultiplyAlpha),N.push(Q.flipY),N.push(Q.unpackAlignment),N.push(Q.colorSpace),N.join()}function G(Q,N){const se=r.get(Q);if(Q.isVideoTexture&&Ne(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&se.__version!==Q.version){const Le=Q.image;if(Le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{xe(se,Q,N);return}}n.bindTexture(t.TEXTURE_2D,se.__webglTexture,t.TEXTURE0+N)}function $(Q,N){const se=r.get(Q);if(Q.version>0&&se.__version!==Q.version){xe(se,Q,N);return}n.bindTexture(t.TEXTURE_2D_ARRAY,se.__webglTexture,t.TEXTURE0+N)}function W(Q,N){const se=r.get(Q);if(Q.version>0&&se.__version!==Q.version){xe(se,Q,N);return}n.bindTexture(t.TEXTURE_3D,se.__webglTexture,t.TEXTURE0+N)}function oe(Q,N){const se=r.get(Q);if(Q.version>0&&se.__version!==Q.version){Ge(se,Q,N);return}n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture,t.TEXTURE0+N)}const j={[cm]:t.REPEAT,[Oi]:t.CLAMP_TO_EDGE,[fm]:t.MIRRORED_REPEAT},Y={[Br]:t.NEAREST,[Gy]:t.NEAREST_MIPMAP_NEAREST,[Ap]:t.NEAREST_MIPMAP_LINEAR,[br]:t.LINEAR,[C2]:t.LINEAR_MIPMAP_NEAREST,[iu]:t.LINEAR_MIPMAP_LINEAR},K={[PU]:t.NEVER,[DU]:t.ALWAYS,[IU]:t.LESS,[kU]:t.LEQUAL,[LU]:t.EQUAL,[FU]:t.GEQUAL,[NU]:t.GREATER,[OU]:t.NOTEQUAL};function fe(Q,N,se){if(se?(t.texParameteri(Q,t.TEXTURE_WRAP_S,j[N.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,j[N.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,j[N.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,Y[N.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,Y[N.minFilter])):(t.texParameteri(Q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(N.wrapS!==Oi||N.wrapT!==Oi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,P(N.magFilter)),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,P(N.minFilter)),N.minFilter!==Br&&N.minFilter!==br&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,K[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Le=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===Br||N.minFilter!==Ap&&N.minFilter!==iu||N.type===la&&e.has("OES_texture_float_linear")===!1||l===!1&&N.type===Pd&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(t.texParameterf(Q,Le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function pe(Q,N){let se=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,N.addEventListener("dispose",D));const Le=N.source;let Te=x.get(Le);Te===void 0&&(Te={},x.set(Le,Te));const _e=F(N);if(_e!==Q.__cacheKey){Te[_e]===void 0&&(Te[_e]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,se=!0),Te[_e].usedTimes++;const ye=Te[Q.__cacheKey];ye!==void 0&&(Te[Q.__cacheKey].usedTimes--,ye.usedTimes===0&&U(N)),Q.__cacheKey=_e,Q.__webglTexture=Te[_e].texture}return se}function xe(Q,N,se){let Le=t.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Le=t.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Le=t.TEXTURE_3D);const Te=pe(Q,N),_e=N.source;n.bindTexture(Le,Q.__webglTexture,t.TEXTURE0+se);const ye=r.get(_e);if(_e.version!==ye.__version||Te===!0){n.activeTexture(t.TEXTURE0+se),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const we=E(N)&&S(N.image)===!1;let Se=b(N.image,we,!1,c);Se=Ke(N,Se);const be=S(Se)||l,ae=o.convert(N.format,N.colorSpace);let de=o.convert(N.type),he=R(N.internalFormat,ae,de,N.colorSpace);fe(Le,N,be);let me;const Ue=N.mipmaps,Xe=l&&N.isVideoTexture!==!0,ie=ye.__version===void 0||Te===!0,Be=C(N,Se,be);if(N.isDepthTexture)he=t.DEPTH_COMPONENT,l?N.type===la?he=t.DEPTH_COMPONENT32F:N.type===$a?he=t.DEPTH_COMPONENT24:N.type===ql?he=t.DEPTH24_STENCIL8:he=t.DEPTH_COMPONENT16:N.type===la&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Xl&&he===t.DEPTH_COMPONENT&&N.type!==yx&&N.type!==$a&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=$a,de=o.convert(N.type)),N.format===Sc&&he===t.DEPTH_COMPONENT&&(he=t.DEPTH_STENCIL,N.type!==ql&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=ql,de=o.convert(N.type))),ie&&(Xe?n.texStorage2D(t.TEXTURE_2D,1,he,Se.width,Se.height):n.texImage2D(t.TEXTURE_2D,0,he,Se.width,Se.height,0,ae,de,null));else if(N.isDataTexture)if(Ue.length>0&&be){Xe&&ie&&n.texStorage2D(t.TEXTURE_2D,Be,he,Ue[0].width,Ue[0].height);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],Xe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,me.width,me.height,ae,de,me.data):n.texImage2D(t.TEXTURE_2D,Ee,he,me.width,me.height,0,ae,de,me.data);N.generateMipmaps=!1}else Xe?(ie&&n.texStorage2D(t.TEXTURE_2D,Be,he,Se.width,Se.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Se.width,Se.height,ae,de,Se.data)):n.texImage2D(t.TEXTURE_2D,0,he,Se.width,Se.height,0,ae,de,Se.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){Xe&&ie&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Be,he,Ue[0].width,Ue[0].height,Se.depth);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],N.format!==ao?ae!==null?Xe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,me.width,me.height,Se.depth,ae,me.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,he,me.width,me.height,Se.depth,0,me.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,me.width,me.height,Se.depth,ae,de,me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,he,me.width,me.height,Se.depth,0,ae,de,me.data)}else{Xe&&ie&&n.texStorage2D(t.TEXTURE_2D,Be,he,Ue[0].width,Ue[0].height);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],N.format!==ao?ae!==null?Xe?n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,me.width,me.height,ae,me.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,he,me.width,me.height,0,me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,me.width,me.height,ae,de,me.data):n.texImage2D(t.TEXTURE_2D,Ee,he,me.width,me.height,0,ae,de,me.data)}else if(N.isDataArrayTexture)Xe?(ie&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Be,he,Se.width,Se.height,Se.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Se.width,Se.height,Se.depth,ae,de,Se.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,he,Se.width,Se.height,Se.depth,0,ae,de,Se.data);else if(N.isData3DTexture)Xe?(ie&&n.texStorage3D(t.TEXTURE_3D,Be,he,Se.width,Se.height,Se.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Se.width,Se.height,Se.depth,ae,de,Se.data)):n.texImage3D(t.TEXTURE_3D,0,he,Se.width,Se.height,Se.depth,0,ae,de,Se.data);else if(N.isFramebufferTexture){if(ie)if(Xe)n.texStorage2D(t.TEXTURE_2D,Be,he,Se.width,Se.height);else{let Ee=Se.width,Ye=Se.height;for(let tt=0;tt<Be;tt++)n.texImage2D(t.TEXTURE_2D,tt,he,Ee,Ye,0,ae,de,null),Ee>>=1,Ye>>=1}}else if(Ue.length>0&&be){Xe&&ie&&n.texStorage2D(t.TEXTURE_2D,Be,he,Ue[0].width,Ue[0].height);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],Xe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,ae,de,me):n.texImage2D(t.TEXTURE_2D,Ee,he,ae,de,me);N.generateMipmaps=!1}else Xe?(ie&&n.texStorage2D(t.TEXTURE_2D,Be,he,Se.width,Se.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ae,de,Se)):n.texImage2D(t.TEXTURE_2D,0,he,ae,de,Se);M(N,be)&&T(Le),ye.__version=_e.version,N.onUpdate&&N.onUpdate(N)}Q.__version=N.version}function Ge(Q,N,se){if(N.image.length!==6)return;const Le=pe(Q,N),Te=N.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+se);const _e=r.get(Te);if(Te.version!==_e.__version||Le===!0){n.activeTexture(t.TEXTURE0+se),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ye=N.isCompressedTexture||N.image[0].isCompressedTexture,we=N.image[0]&&N.image[0].isDataTexture,Se=[];for(let Ee=0;Ee<6;Ee++)!ye&&!we?Se[Ee]=b(N.image[Ee],!1,!0,u):Se[Ee]=we?N.image[Ee].image:N.image[Ee],Se[Ee]=Ke(N,Se[Ee]);const be=Se[0],ae=S(be)||l,de=o.convert(N.format,N.colorSpace),he=o.convert(N.type),me=R(N.internalFormat,de,he,N.colorSpace),Ue=l&&N.isVideoTexture!==!0,Xe=_e.__version===void 0||Le===!0;let ie=C(N,be,ae);fe(t.TEXTURE_CUBE_MAP,N,ae);let Be;if(ye){Ue&&Xe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ie,me,be.width,be.height);for(let Ee=0;Ee<6;Ee++){Be=Se[Ee].mipmaps;for(let Ye=0;Ye<Be.length;Ye++){const tt=Be[Ye];N.format!==ao?de!==null?Ue?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,0,0,tt.width,tt.height,de,tt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,me,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,0,0,tt.width,tt.height,de,he,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,me,tt.width,tt.height,0,de,he,tt.data)}}}else{Be=N.mipmaps,Ue&&Xe&&(Be.length>0&&ie++,n.texStorage2D(t.TEXTURE_CUBE_MAP,ie,me,Se[0].width,Se[0].height));for(let Ee=0;Ee<6;Ee++)if(we){Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Se[Ee].width,Se[Ee].height,de,he,Se[Ee].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,me,Se[Ee].width,Se[Ee].height,0,de,he,Se[Ee].data);for(let Ye=0;Ye<Be.length;Ye++){const vt=Be[Ye].image[Ee].image;Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,0,0,vt.width,vt.height,de,he,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,me,vt.width,vt.height,0,de,he,vt.data)}}else{Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,de,he,Se[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,me,de,he,Se[Ee]);for(let Ye=0;Ye<Be.length;Ye++){const tt=Be[Ye];Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,0,0,de,he,tt.image[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,me,de,he,tt.image[Ee])}}}M(N,ae)&&T(t.TEXTURE_CUBE_MAP),_e.__version=Te.version,N.onUpdate&&N.onUpdate(N)}Q.__version=N.version}function Ae(Q,N,se,Le,Te){const _e=o.convert(se.format,se.colorSpace),ye=o.convert(se.type),we=R(se.internalFormat,_e,ye,se.colorSpace);r.get(N).__hasExternalTextures||(Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY?n.texImage3D(Te,0,we,N.width,N.height,N.depth,0,_e,ye,null):n.texImage2D(Te,0,we,N.width,N.height,0,_e,ye,null)),n.bindFramebuffer(t.FRAMEBUFFER,Q),He(N)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Le,Te,r.get(se).__webglTexture,0,je(N)):(Te===t.TEXTURE_2D||Te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Le,Te,r.get(se).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function H(Q,N,se){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),N.depthBuffer&&!N.stencilBuffer){let Le=t.DEPTH_COMPONENT16;if(se||He(N)){const Te=N.depthTexture;Te&&Te.isDepthTexture&&(Te.type===la?Le=t.DEPTH_COMPONENT32F:Te.type===$a&&(Le=t.DEPTH_COMPONENT24));const _e=je(N);He(N)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_e,Le,N.width,N.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,_e,Le,N.width,N.height)}else t.renderbufferStorage(t.RENDERBUFFER,Le,N.width,N.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Q)}else if(N.depthBuffer&&N.stencilBuffer){const Le=je(N);se&&He(N)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Le,t.DEPTH24_STENCIL8,N.width,N.height):He(N)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Le,t.DEPTH24_STENCIL8,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Q)}else{const Le=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Te=0;Te<Le.length;Te++){const _e=Le[Te],ye=o.convert(_e.format,_e.colorSpace),we=o.convert(_e.type),Se=R(_e.internalFormat,ye,we,_e.colorSpace),be=je(N);se&&He(N)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,be,Se,N.width,N.height):He(N)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,Se,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,Se,N.width,N.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(Q,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),G(N.depthTexture,0);const Le=r.get(N.depthTexture).__webglTexture,Te=je(N);if(N.depthTexture.format===Xl)He(N)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Le,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Le,0);else if(N.depthTexture.format===Sc)He(N)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Le,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Le,0);else throw new Error("Unknown depthTexture format")}function Me(Q){const N=r.get(Q),se=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!N.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");ge(N.__webglFramebuffer,Q)}else if(se){N.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer[Le]),N.__webglDepthbuffer[Le]=t.createRenderbuffer(),H(N.__webglDepthbuffer[Le],Q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=t.createRenderbuffer(),H(N.__webglDepthbuffer,Q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(Q,N,se){const Le=r.get(Q);N!==void 0&&Ae(Le.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),se!==void 0&&Me(Q)}function Re(Q){const N=Q.texture,se=r.get(Q),Le=r.get(N);Q.addEventListener("dispose",z),Q.isWebGLMultipleRenderTargets!==!0&&(Le.__webglTexture===void 0&&(Le.__webglTexture=t.createTexture()),Le.__version=N.version,s.memory.textures++);const Te=Q.isWebGLCubeRenderTarget===!0,_e=Q.isWebGLMultipleRenderTargets===!0,ye=S(Q)||l;if(Te){se.__webglFramebuffer=[];for(let we=0;we<6;we++)se.__webglFramebuffer[we]=t.createFramebuffer()}else{if(se.__webglFramebuffer=t.createFramebuffer(),_e)if(i.drawBuffers){const we=Q.texture;for(let Se=0,be=we.length;Se<be;Se++){const ae=r.get(we[Se]);ae.__webglTexture===void 0&&(ae.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Q.samples>0&&He(Q)===!1){const we=_e?N:[N];se.__webglMultisampledFramebuffer=t.createFramebuffer(),se.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let Se=0;Se<we.length;Se++){const be=we[Se];se.__webglColorRenderbuffer[Se]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,se.__webglColorRenderbuffer[Se]);const ae=o.convert(be.format,be.colorSpace),de=o.convert(be.type),he=R(be.internalFormat,ae,de,be.colorSpace,Q.isXRRenderTarget===!0),me=je(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,me,he,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Se,t.RENDERBUFFER,se.__webglColorRenderbuffer[Se])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(se.__webglDepthRenderbuffer=t.createRenderbuffer(),H(se.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,Le.__webglTexture),fe(t.TEXTURE_CUBE_MAP,N,ye);for(let we=0;we<6;we++)Ae(se.__webglFramebuffer[we],Q,N,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+we);M(N,ye)&&T(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(_e){const we=Q.texture;for(let Se=0,be=we.length;Se<be;Se++){const ae=we[Se],de=r.get(ae);n.bindTexture(t.TEXTURE_2D,de.__webglTexture),fe(t.TEXTURE_2D,ae,ye),Ae(se.__webglFramebuffer,Q,ae,t.COLOR_ATTACHMENT0+Se,t.TEXTURE_2D),M(ae,ye)&&T(t.TEXTURE_2D)}n.unbindTexture()}else{let we=t.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(l?we=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(we,Le.__webglTexture),fe(we,N,ye),Ae(se.__webglFramebuffer,Q,N,t.COLOR_ATTACHMENT0,we),M(N,ye)&&T(we),n.unbindTexture()}Q.depthBuffer&&Me(Q)}function We(Q){const N=S(Q)||l,se=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Le=0,Te=se.length;Le<Te;Le++){const _e=se[Le];if(M(_e,N)){const ye=Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,we=r.get(_e).__webglTexture;n.bindTexture(ye,we),T(ye),n.unbindTexture()}}}function ke(Q){if(l&&Q.samples>0&&He(Q)===!1){const N=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],se=Q.width,Le=Q.height;let Te=t.COLOR_BUFFER_BIT;const _e=[],ye=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=r.get(Q),Se=Q.isWebGLMultipleRenderTargets===!0;if(Se)for(let be=0;be<N.length;be++)n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,we.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let be=0;be<N.length;be++){_e.push(t.COLOR_ATTACHMENT0+be),Q.depthBuffer&&_e.push(ye);const ae=we.__ignoreDepthValues!==void 0?we.__ignoreDepthValues:!1;if(ae===!1&&(Q.depthBuffer&&(Te|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(Te|=t.STENCIL_BUFFER_BIT)),Se&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,we.__webglColorRenderbuffer[be]),ae===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ye]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ye])),Se){const de=r.get(N[be]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,de,0)}t.blitFramebuffer(0,0,se,Le,0,0,se,Le,Te,t.NEAREST),h&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,_e)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Se)for(let be=0;be<N.length;be++){n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,we.__webglColorRenderbuffer[be]);const ae=r.get(N[be]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,we.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D,ae,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}}function je(Q){return Math.min(f,Q.samples)}function He(Q){const N=r.get(Q);return l&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function Ne(Q){const N=s.render.frame;m.get(Q)!==N&&(m.set(Q,N),Q.update())}function Ke(Q,N){const se=Q.colorSpace,Le=Q.format,Te=Q.type;return Q.isCompressedTexture===!0||Q.format===Hy||se!==Us&&se!==Kl&&(se===Qt?l===!1?e.has("EXT_sRGB")===!0&&Le===ao?(Q.format=Hy,Q.minFilter=br,Q.generateMipmaps=!1):N=z2.sRGBToLinear(N):(Le!==ao||Te!==ma)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),N}this.allocateTextureUnit=O,this.resetTextureUnits=ne,this.setTexture2D=G,this.setTexture2DArray=$,this.setTexture3D=W,this.setTextureCube=oe,this.rebindTextures=Ie,this.setupRenderTarget=Re,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=He}function YU(t,e,n){const r=n.isWebGL2;function i(o,s=Kl){let l;if(o===ma)return t.UNSIGNED_BYTE;if(o===P2)return t.UNSIGNED_SHORT_4_4_4_4;if(o===I2)return t.UNSIGNED_SHORT_5_5_5_1;if(o===mU)return t.BYTE;if(o===gU)return t.SHORT;if(o===yx)return t.UNSIGNED_SHORT;if(o===R2)return t.INT;if(o===$a)return t.UNSIGNED_INT;if(o===la)return t.FLOAT;if(o===Pd)return r?t.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===vU)return t.ALPHA;if(o===ao)return t.RGBA;if(o===yU)return t.LUMINANCE;if(o===xU)return t.LUMINANCE_ALPHA;if(o===Xl)return t.DEPTH_COMPONENT;if(o===Sc)return t.DEPTH_STENCIL;if(o===Hy)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(o===bU)return t.RED;if(o===L2)return t.RED_INTEGER;if(o===_U)return t.RG;if(o===k2)return t.RG_INTEGER;if(o===N2)return t.RGBA_INTEGER;if(o===kv||o===Nv||o===Ov||o===Fv)if(s===Qt)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(o===kv)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Nv)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Ov)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Fv)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===kv)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Nv)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Ov)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Fv)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Zw||o===eE||o===tE||o===nE)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===Zw)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===eE)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===tE)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===nE)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===SU)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===rE||o===iE)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(o===rE)return s===Qt?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(o===iE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===oE||o===sE||o===aE||o===lE||o===uE||o===cE||o===fE||o===dE||o===hE||o===pE||o===mE||o===gE||o===vE||o===yE)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(o===oE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===sE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===aE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===lE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===uE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===cE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===fE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===dE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===hE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===pE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===mE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===gE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===vE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===yE)return s===Qt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Dv)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(o===Dv)return s===Qt?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===wU||o===xE||o===bE||o===_E)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(o===Dv)return l.COMPRESSED_RED_RGTC1_EXT;if(o===xE)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===bE)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===_E)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===ql?r?t.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class KU extends fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ed extends kn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const qie={type:"move"};class Q_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ed,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ed,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ue),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ed,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ue),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const l=this._targetRay,a=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,r),v=this._getHandJoint(u,y);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),h=.02,m=.005;u.inputState.pinching&&d>h+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=h-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else a!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(a.matrix.fromArray(o.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,o.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(o.linearVelocity)):a.hasLinearVelocity=!1,o.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(o.angularVelocity)):a.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(qie)))}return l!==null&&(l.visible=i!==null),a!==null&&(a.visible=o!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ed;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class QU extends wr{constructor(e,n,r,i,o,s,l,a,u,c){if(c=c!==void 0?c:Xl,c!==Xl&&c!==Sc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Xl&&(r=$a),r===void 0&&c===Sc&&(r=ql),super(null,i,o,s,l,a,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:Br,this.minFilter=a!==void 0?a:Br,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Xie extends sl{constructor(e,n){super();const r=this;let i=null,o=1,s=null,l="local-floor",a=1,u=null,c=null,f=null,d=null,h=null,m=null;const y=n.getContextAttributes();let x=null,v=null;const _=[],b=[];let S=null;const E=new fi;E.layers.enable(1),E.viewport=new Un;const M=new fi;M.layers.enable(2),M.viewport=new Un;const T=[E,M],R=new KU;R.layers.enable(1),R.layers.enable(2);let C=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(W){S=W},this.getController=function(W){let oe=_[W];return oe===void 0&&(oe=new Q_,_[W]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(W){let oe=_[W];return oe===void 0&&(oe=new Q_,_[W]=oe),oe.getGripSpace()},this.getHand=function(W){let oe=_[W];return oe===void 0&&(oe=new Q_,_[W]=oe),oe.getHandSpace()};function D(W){const oe=b.indexOf(W.inputSource);if(oe===-1)return;const j=_[oe];j!==void 0&&(j.update(W.inputSource,W.frame,u||s),j.dispatchEvent({type:W.type,data:W.inputSource}))}function z(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",V);for(let W=0;W<_.length;W++){const oe=b[W];oe!==null&&(b[W]=null,_[W].disconnect(oe))}C=null,P=null,e.setRenderTarget(x),h=null,d=null,f=null,i=null,v=null,$.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(W){o=W,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(W){l=W,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(W){u=W},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(W){if(i=W,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",z),i.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const oe={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,oe),i.updateRenderState({baseLayer:h}),v=new Bs(h.framebufferWidth,h.framebufferHeight,{format:ao,type:ma,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let oe=null,j=null,Y=null;y.depth&&(Y=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,oe=y.stencil?Sc:Xl,j=y.stencil?ql:$a);const K={colorFormat:n.RGBA8,depthFormat:Y,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(K),i.updateRenderState({layers:[d]}),v=new Bs(d.textureWidth,d.textureHeight,{format:ao,type:ma,depthTexture:new QU(d.textureWidth,d.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const fe=e.properties.get(v);fe.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(a),u=null,s=await i.requestReferenceSpace(l),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function V(W){for(let oe=0;oe<W.removed.length;oe++){const j=W.removed[oe],Y=b.indexOf(j);Y>=0&&(b[Y]=null,_[Y].disconnect(j))}for(let oe=0;oe<W.added.length;oe++){const j=W.added[oe];let Y=b.indexOf(j);if(Y===-1){for(let fe=0;fe<_.length;fe++)if(fe>=b.length){b.push(j),Y=fe;break}else if(b[fe]===null){b[fe]=j,Y=fe;break}if(Y===-1)break}const K=_[Y];K&&K.connect(j)}}const U=new ue,q=new ue;function Z(W,oe,j){U.setFromMatrixPosition(oe.matrixWorld),q.setFromMatrixPosition(j.matrixWorld);const Y=U.distanceTo(q),K=oe.projectionMatrix.elements,fe=j.projectionMatrix.elements,pe=K[14]/(K[10]-1),xe=K[14]/(K[10]+1),Ge=(K[9]+1)/K[5],Ae=(K[9]-1)/K[5],H=(K[8]-1)/K[0],ge=(fe[8]+1)/fe[0],Me=pe*H,Ie=pe*ge,Re=Y/(-H+ge),We=Re*-H;oe.matrixWorld.decompose(W.position,W.quaternion,W.scale),W.translateX(We),W.translateZ(Re),W.matrixWorld.compose(W.position,W.quaternion,W.scale),W.matrixWorldInverse.copy(W.matrixWorld).invert();const ke=pe+Re,je=xe+Re,He=Me-We,Ne=Ie+(Y-We),Ke=Ge*xe/je*ke,Q=Ae*xe/je*ke;W.projectionMatrix.makePerspective(He,Ne,Ke,Q,ke,je),W.projectionMatrixInverse.copy(W.projectionMatrix).invert()}function ne(W,oe){oe===null?W.matrixWorld.copy(W.matrix):W.matrixWorld.multiplyMatrices(oe.matrixWorld,W.matrix),W.matrixWorldInverse.copy(W.matrixWorld).invert()}this.updateCameraXR=function(W){if(i===null)return W;S&&(W=S),R.near=M.near=E.near=W.near,R.far=M.far=E.far=W.far,(C!==R.near||P!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),C=R.near,P=R.far);const oe=W.parent,j=R.cameras;ne(R,oe);for(let Y=0;Y<j.length;Y++)ne(j[Y],oe);return j.length===2?Z(R,E,M):R.projectionMatrix.copy(E.projectionMatrix),S&&O(R,oe),R};function O(W,oe){const j=S;oe===null?j.matrix.copy(W.matrixWorld):(j.matrix.copy(oe.matrixWorld),j.matrix.invert(),j.matrix.multiply(W.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0);const Y=j.children;for(let K=0,fe=Y.length;K<fe;K++)Y[K].updateMatrixWorld(!0);j.projectionMatrix.copy(W.projectionMatrix),j.projectionMatrixInverse.copy(W.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=Id*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getFoveation=function(){if(!(d===null&&h===null))return a},this.setFoveation=function(W){a=W,d!==null&&(d.fixedFoveation=W),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=W)};let F=null;function G(W,oe){if(c=oe.getViewerPose(u||s),m=oe,c!==null){const j=c.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let Y=!1;j.length!==R.cameras.length&&(R.cameras.length=0,Y=!0);for(let K=0;K<j.length;K++){const fe=j[K];let pe=null;if(h!==null)pe=h.getViewport(fe);else{const Ge=f.getViewSubImage(d,fe);pe=Ge.viewport,K===0&&(e.setRenderTargetTextures(v,Ge.colorTexture,d.ignoreDepthValues?void 0:Ge.depthStencilTexture),e.setRenderTarget(v))}let xe=T[K];xe===void 0&&(xe=new fi,xe.layers.enable(K),xe.viewport=new Un,T[K]=xe),xe.matrix.fromArray(fe.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(fe.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(pe.x,pe.y,pe.width,pe.height),K===0&&(R.matrix.copy(xe.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Y===!0&&R.cameras.push(xe)}}for(let j=0;j<_.length;j++){const Y=b[j],K=_[j];Y!==null&&K!==void 0&&K.update(Y,oe,u||s)}F&&F(W,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),m=null}const $=new WU;$.setAnimationLoop(G),this.setAnimationLoop=function(W){F=W},this.dispose=function(){}}}function Yie(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,GU(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,_,b,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?o(x,v):v.isMeshToonMaterial?(o(x,v),f(x,v)):v.isMeshPhongMaterial?(o(x,v),c(x,v)):v.isMeshStandardMaterial?(o(x,v),d(x,v),v.isMeshPhysicalMaterial&&h(x,v,S)):v.isMeshMatcapMaterial?(o(x,v),m(x,v)):v.isMeshDepthMaterial?o(x,v):v.isMeshDistanceMaterial?(o(x,v),y(x,v)):v.isMeshNormalMaterial?o(x,v):v.isLineBasicMaterial?(s(x,v),v.isLineDashedMaterial&&l(x,v)):v.isPointsMaterial?a(x,v,_,b):v.isSpriteMaterial?u(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function o(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===xi&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===xi&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const _=e.get(v).envMap;if(_&&(x.envMap.value=_,x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap){x.lightMap.value=v.lightMap;const b=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=v.lightMapIntensity*b,n(v.lightMap,x.lightMapTransform)}v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function s(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function l(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function a(x,v,_,b){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*_,x.scale.value=b*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function f(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function d(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),e.get(v).envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function h(x,v,_){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===xi&&x.clearcoatNormalScale.value.negate())),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function m(x,v){v.matcap&&(x.matcap.value=v.matcap)}function y(x,v){const _=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Kie(t,e,n,r){let i={},o={},s=[];const l=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function a(_,b){const S=b.program;r.uniformBlockBinding(_,S)}function u(_,b){let S=i[_.id];S===void 0&&(m(_),S=c(_),i[_.id]=S,_.addEventListener("dispose",x));const E=b.program;r.updateUBOMapping(_,E);const M=e.render.frame;o[_.id]!==M&&(d(_),o[_.id]=M)}function c(_){const b=f();_.__bindingPointIndex=b;const S=t.createBuffer(),E=_.__size,M=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,E,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,S),S}function f(){for(let _=0;_<l;_++)if(s.indexOf(_)===-1)return s.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const b=i[_.id],S=_.uniforms,E=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let M=0,T=S.length;M<T;M++){const R=S[M];if(h(R,M,E)===!0){const C=R.__offset,P=Array.isArray(R.value)?R.value:[R.value];let D=0;for(let z=0;z<P.length;z++){const V=P[z],U=y(V);typeof V=="number"?(R.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,C+D,R.__data)):V.isMatrix3?(R.__data[0]=V.elements[0],R.__data[1]=V.elements[1],R.__data[2]=V.elements[2],R.__data[3]=V.elements[0],R.__data[4]=V.elements[3],R.__data[5]=V.elements[4],R.__data[6]=V.elements[5],R.__data[7]=V.elements[0],R.__data[8]=V.elements[6],R.__data[9]=V.elements[7],R.__data[10]=V.elements[8],R.__data[11]=V.elements[0]):(V.toArray(R.__data,D),D+=U.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,C,R.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(_,b,S){const E=_.value;if(S[b]===void 0){if(typeof E=="number")S[b]=E;else{const M=Array.isArray(E)?E:[E],T=[];for(let R=0;R<M.length;R++)T.push(M[R].clone());S[b]=T}return!0}else if(typeof E=="number"){if(S[b]!==E)return S[b]=E,!0}else{const M=Array.isArray(S[b])?S[b]:[S[b]],T=Array.isArray(E)?E:[E];for(let R=0;R<M.length;R++){const C=M[R];if(C.equals(T[R])===!1)return C.copy(T[R]),!0}}return!1}function m(_){const b=_.uniforms;let S=0;const E=16;let M=0;for(let T=0,R=b.length;T<R;T++){const C=b[T],P={boundary:0,storage:0},D=Array.isArray(C.value)?C.value:[C.value];for(let z=0,V=D.length;z<V;z++){const U=D[z],q=y(U);P.boundary+=q.boundary,P.storage+=q.storage}if(C.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=S,T>0){M=S%E;const z=E-M;M!==0&&z-P.boundary<0&&(S+=E-M,C.__offset=S)}S+=P.storage}return M=S%E,M>0&&(S+=E-M),_.__size=S,_.__cache={},this}function y(_){const b={boundary:0,storage:0};return typeof _=="number"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function x(_){const b=_.target;b.removeEventListener("dispose",x);const S=s.indexOf(b.__bindingPointIndex);s.splice(S,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function v(){for(const _ in i)t.deleteBuffer(i[_]);s=[],i={},o={}}return{bind:a,update:u,dispose:v}}function Qie(){const t=vm("canvas");return t.style.display="block",t}class j2{constructor(e={}){const{canvas:n=Qie(),context:r=null,depth:i=!0,stencil:o=!0,alpha:s=!1,antialias:l=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=s;const h=new Uint32Array(4),m=new Int32Array(4);let y=null,x=null;const v=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Qt,this.useLegacyLights=!0,this.toneMapping=Fs,this.toneMappingExposure=1;const b=this;let S=!1,E=0,M=0,T=null,R=-1,C=null;const P=new Un,D=new Un;let z=null;const V=new yt(0);let U=0,q=n.width,Z=n.height,ne=1,O=null,F=null;const G=new Un(0,0,q,Z),$=new Un(0,0,q,Z);let W=!1;const oe=new Sx;let j=!1,Y=!1,K=null;const fe=new Xt,pe=new it,xe=new ue,Ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return T===null?ne:1}let H=r;function ge(ce,$e){for(let Je=0;Je<ce.length;Je++){const Ve=ce[Je],et=n.getContext(Ve,$e);if(et!==null)return et}return null}try{const ce={alpha:!0,depth:i,stencil:o,antialias:l,premultipliedAlpha:a,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${mx}`),n.addEventListener("webglcontextlost",Be,!1),n.addEventListener("webglcontextrestored",Ee,!1),n.addEventListener("webglcontextcreationerror",Ye,!1),H===null){const $e=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&$e.shift(),H=ge($e,ce),H===null)throw ge($e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ce){throw console.error("THREE.WebGLRenderer: "+ce.message),ce}let Me,Ie,Re,We,ke,je,He,Ne,Ke,Q,N,se,Le,Te,_e,ye,we,Se,be,ae,de,he,me,Ue;function Xe(){Me=new hre(H),Ie=new are(H,Me,e),Me.init(Ie),he=new YU(H,Me,Ie),Re=new jie(H,Me,Ie),We=new gre(H),ke=new kie,je=new $ie(H,Me,Re,ke,Ie,he,We),He=new ure(b),Ne=new dre(b),Ke=new Cee(H,Ie),me=new ore(H,Me,Ke,Ie),Q=new pre(H,Ke,We,me),N=new bre(H,Q,Ke,We),be=new xre(H,Ie,je),ye=new lre(ke),se=new Lie(b,He,Ne,Me,Ie,me,ye),Le=new Yie(b,ke),Te=new Oie,_e=new Gie(Me,Ie),Se=new ire(b,He,Ne,Re,N,d,a),we=new Wie(b,N,Ie),Ue=new Kie(H,We,Ie,Re),ae=new sre(H,Me,We,Ie),de=new mre(H,Me,We,Ie),We.programs=se.programs,b.capabilities=Ie,b.extensions=Me,b.properties=ke,b.renderLists=Te,b.shadowMap=we,b.state=Re,b.info=We}Xe();const ie=new Xie(b,H);this.xr=ie,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const ce=Me.get("WEBGL_lose_context");ce&&ce.loseContext()},this.forceContextRestore=function(){const ce=Me.get("WEBGL_lose_context");ce&&ce.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(ce){ce!==void 0&&(ne=ce,this.setSize(q,Z,!1))},this.getSize=function(ce){return ce.set(q,Z)},this.setSize=function(ce,$e,Je=!0){if(ie.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=ce,Z=$e,n.width=Math.floor(ce*ne),n.height=Math.floor($e*ne),Je===!0&&(n.style.width=ce+"px",n.style.height=$e+"px"),this.setViewport(0,0,ce,$e)},this.getDrawingBufferSize=function(ce){return ce.set(q*ne,Z*ne).floor()},this.setDrawingBufferSize=function(ce,$e,Je){q=ce,Z=$e,ne=Je,n.width=Math.floor(ce*Je),n.height=Math.floor($e*Je),this.setViewport(0,0,ce,$e)},this.getCurrentViewport=function(ce){return ce.copy(P)},this.getViewport=function(ce){return ce.copy(G)},this.setViewport=function(ce,$e,Je,Ve){ce.isVector4?G.set(ce.x,ce.y,ce.z,ce.w):G.set(ce,$e,Je,Ve),Re.viewport(P.copy(G).multiplyScalar(ne).floor())},this.getScissor=function(ce){return ce.copy($)},this.setScissor=function(ce,$e,Je,Ve){ce.isVector4?$.set(ce.x,ce.y,ce.z,ce.w):$.set(ce,$e,Je,Ve),Re.scissor(D.copy($).multiplyScalar(ne).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(ce){Re.setScissorTest(W=ce)},this.setOpaqueSort=function(ce){O=ce},this.setTransparentSort=function(ce){F=ce},this.getClearColor=function(ce){return ce.copy(Se.getClearColor())},this.setClearColor=function(){Se.setClearColor.apply(Se,arguments)},this.getClearAlpha=function(){return Se.getClearAlpha()},this.setClearAlpha=function(){Se.setClearAlpha.apply(Se,arguments)},this.clear=function(ce=!0,$e=!0,Je=!0){let Ve=0;if(ce){let et=!1;if(T!==null){const mt=T.texture.format;et=mt===N2||mt===k2||mt===L2}if(et){const mt=T.texture.type,Pt=mt===ma||mt===$a||mt===yx||mt===ql||mt===P2||mt===I2,Ot=Se.getClearColor(),kt=Se.getClearAlpha(),$t=Ot.r,st=Ot.g,Nt=Ot.b,gn=ke.get(T).__webglFramebuffer;Pt?(h[0]=$t,h[1]=st,h[2]=Nt,h[3]=kt,H.clearBufferuiv(H.COLOR,gn,h)):(m[0]=$t,m[1]=st,m[2]=Nt,m[3]=kt,H.clearBufferiv(H.COLOR,gn,m))}else Ve|=H.COLOR_BUFFER_BIT}$e&&(Ve|=H.DEPTH_BUFFER_BIT),Je&&(Ve|=H.STENCIL_BUFFER_BIT),H.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Be,!1),n.removeEventListener("webglcontextrestored",Ee,!1),n.removeEventListener("webglcontextcreationerror",Ye,!1),Te.dispose(),_e.dispose(),ke.dispose(),He.dispose(),Ne.dispose(),N.dispose(),me.dispose(),Ue.dispose(),se.dispose(),ie.dispose(),ie.removeEventListener("sessionstart",qt),ie.removeEventListener("sessionend",jt),K&&(K.dispose(),K=null),Vt.stop()};function Be(ce){ce.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const ce=We.autoReset,$e=we.enabled,Je=we.autoUpdate,Ve=we.needsUpdate,et=we.type;Xe(),We.autoReset=ce,we.enabled=$e,we.autoUpdate=Je,we.needsUpdate=Ve,we.type=et}function Ye(ce){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ce.statusMessage)}function tt(ce){const $e=ce.target;$e.removeEventListener("dispose",tt),vt($e)}function vt(ce){xt(ce),ke.remove(ce)}function xt(ce){const $e=ke.get(ce).programs;$e!==void 0&&($e.forEach(function(Je){se.releaseProgram(Je)}),ce.isShaderMaterial&&se.releaseShaderCache(ce))}this.renderBufferDirect=function(ce,$e,Je,Ve,et,mt){$e===null&&($e=Ge);const Pt=et.isMesh&&et.matrixWorld.determinant()<0,Ot=bn(ce,$e,Je,Ve,et);Re.setMaterial(Ve,Pt);let kt=Je.index,$t=1;Ve.wireframe===!0&&(kt=Q.getWireframeAttribute(Je),$t=2);const st=Je.drawRange,Nt=Je.attributes.position;let gn=st.start*$t,_n=(st.start+st.count)*$t;mt!==null&&(gn=Math.max(gn,mt.start*$t),_n=Math.min(_n,(mt.start+mt.count)*$t)),kt!==null?(gn=Math.max(gn,0),_n=Math.min(_n,kt.count)):Nt!=null&&(gn=Math.max(gn,0),_n=Math.min(_n,Nt.count));const Bt=_n-gn;if(Bt<0||Bt===1/0)return;me.setup(et,Ve,Ot,Je,kt);let kr,vn=ae;if(kt!==null&&(kr=Ke.get(kt),vn=de,vn.setIndex(kr)),et.isMesh)Ve.wireframe===!0?(Re.setLineWidth(Ve.wireframeLinewidth*Ae()),vn.setMode(H.LINES)):vn.setMode(H.TRIANGLES);else if(et.isLine){let zt=Ve.linewidth;zt===void 0&&(zt=1),Re.setLineWidth(zt*Ae()),et.isLineSegments?vn.setMode(H.LINES):et.isLineLoop?vn.setMode(H.LINE_LOOP):vn.setMode(H.LINE_STRIP)}else et.isPoints?vn.setMode(H.POINTS):et.isSprite&&vn.setMode(H.TRIANGLES);if(et.isInstancedMesh)vn.renderInstances(gn,Bt,et.count);else if(Je.isInstancedBufferGeometry){const zt=Je._maxInstanceCount!==void 0?Je._maxInstanceCount:1/0,Sn=Math.min(Je.instanceCount,zt);vn.renderInstances(gn,Bt,Sn)}else vn.render(gn,Bt)},this.compile=function(ce,$e){function Je(Ve,et,mt){Ve.transparent===!0&&Ve.side===Ao&&Ve.forceSinglePass===!1?(Ve.side=xi,Ve.needsUpdate=!0,xn(Ve,et,mt),Ve.side=xa,Ve.needsUpdate=!0,xn(Ve,et,mt),Ve.side=Ao):xn(Ve,et,mt)}x=_e.get(ce),x.init(),_.push(x),ce.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test($e.layers)&&(x.pushLight(Ve),Ve.castShadow&&x.pushShadow(Ve))}),x.setupLights(b.useLegacyLights),ce.traverse(function(Ve){const et=Ve.material;if(et)if(Array.isArray(et))for(let mt=0;mt<et.length;mt++){const Pt=et[mt];Je(Pt,ce,Ve)}else Je(et,ce,Ve)}),_.pop(),x=null};let Et=null;function Gt(ce){Et&&Et(ce)}function qt(){Vt.stop()}function jt(){Vt.start()}const Vt=new WU;Vt.setAnimationLoop(Gt),typeof self<"u"&&Vt.setContext(self),this.setAnimationLoop=function(ce){Et=ce,ie.setAnimationLoop(ce),ce===null?Vt.stop():Vt.start()},ie.addEventListener("sessionstart",qt),ie.addEventListener("sessionend",jt),this.render=function(ce,$e){if($e!==void 0&&$e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),$e.parent===null&&$e.matrixWorldAutoUpdate===!0&&$e.updateMatrixWorld(),ie.enabled===!0&&ie.isPresenting===!0&&($e=ie.updateCameraXR($e)),ce.isScene===!0&&ce.onBeforeRender(b,ce,$e,T),x=_e.get(ce,_.length),x.init(),_.push(x),fe.multiplyMatrices($e.projectionMatrix,$e.matrixWorldInverse),oe.setFromProjectionMatrix(fe),Y=this.localClippingEnabled,j=ye.init(this.clippingPlanes,Y),y=Te.get(ce,v.length),y.init(),v.push(y),$n(ce,$e,0,b.sortObjects),y.finish(),b.sortObjects===!0&&y.sort(O,F),j===!0&&ye.beginShadows();const Je=x.state.shadowsArray;if(we.render(Je,ce,$e),j===!0&&ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,Se.render(y,ce),x.setupLights(b.useLegacyLights),$e.isArrayCamera){const Ve=$e.cameras;for(let et=0,mt=Ve.length;et<mt;et++){const Pt=Ve[et];ir(y,ce,Pt,Pt.viewport)}}else ir(y,ce,$e);T!==null&&(je.updateMultisampleRenderTarget(T),je.updateRenderTargetMipmap(T)),ce.isScene===!0&&ce.onAfterRender(b,ce,$e),me.resetDefaultState(),R=-1,C=null,_.pop(),_.length>0?x=_[_.length-1]:x=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function $n(ce,$e,Je,Ve){if(ce.visible===!1)return;if(ce.layers.test($e.layers)){if(ce.isGroup)Je=ce.renderOrder;else if(ce.isLOD)ce.autoUpdate===!0&&ce.update($e);else if(ce.isLight)x.pushLight(ce),ce.castShadow&&x.pushShadow(ce);else if(ce.isSprite){if(!ce.frustumCulled||oe.intersectsSprite(ce)){Ve&&xe.setFromMatrixPosition(ce.matrixWorld).applyMatrix4(fe);const Pt=N.update(ce),Ot=ce.material;Ot.visible&&y.push(ce,Pt,Ot,Je,xe.z,null)}}else if((ce.isMesh||ce.isLine||ce.isPoints)&&(!ce.frustumCulled||oe.intersectsObject(ce))){ce.isSkinnedMesh&&ce.skeleton.frame!==We.render.frame&&(ce.skeleton.update(),ce.skeleton.frame=We.render.frame);const Pt=N.update(ce),Ot=ce.material;if(Ve&&(ce.boundingSphere!==void 0?(ce.boundingSphere===null&&ce.computeBoundingSphere(),xe.copy(ce.boundingSphere.center)):(Pt.boundingSphere===null&&Pt.computeBoundingSphere(),xe.copy(Pt.boundingSphere.center)),xe.applyMatrix4(ce.matrixWorld).applyMatrix4(fe)),Array.isArray(Ot)){const kt=Pt.groups;for(let $t=0,st=kt.length;$t<st;$t++){const Nt=kt[$t],gn=Ot[Nt.materialIndex];gn&&gn.visible&&y.push(ce,Pt,gn,Je,xe.z,Nt)}}else Ot.visible&&y.push(ce,Pt,Ot,Je,xe.z,null)}}const mt=ce.children;for(let Pt=0,Ot=mt.length;Pt<Ot;Pt++)$n(mt[Pt],$e,Je,Ve)}function ir(ce,$e,Je,Ve){const et=ce.opaque,mt=ce.transmissive,Pt=ce.transparent;x.setupLightsView(Je),j===!0&&ye.setGlobalState(b.clippingPlanes,Je),mt.length>0&&fn(et,mt,$e,Je),Ve&&Re.viewport(P.copy(Ve)),et.length>0&&Pn(et,$e,Je),mt.length>0&&Pn(mt,$e,Je),Pt.length>0&&Pn(Pt,$e,Je),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function fn(ce,$e,Je,Ve){const et=Ie.isWebGL2;K===null&&(K=new Bs(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?Pd:ma,minFilter:iu,samples:et&&l===!0?4:0})),b.getDrawingBufferSize(pe),et?K.setSize(pe.x,pe.y):K.setSize(Vy(pe.x),Vy(pe.y));const mt=b.getRenderTarget();b.setRenderTarget(K),b.getClearColor(V),U=b.getClearAlpha(),U<1&&b.setClearColor(16777215,.5),b.clear();const Pt=b.toneMapping;b.toneMapping=Fs,Pn(ce,Je,Ve),je.updateMultisampleRenderTarget(K),je.updateRenderTargetMipmap(K);let Ot=!1;for(let kt=0,$t=$e.length;kt<$t;kt++){const st=$e[kt],Nt=st.object,gn=st.geometry,_n=st.material,Bt=st.group;if(_n.side===Ao&&Nt.layers.test(Ve.layers)){const kr=_n.side;_n.side=xi,_n.needsUpdate=!0,gr(Nt,Je,Ve,gn,_n,Bt),_n.side=kr,_n.needsUpdate=!0,Ot=!0}}Ot===!0&&(je.updateMultisampleRenderTarget(K),je.updateRenderTargetMipmap(K)),b.setRenderTarget(mt),b.setClearColor(V,U),b.toneMapping=Pt}function Pn(ce,$e,Je){const Ve=$e.isScene===!0?$e.overrideMaterial:null;for(let et=0,mt=ce.length;et<mt;et++){const Pt=ce[et],Ot=Pt.object,kt=Pt.geometry,$t=Ve===null?Pt.material:Ve,st=Pt.group;Ot.layers.test(Je.layers)&&gr(Ot,$e,Je,kt,$t,st)}}function gr(ce,$e,Je,Ve,et,mt){ce.onBeforeRender(b,$e,Je,Ve,et,mt),ce.modelViewMatrix.multiplyMatrices(Je.matrixWorldInverse,ce.matrixWorld),ce.normalMatrix.getNormalMatrix(ce.modelViewMatrix),et.onBeforeRender(b,$e,Je,Ve,ce,mt),et.transparent===!0&&et.side===Ao&&et.forceSinglePass===!1?(et.side=xi,et.needsUpdate=!0,b.renderBufferDirect(Je,$e,Ve,et,ce,mt),et.side=xa,et.needsUpdate=!0,b.renderBufferDirect(Je,$e,Ve,et,ce,mt),et.side=Ao):b.renderBufferDirect(Je,$e,Ve,et,ce,mt),ce.onAfterRender(b,$e,Je,Ve,et,mt)}function xn(ce,$e,Je){$e.isScene!==!0&&($e=Ge);const Ve=ke.get(ce),et=x.state.lights,mt=x.state.shadowsArray,Pt=et.state.version,Ot=se.getParameters(ce,et.state,mt,$e,Je),kt=se.getProgramCacheKey(Ot);let $t=Ve.programs;Ve.environment=ce.isMeshStandardMaterial?$e.environment:null,Ve.fog=$e.fog,Ve.envMap=(ce.isMeshStandardMaterial?Ne:He).get(ce.envMap||Ve.environment),$t===void 0&&(ce.addEventListener("dispose",tt),$t=new Map,Ve.programs=$t);let st=$t.get(kt);if(st!==void 0){if(Ve.currentProgram===st&&Ve.lightsStateVersion===Pt)return Ht(ce,Ot),st}else Ot.uniforms=se.getUniforms(ce),ce.onBuild(Je,Ot,b),ce.onBeforeCompile(Ot,b),st=se.acquireProgram(Ot,kt),$t.set(kt,st),Ve.uniforms=Ot.uniforms;const Nt=Ve.uniforms;(!ce.isShaderMaterial&&!ce.isRawShaderMaterial||ce.clipping===!0)&&(Nt.clippingPlanes=ye.uniform),Ht(ce,Ot),Ve.needsLights=mn(ce),Ve.lightsStateVersion=Pt,Ve.needsLights&&(Nt.ambientLightColor.value=et.state.ambient,Nt.lightProbe.value=et.state.probe,Nt.directionalLights.value=et.state.directional,Nt.directionalLightShadows.value=et.state.directionalShadow,Nt.spotLights.value=et.state.spot,Nt.spotLightShadows.value=et.state.spotShadow,Nt.rectAreaLights.value=et.state.rectArea,Nt.ltc_1.value=et.state.rectAreaLTC1,Nt.ltc_2.value=et.state.rectAreaLTC2,Nt.pointLights.value=et.state.point,Nt.pointLightShadows.value=et.state.pointShadow,Nt.hemisphereLights.value=et.state.hemi,Nt.directionalShadowMap.value=et.state.directionalShadowMap,Nt.directionalShadowMatrix.value=et.state.directionalShadowMatrix,Nt.spotShadowMap.value=et.state.spotShadowMap,Nt.spotLightMatrix.value=et.state.spotLightMatrix,Nt.spotLightMap.value=et.state.spotLightMap,Nt.pointShadowMap.value=et.state.pointShadowMap,Nt.pointShadowMatrix.value=et.state.pointShadowMatrix);const gn=st.getUniforms(),_n=zv.seqWithValue(gn.seq,Nt);return Ve.currentProgram=st,Ve.uniformsList=_n,st}function Ht(ce,$e){const Je=ke.get(ce);Je.outputColorSpace=$e.outputColorSpace,Je.instancing=$e.instancing,Je.skinning=$e.skinning,Je.morphTargets=$e.morphTargets,Je.morphNormals=$e.morphNormals,Je.morphColors=$e.morphColors,Je.morphTargetsCount=$e.morphTargetsCount,Je.numClippingPlanes=$e.numClippingPlanes,Je.numIntersection=$e.numClipIntersection,Je.vertexAlphas=$e.vertexAlphas,Je.vertexTangents=$e.vertexTangents,Je.toneMapping=$e.toneMapping}function bn(ce,$e,Je,Ve,et){$e.isScene!==!0&&($e=Ge),je.resetTextureUnits();const mt=$e.fog,Pt=Ve.isMeshStandardMaterial?$e.environment:null,Ot=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Us,kt=(Ve.isMeshStandardMaterial?Ne:He).get(Ve.envMap||Pt),$t=Ve.vertexColors===!0&&!!Je.attributes.color&&Je.attributes.color.itemSize===4,st=!!Je.attributes.tangent&&(!!Ve.normalMap||Ve.anisotropy>0),Nt=!!Je.morphAttributes.position,gn=!!Je.morphAttributes.normal,_n=!!Je.morphAttributes.color,Bt=Ve.toneMapped?b.toneMapping:Fs,kr=Je.morphAttributes.position||Je.morphAttributes.normal||Je.morphAttributes.color,vn=kr!==void 0?kr.length:0,zt=ke.get(Ve),Sn=x.state.lights;if(j===!0&&(Y===!0||ce!==C)){const Mt=ce===C&&Ve.id===R;ye.setState(Ve,ce,Mt)}let Ft=!1;Ve.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==Sn.state.version||zt.outputColorSpace!==Ot||et.isInstancedMesh&&zt.instancing===!1||!et.isInstancedMesh&&zt.instancing===!0||et.isSkinnedMesh&&zt.skinning===!1||!et.isSkinnedMesh&&zt.skinning===!0||zt.envMap!==kt||Ve.fog===!0&&zt.fog!==mt||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==ye.numPlanes||zt.numIntersection!==ye.numIntersection)||zt.vertexAlphas!==$t||zt.vertexTangents!==st||zt.morphTargets!==Nt||zt.morphNormals!==gn||zt.morphColors!==_n||zt.toneMapping!==Bt||Ie.isWebGL2===!0&&zt.morphTargetsCount!==vn)&&(Ft=!0):(Ft=!0,zt.__version=Ve.version);let Nr=zt.currentProgram;Ft===!0&&(Nr=xn(Ve,$e,et));let qn=!1,Nn=!1,Gr=!1;const Hn=Nr.getUniforms(),En=zt.uniforms;if(Re.useProgram(Nr.program)&&(qn=!0,Nn=!0,Gr=!0),Ve.id!==R&&(R=Ve.id,Nn=!0),qn||C!==ce){if(Hn.setValue(H,"projectionMatrix",ce.projectionMatrix),Ie.logarithmicDepthBuffer&&Hn.setValue(H,"logDepthBufFC",2/(Math.log(ce.far+1)/Math.LN2)),C!==ce&&(C=ce,Nn=!0,Gr=!0),Ve.isShaderMaterial||Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshStandardMaterial||Ve.envMap){const Mt=Hn.map.cameraPosition;Mt!==void 0&&Mt.setValue(H,xe.setFromMatrixPosition(ce.matrixWorld))}(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&Hn.setValue(H,"isOrthographic",ce.isOrthographicCamera===!0),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial||Ve.isShadowMaterial||et.isSkinnedMesh)&&Hn.setValue(H,"viewMatrix",ce.matrixWorldInverse)}if(et.isSkinnedMesh){Hn.setOptional(H,et,"bindMatrix"),Hn.setOptional(H,et,"bindMatrixInverse");const Mt=et.skeleton;Mt&&(Ie.floatVertexTextures?(Mt.boneTexture===null&&Mt.computeBoneTexture(),Hn.setValue(H,"boneTexture",Mt.boneTexture,je),Hn.setValue(H,"boneTextureSize",Mt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const zi=Je.morphAttributes;if((zi.position!==void 0||zi.normal!==void 0||zi.color!==void 0&&Ie.isWebGL2===!0)&&be.update(et,Je,Nr),(Nn||zt.receiveShadow!==et.receiveShadow)&&(zt.receiveShadow=et.receiveShadow,Hn.setValue(H,"receiveShadow",et.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(En.envMap.value=kt,En.flipEnvMap.value=kt.isCubeTexture&&kt.isRenderTargetTexture===!1?-1:1),Nn&&(Hn.setValue(H,"toneMappingExposure",b.toneMappingExposure),zt.needsLights&&or(En,Gr),mt&&Ve.fog===!0&&Le.refreshFogUniforms(En,mt),Le.refreshMaterialUniforms(En,Ve,ne,Z,K),zv.upload(H,zt.uniformsList,En,je)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(zv.upload(H,zt.uniformsList,En,je),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&Hn.setValue(H,"center",et.center),Hn.setValue(H,"modelViewMatrix",et.modelViewMatrix),Hn.setValue(H,"normalMatrix",et.normalMatrix),Hn.setValue(H,"modelMatrix",et.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const Mt=Ve.uniformsGroups;for(let vo=0,Gi=Mt.length;vo<Gi;vo++)if(Ie.isWebGL2){const ds=Mt[vo];Ue.update(ds,Nr),Ue.bind(ds,Nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Nr}function or(ce,$e){ce.ambientLightColor.needsUpdate=$e,ce.lightProbe.needsUpdate=$e,ce.directionalLights.needsUpdate=$e,ce.directionalLightShadows.needsUpdate=$e,ce.pointLights.needsUpdate=$e,ce.pointLightShadows.needsUpdate=$e,ce.spotLights.needsUpdate=$e,ce.spotLightShadows.needsUpdate=$e,ce.rectAreaLights.needsUpdate=$e,ce.hemisphereLights.needsUpdate=$e}function mn(ce){return ce.isMeshLambertMaterial||ce.isMeshToonMaterial||ce.isMeshPhongMaterial||ce.isMeshStandardMaterial||ce.isShadowMaterial||ce.isShaderMaterial&&ce.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(ce,$e,Je){ke.get(ce.texture).__webglTexture=$e,ke.get(ce.depthTexture).__webglTexture=Je;const Ve=ke.get(ce);Ve.__hasExternalTextures=!0,Ve.__hasExternalTextures&&(Ve.__autoAllocateDepthBuffer=Je===void 0,Ve.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ce,$e){const Je=ke.get(ce);Je.__webglFramebuffer=$e,Je.__useDefaultFramebuffer=$e===void 0},this.setRenderTarget=function(ce,$e=0,Je=0){T=ce,E=$e,M=Je;let Ve=!0,et=null,mt=!1,Pt=!1;if(ce){const kt=ke.get(ce);kt.__useDefaultFramebuffer!==void 0?(Re.bindFramebuffer(H.FRAMEBUFFER,null),Ve=!1):kt.__webglFramebuffer===void 0?je.setupRenderTarget(ce):kt.__hasExternalTextures&&je.rebindTextures(ce,ke.get(ce.texture).__webglTexture,ke.get(ce.depthTexture).__webglTexture);const $t=ce.texture;($t.isData3DTexture||$t.isDataArrayTexture||$t.isCompressedArrayTexture)&&(Pt=!0);const st=ke.get(ce).__webglFramebuffer;ce.isWebGLCubeRenderTarget?(et=st[$e],mt=!0):Ie.isWebGL2&&ce.samples>0&&je.useMultisampledRTT(ce)===!1?et=ke.get(ce).__webglMultisampledFramebuffer:et=st,P.copy(ce.viewport),D.copy(ce.scissor),z=ce.scissorTest}else P.copy(G).multiplyScalar(ne).floor(),D.copy($).multiplyScalar(ne).floor(),z=W;if(Re.bindFramebuffer(H.FRAMEBUFFER,et)&&Ie.drawBuffers&&Ve&&Re.drawBuffers(ce,et),Re.viewport(P),Re.scissor(D),Re.setScissorTest(z),mt){const kt=ke.get(ce.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+$e,kt.__webglTexture,Je)}else if(Pt){const kt=ke.get(ce.texture),$t=$e||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,kt.__webglTexture,Je||0,$t)}R=-1},this.readRenderTargetPixels=function(ce,$e,Je,Ve,et,mt,Pt){if(!(ce&&ce.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ot=ke.get(ce).__webglFramebuffer;if(ce.isWebGLCubeRenderTarget&&Pt!==void 0&&(Ot=Ot[Pt]),Ot){Re.bindFramebuffer(H.FRAMEBUFFER,Ot);try{const kt=ce.texture,$t=kt.format,st=kt.type;if($t!==ao&&he.convert($t)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Nt=st===Pd&&(Me.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&Me.has("EXT_color_buffer_float"));if(st!==ma&&he.convert(st)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(st===la&&(Ie.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!Nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}$e>=0&&$e<=ce.width-Ve&&Je>=0&&Je<=ce.height-et&&H.readPixels($e,Je,Ve,et,he.convert($t),he.convert(st),mt)}finally{const kt=T!==null?ke.get(T).__webglFramebuffer:null;Re.bindFramebuffer(H.FRAMEBUFFER,kt)}}},this.copyFramebufferToTexture=function(ce,$e,Je=0){const Ve=Math.pow(2,-Je),et=Math.floor($e.image.width*Ve),mt=Math.floor($e.image.height*Ve);je.setTexture2D($e,0),H.copyTexSubImage2D(H.TEXTURE_2D,Je,0,0,ce.x,ce.y,et,mt),Re.unbindTexture()},this.copyTextureToTexture=function(ce,$e,Je,Ve=0){const et=$e.image.width,mt=$e.image.height,Pt=he.convert(Je.format),Ot=he.convert(Je.type);je.setTexture2D(Je,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Je.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Je.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Je.unpackAlignment),$e.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,Ve,ce.x,ce.y,et,mt,Pt,Ot,$e.image.data):$e.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,Ve,ce.x,ce.y,$e.mipmaps[0].width,$e.mipmaps[0].height,Pt,$e.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,Ve,ce.x,ce.y,Pt,Ot,$e.image),Ve===0&&Je.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),Re.unbindTexture()},this.copyTextureToTexture3D=function(ce,$e,Je,Ve,et=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const mt=ce.max.x-ce.min.x+1,Pt=ce.max.y-ce.min.y+1,Ot=ce.max.z-ce.min.z+1,kt=he.convert(Ve.format),$t=he.convert(Ve.type);let st;if(Ve.isData3DTexture)je.setTexture3D(Ve,0),st=H.TEXTURE_3D;else if(Ve.isDataArrayTexture)je.setTexture2DArray(Ve,0),st=H.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Ve.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ve.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Ve.unpackAlignment);const Nt=H.getParameter(H.UNPACK_ROW_LENGTH),gn=H.getParameter(H.UNPACK_IMAGE_HEIGHT),_n=H.getParameter(H.UNPACK_SKIP_PIXELS),Bt=H.getParameter(H.UNPACK_SKIP_ROWS),kr=H.getParameter(H.UNPACK_SKIP_IMAGES),vn=Je.isCompressedTexture?Je.mipmaps[0]:Je.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,vn.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,vn.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,ce.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,ce.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ce.min.z),Je.isDataTexture||Je.isData3DTexture?H.texSubImage3D(st,et,$e.x,$e.y,$e.z,mt,Pt,Ot,kt,$t,vn.data):Je.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(st,et,$e.x,$e.y,$e.z,mt,Pt,Ot,kt,vn.data)):H.texSubImage3D(st,et,$e.x,$e.y,$e.z,mt,Pt,Ot,kt,$t,vn),H.pixelStorei(H.UNPACK_ROW_LENGTH,Nt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,gn),H.pixelStorei(H.UNPACK_SKIP_PIXELS,_n),H.pixelStorei(H.UNPACK_SKIP_ROWS,Bt),H.pixelStorei(H.UNPACK_SKIP_IMAGES,kr),et===0&&Ve.generateMipmaps&&H.generateMipmap(st),Re.unbindTexture()},this.initTexture=function(ce){ce.isCubeTexture?je.setTextureCube(ce,0):ce.isData3DTexture?je.setTexture3D(ce,0):ce.isDataArrayTexture||ce.isCompressedArrayTexture?je.setTexture2DArray(ce,0):je.setTexture2D(ce,0),Re.unbindTexture()},this.resetState=function(){E=0,M=0,T=null,Re.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ua}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Qt?Yl:F2}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Yl?Qt:Us}}class JU extends j2{}JU.prototype.isWebGL1Renderer=!0;class Tx{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new yt(e),this.density=n}clone(){return new Tx(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ax{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new yt(e),this.near=n,this.far=r}clone(){return new Ax(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Wy extends kn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Cx{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=mm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ko()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ko()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ko()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Wi=new ue;class wc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Wi.fromBufferAttribute(this,n),Wi.applyMatrix4(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Wi.fromBufferAttribute(this,n),Wi.applyNormalMatrix(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Wi.fromBufferAttribute(this,n),Wi.transformDirection(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}setX(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=un(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Po(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Po(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Po(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Po(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),r=un(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=un(n,this.array),r=un(r,this.array),i=un(i,this.array),o=un(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new er(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new wc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class $2 extends _i{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _f;const Bh=new ue,Sf=new ue,wf=new ue,Ef=new it,zh=new it,ZU=new Xt,B0=new ue,Gh=new ue,z0=new ue,$3=new it,J_=new it,q3=new it;class e4 extends kn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",_f===void 0){_f=new nn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Cx(n,5);_f.setIndex([0,1,2,0,2,3]),_f.setAttribute("position",new wc(r,3,0,!1)),_f.setAttribute("uv",new wc(r,2,3,!1))}this.geometry=_f,this.material=e!==void 0?e:new $2,this.center=new it(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Sf.setFromMatrixScale(this.matrixWorld),ZU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),wf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Sf.multiplyScalar(-wf.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;G0(B0.set(-.5,-.5,0),wf,s,Sf,i,o),G0(Gh.set(.5,-.5,0),wf,s,Sf,i,o),G0(z0.set(.5,.5,0),wf,s,Sf,i,o),$3.set(0,0),J_.set(1,0),q3.set(1,1);let l=e.ray.intersectTriangle(B0,Gh,z0,!1,Bh);if(l===null&&(G0(Gh.set(-.5,.5,0),wf,s,Sf,i,o),J_.set(0,1),l=e.ray.intersectTriangle(B0,z0,Gh,!1,Bh),l===null))return;const a=e.ray.origin.distanceTo(Bh);a<e.near||a>e.far||n.push({distance:a,point:Bh.clone(),uv:so.getInterpolation(Bh,B0,Gh,z0,$3,J_,q3,new it),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function G0(t,e,n,r,i,o){Ef.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(zh.x=o*Ef.x-i*Ef.y,zh.y=i*Ef.x+o*Ef.y):zh.copy(Ef),t.copy(e),t.x+=zh.x,t.y+=zh.y,t.applyMatrix4(ZU)}const H0=new ue,X3=new ue;class t4 extends kn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){H0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(H0);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){H0.setFromMatrixPosition(e.matrixWorld),X3.setFromMatrixPosition(this.matrixWorld);const r=H0.distanceTo(X3)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const Y3=new ue,K3=new Un,Q3=new Un,Jie=new ue,J3=new Xt,Mf=new ue,Z_=new fs,Z3=new Xt,eS=new Xd;class n4 extends mr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Gs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Mf.fromBufferAttribute(n,r),this.applyBoneTransform(r,Mf),this.boundingBox.expandByPoint(Mf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new fs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Mf.fromBufferAttribute(n,r),this.applyBoneTransform(r,Mf),this.boundingSphere.expandByPoint(Mf)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Z_.copy(this.boundingSphere),Z_.applyMatrix4(i),e.ray.intersectsSphere(Z_)!==!1&&(Z3.copy(i).invert(),eS.copy(e.ray).applyMatrix4(Z3),!(this.boundingBox!==null&&eS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,eS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Un,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;K3.fromBufferAttribute(i.attributes.skinIndex,e),Q3.fromBufferAttribute(i.attributes.skinWeight,e),Y3.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=Q3.getComponent(o);if(s!==0){const l=K3.getComponent(o);J3.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(Jie.copy(Y3).applyMatrix4(J3),s)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class q2 extends kn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vd extends wr{constructor(e=null,n=1,r=1,i,o,s,l,a,u=Br,c=Br,f,d){super(null,s,l,a,u,c,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eI=new Xt,Zie=new Xt;class Rx{constructor(e=[],n=[]){this.uuid=ko(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Xt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const l=e[o]?e[o].matrixWorld:Zie;eI.multiplyMatrices(l,n[o]),eI.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Rx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=UU(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new vd(n,e,e,ao,la);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new q2),this.bones.push(s),this.boneInverses.push(new Xt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class Ec extends er{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Tf=new Xt,tI=new Xt,V0=[],nI=new Gs,eoe=new Xt,Hh=new mr,Vh=new fs;class r4 extends mr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Ec(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,eoe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Gs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Tf),nI.copy(e.boundingBox).applyMatrix4(Tf),this.boundingBox.union(nI)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new fs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Tf),Vh.copy(e.boundingSphere).applyMatrix4(Tf),this.boundingSphere.union(Vh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Hh.geometry=this.geometry,Hh.material=this.material,Hh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Vh.copy(this.boundingSphere),Vh.applyMatrix4(r),e.ray.intersectsSphere(Vh)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Tf),tI.multiplyMatrices(r,Tf),Hh.matrixWorld=tI,Hh.raycast(e,V0);for(let s=0,l=V0.length;s<l;s++){const a=V0[s];a.instanceId=o,a.object=this,n.push(a)}V0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Ec(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ji extends _i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const rI=new ue,iI=new ue,oI=new Xt,tS=new Xd,W0=new fs;class ou extends kn{constructor(e=new nn,n=new Ji){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)rI.fromBufferAttribute(n,i-1),iI.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=rI.distanceTo(iI);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),W0.copy(r.boundingSphere),W0.applyMatrix4(i),W0.radius+=o,e.ray.intersectsSphere(W0)===!1)return;oI.copy(i).invert(),tS.copy(e.ray).applyMatrix4(oI);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=l*l,u=new ue,c=new ue,f=new ue,d=new ue,h=this.isLineSegments?2:1,m=r.index,x=r.attributes.position;if(m!==null){const v=Math.max(0,s.start),_=Math.min(m.count,s.start+s.count);for(let b=v,S=_-1;b<S;b+=h){const E=m.getX(b),M=m.getX(b+1);if(u.fromBufferAttribute(x,E),c.fromBufferAttribute(x,M),tS.distanceSqToSegment(u,c,d,f)>a)continue;d.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(d);R<e.near||R>e.far||n.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,s.start),_=Math.min(x.count,s.start+s.count);for(let b=v,S=_-1;b<S;b+=h){if(u.fromBufferAttribute(x,b),c.fromBufferAttribute(x,b+1),tS.distanceSqToSegment(u,c,d,f)>a)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const l=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}const sI=new ue,aI=new ue;class wa extends ou{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)sI.fromBufferAttribute(n,i),aI.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+sI.distanceTo(aI);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class i4 extends ou{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class X2 extends _i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const lI=new Xt,TE=new Xd,j0=new fs,$0=new ue;class o4 extends kn{constructor(e=new nn,n=new X2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),j0.copy(r.boundingSphere),j0.applyMatrix4(i),j0.radius+=o,e.ray.intersectsSphere(j0)===!1)return;lI.copy(i).invert(),TE.copy(e.ray).applyMatrix4(lI);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=l*l,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,s.start),h=Math.min(u.count,s.start+s.count);for(let m=d,y=h;m<y;m++){const x=u.getX(m);$0.fromBufferAttribute(f,x),uI($0,x,a,i,e,n,this)}}else{const d=Math.max(0,s.start),h=Math.min(f.count,s.start+s.count);for(let m=d,y=h;m<y;m++)$0.fromBufferAttribute(f,m),uI($0,m,a,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const l=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}function uI(t,e,n,r,i,o,s){const l=TE.distanceSqToPoint(t);if(l<n){const a=new ue;TE.closestPointToPoint(t,a),a.applyMatrix4(r);const u=i.ray.origin.distanceTo(a);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(l),point:a,index:e,face:null,object:s})}}class toe extends wr{constructor(e,n,r,i,o,s,l,a,u){super(e,n,r,i,o,s,l,a,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:br,this.magFilter=o!==void 0?o:br,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class noe extends wr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Br,this.minFilter=Br,this.generateMipmaps=!1,this.needsUpdate=!0}}class Y2 extends wr{constructor(e,n,r,i,o,s,l,a,u,c,f,d){super(null,s,l,a,u,c,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class roe extends Y2{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Oi}}class ioe extends wr{constructor(e,n,r,i,o,s,l,a,u){super(e,n,r,i,o,s,l,a,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Hs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let l=0,a=o-1,u;for(;l<=a;)if(i=Math.floor(l+(a-l)/2),u=r[i]-s,u<0)l=i+1;else if(u>0)a=i-1;else{a=i;break}if(i=a,r[i]===s)return i/(o-1);const c=r[i],d=r[i+1]-c,h=(s-c)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),l=this.getPoint(o),a=n||(s.isVector2?new it:new ue);return a.copy(l).sub(s).normalize(),a}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ue,i=[],o=[],s=[],l=new ue,a=new Xt;for(let h=0;h<=e;h++){const m=h/e;i[h]=this.getTangentAt(m,new ue)}o[0]=new ue,s[0]=new ue;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],l),s[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),s[h]=s[h-1].clone(),l.crossVectors(i[h-1],i[h]),l.length()>Number.EPSILON){l.normalize();const m=Math.acos(Lr(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(a.makeRotationAxis(l,m))}s[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Lr(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(l.crossVectors(o[0],o[e]))>0&&(h=-h);for(let m=1;m<=e;m++)o[m].applyMatrix4(a.makeRotationAxis(i[m],h*m)),s[m].crossVectors(i[m],o[m])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Px extends Hs{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,l=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=l,this.aRotation=a}getPoint(e,n){const r=n||new it,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const l=this.aStartAngle+e*o;let a=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=a-this.aX,h=u-this.aY;a=d*c-h*f+this.aX,u=d*f+h*c+this.aY}return r.set(a,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class s4 extends Px{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function K2(){let t=0,e=0,n=0,r=0;function i(o,s,l,a){t=o,e=l,n=-3*o+3*s-2*l-a,r=2*o-2*s+l+a}return{initCatmullRom:function(o,s,l,a,u){i(s,l,u*(l-o),u*(a-s))},initNonuniformCatmullRom:function(o,s,l,a,u,c,f){let d=(s-o)/u-(l-o)/(u+c)+(l-s)/c,h=(l-s)/c-(a-s)/(c+f)+(a-l)/f;d*=c,h*=c,i(s,l,d,h)},calc:function(o){const s=o*o,l=s*o;return t+e*o+n*s+r*l}}}const q0=new ue,nS=new K2,rS=new K2,iS=new K2;class a4 extends Hs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ue){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let l=Math.floor(s),a=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:a===0&&l===o-1&&(l=o-2,a=1);let u,c;this.closed||l>0?u=i[(l-1)%o]:(q0.subVectors(i[0],i[1]).add(i[0]),u=q0);const f=i[l%o],d=i[(l+1)%o];if(this.closed||l+2<o?c=i[(l+2)%o]:(q0.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=q0),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(f),h),y=Math.pow(f.distanceToSquared(d),h),x=Math.pow(d.distanceToSquared(c),h);y<1e-4&&(y=1),m<1e-4&&(m=y),x<1e-4&&(x=y),nS.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,m,y,x),rS.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,m,y,x),iS.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,m,y,x)}else this.curveType==="catmullrom"&&(nS.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),rS.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),iS.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(nS.calc(a),rS.calc(a),iS.calc(a)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ue().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function cI(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,l=t*t,a=t*l;return(2*n-2*r+o+s)*a+(-3*n+3*r-2*o-s)*l+o*t+n}function ooe(t,e){const n=1-t;return n*n*e}function soe(t,e){return 2*(1-t)*t*e}function aoe(t,e){return t*t*e}function Pp(t,e,n,r){return ooe(t,e)+soe(t,n)+aoe(t,r)}function loe(t,e){const n=1-t;return n*n*n*e}function uoe(t,e){const n=1-t;return 3*n*n*t*e}function coe(t,e){return 3*(1-t)*t*t*e}function foe(t,e){return t*t*t*e}function Ip(t,e,n,r,i){return loe(t,e)+uoe(t,n)+coe(t,r)+foe(t,i)}class Q2 extends Hs{constructor(e=new it,n=new it,r=new it,i=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new it){const r=n,i=this.v0,o=this.v1,s=this.v2,l=this.v3;return r.set(Ip(e,i.x,o.x,s.x,l.x),Ip(e,i.y,o.y,s.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class l4 extends Hs{constructor(e=new ue,n=new ue,r=new ue,i=new ue){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ue){const r=n,i=this.v0,o=this.v1,s=this.v2,l=this.v3;return r.set(Ip(e,i.x,o.x,s.x,l.x),Ip(e,i.y,o.y,s.y,l.y),Ip(e,i.z,o.z,s.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ix extends Hs{constructor(e=new it,n=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new it){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new it){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class u4 extends Hs{constructor(e=new ue,n=new ue){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class J2 extends Hs{constructor(e=new it,n=new it,r=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new it){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Pp(e,i.x,o.x,s.x),Pp(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Z2 extends Hs{constructor(e=new ue,n=new ue,r=new ue){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ue){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Pp(e,i.x,o.x,s.x),Pp(e,i.y,o.y,s.y),Pp(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eT extends Hs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new it){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),l=o-s,a=i[s===0?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return r.set(cI(l,a.x,u.x,c.x,f.x),cI(l,a.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new it().fromArray(i))}return this}}var tT=Object.freeze({__proto__:null,ArcCurve:s4,CatmullRomCurve3:a4,CubicBezierCurve:Q2,CubicBezierCurve3:l4,EllipseCurve:Px,LineCurve:Ix,LineCurve3:u4,QuadraticBezierCurve:J2,QuadraticBezierCurve3:Z2,SplineCurve:eT});class c4 extends Hs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Ix(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,l=this.curves[o],a=l.getLength(),u=a===0?0:1-s/a;return l.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,a=s.getPoints(l);for(let u=0;u<a.length;u++){const c=a[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new tT[i.type]().fromJSON(i))}return this}}class ym extends c4{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Ix(this.currentPoint.clone(),new it(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new J2(this.currentPoint.clone(),new it(e,n),new it(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const l=new Q2(this.currentPoint.clone(),new it(e,n),new it(r,i),new it(o,s));return this.curves.push(l),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new eT(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const l=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+l,n+a,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,l,a){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,s,l,a),this}absellipse(e,n,r,i,o,s,l,a){const u=new Px(e,n,r,i,o,s,l,a);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Kd extends nn{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Lr(i,0,Math.PI*2);const o=[],s=[],l=[],a=[],u=[],c=1/n,f=new ue,d=new it,h=new ue,m=new ue,y=new ue;let x=0,v=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,h.x=v*1,h.y=-x,h.z=v*0,y.copy(h),h.normalize(),a.push(h.x,h.y,h.z);break;case e.length-1:a.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,h.x=v*1,h.y=-x,h.z=v*0,m.copy(h),h.x+=y.x,h.y+=y.y,h.z+=y.z,h.normalize(),a.push(h.x,h.y,h.z),y.copy(m)}for(let _=0;_<=n;_++){const b=r+_*c*i,S=Math.sin(b),E=Math.cos(b);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*S,f.y=e[M].y,f.z=e[M].x*E,s.push(f.x,f.y,f.z),d.x=_/n,d.y=M/(e.length-1),l.push(d.x,d.y);const T=a[3*M+0]*S,R=a[3*M+1],C=a[3*M+0]*E;u.push(T,R,C)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,E=S,M=S+e.length,T=S+e.length+1,R=S+1;o.push(E,M,R),o.push(T,R,M)}this.setIndex(o),this.setAttribute("position",new Ct(s,3)),this.setAttribute("uv",new Ct(l,2)),this.setAttribute("normal",new Ct(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kd(e.points,e.segments,e.phiStart,e.phiLength)}}class Xm extends Kd{constructor(e=1,n=1,r=4,i=8){const o=new ym;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Xm(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ym extends nn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],l=[],a=[],u=new ue,c=new it;s.push(0,0,0),l.push(0,0,1),a.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),l.push(0,0,1),c.x=(s[d]/e+1)/2,c.y=(s[d+1]/e+1)/2,a.push(c.x,c.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ym(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class kc extends nn{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,l=0,a=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:a};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],f=[],d=[],h=[];let m=0;const y=[],x=r/2;let v=0;_(),s===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(d,3)),this.setAttribute("uv",new Ct(h,2));function _(){const S=new ue,E=new ue;let M=0;const T=(n-e)/r;for(let R=0;R<=o;R++){const C=[],P=R/o,D=P*(n-e)+e;for(let z=0;z<=i;z++){const V=z/i,U=V*a+l,q=Math.sin(U),Z=Math.cos(U);E.x=D*q,E.y=-P*r+x,E.z=D*Z,f.push(E.x,E.y,E.z),S.set(q,T,Z).normalize(),d.push(S.x,S.y,S.z),h.push(V,1-P),C.push(m++)}y.push(C)}for(let R=0;R<i;R++)for(let C=0;C<o;C++){const P=y[C][R],D=y[C+1][R],z=y[C+1][R+1],V=y[C][R+1];c.push(P,D,V),c.push(D,z,V),M+=6}u.addGroup(v,M,0),v+=M}function b(S){const E=m,M=new it,T=new ue;let R=0;const C=S===!0?e:n,P=S===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,x*P,0),d.push(0,P,0),h.push(.5,.5),m++;const D=m;for(let z=0;z<=i;z++){const U=z/i*a+l,q=Math.cos(U),Z=Math.sin(U);T.x=C*Z,T.y=x*P,T.z=C*q,f.push(T.x,T.y,T.z),d.push(0,P,0),M.x=q*.5+.5,M.y=Z*.5*P+.5,h.push(M.x,M.y),m++}for(let z=0;z<i;z++){const V=E+z,U=D+z;S===!0?c.push(U,U+1,V):c.push(U+1,U,V),R+=3}u.addGroup(v,R,S===!0?1:2),v+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Km extends kc{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,l=Math.PI*2){super(0,e,n,r,i,o,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:l}}static fromJSON(e){return new Km(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ll extends nn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];l(i),u(r),c(),this.setAttribute("position",new Ct(o,3)),this.setAttribute("normal",new Ct(o.slice(),3)),this.setAttribute("uv",new Ct(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(_){const b=new ue,S=new ue,E=new ue;for(let M=0;M<n.length;M+=3)h(n[M+0],b),h(n[M+1],S),h(n[M+2],E),a(b,S,E,_)}function a(_,b,S,E){const M=E+1,T=[];for(let R=0;R<=M;R++){T[R]=[];const C=_.clone().lerp(S,R/M),P=b.clone().lerp(S,R/M),D=M-R;for(let z=0;z<=D;z++)z===0&&R===M?T[R][z]=C:T[R][z]=C.clone().lerp(P,z/D)}for(let R=0;R<M;R++)for(let C=0;C<2*(M-R)-1;C++){const P=Math.floor(C/2);C%2===0?(d(T[R][P+1]),d(T[R+1][P]),d(T[R][P])):(d(T[R][P+1]),d(T[R+1][P+1]),d(T[R+1][P]))}}function u(_){const b=new ue;for(let S=0;S<o.length;S+=3)b.x=o[S+0],b.y=o[S+1],b.z=o[S+2],b.normalize().multiplyScalar(_),o[S+0]=b.x,o[S+1]=b.y,o[S+2]=b.z}function c(){const _=new ue;for(let b=0;b<o.length;b+=3){_.x=o[b+0],_.y=o[b+1],_.z=o[b+2];const S=x(_)/2/Math.PI+.5,E=v(_)/Math.PI+.5;s.push(S,1-E)}m(),f()}function f(){for(let _=0;_<s.length;_+=6){const b=s[_+0],S=s[_+2],E=s[_+4],M=Math.max(b,S,E),T=Math.min(b,S,E);M>.9&&T<.1&&(b<.2&&(s[_+0]+=1),S<.2&&(s[_+2]+=1),E<.2&&(s[_+4]+=1))}}function d(_){o.push(_.x,_.y,_.z)}function h(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function m(){const _=new ue,b=new ue,S=new ue,E=new ue,M=new it,T=new it,R=new it;for(let C=0,P=0;C<o.length;C+=9,P+=6){_.set(o[C+0],o[C+1],o[C+2]),b.set(o[C+3],o[C+4],o[C+5]),S.set(o[C+6],o[C+7],o[C+8]),M.set(s[P+0],s[P+1]),T.set(s[P+2],s[P+3]),R.set(s[P+4],s[P+5]),E.copy(_).add(b).add(S).divideScalar(3);const D=x(E);y(M,P+0,_,D),y(T,P+2,b,D),y(R,P+4,S,D)}}function y(_,b,S,E){E<0&&_.x===1&&(s[b]=_.x-1),S.x===0&&S.z===0&&(s[b]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function v(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ll(e.vertices,e.indices,e.radius,e.details)}}class Qm extends ll{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Qm(e.radius,e.detail)}}const X0=new ue,Y0=new ue,oS=new ue,K0=new so;class f4 extends nn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(cc*n),s=e.getIndex(),l=e.getAttribute("position"),a=s?s.count:l.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},h=[];for(let m=0;m<a;m+=3){s?(u[0]=s.getX(m),u[1]=s.getX(m+1),u[2]=s.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:y,b:x,c:v}=K0;if(y.fromBufferAttribute(l,u[0]),x.fromBufferAttribute(l,u[1]),v.fromBufferAttribute(l,u[2]),K0.getNormal(oS),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=f[_],E=f[b],M=K0[c[_]],T=K0[c[b]],R=`${S}_${E}`,C=`${E}_${S}`;C in d&&d[C]?(oS.dot(d[C].normal)<=o&&(h.push(M.x,M.y,M.z),h.push(T.x,T.y,T.z)),d[C]=null):R in d||(d[R]={index0:u[_],index1:u[b],normal:oS.clone()})}}for(const m in d)if(d[m]){const{index0:y,index1:x}=d[m];X0.fromBufferAttribute(l,y),Y0.fromBufferAttribute(l,x),h.push(X0.x,X0.y,X0.z),h.push(Y0.x,Y0.y,Y0.z)}this.setAttribute("position",new Ct(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class dc extends ym{constructor(e){super(e),this.uuid=ko(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ym().fromJSON(i))}return this}}const doe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=d4(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let l,a,u,c,f,d,h;if(r&&(o=voe(t,e,o,n)),t.length>80*n){l=u=t[0],a=c=t[1];for(let m=n;m<i;m+=n)f=t[m],d=t[m+1],f<l&&(l=f),d<a&&(a=d),f>u&&(u=f),d>c&&(c=d);h=Math.max(u-l,c-a),h=h!==0?32767/h:0}return xm(o,s,n,l,a,h,0),s}};function d4(t,e,n,r,i){let o,s;if(i===Coe(t,e,n,r)>0)for(o=e;o<n;o+=r)s=fI(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=fI(o,t[o],t[o+1],s);return s&&Lx(s,s.next)&&(_m(s),s=s.next),s}function Mc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Lx(n,n.next)||_r(n.prev,n,n.next)===0)){if(_m(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function xm(t,e,n,r,i,o,s){if(!t)return;!s&&o&&Soe(t,r,i,o);let l=t,a,u;for(;t.prev!==t.next;){if(a=t.prev,u=t.next,o?poe(t,r,i,o):hoe(t)){e.push(a.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),_m(t),t=u.next,l=u.next;continue}if(t=u,t===l){s?s===1?(t=moe(Mc(t),e,n),xm(t,e,n,r,i,o,2)):s===2&&goe(t,e,n,r,i,o):xm(Mc(t),e,n,r,i,o,1);break}}}function hoe(t){const e=t.prev,n=t,r=t.next;if(_r(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,l=e.y,a=n.y,u=r.y,c=i<o?i<s?i:s:o<s?o:s,f=l<a?l<u?l:u:a<u?a:u,d=i>o?i>s?i:s:o>s?o:s,h=l>a?l>u?l:u:a>u?a:u;let m=r.next;for(;m!==e;){if(m.x>=c&&m.x<=d&&m.y>=f&&m.y<=h&&td(i,l,o,a,s,u,m.x,m.y)&&_r(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function poe(t,e,n,r){const i=t.prev,o=t,s=t.next;if(_r(i,o,s)>=0)return!1;const l=i.x,a=o.x,u=s.x,c=i.y,f=o.y,d=s.y,h=l<a?l<u?l:u:a<u?a:u,m=c<f?c<d?c:d:f<d?f:d,y=l>a?l>u?l:u:a>u?a:u,x=c>f?c>d?c:d:f>d?f:d,v=AE(h,m,e,n,r),_=AE(y,x,e,n,r);let b=t.prevZ,S=t.nextZ;for(;b&&b.z>=v&&S&&S.z<=_;){if(b.x>=h&&b.x<=y&&b.y>=m&&b.y<=x&&b!==i&&b!==s&&td(l,c,a,f,u,d,b.x,b.y)&&_r(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=h&&S.x<=y&&S.y>=m&&S.y<=x&&S!==i&&S!==s&&td(l,c,a,f,u,d,S.x,S.y)&&_r(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=v;){if(b.x>=h&&b.x<=y&&b.y>=m&&b.y<=x&&b!==i&&b!==s&&td(l,c,a,f,u,d,b.x,b.y)&&_r(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=_;){if(S.x>=h&&S.x<=y&&S.y>=m&&S.y<=x&&S!==i&&S!==s&&td(l,c,a,f,u,d,S.x,S.y)&&_r(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function moe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!Lx(i,o)&&h4(i,r,r.next,o)&&bm(i,o)&&bm(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),_m(r),_m(r.next),r=t=o),r=r.next}while(r!==t);return Mc(r)}function goe(t,e,n,r,i,o){let s=t;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&Moe(s,l)){let a=p4(s,l);s=Mc(s,s.next),a=Mc(a,a.next),xm(s,e,n,r,i,o,0),xm(a,e,n,r,i,o,0);return}l=l.next}s=s.next}while(s!==t)}function voe(t,e,n,r){const i=[];let o,s,l,a,u;for(o=0,s=e.length;o<s;o++)l=e[o]*r,a=o<s-1?e[o+1]*r:t.length,u=d4(t,l,a,r,!1),u===u.next&&(u.steiner=!0),i.push(Eoe(u));for(i.sort(yoe),o=0;o<i.length;o++)n=xoe(i[o],n);return n}function yoe(t,e){return t.x-e.x}function xoe(t,e){const n=boe(t,e);if(!n)return e;const r=p4(n,t);return Mc(r,r.next),Mc(n,n.next)}function boe(t,e){let n=e,r=-1/0,i;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const d=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const l=i,a=i.x,u=i.y;let c=1/0,f;n=i;do o>=n.x&&n.x>=a&&o!==n.x&&td(s<u?o:r,s,a,u,s<u?r:o,s,n.x,n.y)&&(f=Math.abs(s-n.y)/(o-n.x),bm(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&_oe(i,n)))&&(i=n,c=f)),n=n.next;while(n!==l);return i}function _oe(t,e){return _r(t.prev,t,e.prev)<0&&_r(e.next,t,t.next)<0}function Soe(t,e,n,r){let i=t;do i.z===0&&(i.z=AE(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,woe(i)}function woe(t){let e,n,r,i,o,s,l,a,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,l=0,e=0;e<u&&(l++,r=r.nextZ,!!r);e++);for(a=u;l>0||a>0&&r;)l!==0&&(a===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(s>1);return t}function AE(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Eoe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function td(t,e,n,r,i,o,s,l){return(i-s)*(e-l)>=(t-s)*(o-l)&&(t-s)*(r-l)>=(n-s)*(e-l)&&(n-s)*(o-l)>=(i-s)*(r-l)}function Moe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Toe(t,e)&&(bm(t,e)&&bm(e,t)&&Aoe(t,e)&&(_r(t.prev,t,e.prev)||_r(t,e.prev,e))||Lx(t,e)&&_r(t.prev,t,t.next)>0&&_r(e.prev,e,e.next)>0)}function _r(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Lx(t,e){return t.x===e.x&&t.y===e.y}function h4(t,e,n,r){const i=J0(_r(t,e,n)),o=J0(_r(t,e,r)),s=J0(_r(n,r,t)),l=J0(_r(n,r,e));return!!(i!==o&&s!==l||i===0&&Q0(t,n,e)||o===0&&Q0(t,r,e)||s===0&&Q0(n,t,r)||l===0&&Q0(n,e,r))}function Q0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function J0(t){return t>0?1:t<0?-1:0}function Toe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&h4(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function bm(t,e){return _r(t.prev,t,t.next)<0?_r(t,e,t.next)>=0&&_r(t,t.prev,e)>=0:_r(t,e,t.prev)<0||_r(t,t.next,e)<0}function Aoe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function p4(t,e){const n=new CE(t.i,t.x,t.y),r=new CE(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function fI(t,e,n,r){const i=new CE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _m(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function CE(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Coe(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class ga{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return ga.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];dI(e),hI(r,e);let s=e.length;n.forEach(dI);for(let a=0;a<n.length;a++)i.push(s),s+=n[a].length,hI(r,n[a]);const l=doe.triangulate(r,i);for(let a=0;a<l.length;a+=3)o.push(l.slice(a,a+3));return o}}function dI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function hI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Qd extends nn{constructor(e=new dc([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let l=0,a=e.length;l<a;l++){const u=e[l];s(u)}this.setAttribute("position",new Ct(i,3)),this.setAttribute("uv",new Ct(o,2)),this.computeVertexNormals();function s(l){const a=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:Roe;let b,S=!1,E,M,T,R;v&&(b=v.getSpacedPoints(c),S=!0,d=!1,E=v.computeFrenetFrames(c,!1),M=new ue,T=new ue,R=new ue),d||(x=0,h=0,m=0,y=0);const C=l.extractPoints(u);let P=C.shape;const D=C.holes;if(!ga.isClockWise(P)){P=P.reverse();for(let H=0,ge=D.length;H<ge;H++){const Me=D[H];ga.isClockWise(Me)&&(D[H]=Me.reverse())}}const V=ga.triangulateShape(P,D),U=P;for(let H=0,ge=D.length;H<ge;H++){const Me=D[H];P=P.concat(Me)}function q(H,ge,Me){return ge||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(ge,Me)}const Z=P.length,ne=V.length;function O(H,ge,Me){let Ie,Re,We;const ke=H.x-ge.x,je=H.y-ge.y,He=Me.x-H.x,Ne=Me.y-H.y,Ke=ke*ke+je*je,Q=ke*Ne-je*He;if(Math.abs(Q)>Number.EPSILON){const N=Math.sqrt(Ke),se=Math.sqrt(He*He+Ne*Ne),Le=ge.x-je/N,Te=ge.y+ke/N,_e=Me.x-Ne/se,ye=Me.y+He/se,we=((_e-Le)*Ne-(ye-Te)*He)/(ke*Ne-je*He);Ie=Le+ke*we-H.x,Re=Te+je*we-H.y;const Se=Ie*Ie+Re*Re;if(Se<=2)return new it(Ie,Re);We=Math.sqrt(Se/2)}else{let N=!1;ke>Number.EPSILON?He>Number.EPSILON&&(N=!0):ke<-Number.EPSILON?He<-Number.EPSILON&&(N=!0):Math.sign(je)===Math.sign(Ne)&&(N=!0),N?(Ie=-je,Re=ke,We=Math.sqrt(Ke)):(Ie=ke,Re=je,We=Math.sqrt(Ke/2))}return new it(Ie/We,Re/We)}const F=[];for(let H=0,ge=U.length,Me=ge-1,Ie=H+1;H<ge;H++,Me++,Ie++)Me===ge&&(Me=0),Ie===ge&&(Ie=0),F[H]=O(U[H],U[Me],U[Ie]);const G=[];let $,W=F.concat();for(let H=0,ge=D.length;H<ge;H++){const Me=D[H];$=[];for(let Ie=0,Re=Me.length,We=Re-1,ke=Ie+1;Ie<Re;Ie++,We++,ke++)We===Re&&(We=0),ke===Re&&(ke=0),$[Ie]=O(Me[Ie],Me[We],Me[ke]);G.push($),W=W.concat($)}for(let H=0;H<x;H++){const ge=H/x,Me=h*Math.cos(ge*Math.PI/2),Ie=m*Math.sin(ge*Math.PI/2)+y;for(let Re=0,We=U.length;Re<We;Re++){const ke=q(U[Re],F[Re],Ie);fe(ke.x,ke.y,-Me)}for(let Re=0,We=D.length;Re<We;Re++){const ke=D[Re];$=G[Re];for(let je=0,He=ke.length;je<He;je++){const Ne=q(ke[je],$[je],Ie);fe(Ne.x,Ne.y,-Me)}}}const oe=m+y;for(let H=0;H<Z;H++){const ge=d?q(P[H],W[H],oe):P[H];S?(T.copy(E.normals[0]).multiplyScalar(ge.x),M.copy(E.binormals[0]).multiplyScalar(ge.y),R.copy(b[0]).add(T).add(M),fe(R.x,R.y,R.z)):fe(ge.x,ge.y,0)}for(let H=1;H<=c;H++)for(let ge=0;ge<Z;ge++){const Me=d?q(P[ge],W[ge],oe):P[ge];S?(T.copy(E.normals[H]).multiplyScalar(Me.x),M.copy(E.binormals[H]).multiplyScalar(Me.y),R.copy(b[H]).add(T).add(M),fe(R.x,R.y,R.z)):fe(Me.x,Me.y,f/c*H)}for(let H=x-1;H>=0;H--){const ge=H/x,Me=h*Math.cos(ge*Math.PI/2),Ie=m*Math.sin(ge*Math.PI/2)+y;for(let Re=0,We=U.length;Re<We;Re++){const ke=q(U[Re],F[Re],Ie);fe(ke.x,ke.y,f+Me)}for(let Re=0,We=D.length;Re<We;Re++){const ke=D[Re];$=G[Re];for(let je=0,He=ke.length;je<He;je++){const Ne=q(ke[je],$[je],Ie);S?fe(Ne.x,Ne.y+b[c-1].y,b[c-1].x+Me):fe(Ne.x,Ne.y,f+Me)}}}j(),Y();function j(){const H=i.length/3;if(d){let ge=0,Me=Z*ge;for(let Ie=0;Ie<ne;Ie++){const Re=V[Ie];pe(Re[2]+Me,Re[1]+Me,Re[0]+Me)}ge=c+x*2,Me=Z*ge;for(let Ie=0;Ie<ne;Ie++){const Re=V[Ie];pe(Re[0]+Me,Re[1]+Me,Re[2]+Me)}}else{for(let ge=0;ge<ne;ge++){const Me=V[ge];pe(Me[2],Me[1],Me[0])}for(let ge=0;ge<ne;ge++){const Me=V[ge];pe(Me[0]+Z*c,Me[1]+Z*c,Me[2]+Z*c)}}r.addGroup(H,i.length/3-H,0)}function Y(){const H=i.length/3;let ge=0;K(U,ge),ge+=U.length;for(let Me=0,Ie=D.length;Me<Ie;Me++){const Re=D[Me];K(Re,ge),ge+=Re.length}r.addGroup(H,i.length/3-H,1)}function K(H,ge){let Me=H.length;for(;--Me>=0;){const Ie=Me;let Re=Me-1;Re<0&&(Re=H.length-1);for(let We=0,ke=c+x*2;We<ke;We++){const je=Z*We,He=Z*(We+1),Ne=ge+Ie+je,Ke=ge+Re+je,Q=ge+Re+He,N=ge+Ie+He;xe(Ne,Ke,Q,N)}}}function fe(H,ge,Me){a.push(H),a.push(ge),a.push(Me)}function pe(H,ge,Me){Ge(H),Ge(ge),Ge(Me);const Ie=i.length/3,Re=_.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);Ae(Re[0]),Ae(Re[1]),Ae(Re[2])}function xe(H,ge,Me,Ie){Ge(H),Ge(ge),Ge(Ie),Ge(ge),Ge(Me),Ge(Ie);const Re=i.length/3,We=_.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);Ae(We[0]),Ae(We[1]),Ae(We[3]),Ae(We[1]),Ae(We[2]),Ae(We[3])}function Ge(H){i.push(a[H*3+0]),i.push(a[H*3+1]),i.push(a[H*3+2])}function Ae(H){o.push(H.x),o.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Poe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const l=n[e.shapes[o]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new tT[i.type]().fromJSON(i)),new Qd(r,e.options)}}const Roe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],l=e[r*3],a=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new it(o,s),new it(l,a),new it(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],l=e[n*3+1],a=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],m=e[i*3+2],y=e[o*3],x=e[o*3+1],v=e[o*3+2];return Math.abs(l-c)<Math.abs(s-u)?[new it(s,1-a),new it(u,1-f),new it(d,1-m),new it(y,1-v)]:[new it(l,1-a),new it(c,1-f),new it(h,1-m),new it(x,1-v)]}};function Poe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Jm extends ll{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Jm(e.radius,e.detail)}}class Jd extends ll{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Jd(e.radius,e.detail)}}class Zm extends nn{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const l=[],a=[],u=[],c=[];let f=e;const d=(n-e)/i,h=new ue,m=new it;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const v=o+x/r*s;h.x=f*Math.cos(v),h.y=f*Math.sin(v),a.push(h.x,h.y,h.z),u.push(0,0,1),m.x=(h.x/n+1)/2,m.y=(h.y/n+1)/2,c.push(m.x,m.y)}f+=d}for(let y=0;y<i;y++){const x=y*(r+1);for(let v=0;v<r;v++){const _=v+x,b=_,S=_+r+1,E=_+r+2,M=_+1;l.push(b,S,M),l.push(S,E,M)}}this.setIndex(l),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class eg extends nn{constructor(e=new dc([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let l=0,a=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(l,a,c),l+=a,a=0;this.setIndex(r),this.setAttribute("position",new Ct(i,3)),this.setAttribute("normal",new Ct(o,3)),this.setAttribute("uv",new Ct(s,2));function u(c){const f=i.length/3,d=c.extractPoints(n);let h=d.shape;const m=d.holes;ga.isClockWise(h)===!1&&(h=h.reverse());for(let x=0,v=m.length;x<v;x++){const _=m[x];ga.isClockWise(_)===!0&&(m[x]=_.reverse())}const y=ga.triangulateShape(h,m);for(let x=0,v=m.length;x<v;x++){const _=m[x];h=h.concat(_)}for(let x=0,v=h.length;x<v;x++){const _=h[x];i.push(_.x,_.y,0),o.push(0,0,1),s.push(_.x,_.y)}for(let x=0,v=y.length;x<v;x++){const _=y[x],b=_[0]+f,S=_[1]+f,E=_[2]+f;r.push(b,S,E),a+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Ioe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new eg(r,e.curveSegments)}}function Ioe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Zd extends nn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const a=Math.min(s+l,Math.PI);let u=0;const c=[],f=new ue,d=new ue,h=[],m=[],y=[],x=[];for(let v=0;v<=r;v++){const _=[],b=v/r;let S=0;v===0&&s===0?S=.5/n:v===r&&a===Math.PI&&(S=-.5/n);for(let E=0;E<=n;E++){const M=E/n;f.x=-e*Math.cos(i+M*o)*Math.sin(s+b*l),f.y=e*Math.cos(s+b*l),f.z=e*Math.sin(i+M*o)*Math.sin(s+b*l),m.push(f.x,f.y,f.z),d.copy(f).normalize(),y.push(d.x,d.y,d.z),x.push(M+S,1-b),_.push(u++)}c.push(_)}for(let v=0;v<r;v++)for(let _=0;_<n;_++){const b=c[v][_+1],S=c[v][_],E=c[v+1][_],M=c[v+1][_+1];(v!==0||s>0)&&h.push(b,S,M),(v!==r-1||a<Math.PI)&&h.push(S,E,M)}this.setIndex(h),this.setAttribute("position",new Ct(m,3)),this.setAttribute("normal",new Ct(y,3)),this.setAttribute("uv",new Ct(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class tg extends ll{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tg(e.radius,e.detail)}}class ng extends nn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],a=[],u=[],c=new ue,f=new ue,d=new ue;for(let h=0;h<=r;h++)for(let m=0;m<=i;m++){const y=m/i*o,x=h/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(y),f.y=(e+n*Math.cos(x))*Math.sin(y),f.z=n*Math.sin(x),l.push(f.x,f.y,f.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),d.subVectors(f,c).normalize(),a.push(d.x,d.y,d.z),u.push(m/i),u.push(h/r)}for(let h=1;h<=r;h++)for(let m=1;m<=i;m++){const y=(i+1)*h+m-1,x=(i+1)*(h-1)+m-1,v=(i+1)*(h-1)+m,_=(i+1)*h+m;s.push(y,x,_),s.push(x,v,_)}this.setIndex(s),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(a,3)),this.setAttribute("uv",new Ct(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ng(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class rg extends nn{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const l=[],a=[],u=[],c=[],f=new ue,d=new ue,h=new ue,m=new ue,y=new ue,x=new ue,v=new ue;for(let b=0;b<=r;++b){const S=b/r*o*Math.PI*2;_(S,o,s,e,h),_(S+.01,o,s,e,m),x.subVectors(m,h),v.addVectors(m,h),y.crossVectors(x,v),v.crossVectors(y,x),y.normalize(),v.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,T=-n*Math.cos(M),R=n*Math.sin(M);f.x=h.x+(T*v.x+R*y.x),f.y=h.y+(T*v.y+R*y.y),f.z=h.z+(T*v.z+R*y.z),a.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),u.push(d.x,d.y,d.z),c.push(b/r),c.push(E/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const E=(i+1)*(b-1)+(S-1),M=(i+1)*b+(S-1),T=(i+1)*b+S,R=(i+1)*(b-1)+S;l.push(E,M,R),l.push(M,T,R)}this.setIndex(l),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(c,2));function _(b,S,E,M,T){const R=Math.cos(b),C=Math.sin(b),P=E/S*b,D=Math.cos(P);T.x=M*(2+D)*.5*R,T.y=M*(2+D)*C*.5,T.z=M*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ig extends nn{constructor(e=new Z2(new ue(-1,-1,0),new ue(-1,1,0),new ue(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new ue,a=new ue,u=new it;let c=new ue;const f=[],d=[],h=[],m=[];y(),this.setIndex(m),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(d,3)),this.setAttribute("uv",new Ct(h,2));function y(){for(let b=0;b<n;b++)x(b);x(o===!1?n:0),_(),v()}function x(b){c=e.getPointAt(b/n,c);const S=s.normals[b],E=s.binormals[b];for(let M=0;M<=i;M++){const T=M/i*Math.PI*2,R=Math.sin(T),C=-Math.cos(T);a.x=C*S.x+R*E.x,a.y=C*S.y+R*E.y,a.z=C*S.z+R*E.z,a.normalize(),d.push(a.x,a.y,a.z),l.x=c.x+r*a.x,l.y=c.y+r*a.y,l.z=c.z+r*a.z,f.push(l.x,l.y,l.z)}}function v(){for(let b=1;b<=n;b++)for(let S=1;S<=i;S++){const E=(i+1)*(b-1)+(S-1),M=(i+1)*b+(S-1),T=(i+1)*b+S,R=(i+1)*(b-1)+S;m.push(E,M,R),m.push(M,T,R)}}function _(){for(let b=0;b<=n;b++)for(let S=0;S<=i;S++)u.x=b/n,u.y=S/i,h.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ig(new tT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class m4 extends nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ue,o=new ue;if(e.index!==null){const s=e.attributes.position,l=e.index;let a=e.groups;a.length===0&&(a=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,c=a.length;u<c;++u){const f=a[u],d=f.start,h=f.count;for(let m=d,y=d+h;m<y;m+=3)for(let x=0;x<3;x++){const v=l.getX(m+x),_=l.getX(m+(x+1)%3);i.fromBufferAttribute(s,v),o.fromBufferAttribute(s,_),pI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let l=0,a=s.count/3;l<a;l++)for(let u=0;u<3;u++){const c=3*l+u,f=3*l+(u+1)%3;i.fromBufferAttribute(s,c),o.fromBufferAttribute(s,f),pI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Ct(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function pI(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var mI=Object.freeze({__proto__:null,BoxGeometry:Sa,CapsuleGeometry:Xm,CircleGeometry:Ym,ConeGeometry:Km,CylinderGeometry:kc,DodecahedronGeometry:Qm,EdgesGeometry:f4,ExtrudeGeometry:Qd,IcosahedronGeometry:Jm,LatheGeometry:Kd,OctahedronGeometry:Jd,PlaneGeometry:al,PolyhedronGeometry:ll,RingGeometry:Zm,ShapeGeometry:eg,SphereGeometry:Zd,TetrahedronGeometry:tg,TorusGeometry:ng,TorusKnotGeometry:rg,TubeGeometry:ig,WireframeGeometry:m4});class g4 extends _i{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class v4 extends ls{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class nT extends _i{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new yt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y4 extends nT{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Lr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class x4 extends _i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yt(16777215),this.specular=new yt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nd extends _i{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class b4 extends _i{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class _4 extends _i{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class S4 extends _i{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class w4 extends Ji{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qo(t,e,n){return rT(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function oc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function rT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function E4(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function RE(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const l=n[o]*e;for(let a=0;a!==e;++a)i[s++]=t[l+a]}return i}function iT(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function Loe(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let a=0;a<o.tracks.length;++a){const u=o.tracks[a],c=u.getValueSize(),f=[],d=[];for(let h=0;h<u.times.length;++h){const m=u.times[h]*i;if(!(m<n||m>=r)){f.push(u.times[h]);for(let y=0;y<c;++y)d.push(u.values[h*c+y])}}f.length!==0&&(u.times=oc(f,u.times.constructor),u.values=oc(d,u.values.constructor),s.push(u))}o.tracks=s;let l=1/0;for(let a=0;a<o.tracks.length;++a)l>o.tracks[a].times[0]&&(l=o.tracks[a].times[0]);for(let a=0;a<o.tracks.length;++a)o.tracks[a].shift(-1*l);return o.resetDuration(),o}function koe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const l=n.tracks[s],a=l.ValueTypeName;if(a==="bool"||a==="string")continue;const u=t.tracks.find(function(v){return v.name===l.name&&v.ValueTypeName===a});if(u===void 0)continue;let c=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const h=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const m=l.times.length-1;let y;if(o<=l.times[0]){const v=c,_=f-c;y=Qo(l.values,v,_)}else if(o>=l.times[m]){const v=m*f+c,_=v+f-c;y=Qo(l.values,v,_)}else{const v=l.createInterpolant(),_=c,b=f-c;v.evaluate(o),y=Qo(v.resultBuffer,_,b)}a==="quaternion"&&new ho().fromArray(y).normalize().conjugate().toArray(y);const x=u.times.length;for(let v=0;v<x;++v){const _=v*h+d;if(a==="quaternion")ho.multiplyQuaternionsFlat(u.values,_,y,0,u.values,_);else{const b=h-d*2;for(let S=0;S<b;++S)u.values[_+S]-=y[S]}}}return t.blendMode=O2,t}const Noe={arraySlice:Qo,convertArray:oc,isTypedArray:rT,getKeyframeOrder:E4,sortedArray:RE,flattenJSON:iT,subclip:Loe,makeClipAdditive:koe};class og{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const l=n[1];e<l&&(r=2,o=l);for(let a=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===a)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const l=r+s>>>1;e<n[l]?s=l:r=l+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class M4 extends og{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nc,endingEnd:nc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,l=i[o],a=i[s];if(l===void 0)switch(this.getSettings_().endingStart){case rc:o=e,l=2*n-r;break;case pm:o=i.length-2,l=n+i[o]-i[o+1];break;default:o=e,l=r}if(a===void 0)switch(this.getSettings_().endingEnd){case rc:s=e,a=2*r-n;break;case pm:s=1,a=r+i[1]-i[0];break;default:s=e-1,a=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(a-r),this._offsetPrev=o*c,this._offsetNext=s*c}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,l=this.valueSize,a=e*l,u=a-l,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,m=(r-n)/(i-n),y=m*m,x=y*m,v=-d*x+2*d*y-d*m,_=(1+d)*x+(-1.5-2*d)*y+(-.5+d)*m+1,b=(-1-h)*x+(1.5+h)*y+.5*m,S=h*x-h*y;for(let E=0;E!==l;++E)o[E]=v*s[c+E]+_*s[u+E]+b*s[a+E]+S*s[f+E];return o}}class oT extends og{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,l=this.valueSize,a=e*l,u=a-l,c=(r-n)/(i-n),f=1-c;for(let d=0;d!==l;++d)o[d]=s[u+d]*f+s[a+d]*c;return o}}class T4 extends og{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Vs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=oc(n,this.TimeBufferType),this.values=oc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:oc(e.times,Array),values:oc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new T4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new M4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case dm:n=this.InterpolantFactoryMethodDiscrete;break;case hm:n=this.InterpolantFactoryMethodLinear;break;case Uv:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dm;case this.InterpolantFactoryMethodLinear:return hm;case this.InterpolantFactoryMethodSmooth:return Uv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const l=this.getValueSize();this.times=Qo(r,o,s),this.values=Qo(this.values,o*l,s*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==o;l++){const a=r[l];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,a),e=!1;break}if(s!==null&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,a,s),e=!1;break}s=a}if(i!==void 0&&rT(i))for(let l=0,a=i.length;l!==a;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=Qo(this.times),n=Qo(this.values),r=this.getValueSize(),i=this.getInterpolation()===Uv,o=e.length-1;let s=1;for(let l=1;l<o;++l){let a=!1;const u=e[l],c=e[l+1];if(u!==c&&(l!==1||u!==e[0]))if(i)a=!0;else{const f=l*r,d=f-r,h=f+r;for(let m=0;m!==r;++m){const y=n[f+m];if(y!==n[d+m]||y!==n[h+m]){a=!0;break}}}if(a){if(l!==s){e[s]=e[l];const f=l*r,d=s*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++s}}if(o>0){e[s]=e[o];for(let l=o*r,a=s*r,u=0;u!==r;++u)n[a+u]=n[l+u];++s}return s!==e.length?(this.times=Qo(e,0,s),this.values=Qo(n,0,s*r)):(this.times=e,this.values=n),this}clone(){const e=Qo(this.times,0),n=Qo(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Vs.prototype.TimeBufferType=Float32Array;Vs.prototype.ValueBufferType=Float32Array;Vs.prototype.DefaultInterpolation=hm;class Nc extends Vs{}Nc.prototype.ValueTypeName="bool";Nc.prototype.ValueBufferType=Array;Nc.prototype.DefaultInterpolation=dm;Nc.prototype.InterpolantFactoryMethodLinear=void 0;Nc.prototype.InterpolantFactoryMethodSmooth=void 0;class sT extends Vs{}sT.prototype.ValueTypeName="color";class Sm extends Vs{}Sm.prototype.ValueTypeName="number";class A4 extends og{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,l=this.valueSize,a=(r-n)/(i-n);let u=e*l;for(let c=u+l;u!==c;u+=4)ho.slerpFlat(o,0,s,u-l,s,u,a);return o}}class eh extends Vs{InterpolantFactoryMethodLinear(e){return new A4(this.times,this.values,this.getValueSize(),e)}}eh.prototype.ValueTypeName="quaternion";eh.prototype.DefaultInterpolation=hm;eh.prototype.InterpolantFactoryMethodSmooth=void 0;class Oc extends Vs{}Oc.prototype.ValueTypeName="string";Oc.prototype.ValueBufferType=Array;Oc.prototype.DefaultInterpolation=dm;Oc.prototype.InterpolantFactoryMethodLinear=void 0;Oc.prototype.InterpolantFactoryMethodSmooth=void 0;class wm extends Vs{}wm.prototype.ValueTypeName="vector";class Em{constructor(e,n=-1,r,i=xx){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ko(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,l=r.length;s!==l;++s)n.push(Foe(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Vs.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let l=0;l<o;l++){let a=[],u=[];a.push((l+o-1)%o,l,(l+1)%o),u.push(0,1,0);const c=E4(a);a=RE(a,1,c),u=RE(u,1,c),!i&&a[0]===0&&(a.push(o),u.push(u[0])),s.push(new Sm(".morphTargetInfluences["+n[l].name+"]",a,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let l=0,a=e.length;l<a;l++){const u=e[l],c=u.name.match(o);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const s=[];for(const l in i)s.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,m,y){if(h.length!==0){const x=[],v=[];iT(h,x,v,m),x.length!==0&&y.push(new f(d,x,v))}},i=[],o=e.name||"default",s=e.fps||30,l=e.blendMode;let a=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let m;for(m=0;m<d.length;m++)if(d[m].morphTargets)for(let y=0;y<d[m].morphTargets.length;y++)h[d[m].morphTargets[y]]=-1;for(const y in h){const x=[],v=[];for(let _=0;_!==d[m].morphTargets.length;++_){const b=d[m];x.push(b.time),v.push(b.morphTarget===y?1:0)}i.push(new Sm(".morphTargetInfluence["+y+"]",x,v))}a=h.length*s}else{const h=".bones["+n[f].name+"]";r(wm,h+".position",d,"pos",i),r(eh,h+".quaternion",d,"rot",i),r(wm,h+".scale",d,"scl",i)}}return i.length===0?null:new this(o,a,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ooe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sm;case"vector":case"vector2":case"vector3":case"vector4":return wm;case"color":return sT;case"quaternion":return eh;case"bool":case"boolean":return Nc;case"string":return Oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Foe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Ooe(t.type);if(t.times===void 0){const n=[],r=[];iT(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Tc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class aT{constructor(e,n,r){const i=this;let o=!1,s=0,l=0,a;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){l++,o===!1&&i.onStart!==void 0&&i.onStart(c,s,l),o=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,l),s===l&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const h=u[f],m=u[f+1];if(h.global&&(h.lastIndex=0),h.test(c))return m}return null}}}const C4=new aT;class go{constructor(e){this.manager=e!==void 0?e:C4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Da={};class Doe extends Error{constructor(e,n){super(e),this.response=n}}class ba extends go{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Tc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Da[e]!==void 0){Da[e].push({onLoad:n,onProgress:r,onError:i});return}Da[e]=[],Da[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,a=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Da[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),h=d?parseInt(d):0,m=h!==0;let y=0;const x=new ReadableStream({start(v){_();function _(){f.read().then(({done:b,value:S})=>{if(b)v.close();else{y+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:m,loaded:y,total:h});for(let M=0,T=c.length;M<T;M++){const R=c[M];R.onProgress&&R.onProgress(E)}v.enqueue(S),_()}})}}});return new Response(x)}else throw new Doe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(a){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,l));case"json":return u.json();default:if(l===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return u.arrayBuffer().then(m=>h.decode(m))}}}).then(u=>{Tc.add(e,u);const c=Da[e];delete Da[e];for(let f=0,d=c.length;f<d;f++){const h=c[f];h.onLoad&&h.onLoad(u)}}).catch(u=>{const c=Da[e];if(c===void 0)throw this.manager.itemError(e),u;delete Da[e];for(let f=0,d=c.length;f<d;f++){const h=c[f];h.onError&&h.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Uoe extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ba(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{n(o.parse(JSON.parse(l)))}catch(a){i?i(a):console.error(a),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Em.parse(e[r]);n.push(i)}return n}}class Boe extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],l=new Y2,a=new ba(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(o.withCredentials);let u=0;function c(f){a.load(e[f],function(d){const h=o.parse(d,!0);s[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},u+=1,u===6&&(h.mipmapCount===1&&(l.minFilter=br),l.image=s,l.format=h.format,l.needsUpdate=!0,n&&n(l))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else a.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let m=0;m<h;m++){s[m]={mipmaps:[]};for(let y=0;y<d.mipmapCount;y++)s[m].mipmaps.push(d.mipmaps[m*d.mipmapCount+y]),s[m].format=d.format,s[m].width=d.width,s[m].height=d.height}l.image=s}else l.image.width=d.width,l.image.height=d.height,l.mipmaps=d.mipmaps;d.mipmapCount===1&&(l.minFilter=br),l.format=d.format,l.needsUpdate=!0,n&&n(l)},r,i);return l}}class Mm extends go{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Tc.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const l=vm("img");function a(){c(),Tc.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(f){c(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){l.removeEventListener("load",a,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",a,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(e),l.src=e,l}}class zoe extends go{constructor(e){super(e)}load(e,n,r,i){const o=new $m;o.colorSpace=Qt;const s=new Mm(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function a(u){s.load(e[u],function(c){o.images[u]=c,l++,l===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)a(u);return o}}class Goe extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new vd,l=new ba(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(o.withCredentials),l.load(e,function(a){const u=o.parse(a);u&&(u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:Oi,s.wrapT=u.wrapT!==void 0?u.wrapT:Oi,s.magFilter=u.magFilter!==void 0?u.magFilter:br,s.minFilter=u.minFilter!==void 0?u.minFilter:br,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?s.colorSpace=u.colorSpace:u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=iu),u.mipmapCount===1&&(s.minFilter=br),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,n&&n(s,u))},r,i),s}}class Hoe extends go{constructor(e){super(e)}load(e,n,r,i){const o=new wr,s=new Mm(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){o.image=l,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class mu extends kn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new yt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class R4 extends mu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const sS=new Xt,gI=new ue,vI=new ue;class lT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Sx,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;gI.setFromMatrixPosition(e.matrixWorld),n.position.copy(gI),vI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(vI),n.updateMatrixWorld(),sS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(sS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Voe extends lT{constructor(){super(new fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Id*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class P4 extends mu{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.target=new kn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new Voe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yI=new Xt,Wh=new ue,aS=new ue;class Woe extends lT{constructor(){super(new fi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new Un(2,1,1,1),new Un(0,1,1,1),new Un(3,1,1,1),new Un(1,1,1,1),new Un(3,0,1,1),new Un(1,0,1,1)],this._cubeDirections=[new ue(1,0,0),new ue(-1,0,0),new ue(0,0,1),new ue(0,0,-1),new ue(0,1,0),new ue(0,-1,0)],this._cubeUps=[new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,0,1),new ue(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Wh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Wh),aS.copy(r.position),aS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(aS),r.updateMatrixWorld(),i.makeTranslation(-Wh.x,-Wh.y,-Wh.z),yI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yI)}}class I4 extends mu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Woe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class joe extends lT{constructor(){super(new qm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class L4 extends mu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.target=new kn,this.shadow=new joe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class k4 extends mu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class N4 extends mu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class O4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ue)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class kx extends mu{constructor(e=new O4,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Nx extends go{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new ba(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(l){try{n(o.parse(JSON.parse(l)))}catch(a){i?i(a):console.error(a),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=Nx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new yt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new yt().setHex(s.value);break;case"v2":i.uniforms[o].value=new it().fromArray(s.value);break;case"v3":i.uniforms[o].value=new ue().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Un().fromArray(s.value);break;case"m3":i.uniforms[o].value=new tn().fromArray(s.value);break;case"m4":i.uniforms[o].value=new Xt().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new it().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:g4,SpriteMaterial:$2,RawShaderMaterial:v4,ShaderMaterial:ls,PointsMaterial:X2,MeshPhysicalMaterial:y4,MeshStandardMaterial:nT,MeshPhongMaterial:x4,MeshToonMaterial:nd,MeshNormalMaterial:b4,MeshLambertMaterial:_4,MeshDepthMaterial:Ex,MeshDistanceMaterial:Mx,MeshBasicMaterial:_a,MeshMatcapMaterial:S4,LineDashedMaterial:w4,LineBasicMaterial:Ji,Material:_i};return new n[e]}}class PE{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class uT extends nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class F4 extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ba(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(l){try{n(o.parse(JSON.parse(l)))}catch(a){i?i(a):console.error(a),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,m){if(n[m]!==void 0)return n[m];const x=h.interleavedBuffers[m],v=o(h,x.buffer),_=Jf(x.type,v),b=new Cx(_,x.stride);return b.uuid=x.uuid,n[m]=b,b}function o(h,m){if(r[m]!==void 0)return r[m];const x=h.arrayBuffers[m],v=new Uint32Array(x).buffer;return r[m]=v,v}const s=e.isInstancedBufferGeometry?new uT:new nn,l=e.data.index;if(l!==void 0){const h=Jf(l.type,l.array);s.setIndex(new er(h,1))}const a=e.data.attributes;for(const h in a){const m=a[h];let y;if(m.isInterleavedBufferAttribute){const x=i(e.data,m.data);y=new wc(x,m.itemSize,m.offset,m.normalized)}else{const x=Jf(m.type,m.array),v=m.isInstancedBufferAttribute?Ec:er;y=new v(x,m.itemSize,m.normalized)}m.name!==void 0&&(y.name=m.name),m.usage!==void 0&&y.setUsage(m.usage),m.updateRange!==void 0&&(y.updateRange.offset=m.updateRange.offset,y.updateRange.count=m.updateRange.count),s.setAttribute(h,y)}const u=e.data.morphAttributes;if(u)for(const h in u){const m=u[h],y=[];for(let x=0,v=m.length;x<v;x++){const _=m[x];let b;if(_.isInterleavedBufferAttribute){const S=i(e.data,_.data);b=new wc(S,_.itemSize,_.offset,_.normalized)}else{const S=Jf(_.type,_.array);b=new er(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),y.push(b)}s.morphAttributes[h]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,m=f.length;h!==m;++h){const y=f[h];s.addGroup(y.start,y.count,y.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const h=new ue;d.center!==void 0&&h.fromArray(d.center),s.boundingSphere=new fs(h,d.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class $oe extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?PE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new ba(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(a){let u=null;try{u=JSON.parse(a)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?PE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new ba(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),l=JSON.parse(s),a=l.metadata;if(a===void 0||a.type===void 0||a.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(u)}),l=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,o,a,l,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const d in s)if(s[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,l,s,n),u=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,u),a}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new dc().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const l=new Rx().fromJSON(e[o],i);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new F4;for(let o=0,s=e.length;o<s;o++){let l;const a=e[o];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(a);break;default:a.type in mI?l=mI[a.type].fromJSON(a,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.userData!==void 0&&(l.userData=a.userData),r[a.uuid]=l}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new Nx;o.setTextures(n);for(let s=0,l=e.length;s<l;s++){const a=e[s];r[a.uuid]===void 0&&(r[a.uuid]=o.parse(a)),i[a.uuid]=r[a.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Em.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(a){return r.manager.itemStart(a),o.load(a,function(){r.manager.itemEnd(a)},void 0,function(){r.manager.itemError(a),r.manager.itemEnd(a)})}function l(a){if(typeof a=="string"){const u=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return s(c)}else return a.data?{data:Jf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){const a=new aT(n);o=new Mm(a),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const h=[];for(let m=0,y=d.length;m<y;m++){const x=d[m],v=l(x);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new vd(v.data,v.width,v.height)))}i[f.uuid]=new ic(h)}else{const h=l(f.url);i[f.uuid]=new ic(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const l=s,a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await i.loadAsync(a)}else return s.data?{data:Jf(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Mm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const a=e[s],u=a.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const h=u[f],m=await o(h);m!==null&&(m instanceof HTMLImageElement?c.push(m):c.push(new vd(m.data,m.width,m.height)))}r[a.uuid]=new ic(c)}else{const c=await o(a.url);r[a.uuid]=new ic(c)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const l=e[o];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const a=n[l.image],u=a.data;let c;Array.isArray(u)?(c=new $m,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new vd:c=new wr,u&&(c.needsUpdate=!0)),c.source=a,c.uuid=l.uuid,l.name!==void 0&&(c.name=l.name),l.mapping!==void 0&&(c.mapping=r(l.mapping,qoe)),l.channel!==void 0&&(c.channel=l.channel),l.offset!==void 0&&c.offset.fromArray(l.offset),l.repeat!==void 0&&c.repeat.fromArray(l.repeat),l.center!==void 0&&c.center.fromArray(l.center),l.rotation!==void 0&&(c.rotation=l.rotation),l.wrap!==void 0&&(c.wrapS=r(l.wrap[0],xI),c.wrapT=r(l.wrap[1],xI)),l.format!==void 0&&(c.format=l.format),l.internalFormat!==void 0&&(c.internalFormat=l.internalFormat),l.type!==void 0&&(c.type=l.type),l.colorSpace!==void 0&&(c.colorSpace=l.colorSpace),l.encoding!==void 0&&(c.encoding=l.encoding),l.minFilter!==void 0&&(c.minFilter=r(l.minFilter,bI)),l.magFilter!==void 0&&(c.magFilter=r(l.magFilter,bI)),l.anisotropy!==void 0&&(c.anisotropy=l.anisotropy),l.flipY!==void 0&&(c.flipY=l.flipY),l.generateMipmaps!==void 0&&(c.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(c.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(c.compareFunction=l.compareFunction),l.userData!==void 0&&(c.userData=l.userData),i[l.uuid]=c}return i}parseObject(e,n,r,i,o){let s;function l(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function a(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let m=0,y=d.length;m<y;m++){const x=d[m];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),h.push(r[x])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":s=new Wy,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new yt(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Ax(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Tx(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new fi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new qm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new k4(e.color,e.intensity);break;case"DirectionalLight":s=new L4(e.color,e.intensity);break;case"PointLight":s=new I4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new N4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new P4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new R4(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new kx().fromJSON(e);break;case"SkinnedMesh":c=l(e.geometry),f=a(e.material),s=new n4(c,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=l(e.geometry),f=a(e.material),s=new mr(c,f);break;case"InstancedMesh":c=l(e.geometry),f=a(e.material);const d=e.count,h=e.instanceMatrix,m=e.instanceColor;s=new r4(c,f,d),s.instanceMatrix=new Ec(new Float32Array(h.array),16),m!==void 0&&(s.instanceColor=new Ec(new Float32Array(m.array),m.itemSize));break;case"LOD":s=new t4;break;case"Line":s=new ou(l(e.geometry),a(e.material));break;case"LineLoop":s=new i4(l(e.geometry),a(e.material));break;case"LineSegments":s=new wa(l(e.geometry),a(e.material));break;case"PointCloud":case"Points":s=new o4(l(e.geometry),a(e.material));break;case"Sprite":s=new e4(a(e.material));break;case"Group":s=new ed;break;case"Bone":s=new q2;break;default:s=new kn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)s.add(this.parseObject(d[h],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const m=d[h];s.animations.push(o[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const m=d[h],y=s.getObjectByProperty("uuid",m.object);y!==void 0&&s.addLevel(y,m.distance,m.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const qoe={UVMapping:vx,CubeReflectionMapping:nu,CubeRefractionMapping:ru,EquirectangularReflectionMapping:lm,EquirectangularRefractionMapping:um,CubeUVReflectionMapping:qd},xI={RepeatWrapping:cm,ClampToEdgeWrapping:Oi,MirroredRepeatWrapping:fm},bI={NearestFilter:Br,NearestMipmapNearestFilter:Gy,NearestMipmapLinearFilter:Ap,LinearFilter:br,LinearMipmapNearestFilter:C2,LinearMipmapLinearFilter:iu};class Xoe extends go{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Tc.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(a){Tc.add(e,a),n&&n(a),o.manager.itemEnd(e)}).catch(function(a){i&&i(a),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let Z0,cT=class{static getContext(){return Z0===void 0&&(Z0=new(window.AudioContext||window.webkitAudioContext)),Z0}static setContext(e){Z0=e}};class Yoe extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ba(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const u=a.slice(0);cT.getContext().decodeAudioData(u,function(f){n(f)},l)}catch(u){l(u)}},r,i);function l(a){i?i(a):console.error(a),o.manager.itemError(e)}}}class Koe extends kx{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new yt().set(e),o=new yt().set(n),s=new ue(i.r,i.g,i.b),l=new ue(o.r,o.g,o.b),a=Math.sqrt(Math.PI),u=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(l).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(l).multiplyScalar(u)}}class Qoe extends kx{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new yt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _I=new Xt,SI=new Xt,ku=new Xt;class Joe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,ku.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(cc*n.fov*.5)/n.zoom;let l,a;SI.elements[12]=-i,_I.elements[12]=i,l=-s*n.aspect+o,a=s*n.aspect+o,ku.elements[0]=2*n.near/(a-l),ku.elements[8]=(a+l)/(a-l),this.cameraL.projectionMatrix.copy(ku),l=-s*n.aspect-o,a=s*n.aspect-o,ku.elements[0]=2*n.near/(a-l),ku.elements[8]=(a+l)/(a-l),this.cameraR.projectionMatrix.copy(ku)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(SI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_I)}}class fT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=wI();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function wI(){return(typeof performance>"u"?Date:performance).now()}const Nu=new ue,EI=new ho,Zoe=new ue,Ou=new ue;class ese extends kn{constructor(){super(),this.type="AudioListener",this.context=cT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new fT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nu,EI,Zoe),Ou.set(0,0,-1).applyQuaternion(EI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Nu.x,i),n.positionY.linearRampToValueAtTime(Nu.y,i),n.positionZ.linearRampToValueAtTime(Nu.z,i),n.forwardX.linearRampToValueAtTime(Ou.x,i),n.forwardY.linearRampToValueAtTime(Ou.y,i),n.forwardZ.linearRampToValueAtTime(Ou.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Nu.x,Nu.y,Nu.z),n.setOrientation(Ou.x,Ou.y,Ou.z,r.x,r.y,r.z)}}let D4=class extends kn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Fu=new ue,MI=new ho,tse=new ue,Du=new ue;class nse extends D4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fu,MI,tse),Du.set(0,0,1).applyQuaternion(MI);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Fu.x,r),n.positionY.linearRampToValueAtTime(Fu.y,r),n.positionZ.linearRampToValueAtTime(Fu.z,r),n.orientationX.linearRampToValueAtTime(Du.x,r),n.orientationY.linearRampToValueAtTime(Du.y,r),n.orientationZ.linearRampToValueAtTime(Du.z,r)}else n.setPosition(Fu.x,Fu.y,Fu.z),n.setOrientation(Du.x,Du.y,Du.z)}}class rse{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class U4{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==i;++l)r[o+l]=r[l];s=n}else{s+=n;const l=n/s;this._mixBufferRegion(r,o,0,l,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const a=n*this._origIndex;this._mixBufferRegion(r,i,a,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let a=n,u=n+n;a!==u;++a)if(r[a]!==r[a+n]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){ho.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;ho.multiplyQuaternionsFlat(e,s,e,n,e,r),ho.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let l=0;l!==o;++l){const a=n+l;e[a]=e[a]*s+e[r+l]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]+e[r+s]*i}}}const dT="\\[\\]\\.:\\/",ise=new RegExp("["+dT+"]","g"),hT="[^"+dT+"]",ose="[^"+dT.replace("\\.","")+"]",sse=/((?:WC+[\/:])*)/.source.replace("WC",hT),ase=/(WCOD+)?/.source.replace("WCOD",ose),lse=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hT),use=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hT),cse=new RegExp("^"+sse+ase+lse+use+"$"),fse=["material","materials","bones","map"];class dse{constructor(e,n,r){const i=r||An.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class An{constructor(e,n,r){this.path=n,this.parsedPath=r||An.parseTrackName(n),this.node=An.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new An.Composite(e,n,r):new An(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ise,"")}static parseTrackName(e){const n=cse.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);fse.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const l=o[s];if(l.name===n||l.uuid===n)return l;const a=r(l.children);if(a)return a}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=An.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}An.Composite=dse;An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray];An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class hse{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ko(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let l,a=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],h=d.uuid;let m=n[h];if(m===void 0){m=a++,n[h]=m,e.push(d);for(let y=0,x=s;y!==x;++y)o[y].push(new An(d,r[y],i[y]))}else if(m<u){l=e[m];const y=--u,x=e[y];n[x.uuid]=m,e[m]=x,n[h]=y,e[y]=d;for(let v=0,_=s;v!==_;++v){const b=o[v],S=b[y];let E=b[m];b[m]=S,E===void 0&&(E=new An(d,r[v],i[v])),b[y]=E}}else e[m]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const a=arguments[s],u=a.uuid,c=n[u];if(c!==void 0&&c>=o){const f=o++,d=e[f];n[d.uuid]=c,e[c]=d,n[u]=f,e[f]=a;for(let h=0,m=i;h!==m;++h){const y=r[h],x=y[f],v=y[c];y[c]=x,y[f]=v}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let l=0,a=arguments.length;l!==a;++l){const u=arguments[l],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<o){const d=--o,h=e[d],m=--s,y=e[m];n[h.uuid]=f,e[f]=h,n[y.uuid]=d,e[d]=y,e.pop();for(let x=0,v=i;x!==v;++x){const _=r[x],b=_[d],S=_[m];_[f]=b,_[d]=S,_.pop()}}else{const d=--s,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let m=0,y=i;m!==y;++m){const x=r[m];x[f]=x[d],x.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,l=this._parsedPaths,a=this._objects,u=a.length,c=this.nCachedObjects_,f=new Array(u);i=o.length,r[e]=i,s.push(e),l.push(n),o.push(f);for(let d=c,h=a.length;d!==h;++d){const m=a[d];f[d]=new An(m,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length-1,a=s[l],u=e[l];n[u]=r,s[r]=a,s.pop(),o[r]=o[l],o.pop(),i[r]=i[l],i.pop()}}}class B4{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,l=new Array(s),a={endingStart:nc,endingEnd:nc};for(let u=0;u!==s;++u){const c=o[u].createInterpolant(null);l[u]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,l=i/o;e.warp(1,s,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const a=l.parameterPositions,u=l.sampleValues;return a[0]=o,a[1]=o+r,u[0]=e/s,u[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const a=(e-o)*r;a<0||r===0?n=0:(this._startTime=null,n=r*a)}n*=this._updateTimeScale(e);const s=this._updateTime(n),l=this._updateWeight(e);if(l>0){const a=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case O2:for(let c=0,f=a.length;c!==f;++c)a[c].evaluate(s),u[c].accumulateAdditive(l);break;case xx:default:for(let c=0,f=a.length;c!==f;++c)a[c].evaluate(s),u[c].accumulate(i,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===TU;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===EU){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const l=Math.floor(i/n);i-=n*l,o+=Math.abs(l);const a=this.repetitions-o;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=rc,i.endingEnd=rc):(e?i.endingStart=this.zeroSlopeAtStart?rc:nc:i.endingStart=pm,n?i.endingEnd=this.zeroSlopeAtEnd?rc:nc:i.endingEnd=pm)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,a=s.sampleValues;return l[0]=o,a[0]=n,l[1]=o+e,a[1]=r,this}}const pse=new Float32Array(1);class mse extends sl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,l=e._interpolants,a=r.uuid,u=this._bindingsByRootAndName;let c=u[a];c===void 0&&(c={},u[a]=c);for(let f=0;f!==o;++f){const d=i[f],h=d.name;let m=c[h];if(m!==void 0)++m.referenceCount,s[f]=m;else{if(m=s[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,a,h));continue}const y=n&&n._propertyBindings[f].binding.parsedPath;m=new U4(An.create(r,h,y),d.ValueTypeName,d.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,a,h),s[f]=m}l[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,l=s[o],a=l.knownActions,u=a[a.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,a[c]=u,a.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],a.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,l=s[i],a=n[n.length-1],u=e._cacheIndex;a._cacheIndex=u,n[u]=a,n.pop(),delete l[o],Object.keys(l).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new oT(new Float32Array(2),new Float32Array(2),1,pse),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?Em.findByName(i,e):e;const l=s!==null?s.uuid:e,a=this._actionsByClip[l];let u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=xx),a!==void 0){const f=a.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;u=a.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new B4(this,s,n,r);return this._bindAction(c,u),this._addInactiveAction(c,l,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?Em.findByName(r,e):e,s=o?o.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,s);const l=this._bindings,a=this._nActiveBindings;for(let u=0;u!==a;++u)l[u].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let l=0,a=s.length;l!==a;++l){const u=s[l];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const l=r[s].actionByRoot,a=l[n];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const l=o[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class pT{constructor(e){this.value=e}clone(){return new pT(this.value.clone===void 0?this.value:this.value.clone())}}let gse=0;class vse extends sl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:gse++}),this.name="",this.usage=mm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class yse extends Cx{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class xse{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class z4{constructor(e,n,r=0,i=1/0){this.ray=new Xd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new fc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return IE(e,this,r,n),r.sort(TI),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)IE(e[i],this,r,n);return r.sort(TI),r}}function TI(t,e){return t.distance-e.distance}function IE(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,s=i.length;o<s;o++)IE(i[o],e,n,!0)}}class G4{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Lr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class bse{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const AI=new it;class _se{constructor(e=new it(1/0,1/0),n=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=AI.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,AI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const CI=new ue,ev=new ue;class Sse{constructor(e=new ue,n=new ue){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){CI.subVectors(e,this.start),ev.subVectors(this.end,this.start);const r=ev.dot(ev);let o=ev.dot(CI)/r;return n&&(o=Lr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const RI=new ue;class wse extends kn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,a=32;s<a;s++,l++){const u=s/a*Math.PI*2,c=l/a*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Ct(i,3));const o=new Ji({fog:!1,toneMapped:!1});this.cone=new wa(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),RI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(RI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ml=new ue,tv=new Xt,lS=new Xt;class Ese extends wa{constructor(e){const n=H4(e),r=new nn,i=[],o=[],s=new yt(0,0,1),l=new yt(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(l.r,l.g,l.b))}r.setAttribute("position",new Ct(i,3)),r.setAttribute("color",new Ct(o,3));const a=new Ji({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");lS.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const l=n[o];l.parent&&l.parent.isBone&&(tv.multiplyMatrices(lS,l.matrixWorld),Ml.setFromMatrixPosition(tv),i.setXYZ(s,Ml.x,Ml.y,Ml.z),tv.multiplyMatrices(lS,l.parent.matrixWorld),Ml.setFromMatrixPosition(tv),i.setXYZ(s+1,Ml.x,Ml.y,Ml.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function H4(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,H4(t.children[n]));return e}class Mse extends mr{constructor(e,n,r){const i=new Zd(n,4,2),o=new _a({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Tse=new ue,PI=new yt,II=new yt;class Ase extends kn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Jd(n);i.rotateY(Math.PI*.5),this.material=new _a({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new er(s,3)),this.add(new mr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");PI.copy(this.light.color),II.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?PI:II;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Tse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Cse extends wa{constructor(e=10,n=10,r=4473924,i=8947848){r=new yt(r),i=new yt(i);const o=n/2,s=e/n,l=e/2,a=[],u=[];for(let d=0,h=0,m=-l;d<=n;d++,m+=s){a.push(-l,0,m,l,0,m),a.push(m,0,-l,m,0,l);const y=d===o?r:i;y.toArray(u,h),h+=3,y.toArray(u,h),h+=3,y.toArray(u,h),h+=3,y.toArray(u,h),h+=3}const c=new nn;c.setAttribute("position",new Ct(a,3)),c.setAttribute("color",new Ct(u,3));const f=new Ji({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rse extends wa{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new yt(o),s=new yt(s);const l=[],a=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,m=Math.cos(d)*e;l.push(0,0,0),l.push(h,0,m);const y=f&1?o:s;a.push(y.r,y.g,y.b),a.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const d=f&1?o:s,h=e-e/r*f;for(let m=0;m<i;m++){let y=m/i*(Math.PI*2),x=Math.sin(y)*h,v=Math.cos(y)*h;l.push(x,0,v),a.push(d.r,d.g,d.b),y=(m+1)/i*(Math.PI*2),x=Math.sin(y)*h,v=Math.cos(y)*h,l.push(x,0,v),a.push(d.r,d.g,d.b)}}const u=new nn;u.setAttribute("position",new Ct(l,3)),u.setAttribute("color",new Ct(a,3));const c=new Ji({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const LI=new ue,nv=new ue,kI=new ue;class Pse extends kn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new nn;i.setAttribute("position",new Ct([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ji({fog:!1,toneMapped:!1});this.lightPlane=new ou(i,o),this.add(this.lightPlane),i=new nn,i.setAttribute("position",new Ct([0,0,0,0,0,1],3)),this.targetLine=new ou(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),LI.setFromMatrixPosition(this.light.matrixWorld),nv.setFromMatrixPosition(this.light.target.matrixWorld),kI.subVectors(nv,LI),this.lightPlane.lookAt(nv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nv),this.targetLine.scale.z=kI.length()}}const rv=new ue,Ar=new jm;class Ise extends wa{constructor(e){const n=new nn,r=new Ji({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(m,y){a(m),a(y)}function a(m){i.push(0,0,0),o.push(0,0,0),s[m]===void 0&&(s[m]=[]),s[m].push(i.length/3-1)}n.setAttribute("position",new Ct(i,3)),n.setAttribute("color",new Ct(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new yt(16755200),c=new yt(16711680),f=new yt(43775),d=new yt(16777215),h=new yt(3355443);this.setColors(u,c,f,d,h)}setColors(e,n,r,i,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Ar.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ur("c",n,e,Ar,0,0,-1),Ur("t",n,e,Ar,0,0,1),Ur("n1",n,e,Ar,-r,-i,-1),Ur("n2",n,e,Ar,r,-i,-1),Ur("n3",n,e,Ar,-r,i,-1),Ur("n4",n,e,Ar,r,i,-1),Ur("f1",n,e,Ar,-r,-i,1),Ur("f2",n,e,Ar,r,-i,1),Ur("f3",n,e,Ar,-r,i,1),Ur("f4",n,e,Ar,r,i,1),Ur("u1",n,e,Ar,r*.7,i*1.1,-1),Ur("u2",n,e,Ar,-r*.7,i*1.1,-1),Ur("u3",n,e,Ar,0,i*2,-1),Ur("cf1",n,e,Ar,-r,0,1),Ur("cf2",n,e,Ar,r,0,1),Ur("cf3",n,e,Ar,0,-i,1),Ur("cf4",n,e,Ar,0,i,1),Ur("cn1",n,e,Ar,-r,0,-1),Ur("cn2",n,e,Ar,r,0,-1),Ur("cn3",n,e,Ar,0,-i,-1),Ur("cn4",n,e,Ar,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ur(t,e,n,r,i,o,s){rv.set(i,o,s).unproject(r);const l=e[t];if(l!==void 0){const a=n.getAttribute("position");for(let u=0,c=l.length;u<c;u++)a.setXYZ(l[u],rv.x,rv.y,rv.z)}}const iv=new Gs;class Lse extends wa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new nn;o.setIndex(new er(r,1)),o.setAttribute("position",new er(i,3)),super(o,new Ji({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&iv.setFromObject(this.object),iv.isEmpty())return;const n=iv.min,r=iv.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kse extends wa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new nn;o.setIndex(new er(r,1)),o.setAttribute("position",new Ct(i,3)),super(o,new Ji({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nse extends ou{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new nn;s.setAttribute("position",new Ct(o,3)),s.computeBoundingSphere(),super(s,new Ji({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new nn;a.setAttribute("position",new Ct(l,3)),a.computeBoundingSphere(),this.add(new mr(a,new _a({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const NI=new ue;let ov,uS;class Ose extends kn{constructor(e=new ue(0,0,1),n=new ue(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",ov===void 0&&(ov=new nn,ov.setAttribute("position",new Ct([0,0,0,0,1,0],3)),uS=new kc(0,.5,1,5,1),uS.translate(0,-.5,0)),this.position.copy(n),this.line=new ou(ov,new Ji({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new mr(uS,new _a({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{NI.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(NI,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Fse extends wa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new nn;i.setAttribute("position",new Ct(n,3)),i.setAttribute("color",new Ct(r,3));const o=new Ji({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new yt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class V4{constructor(){this.type="ShapePath",this.color=new yt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ym,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const _=[];for(let b=0,S=v.length;b<S;b++){const E=v[b],M=new dc;M.curves=E.curves,_.push(M)}return _}function r(v,_){const b=_.length;let S=!1;for(let E=b-1,M=0;M<b;E=M++){let T=_[E],R=_[M],C=R.x-T.x,P=R.y-T.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(T=_[M],C=-C,R=_[E],P=-P),v.y<T.y||v.y>R.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const D=P*(v.x-T.x)-C*(v.y-T.y);if(D===0)return!0;if(D<0)continue;S=!S}}else{if(v.y!==T.y)continue;if(R.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=R.x)return!0}}return S}const i=ga.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,l,a;const u=[];if(o.length===1)return l=o[0],a=new dc,a.curves=l.curves,u.push(a),u;let c=!i(o[0].getPoints());c=e?!c:c;const f=[],d=[];let h=[],m=0,y;d[m]=void 0,h[m]=[];for(let v=0,_=o.length;v<_;v++)l=o[v],y=l.getPoints(),s=i(y),s=e?!s:s,s?(!c&&d[m]&&m++,d[m]={s:new dc,p:y},d[m].s.curves=l.curves,c&&m++,h[m]=[]):h[m].push({h:l,p:y[0]});if(!d[0])return n(o);if(d.length>1){let v=!1,_=0;for(let b=0,S=d.length;b<S;b++)f[b]=[];for(let b=0,S=d.length;b<S;b++){const E=h[b];for(let M=0;M<E.length;M++){const T=E[M];let R=!0;for(let C=0;C<d.length;C++)r(T.p,d[C].p)&&(b!==C&&_++,R?(R=!1,f[C].push(T)):v=!0);R&&f[b].push(T)}}_>0&&v===!1&&(h=f)}let x;for(let v=0,_=d.length;v<_;v++){a=d[v].s,u.push(a),x=h[v];for(let b=0,S=x.length;b<S;b++)a.holes.push(x[b].h)}return u}}class Dse extends Sa{constructor(e,n,r,i,o,s){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,o,s)}}class Use extends Xm{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class Bse extends Ym{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class zse extends Km{constructor(e,n,r,i,o,s,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,o,s,l)}}class Gse extends kc{constructor(e,n,r,i,o,s,l,a){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,o,s,l,a)}}class Hse extends Qm{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class Vse extends Qd{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class Wse extends Jm{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class jse extends Kd{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class $se extends Jd{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class qse extends al{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class Xse extends ll{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class Yse extends Zm{constructor(e,n,r,i,o,s){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,o,s)}}class Kse extends eg{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class Qse extends Zd{constructor(e,n,r,i,o,s,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,o,s,l)}}class Jse extends tg{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class Zse extends ng{constructor(e,n,r,i,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,o)}}class eae extends rg{constructor(e,n,r,i,o,s){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,o,s)}}class tae extends ig{constructor(e,n,r,i,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,o)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mx);const nae=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:A2,AddEquation:Xu,AddOperation:cU,AdditiveAnimationBlendMode:O2,AdditiveBlending:By,AlphaFormat:vU,AlwaysCompare:DU,AlwaysDepth:rU,AlwaysStencilFunc:RU,AmbientLight:k4,AmbientLightProbe:Qoe,AnimationAction:B4,AnimationClip:Em,AnimationLoader:Uoe,AnimationMixer:mse,AnimationObjectGroup:hse,AnimationUtils:Noe,ArcCurve:s4,ArrayCamera:KU,ArrowHelper:Ose,Audio:D4,AudioAnalyser:rse,AudioContext:cT,AudioListener:ese,AudioLoader:Yoe,AxesHelper:Fse,BackSide:xi,BasicDepthPacking:AU,BasicShadowMap:VD,Bone:q2,BooleanKeyframeTrack:Nc,Box2:_se,Box3:Gs,Box3Helper:kse,BoxBufferGeometry:Dse,BoxGeometry:Sa,BoxHelper:Lse,BufferAttribute:er,BufferGeometry:nn,BufferGeometryLoader:F4,ByteType:mU,Cache:Tc,Camera:jm,CameraHelper:Ise,CanvasTexture:ioe,CapsuleBufferGeometry:Use,CapsuleGeometry:Xm,CatmullRomCurve3:a4,CineonToneMapping:hU,CircleBufferGeometry:Bse,CircleGeometry:Ym,ClampToEdgeWrapping:Oi,Clock:fT,Color:yt,ColorKeyframeTrack:sT,ColorManagement:Yo,CompressedArrayTexture:roe,CompressedTexture:Y2,CompressedTextureLoader:Boe,ConeBufferGeometry:zse,ConeGeometry:Km,CubeCamera:HU,CubeReflectionMapping:nu,CubeRefractionMapping:ru,CubeTexture:$m,CubeTextureLoader:zoe,CubeUVReflectionMapping:qd,CubicBezierCurve:Q2,CubicBezierCurve3:l4,CubicInterpolant:M4,CullFaceBack:Xw,CullFaceFront:HD,CullFaceFrontBack:eZ,CullFaceNone:GD,Curve:Hs,CurvePath:c4,CustomBlending:WD,CustomToneMapping:pU,CylinderBufferGeometry:Gse,CylinderGeometry:kc,Cylindrical:bse,Data3DTexture:G2,DataArrayTexture:bx,DataTexture:vd,DataTextureLoader:Goe,DataUtils:hee,DecrementStencilOp:dZ,DecrementWrapStencilOp:pZ,DefaultLoadingManager:C4,DepthFormat:Xl,DepthStencilFormat:Sc,DepthTexture:QU,DirectionalLight:L4,DirectionalLightHelper:Pse,DiscreteInterpolant:T4,DisplayP3ColorSpace:U2,DodecahedronBufferGeometry:Hse,DodecahedronGeometry:Qm,DoubleSide:Ao,DstAlphaFactor:QD,DstColorFactor:ZD,DynamicCopyUsage:RZ,DynamicDrawUsage:wZ,DynamicReadUsage:TZ,EdgesGeometry:f4,EllipseCurve:Px,EqualCompare:LU,EqualDepth:oU,EqualStencilFunc:yZ,EquirectangularReflectionMapping:lm,EquirectangularRefractionMapping:um,Euler:Wm,EventDispatcher:sl,ExtrudeBufferGeometry:Vse,ExtrudeGeometry:Qd,FileLoader:ba,Float16BufferAttribute:xee,Float32BufferAttribute:Ct,Float64BufferAttribute:bee,FloatType:la,Fog:Ax,FogExp2:Tx,FramebufferTexture:noe,FrontSide:xa,Frustum:Sx,GLBufferAttribute:xse,GLSL1:IZ,GLSL3:SE,GreaterCompare:NU,GreaterDepth:aU,GreaterEqualCompare:FU,GreaterEqualDepth:sU,GreaterEqualStencilFunc:SZ,GreaterStencilFunc:bZ,GridHelper:Cse,Group:ed,HalfFloatType:Pd,HemisphereLight:R4,HemisphereLightHelper:Ase,HemisphereLightProbe:Koe,IcosahedronBufferGeometry:Wse,IcosahedronGeometry:Jm,ImageBitmapLoader:Xoe,ImageLoader:Mm,ImageUtils:z2,IncrementStencilOp:fZ,IncrementWrapStencilOp:hZ,InstancedBufferAttribute:Ec,InstancedBufferGeometry:uT,InstancedInterleavedBuffer:yse,InstancedMesh:r4,Int16BufferAttribute:vee,Int32BufferAttribute:yee,Int8BufferAttribute:pee,IntType:R2,InterleavedBuffer:Cx,InterleavedBufferAttribute:wc,Interpolant:og,InterpolateDiscrete:dm,InterpolateLinear:hm,InterpolateSmooth:Uv,InvertStencilOp:mZ,KeepStencilOp:Bv,KeyframeTrack:Vs,LOD:t4,LatheBufferGeometry:jse,LatheGeometry:Kd,Layers:fc,LessCompare:IU,LessDepth:iU,LessEqualCompare:kU,LessEqualDepth:zy,LessEqualStencilFunc:xZ,LessStencilFunc:vZ,Light:mu,LightProbe:kx,Line:ou,Line3:Sse,LineBasicMaterial:Ji,LineCurve:Ix,LineCurve3:u4,LineDashedMaterial:w4,LineLoop:i4,LineSegments:wa,LinearEncoding:F2,LinearFilter:br,LinearInterpolant:oT,LinearMipMapLinearFilter:oZ,LinearMipMapNearestFilter:iZ,LinearMipmapLinearFilter:iu,LinearMipmapNearestFilter:C2,LinearSRGBColorSpace:Us,LinearToneMapping:fU,Loader:go,LoaderUtils:PE,LoadingManager:aT,LoopOnce:EU,LoopPingPong:TU,LoopRepeat:MU,LuminanceAlphaFormat:xU,LuminanceFormat:yU,MOUSE:JJ,Material:_i,MaterialLoader:Nx,MathUtils:jZ,Matrix3:tn,Matrix4:Xt,MaxEquation:Jw,Mesh:mr,MeshBasicMaterial:_a,MeshDepthMaterial:Ex,MeshDistanceMaterial:Mx,MeshLambertMaterial:_4,MeshMatcapMaterial:S4,MeshNormalMaterial:b4,MeshPhongMaterial:x4,MeshPhysicalMaterial:y4,MeshStandardMaterial:nT,MeshToonMaterial:nd,MinEquation:Qw,MirroredRepeatWrapping:fm,MixOperation:uU,MultiplyBlending:Kw,MultiplyOperation:Vm,NearestFilter:Br,NearestMipMapLinearFilter:rZ,NearestMipMapNearestFilter:nZ,NearestMipmapLinearFilter:Ap,NearestMipmapNearestFilter:Gy,NeverCompare:PU,NeverDepth:nU,NeverStencilFunc:gZ,NoBlending:Xa,NoColorSpace:Kl,NoToneMapping:Fs,NormalAnimationBlendMode:xx,NormalBlending:uc,NotEqualCompare:OU,NotEqualDepth:lU,NotEqualStencilFunc:_Z,NumberKeyframeTrack:Sm,Object3D:kn,ObjectLoader:$oe,ObjectSpaceNormalMap:CU,OctahedronBufferGeometry:$se,OctahedronGeometry:Jd,OneFactor:XD,OneMinusDstAlphaFactor:JD,OneMinusDstColorFactor:eU,OneMinusSrcAlphaFactor:T2,OneMinusSrcColorFactor:KD,OrthographicCamera:qm,PCFShadowMap:gx,PCFSoftShadowMap:Tp,PMREMGenerator:EE,Path:ym,PerspectiveCamera:fi,Plane:Ha,PlaneBufferGeometry:qse,PlaneGeometry:al,PlaneHelper:Nse,PointLight:I4,PointLightHelper:Mse,Points:o4,PointsMaterial:X2,PolarGridHelper:Rse,PolyhedronBufferGeometry:Xse,PolyhedronGeometry:ll,PositionalAudio:nse,PropertyBinding:An,PropertyMixer:U4,QuadraticBezierCurve:J2,QuadraticBezierCurve3:Z2,Quaternion:ho,QuaternionKeyframeTrack:eh,QuaternionLinearInterpolant:A4,RED_GREEN_RGTC2_Format:bE,RED_RGTC1_Format:wU,REVISION:mx,RGBADepthPacking:D2,RGBAFormat:ao,RGBAIntegerFormat:N2,RGBA_ASTC_10x10_Format:gE,RGBA_ASTC_10x5_Format:hE,RGBA_ASTC_10x6_Format:pE,RGBA_ASTC_10x8_Format:mE,RGBA_ASTC_12x10_Format:vE,RGBA_ASTC_12x12_Format:yE,RGBA_ASTC_4x4_Format:oE,RGBA_ASTC_5x4_Format:sE,RGBA_ASTC_5x5_Format:aE,RGBA_ASTC_6x5_Format:lE,RGBA_ASTC_6x6_Format:uE,RGBA_ASTC_8x5_Format:cE,RGBA_ASTC_8x6_Format:fE,RGBA_ASTC_8x8_Format:dE,RGBA_BPTC_Format:Dv,RGBA_ETC2_EAC_Format:iE,RGBA_PVRTC_2BPPV1_Format:nE,RGBA_PVRTC_4BPPV1_Format:tE,RGBA_S3TC_DXT1_Format:Nv,RGBA_S3TC_DXT3_Format:Ov,RGBA_S3TC_DXT5_Format:Fv,RGB_ETC1_Format:SU,RGB_ETC2_Format:rE,RGB_PVRTC_2BPPV1_Format:eE,RGB_PVRTC_4BPPV1_Format:Zw,RGB_S3TC_DXT1_Format:kv,RGFormat:_U,RGIntegerFormat:k2,RawShaderMaterial:v4,Ray:Xd,Raycaster:z4,RectAreaLight:N4,RedFormat:bU,RedIntegerFormat:L2,ReinhardToneMapping:dU,RepeatWrapping:cm,ReplaceStencilOp:cZ,ReverseSubtractEquation:$D,RingBufferGeometry:Yse,RingGeometry:Zm,SIGNED_RED_GREEN_RGTC2_Format:_E,SIGNED_RED_RGTC1_Format:xE,SRGBColorSpace:Qt,Scene:Wy,ShaderChunk:en,ShaderLib:Ls,ShaderMaterial:ls,ShadowMaterial:g4,Shape:dc,ShapeBufferGeometry:Kse,ShapeGeometry:eg,ShapePath:V4,ShapeUtils:ga,ShortType:gU,Skeleton:Rx,SkeletonHelper:Ese,SkinnedMesh:n4,Source:ic,Sphere:fs,SphereBufferGeometry:Qse,SphereGeometry:Zd,Spherical:G4,SphericalHarmonics3:O4,SplineCurve:eT,SpotLight:P4,SpotLightHelper:wse,Sprite:e4,SpriteMaterial:$2,SrcAlphaFactor:M2,SrcAlphaSaturateFactor:tU,SrcColorFactor:YD,StaticCopyUsage:CZ,StaticDrawUsage:mm,StaticReadUsage:MZ,StereoCamera:Joe,StreamCopyUsage:PZ,StreamDrawUsage:EZ,StreamReadUsage:AZ,StringKeyframeTrack:Oc,SubtractEquation:jD,SubtractiveBlending:Yw,TOUCH:ZJ,TangentSpaceNormalMap:pu,TetrahedronBufferGeometry:Jse,TetrahedronGeometry:tg,Texture:wr,TextureLoader:Hoe,TorusBufferGeometry:Zse,TorusGeometry:ng,TorusKnotBufferGeometry:eae,TorusKnotGeometry:rg,Triangle:so,TriangleFanDrawMode:lZ,TriangleStripDrawMode:aZ,TrianglesDrawMode:sZ,TubeBufferGeometry:tae,TubeGeometry:ig,TwoPassDoubleSide:tZ,UVMapping:vx,Uint16BufferAttribute:H2,Uint32BufferAttribute:V2,Uint8BufferAttribute:mee,Uint8ClampedBufferAttribute:gee,Uniform:pT,UniformsGroup:vse,UniformsLib:pt,UniformsUtils:_x,UnsignedByteType:ma,UnsignedInt248Type:ql,UnsignedIntType:$a,UnsignedShort4444Type:P2,UnsignedShort5551Type:I2,UnsignedShortType:yx,VSMShadowMap:As,Vector2:it,Vector3:ue,Vector4:Un,VectorKeyframeTrack:wm,VideoTexture:toe,WebGL1Renderer:JU,WebGL3DRenderTarget:nee,WebGLArrayRenderTarget:tee,WebGLCoordinateSystem:ua,WebGLCubeRenderTarget:VU,WebGLMultipleRenderTargets:ree,WebGLRenderTarget:Bs,WebGLRenderer:j2,WebGLUtils:YU,WebGPUCoordinateSystem:gm,WireframeGeometry:m4,WrapAroundEnding:pm,ZeroCurvatureEnding:nc,ZeroFactor:qD,ZeroSlopeEnding:rc,ZeroStencilOp:uZ,_SRGBAFormat:Hy,sRGBEncoding:Yl},Symbol.toStringTag,{value:"Module"}));var W4={exports:{}},Fc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Fc.ConcurrentRoot=1;Fc.ContinuousEventPriority=4;Fc.DefaultEventPriority=16;Fc.DiscreteEventPriority=1;Fc.IdleEventPriority=536870912;Fc.LegacyRoot=0;W4.exports=Fc;var rd=W4.exports;function rae(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function h(){const m=c(e);if(!f(d,m)){const y=d;u(d=m,y)}}return n.add(h),()=>n.delete(h)},a={setState:r,getState:i,subscribe:(u,c,f)=>c||f?o(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,a),a}const iae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),OI=iae?L.useEffect:L.useLayoutEffect;function oae(t){const e=typeof t=="function"?rae(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=L.useReducer(x=>x+1,0),s=e.getState(),l=L.useRef(s),a=L.useRef(r),u=L.useRef(i),c=L.useRef(!1),f=L.useRef();f.current===void 0&&(f.current=r(s));let d,h=!1;(l.current!==s||a.current!==r||u.current!==i||c.current)&&(d=r(s),h=!i(f.current,d)),OI(()=>{h&&(f.current=d),l.current=s,a.current=r,u.current=i,c.current=!1});const m=L.useRef(s);OI(()=>{const x=()=>{try{const _=e.getState(),b=a.current(_);u.current(f.current,b)||(l.current=_,f.current=b,o())}catch{c.current=!0,o()}},v=e.subscribe(x);return e.getState()!==m.current&&x(),v},[]);const y=h?d:f.current;return L.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var j4={exports:{}},cS={exports:{}},fS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function sae(){return FI||(FI=1,function(t){function e(O,F){var G=O.length;O.push(F);e:for(;0<G;){var $=G-1>>>1,W=O[$];if(0<i(W,F))O[$]=F,O[G]=W,G=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],G=O.pop();if(G!==F){O[0]=G;e:for(var $=0,W=O.length,oe=W>>>1;$<oe;){var j=2*($+1)-1,Y=O[j],K=j+1,fe=O[K];if(0>i(Y,G))K<W&&0>i(fe,Y)?(O[$]=fe,O[K]=G,$=K):(O[$]=Y,O[j]=G,$=j);else if(K<W&&0>i(fe,G))O[$]=fe,O[K]=G,$=K;else break e}}return F}function i(O,F){var G=O.sortIndex-F.sortIndex;return G!==0?G:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=O)r(u),F.sortIndex=F.expirationTime,e(a,F);else break;F=n(u)}}function S(O){if(y=!1,b(O),!m)if(n(a)!==null)m=!0,Z(E);else{var F=n(u);F!==null&&ne(S,F.startTime-O)}}function E(O,F){m=!1,y&&(y=!1,v(R),R=-1),h=!0;var G=d;try{for(b(F),f=n(a);f!==null&&(!(f.expirationTime>F)||O&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var W=$(f.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(a)&&r(a),b(F)}else r(a);f=n(a)}if(f!==null)var oe=!0;else{var j=n(u);j!==null&&ne(S,j.startTime-F),oe=!1}return oe}finally{f=null,d=G,h=!1}}var M=!1,T=null,R=-1,C=5,P=-1;function D(){return!(t.unstable_now()-P<C)}function z(){if(T!==null){var O=t.unstable_now();P=O;var F=!0;try{F=T(!0,O)}finally{F?V():(M=!1,T=null)}}else M=!1}var V;if(typeof _=="function")V=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=z,V=function(){q.postMessage(null)}}else V=function(){x(z,0)};function Z(O){T=O,M||(M=!0,V())}function ne(O,F){R=x(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Z(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var G=d;d=F;try{return O()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=d;d=O;try{return F()}finally{d=G}},t.unstable_scheduleCallback=function(O,F,G){var $=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,O={id:c++,callback:F,priorityLevel:O,startTime:G,expirationTime:W,sortIndex:-1},G>$?(O.sortIndex=G,e(u,O),n(a)===null&&O===n(u)&&(y?(v(R),R=-1):y=!0,ne(S,G-$))):(O.sortIndex=W,e(a,O),m||h||(m=!0,Z(E))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var F=d;return function(){var G=d;d=F;try{return O.apply(this,arguments)}finally{d=G}}}}(fS)),fS}var DI;function aae(){return DI||(DI=1,cS.exports=sae()),cS.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lae=function(e){var n={},r=L,i=aae(),o=Object.assign;function s(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,w=1;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}function T(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case m:return(p.displayName||"Context")+".Consumer";case h:return(p._context.displayName||"Context")+".Provider";case y:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return g=p.displayName||null,g!==null?g:T(p.type)||"Memo";case b:g=p._payload,p=p._init;try{return T(p(g))}catch{}}return null}function R(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(g);case 8:return g===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function C(p){var g=p,w=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(w=g.return),p=g.return;while(p)}return g.tag===3?w:null}function P(p){if(C(p)!==p)throw Error(s(188))}function D(p){var g=p.alternate;if(!g){if(g=C(p),g===null)throw Error(s(188));return g!==p?null:p}for(var w=p,A=g;;){var I=w.return;if(I===null)break;var k=I.alternate;if(k===null){if(A=I.return,A!==null){w=A;continue}break}if(I.child===k.child){for(k=I.child;k;){if(k===w)return P(I),p;if(k===A)return P(I),g;k=k.sibling}throw Error(s(188))}if(w.return!==A.return)w=I,A=k;else{for(var ve=!1,Oe=I.child;Oe;){if(Oe===w){ve=!0,w=I,A=k;break}if(Oe===A){ve=!0,A=I,w=k;break}Oe=Oe.sibling}if(!ve){for(Oe=k.child;Oe;){if(Oe===w){ve=!0,w=k,A=I;break}if(Oe===A){ve=!0,A=k,w=I;break}Oe=Oe.sibling}if(!ve)throw Error(s(189))}}if(w.alternate!==A)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?p:g}function z(p){return p=D(p),p!==null?V(p):null}function V(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=V(p);if(g!==null)return g;p=p.sibling}return null}function U(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=U(p);if(g!==null)return g}p=p.sibling}return null}var q=Array.isArray,Z=e.getPublicInstance,ne=e.getRootHostContext,O=e.getChildHostContext,F=e.prepareForCommit,G=e.resetAfterCommit,$=e.createInstance,W=e.appendInitialChild,oe=e.finalizeInitialChildren,j=e.prepareUpdate,Y=e.shouldSetTextContent,K=e.createTextInstance,fe=e.scheduleTimeout,pe=e.cancelTimeout,xe=e.noTimeout,Ge=e.isPrimaryRenderer,Ae=e.supportsMutation,H=e.supportsPersistence,ge=e.supportsHydration,Me=e.getInstanceFromNode,Ie=e.preparePortalMount,Re=e.getCurrentEventPriority,We=e.detachDeletedInstance,ke=e.supportsMicrotasks,je=e.scheduleMicrotask,He=e.supportsTestSelectors,Ne=e.findFiberRoot,Ke=e.getBoundingRect,Q=e.getTextContent,N=e.isHiddenSubtree,se=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,_e=e.appendChild,ye=e.appendChildToContainer,we=e.commitTextUpdate,Se=e.commitMount,be=e.commitUpdate,ae=e.insertBefore,de=e.insertInContainerBefore,he=e.removeChild,me=e.removeChildFromContainer,Ue=e.resetTextContent,Xe=e.hideInstance,ie=e.hideTextInstance,Be=e.unhideInstance,Ee=e.unhideTextInstance,Ye=e.clearContainer,tt=e.cloneInstance,vt=e.createContainerChildSet,xt=e.appendChildToContainerChildSet,Et=e.finalizeContainerChildren,Gt=e.replaceContainerChildren,qt=e.cloneHiddenInstance,jt=e.cloneHiddenTextInstance,Vt=e.canHydrateInstance,$n=e.canHydrateTextInstance,ir=e.canHydrateSuspenseInstance,fn=e.isSuspenseInstancePending,Pn=e.isSuspenseInstanceFallback,gr=e.registerSuspenseInstanceRetry,xn=e.getNextHydratableSibling,Ht=e.getFirstHydratableChild,bn=e.getFirstHydratableChildWithinContainer,or=e.getFirstHydratableChildWithinSuspenseInstance,mn=e.hydrateInstance,ce=e.hydrateTextInstance,$e=e.hydrateSuspenseInstance,Je=e.getNextHydratableInstanceAfterSuspenseInstance,Ve=e.commitHydratedContainer,et=e.commitHydratedSuspenseInstance,mt=e.clearSuspenseBoundary,Pt=e.clearSuspenseBoundaryFromContainer,Ot=e.shouldDeleteUnhydratedTailInstances,kt=e.didNotMatchHydratedContainerTextInstance,$t=e.didNotMatchHydratedTextInstance,st;function Nt(p){if(st===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);st=g&&g[1]||""}return`
`+st+p}var gn=!1;function _n(p,g){if(!p||gn)return"";gn=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ut){var A=ut}Reflect.construct(p,[],g)}else{try{g.call()}catch(ut){A=ut}p.call(g.prototype)}else{try{throw Error()}catch(ut){A=ut}p()}}catch(ut){if(ut&&A&&typeof ut.stack=="string"){for(var I=ut.stack.split(`
`),k=A.stack.split(`
`),ve=I.length-1,Oe=k.length-1;1<=ve&&0<=Oe&&I[ve]!==k[Oe];)Oe--;for(;1<=ve&&0<=Oe;ve--,Oe--)if(I[ve]!==k[Oe]){if(ve!==1||Oe!==1)do if(ve--,Oe--,0>Oe||I[ve]!==k[Oe]){var Ze=`
`+I[ve].replace(" at new "," at ");return p.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",p.displayName)),Ze}while(1<=ve&&0<=Oe);break}}}finally{gn=!1,Error.prepareStackTrace=w}return(p=p?p.displayName||p.name:"")?Nt(p):""}var Bt=Object.prototype.hasOwnProperty,kr=[],vn=-1;function zt(p){return{current:p}}function Sn(p){0>vn||(p.current=kr[vn],kr[vn]=null,vn--)}function Ft(p,g){vn++,kr[vn]=p.current,p.current=g}var Nr={},qn=zt(Nr),Nn=zt(!1),Gr=Nr;function Hn(p,g){var w=p.type.contextTypes;if(!w)return Nr;var A=p.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===g)return A.__reactInternalMemoizedMaskedChildContext;var I={},k;for(k in w)I[k]=g[k];return A&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=I),I}function En(p){return p=p.childContextTypes,p!=null}function zi(){Sn(Nn),Sn(qn)}function Mt(p,g,w){if(qn.current!==Nr)throw Error(s(168));Ft(qn,g),Ft(Nn,w)}function vo(p,g,w){var A=p.stateNode;if(g=g.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var I in A)if(!(I in g))throw Error(s(108,R(p)||"Unknown",I));return o({},w,A)}function Gi(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Nr,Gr=qn.current,Ft(qn,p),Ft(Nn,Nn.current),!0}function ds(p,g,w){var A=p.stateNode;if(!A)throw Error(s(169));w?(p=vo(p,g,Gr),A.__reactInternalMemoizedMergedChildContext=p,Sn(Nn),Sn(qn),Ft(qn,p)):Sn(Nn),Ft(Nn,w)}var Hr=Math.clz32?Math.clz32:Uc,js=Math.log,$s=Math.LN2;function Uc(p){return p>>>=0,p===0?32:31-(js(p)/$s|0)|0}var hs=64,ps=4194304;function ms(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Ma(p,g){var w=p.pendingLanes;if(w===0)return 0;var A=0,I=p.suspendedLanes,k=p.pingedLanes,ve=w&268435455;if(ve!==0){var Oe=ve&~I;Oe!==0?A=ms(Oe):(k&=ve,k!==0&&(A=ms(k)))}else ve=w&~I,ve!==0?A=ms(ve):k!==0&&(A=ms(k));if(A===0)return 0;if(g!==0&&g!==A&&!(g&I)&&(I=A&-A,k=g&-g,I>=k||I===16&&(k&4194240)!==0))return g;if(A&4&&(A|=w&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=A;0<g;)w=31-Hr(g),I=1<<w,A|=p[w],g&=~I;return A}function Bc(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(p,g){for(var w=p.suspendedLanes,A=p.pingedLanes,I=p.expirationTimes,k=p.pendingLanes;0<k;){var ve=31-Hr(k),Oe=1<<ve,Ze=I[ve];Ze===-1?(!(Oe&w)||Oe&A)&&(I[ve]=Bc(Oe,g)):Ze<=g&&(p.expiredLanes|=Oe),k&=~Oe}}function gs(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ul(p){for(var g=[],w=0;31>w;w++)g.push(p);return g}function Bo(p,g,w){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-Hr(g),p[g]=w}function qs(p,g){var w=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var A=p.eventTimes;for(p=p.expirationTimes;0<w;){var I=31-Hr(w),k=1<<I;g[I]=0,A[I]=-1,p[I]=-1,w&=~k}}function zo(p,g){var w=p.entangledLanes|=g;for(p=p.entanglements;w;){var A=31-Hr(w),I=1<<A;I&g|p[A]&g&&(p[A]|=g),w&=~I}}var sn=0;function vu(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var vs=i.unstable_scheduleCallback,cl=i.unstable_cancelCallback,B=i.unstable_shouldYield,J=i.unstable_requestPaint,le=i.unstable_now,ee=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,Ce=i.unstable_NormalPriority,Fe=i.unstable_IdlePriority,De=null,Pe=null;function ot(p){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(De,p,void 0,(p.current.flags&128)===128)}catch{}}function at(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var ht=typeof Object.is=="function"?Object.is:at,Dt=null,an=!1,Xn=!1;function Or(p){Dt===null?Dt=[p]:Dt.push(p)}function Mn(p){an=!0,Or(p)}function wn(){if(!Xn&&Dt!==null){Xn=!0;var p=0,g=sn;try{var w=Dt;for(sn=1;p<w.length;p++){var A=w[p];do A=A(!0);while(A!==null)}Dt=null,an=!1}catch(I){throw Dt!==null&&(Dt=Dt.slice(p+1)),vs(ee,wn),I}finally{sn=g,Xn=!1}}return null}var Bn=l.ReactCurrentBatchConfig;function tr(p,g){if(ht(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var w=Object.keys(p),A=Object.keys(g);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var I=w[A];if(!Bt.call(g,I)||!ht(p[I],g[I]))return!1}return!0}function Yn(p){switch(p.tag){case 5:return Nt(p.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 2:case 15:return p=_n(p.type,!1),p;case 11:return p=_n(p.type.render,!1),p;case 1:return p=_n(p.type,!0),p;default:return""}}function dn(p,g){if(p&&p.defaultProps){g=o({},g),p=p.defaultProps;for(var w in p)g[w]===void 0&&(g[w]=p[w]);return g}return g}var Tn=zt(null),Mr=null,ur=null,si=null;function Yr(){si=ur=Mr=null}function yo(p,g,w){Ge?(Ft(Tn,g._currentValue),g._currentValue=w):(Ft(Tn,g._currentValue2),g._currentValue2=w)}function Si(p){var g=Tn.current;Sn(Tn),Ge?p._currentValue=g:p._currentValue2=g}function sr(p,g,w){for(;p!==null;){var A=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,A!==null&&(A.childLanes|=g)):A!==null&&(A.childLanes&g)!==g&&(A.childLanes|=g),p===w)break;p=p.return}}function Fr(p,g){Mr=p,si=ur=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&g&&(_o=!0),p.firstContext=null)}function Vn(p){var g=Ge?p._currentValue:p._currentValue2;if(si!==p)if(p={context:p,memoizedValue:g,next:null},ur===null){if(Mr===null)throw Error(s(308));ur=p,Mr.dependencies={lanes:0,firstContext:p}}else ur=ur.next=p;return g}var Kr=null,ys=!1;function Jx(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DT(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Ta(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function fl(p,g){var w=p.updateQueue;w!==null&&(w=w.shared,Vr!==null&&p.mode&1&&!(cn&2)?(p=w.interleaved,p===null?(g.next=g,Kr===null?Kr=[w]:Kr.push(w)):(g.next=p.next,p.next=g),w.interleaved=g):(p=w.pending,p===null?g.next=g:(g.next=p.next,p.next=g),w.pending=g))}function dg(p,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194240)!==0)){var A=g.lanes;A&=p.pendingLanes,w|=A,g.lanes=w,zo(p,w)}}function UT(p,g){var w=p.updateQueue,A=p.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var I=null,k=null;if(w=w.firstBaseUpdate,w!==null){do{var ve={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};k===null?I=k=ve:k=k.next=ve,w=w.next}while(w!==null);k===null?I=k=g:k=k.next=g}else I=k=g;w={baseState:A.baseState,firstBaseUpdate:I,lastBaseUpdate:k,shared:A.shared,effects:A.effects},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=g:p.next=g,w.lastBaseUpdate=g}function hg(p,g,w,A){var I=p.updateQueue;ys=!1;var k=I.firstBaseUpdate,ve=I.lastBaseUpdate,Oe=I.shared.pending;if(Oe!==null){I.shared.pending=null;var Ze=Oe,ut=Ze.next;Ze.next=null,ve===null?k=ut:ve.next=ut,ve=Ze;var Tt=p.alternate;Tt!==null&&(Tt=Tt.updateQueue,Oe=Tt.lastBaseUpdate,Oe!==ve&&(Oe===null?Tt.firstBaseUpdate=ut:Oe.next=ut,Tt.lastBaseUpdate=Ze))}if(k!==null){var Yt=I.baseState;ve=0,Tt=ut=Ze=null,Oe=k;do{var Ut=Oe.lane,Qn=Oe.eventTime;if((A&Ut)===Ut){Tt!==null&&(Tt=Tt.next={eventTime:Qn,lane:0,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null});e:{var It=p,Ti=Oe;switch(Ut=g,Qn=w,Ti.tag){case 1:if(It=Ti.payload,typeof It=="function"){Yt=It.call(Qn,Yt,Ut);break e}Yt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ti.payload,Ut=typeof It=="function"?It.call(Qn,Yt,Ut):It,Ut==null)break e;Yt=o({},Yt,Ut);break e;case 2:ys=!0}}Oe.callback!==null&&Oe.lane!==0&&(p.flags|=64,Ut=I.effects,Ut===null?I.effects=[Oe]:Ut.push(Oe))}else Qn={eventTime:Qn,lane:Ut,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Tt===null?(ut=Tt=Qn,Ze=Yt):Tt=Tt.next=Qn,ve|=Ut;if(Oe=Oe.next,Oe===null){if(Oe=I.shared.pending,Oe===null)break;Ut=Oe,Oe=Ut.next,Ut.next=null,I.lastBaseUpdate=Ut,I.shared.pending=null}}while(1);if(Tt===null&&(Ze=Yt),I.baseState=Ze,I.firstBaseUpdate=ut,I.lastBaseUpdate=Tt,g=I.shared.interleaved,g!==null){I=g;do ve|=I.lane,I=I.next;while(I!==g)}else k===null&&(I.shared.lanes=0);Xc|=ve,p.lanes=ve,p.memoizedState=Yt}}function BT(p,g,w){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var A=p[g],I=A.callback;if(I!==null){if(A.callback=null,A=w,typeof I!="function")throw Error(s(191,I));I.call(A)}}}var zT=new r.Component().refs;function Zx(p,g,w,A){g=p.memoizedState,w=w(A,g),w=w==null?g:o({},g,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}var pg={isMounted:function(p){return(p=p._reactInternals)?C(p)===p:!1},enqueueSetState:function(p,g,w){p=p._reactInternals;var A=Vi(),I=pl(p),k=Ta(A,I);k.payload=g,w!=null&&(k.callback=w),fl(p,k),g=jo(p,I,A),g!==null&&dg(g,p,I)},enqueueReplaceState:function(p,g,w){p=p._reactInternals;var A=Vi(),I=pl(p),k=Ta(A,I);k.tag=1,k.payload=g,w!=null&&(k.callback=w),fl(p,k),g=jo(p,I,A),g!==null&&dg(g,p,I)},enqueueForceUpdate:function(p,g){p=p._reactInternals;var w=Vi(),A=pl(p),I=Ta(w,A);I.tag=2,g!=null&&(I.callback=g),fl(p,I),g=jo(p,A,w),g!==null&&dg(g,p,A)}};function GT(p,g,w,A,I,k,ve){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(A,k,ve):g.prototype&&g.prototype.isPureReactComponent?!tr(w,A)||!tr(I,k):!0}function HT(p,g,w){var A=!1,I=Nr,k=g.contextType;return typeof k=="object"&&k!==null?k=Vn(k):(I=En(g)?Gr:qn.current,A=g.contextTypes,k=(A=A!=null)?Hn(p,I):Nr),g=new g(w,k),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=pg,p.stateNode=g,g._reactInternals=p,A&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=I,p.__reactInternalMemoizedMaskedChildContext=k),g}function VT(p,g,w,A){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,A),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,A),g.state!==p&&pg.enqueueReplaceState(g,g.state,null)}function eb(p,g,w,A){var I=p.stateNode;I.props=w,I.state=p.memoizedState,I.refs=zT,Jx(p);var k=g.contextType;typeof k=="object"&&k!==null?I.context=Vn(k):(k=En(g)?Gr:qn.current,I.context=Hn(p,k)),I.state=p.memoizedState,k=g.getDerivedStateFromProps,typeof k=="function"&&(Zx(p,g,k,w),I.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(g=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),g!==I.state&&pg.enqueueReplaceState(I,I.state,null),hg(p,w,I,A),I.state=p.memoizedState),typeof I.componentDidMount=="function"&&(p.flags|=4194308)}var zc=[],Gc=0,mg=null,gg=0,Go=[],Ho=0,yu=null,Aa=1,Ca="";function xu(p,g){zc[Gc++]=gg,zc[Gc++]=mg,mg=p,gg=g}function WT(p,g,w){Go[Ho++]=Aa,Go[Ho++]=Ca,Go[Ho++]=yu,yu=p;var A=Aa;p=Ca;var I=32-Hr(A)-1;A&=~(1<<I),w+=1;var k=32-Hr(g)+I;if(30<k){var ve=I-I%5;k=(A&(1<<ve)-1).toString(32),A>>=ve,I-=ve,Aa=1<<32-Hr(g)+I|w<<I|A,Ca=k+p}else Aa=1<<k|w<<I|A,Ca=p}function tb(p){p.return!==null&&(xu(p,1),WT(p,1,0))}function nb(p){for(;p===mg;)mg=zc[--Gc],zc[Gc]=null,gg=zc[--Gc],zc[Gc]=null;for(;p===yu;)yu=Go[--Ho],Go[Ho]=null,Ca=Go[--Ho],Go[Ho]=null,Aa=Go[--Ho],Go[Ho]=null}var xo=null,bo=null,cr=!1,nh=!1,xs=null;function jT(p,g){var w=$o(5,null,null,0);w.elementType="DELETED",w.stateNode=g,w.return=p,g=p.deletions,g===null?(p.deletions=[w],p.flags|=16):g.push(w)}function $T(p,g){switch(p.tag){case 5:return g=Vt(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,xo=p,bo=Ht(g),!0):!1;case 6:return g=$n(g,p.pendingProps),g!==null?(p.stateNode=g,xo=p,bo=null,!0):!1;case 13:if(g=ir(g),g!==null){var w=yu!==null?{id:Aa,overflow:Ca}:null;return p.memoizedState={dehydrated:g,treeContext:w,retryLane:1073741824},w=$o(18,null,null,0),w.stateNode=g,w.return=p,p.child=w,xo=p,bo=null,!0}return!1;default:return!1}}function rb(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ib(p){if(cr){var g=bo;if(g){var w=g;if(!$T(p,g)){if(rb(p))throw Error(s(418));g=xn(w);var A=xo;g&&$T(p,g)?jT(A,w):(p.flags=p.flags&-4097|2,cr=!1,xo=p)}}else{if(rb(p))throw Error(s(418));p.flags=p.flags&-4097|2,cr=!1,xo=p}}}function qT(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;xo=p}function rh(p){if(!ge||p!==xo)return!1;if(!cr)return qT(p),cr=!0,!1;if(p.tag!==3&&(p.tag!==5||Ot(p.type)&&!Y(p.type,p.memoizedProps))){var g=bo;if(g){if(rb(p)){for(p=bo;p;)p=xn(p);throw Error(s(418))}for(;g;)jT(p,g),g=xn(g)}}if(qT(p),p.tag===13){if(!ge)throw Error(s(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));bo=Je(p)}else bo=xo?xn(p.stateNode):null;return!0}function Hc(){ge&&(bo=xo=null,nh=cr=!1)}function ob(p){xs===null?xs=[p]:xs.push(p)}function ih(p,g,w){if(p=w.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(s(309));var A=w.stateNode}if(!A)throw Error(s(147,p));var I=A,k=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===k?g.ref:(g=function(ve){var Oe=I.refs;Oe===zT&&(Oe=I.refs={}),ve===null?delete Oe[k]:Oe[k]=ve},g._stringRef=k,g)}if(typeof p!="string")throw Error(s(284));if(!w._owner)throw Error(s(290,p))}return p}function vg(p,g){throw p=Object.prototype.toString.call(g),Error(s(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function XT(p){var g=p._init;return g(p._payload)}function YT(p){function g(qe,ze){if(p){var Qe=qe.deletions;Qe===null?(qe.deletions=[ze],qe.flags|=16):Qe.push(ze)}}function w(qe,ze){if(!p)return null;for(;ze!==null;)g(qe,ze),ze=ze.sibling;return null}function A(qe,ze){for(qe=new Map;ze!==null;)ze.key!==null?qe.set(ze.key,ze):qe.set(ze.index,ze),ze=ze.sibling;return qe}function I(qe,ze){return qe=gl(qe,ze),qe.index=0,qe.sibling=null,qe}function k(qe,ze,Qe){return qe.index=Qe,p?(Qe=qe.alternate,Qe!==null?(Qe=Qe.index,Qe<ze?(qe.flags|=2,ze):Qe):(qe.flags|=2,ze)):(qe.flags|=1048576,ze)}function ve(qe){return p&&qe.alternate===null&&(qe.flags|=2),qe}function Oe(qe,ze,Qe,bt){return ze===null||ze.tag!==6?(ze=Hb(Qe,qe.mode,bt),ze.return=qe,ze):(ze=I(ze,Qe),ze.return=qe,ze)}function Ze(qe,ze,Qe,bt){var Rt=Qe.type;return Rt===c?Tt(qe,ze,Qe.props.children,bt,Qe.key):ze!==null&&(ze.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===b&&XT(Rt)===ze.type)?(bt=I(ze,Qe.props),bt.ref=ih(qe,ze,Qe),bt.return=qe,bt):(bt=Xg(Qe.type,Qe.key,Qe.props,null,qe.mode,bt),bt.ref=ih(qe,ze,Qe),bt.return=qe,bt)}function ut(qe,ze,Qe,bt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Qe.containerInfo||ze.stateNode.implementation!==Qe.implementation?(ze=Vb(Qe,qe.mode,bt),ze.return=qe,ze):(ze=I(ze,Qe.children||[]),ze.return=qe,ze)}function Tt(qe,ze,Qe,bt,Rt){return ze===null||ze.tag!==7?(ze=Tu(Qe,qe.mode,bt,Rt),ze.return=qe,ze):(ze=I(ze,Qe),ze.return=qe,ze)}function Yt(qe,ze,Qe){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ze=Hb(""+ze,qe.mode,Qe),ze.return=qe,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case a:return Qe=Xg(ze.type,ze.key,ze.props,null,qe.mode,Qe),Qe.ref=ih(qe,null,ze),Qe.return=qe,Qe;case u:return ze=Vb(ze,qe.mode,Qe),ze.return=qe,ze;case b:var bt=ze._init;return Yt(qe,bt(ze._payload),Qe)}if(q(ze)||M(ze))return ze=Tu(ze,qe.mode,Qe,null),ze.return=qe,ze;vg(qe,ze)}return null}function Ut(qe,ze,Qe,bt){var Rt=ze!==null?ze.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Rt!==null?null:Oe(qe,ze,""+Qe,bt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case a:return Qe.key===Rt?Ze(qe,ze,Qe,bt):null;case u:return Qe.key===Rt?ut(qe,ze,Qe,bt):null;case b:return Rt=Qe._init,Ut(qe,ze,Rt(Qe._payload),bt)}if(q(Qe)||M(Qe))return Rt!==null?null:Tt(qe,ze,Qe,bt,null);vg(qe,Qe)}return null}function Qn(qe,ze,Qe,bt,Rt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return qe=qe.get(Qe)||null,Oe(ze,qe,""+bt,Rt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case a:return qe=qe.get(bt.key===null?Qe:bt.key)||null,Ze(ze,qe,bt,Rt);case u:return qe=qe.get(bt.key===null?Qe:bt.key)||null,ut(ze,qe,bt,Rt);case b:var ln=bt._init;return Qn(qe,ze,Qe,ln(bt._payload),Rt)}if(q(bt)||M(bt))return qe=qe.get(Qe)||null,Tt(ze,qe,bt,Rt,null);vg(ze,bt)}return null}function It(qe,ze,Qe,bt){for(var Rt=null,ln=null,Kt=ze,In=ze=0,li=null;Kt!==null&&In<Qe.length;In++){Kt.index>In?(li=Kt,Kt=null):li=Kt.sibling;var Ln=Ut(qe,Kt,Qe[In],bt);if(Ln===null){Kt===null&&(Kt=li);break}p&&Kt&&Ln.alternate===null&&g(qe,Kt),ze=k(Ln,ze,In),ln===null?Rt=Ln:ln.sibling=Ln,ln=Ln,Kt=li}if(In===Qe.length)return w(qe,Kt),cr&&xu(qe,In),Rt;if(Kt===null){for(;In<Qe.length;In++)Kt=Yt(qe,Qe[In],bt),Kt!==null&&(ze=k(Kt,ze,In),ln===null?Rt=Kt:ln.sibling=Kt,ln=Kt);return cr&&xu(qe,In),Rt}for(Kt=A(qe,Kt);In<Qe.length;In++)li=Qn(Kt,qe,In,Qe[In],bt),li!==null&&(p&&li.alternate!==null&&Kt.delete(li.key===null?In:li.key),ze=k(li,ze,In),ln===null?Rt=li:ln.sibling=li,ln=li);return p&&Kt.forEach(function(vl){return g(qe,vl)}),cr&&xu(qe,In),Rt}function Ti(qe,ze,Qe,bt){var Rt=M(Qe);if(typeof Rt!="function")throw Error(s(150));if(Qe=Rt.call(Qe),Qe==null)throw Error(s(151));for(var ln=Rt=null,Kt=ze,In=ze=0,li=null,Ln=Qe.next();Kt!==null&&!Ln.done;In++,Ln=Qe.next()){Kt.index>In?(li=Kt,Kt=null):li=Kt.sibling;var vl=Ut(qe,Kt,Ln.value,bt);if(vl===null){Kt===null&&(Kt=li);break}p&&Kt&&vl.alternate===null&&g(qe,Kt),ze=k(vl,ze,In),ln===null?Rt=vl:ln.sibling=vl,ln=vl,Kt=li}if(Ln.done)return w(qe,Kt),cr&&xu(qe,In),Rt;if(Kt===null){for(;!Ln.done;In++,Ln=Qe.next())Ln=Yt(qe,Ln.value,bt),Ln!==null&&(ze=k(Ln,ze,In),ln===null?Rt=Ln:ln.sibling=Ln,ln=Ln);return cr&&xu(qe,In),Rt}for(Kt=A(qe,Kt);!Ln.done;In++,Ln=Qe.next())Ln=Qn(Kt,qe,In,Ln.value,bt),Ln!==null&&(p&&Ln.alternate!==null&&Kt.delete(Ln.key===null?In:Ln.key),ze=k(Ln,ze,In),ln===null?Rt=Ln:ln.sibling=Ln,ln=Ln);return p&&Kt.forEach(function(ZB){return g(qe,ZB)}),cr&&xu(qe,In),Rt}function qo(qe,ze,Qe,bt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===c&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case a:e:{for(var Rt=Qe.key,ln=ze;ln!==null;){if(ln.key===Rt){if(Rt=Qe.type,Rt===c){if(ln.tag===7){w(qe,ln.sibling),ze=I(ln,Qe.props.children),ze.return=qe,qe=ze;break e}}else if(ln.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===b&&XT(Rt)===ln.type){w(qe,ln.sibling),ze=I(ln,Qe.props),ze.ref=ih(qe,ln,Qe),ze.return=qe,qe=ze;break e}w(qe,ln);break}else g(qe,ln);ln=ln.sibling}Qe.type===c?(ze=Tu(Qe.props.children,qe.mode,bt,Qe.key),ze.return=qe,qe=ze):(bt=Xg(Qe.type,Qe.key,Qe.props,null,qe.mode,bt),bt.ref=ih(qe,ze,Qe),bt.return=qe,qe=bt)}return ve(qe);case u:e:{for(ln=Qe.key;ze!==null;){if(ze.key===ln)if(ze.tag===4&&ze.stateNode.containerInfo===Qe.containerInfo&&ze.stateNode.implementation===Qe.implementation){w(qe,ze.sibling),ze=I(ze,Qe.children||[]),ze.return=qe,qe=ze;break e}else{w(qe,ze);break}else g(qe,ze);ze=ze.sibling}ze=Vb(Qe,qe.mode,bt),ze.return=qe,qe=ze}return ve(qe);case b:return ln=Qe._init,qo(qe,ze,ln(Qe._payload),bt)}if(q(Qe))return It(qe,ze,Qe,bt);if(M(Qe))return Ti(qe,ze,Qe,bt);vg(qe,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"?(Qe=""+Qe,ze!==null&&ze.tag===6?(w(qe,ze.sibling),ze=I(ze,Qe),ze.return=qe,qe=ze):(w(qe,ze),ze=Hb(Qe,qe.mode,bt),ze.return=qe,qe=ze),ve(qe)):w(qe,ze)}return qo}var Vc=YT(!0),KT=YT(!1),oh={},Vo=zt(oh),sh=zt(oh),Wc=zt(oh);function Xs(p){if(p===oh)throw Error(s(174));return p}function sb(p,g){Ft(Wc,g),Ft(sh,p),Ft(Vo,oh),p=ne(g),Sn(Vo),Ft(Vo,p)}function jc(){Sn(Vo),Sn(sh),Sn(Wc)}function QT(p){var g=Xs(Wc.current),w=Xs(Vo.current);g=O(w,p.type,g),w!==g&&(Ft(sh,p),Ft(Vo,g))}function ab(p){sh.current===p&&(Sn(Vo),Sn(sh))}var vr=zt(0);function yg(p){for(var g=p;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||fn(w)||Pn(w)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var lb=[];function ub(){for(var p=0;p<lb.length;p++){var g=lb[p];Ge?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}lb.length=0}var xg=l.ReactCurrentDispatcher,Wo=l.ReactCurrentBatchConfig,$c=0,Tr=null,wi=null,ai=null,bg=!1,ah=!1,lh=0,EB=0;function Ei(){throw Error(s(321))}function cb(p,g){if(g===null)return!1;for(var w=0;w<g.length&&w<p.length;w++)if(!ht(p[w],g[w]))return!1;return!0}function fb(p,g,w,A,I,k){if($c=k,Tr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,xg.current=p===null||p.memoizedState===null?CB:RB,p=w(A,I),ah){k=0;do{if(ah=!1,lh=0,25<=k)throw Error(s(301));k+=1,ai=wi=null,g.updateQueue=null,xg.current=PB,p=w(A,I)}while(ah)}if(xg.current=Mg,g=wi!==null&&wi.next!==null,$c=0,ai=wi=Tr=null,bg=!1,g)throw Error(s(300));return p}function db(){var p=lh!==0;return lh=0,p}function Ra(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?Tr.memoizedState=ai=p:ai=ai.next=p,ai}function Ys(){if(wi===null){var p=Tr.alternate;p=p!==null?p.memoizedState:null}else p=wi.next;var g=ai===null?Tr.memoizedState:ai.next;if(g!==null)ai=g,wi=p;else{if(p===null)throw Error(s(310));wi=p,p={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},ai===null?Tr.memoizedState=ai=p:ai=ai.next=p}return ai}function bu(p,g){return typeof g=="function"?g(p):g}function _g(p){var g=Ys(),w=g.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=p;var A=wi,I=A.baseQueue,k=w.pending;if(k!==null){if(I!==null){var ve=I.next;I.next=k.next,k.next=ve}A.baseQueue=I=k,w.pending=null}if(I!==null){k=I.next,A=A.baseState;var Oe=ve=null,Ze=null,ut=k;do{var Tt=ut.lane;if(($c&Tt)===Tt)Ze!==null&&(Ze=Ze.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),A=ut.hasEagerState?ut.eagerState:p(A,ut.action);else{var Yt={lane:Tt,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};Ze===null?(Oe=Ze=Yt,ve=A):Ze=Ze.next=Yt,Tr.lanes|=Tt,Xc|=Tt}ut=ut.next}while(ut!==null&&ut!==k);Ze===null?ve=A:Ze.next=Oe,ht(A,g.memoizedState)||(_o=!0),g.memoizedState=A,g.baseState=ve,g.baseQueue=Ze,w.lastRenderedState=A}if(p=w.interleaved,p!==null){I=p;do k=I.lane,Tr.lanes|=k,Xc|=k,I=I.next;while(I!==p)}else I===null&&(w.lanes=0);return[g.memoizedState,w.dispatch]}function Sg(p){var g=Ys(),w=g.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=p;var A=w.dispatch,I=w.pending,k=g.memoizedState;if(I!==null){w.pending=null;var ve=I=I.next;do k=p(k,ve.action),ve=ve.next;while(ve!==I);ht(k,g.memoizedState)||(_o=!0),g.memoizedState=k,g.baseQueue===null&&(g.baseState=k),w.lastRenderedState=k}return[k,A]}function JT(){}function ZT(p,g){var w=Tr,A=Ys(),I=g(),k=!ht(A.memoizedState,I);if(k&&(A.memoizedState=I,_o=!0),A=A.queue,ch(nA.bind(null,w,A,p),[p]),A.getSnapshot!==g||k||ai!==null&&ai.memoizedState.tag&1){if(w.flags|=2048,uh(9,tA.bind(null,w,A,I,g),void 0,null),Vr===null)throw Error(s(349));$c&30||eA(w,g,I)}return I}function eA(p,g,w){p.flags|=16384,p={getSnapshot:g,value:w},g=Tr.updateQueue,g===null?(g={lastEffect:null,stores:null},Tr.updateQueue=g,g.stores=[p]):(w=g.stores,w===null?g.stores=[p]:w.push(p))}function tA(p,g,w,A){g.value=w,g.getSnapshot=A,rA(g)&&jo(p,1,-1)}function nA(p,g,w){return w(function(){rA(g)&&jo(p,1,-1)})}function rA(p){var g=p.getSnapshot;p=p.value;try{var w=g();return!ht(p,w)}catch{return!0}}function hb(p){var g=Ra();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:p},g.queue=p,p=p.dispatch=AB.bind(null,Tr,p),[g.memoizedState,p]}function uh(p,g,w,A){return p={tag:p,create:g,destroy:w,deps:A,next:null},g=Tr.updateQueue,g===null?(g={lastEffect:null,stores:null},Tr.updateQueue=g,g.lastEffect=p.next=p):(w=g.lastEffect,w===null?g.lastEffect=p.next=p:(A=w.next,w.next=p,p.next=A,g.lastEffect=p)),p}function iA(){return Ys().memoizedState}function wg(p,g,w,A){var I=Ra();Tr.flags|=p,I.memoizedState=uh(1|g,w,void 0,A===void 0?null:A)}function Eg(p,g,w,A){var I=Ys();A=A===void 0?null:A;var k=void 0;if(wi!==null){var ve=wi.memoizedState;if(k=ve.destroy,A!==null&&cb(A,ve.deps)){I.memoizedState=uh(g,w,k,A);return}}Tr.flags|=p,I.memoizedState=uh(1|g,w,k,A)}function pb(p,g){return wg(8390656,8,p,g)}function ch(p,g){return Eg(2048,8,p,g)}function oA(p,g){return Eg(4,2,p,g)}function sA(p,g){return Eg(4,4,p,g)}function aA(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function lA(p,g,w){return w=w!=null?w.concat([p]):null,Eg(4,4,aA.bind(null,g,p),w)}function mb(){}function uA(p,g){var w=Ys();g=g===void 0?null:g;var A=w.memoizedState;return A!==null&&g!==null&&cb(g,A[1])?A[0]:(w.memoizedState=[p,g],p)}function cA(p,g){var w=Ys();g=g===void 0?null:g;var A=w.memoizedState;return A!==null&&g!==null&&cb(g,A[1])?A[0]:(p=p(),w.memoizedState=[p,g],p)}function MB(p,g){var w=sn;sn=w!==0&&4>w?w:4,p(!0);var A=Wo.transition;Wo.transition={};try{p(!1),g()}finally{sn=w,Wo.transition=A}}function fA(){return Ys().memoizedState}function TB(p,g,w){var A=pl(p);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},dA(p)?hA(g,w):(pA(p,g,w),w=Vi(),p=jo(p,A,w),p!==null&&mA(p,g,A))}function AB(p,g,w){var A=pl(p),I={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(dA(p))hA(g,I);else{pA(p,g,I);var k=p.alternate;if(p.lanes===0&&(k===null||k.lanes===0)&&(k=g.lastRenderedReducer,k!==null))try{var ve=g.lastRenderedState,Oe=k(ve,w);if(I.hasEagerState=!0,I.eagerState=Oe,ht(Oe,ve))return}catch{}finally{}w=Vi(),p=jo(p,A,w),p!==null&&mA(p,g,A)}}function dA(p){var g=p.alternate;return p===Tr||g!==null&&g===Tr}function hA(p,g){ah=bg=!0;var w=p.pending;w===null?g.next=g:(g.next=w.next,w.next=g),p.pending=g}function pA(p,g,w){Vr!==null&&p.mode&1&&!(cn&2)?(p=g.interleaved,p===null?(w.next=w,Kr===null?Kr=[g]:Kr.push(g)):(w.next=p.next,p.next=w),g.interleaved=w):(p=g.pending,p===null?w.next=w:(w.next=p.next,p.next=w),g.pending=w)}function mA(p,g,w){if(w&4194240){var A=g.lanes;A&=p.pendingLanes,w|=A,g.lanes=w,zo(p,w)}}var Mg={readContext:Vn,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useInsertionEffect:Ei,useLayoutEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useMutableSource:Ei,useSyncExternalStore:Ei,useId:Ei,unstable_isNewReconciler:!1},CB={readContext:Vn,useCallback:function(p,g){return Ra().memoizedState=[p,g===void 0?null:g],p},useContext:Vn,useEffect:pb,useImperativeHandle:function(p,g,w){return w=w!=null?w.concat([p]):null,wg(4194308,4,aA.bind(null,g,p),w)},useLayoutEffect:function(p,g){return wg(4194308,4,p,g)},useInsertionEffect:function(p,g){return wg(4,2,p,g)},useMemo:function(p,g){var w=Ra();return g=g===void 0?null:g,p=p(),w.memoizedState=[p,g],p},useReducer:function(p,g,w){var A=Ra();return g=w!==void 0?w(g):g,A.memoizedState=A.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},A.queue=p,p=p.dispatch=TB.bind(null,Tr,p),[A.memoizedState,p]},useRef:function(p){var g=Ra();return p={current:p},g.memoizedState=p},useState:hb,useDebugValue:mb,useDeferredValue:function(p){var g=hb(p),w=g[0],A=g[1];return pb(function(){var I=Wo.transition;Wo.transition={};try{A(p)}finally{Wo.transition=I}},[p]),w},useTransition:function(){var p=hb(!1),g=p[0];return p=MB.bind(null,p[1]),Ra().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,w){var A=Tr,I=Ra();if(cr){if(w===void 0)throw Error(s(407));w=w()}else{if(w=g(),Vr===null)throw Error(s(349));$c&30||eA(A,g,w)}I.memoizedState=w;var k={value:w,getSnapshot:g};return I.queue=k,pb(nA.bind(null,A,k,p),[p]),A.flags|=2048,uh(9,tA.bind(null,A,k,w,g),void 0,null),w},useId:function(){var p=Ra(),g=Vr.identifierPrefix;if(cr){var w=Ca,A=Aa;w=(A&~(1<<32-Hr(A)-1)).toString(32)+w,g=":"+g+"R"+w,w=lh++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=EB++,g=":"+g+"r"+w.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},RB={readContext:Vn,useCallback:uA,useContext:Vn,useEffect:ch,useImperativeHandle:lA,useInsertionEffect:oA,useLayoutEffect:sA,useMemo:cA,useReducer:_g,useRef:iA,useState:function(){return _g(bu)},useDebugValue:mb,useDeferredValue:function(p){var g=_g(bu),w=g[0],A=g[1];return ch(function(){var I=Wo.transition;Wo.transition={};try{A(p)}finally{Wo.transition=I}},[p]),w},useTransition:function(){var p=_g(bu)[0],g=Ys().memoizedState;return[p,g]},useMutableSource:JT,useSyncExternalStore:ZT,useId:fA,unstable_isNewReconciler:!1},PB={readContext:Vn,useCallback:uA,useContext:Vn,useEffect:ch,useImperativeHandle:lA,useInsertionEffect:oA,useLayoutEffect:sA,useMemo:cA,useReducer:Sg,useRef:iA,useState:function(){return Sg(bu)},useDebugValue:mb,useDeferredValue:function(p){var g=Sg(bu),w=g[0],A=g[1];return ch(function(){var I=Wo.transition;Wo.transition={};try{A(p)}finally{Wo.transition=I}},[p]),w},useTransition:function(){var p=Sg(bu)[0],g=Ys().memoizedState;return[p,g]},useMutableSource:JT,useSyncExternalStore:ZT,useId:fA,unstable_isNewReconciler:!1};function gb(p,g){try{var w="",A=g;do w+=Yn(A),A=A.return;while(A);var I=w}catch(k){I=`
Error generating stack: `+k.message+`
`+k.stack}return{value:p,source:g,stack:I}}function vb(p,g){try{console.error(g.value)}catch(w){setTimeout(function(){throw w})}}var IB=typeof WeakMap=="function"?WeakMap:Map;function gA(p,g,w){w=Ta(-1,w),w.tag=3,w.payload={element:null};var A=g.value;return w.callback=function(){Gg||(Gg=!0,Ob=A),vb(p,g)},w}function vA(p,g,w){w=Ta(-1,w),w.tag=3;var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var I=g.value;w.payload=function(){return A(I)},w.callback=function(){vb(p,g)}}var k=p.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(w.callback=function(){vb(p,g),typeof A!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var ve=g.stack;this.componentDidCatch(g.value,{componentStack:ve!==null?ve:""})}),w}function yA(p,g,w){var A=p.pingCache;if(A===null){A=p.pingCache=new IB;var I=new Set;A.set(g,I)}else I=A.get(g),I===void 0&&(I=new Set,A.set(g,I));I.has(w)||(I.add(w),p=jB.bind(null,p,g,w),g.then(p,p))}function xA(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function bA(p,g,w,A,I){return p.mode&1?(p.flags|=65536,p.lanes=I,p):(p===g?p.flags|=65536:(p.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(g=Ta(-1,1),g.tag=2,fl(w,g))),w.lanes|=1),p)}function Ks(p){p.flags|=4}function _A(p,g){if(p!==null&&p.child===g.child)return!0;if(g.flags&16)return!1;for(p=g.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var fh,dh,Tg,Ag;if(Ae)fh=function(p,g){for(var w=g.child;w!==null;){if(w.tag===5||w.tag===6)W(p,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},dh=function(){},Tg=function(p,g,w,A,I){if(p=p.memoizedProps,p!==A){var k=g.stateNode,ve=Xs(Vo.current);w=j(k,w,p,A,I,ve),(g.updateQueue=w)&&Ks(g)}},Ag=function(p,g,w,A){w!==A&&Ks(g)};else if(H){fh=function(p,g,w,A){for(var I=g.child;I!==null;){if(I.tag===5){var k=I.stateNode;w&&A&&(k=qt(k,I.type,I.memoizedProps,I)),W(p,k)}else if(I.tag===6)k=I.stateNode,w&&A&&(k=jt(k,I.memoizedProps,I)),W(p,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),fh(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var SA=function(p,g,w,A){for(var I=g.child;I!==null;){if(I.tag===5){var k=I.stateNode;w&&A&&(k=qt(k,I.type,I.memoizedProps,I)),xt(p,k)}else if(I.tag===6)k=I.stateNode,w&&A&&(k=jt(k,I.memoizedProps,I)),xt(p,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),SA(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};dh=function(p,g){var w=g.stateNode;if(!_A(p,g)){p=w.containerInfo;var A=vt(p);SA(A,g,!1,!1),w.pendingChildren=A,Ks(g),Et(p,A)}},Tg=function(p,g,w,A,I){var k=p.stateNode,ve=p.memoizedProps;if((p=_A(p,g))&&ve===A)g.stateNode=k;else{var Oe=g.stateNode,Ze=Xs(Vo.current),ut=null;ve!==A&&(ut=j(Oe,w,ve,A,I,Ze)),p&&ut===null?g.stateNode=k:(k=tt(k,ut,w,ve,A,g,p,Oe),oe(k,w,A,I,Ze)&&Ks(g),g.stateNode=k,p?Ks(g):fh(k,g,!1,!1))}},Ag=function(p,g,w,A){w!==A?(p=Xs(Wc.current),w=Xs(Vo.current),g.stateNode=K(A,p,w,g),Ks(g)):g.stateNode=p.stateNode}}else dh=function(){},Tg=function(){},Ag=function(){};function hh(p,g){if(!cr)switch(p.tailMode){case"hidden":g=p.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:A.sibling=null}}function Mi(p){var g=p.alternate!==null&&p.alternate.child===p.child,w=0,A=0;if(g)for(var I=p.child;I!==null;)w|=I.lanes|I.childLanes,A|=I.subtreeFlags&14680064,A|=I.flags&14680064,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)w|=I.lanes|I.childLanes,A|=I.subtreeFlags,A|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=A,p.childLanes=w,g}function LB(p,g,w){var A=g.pendingProps;switch(nb(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(g),null;case 1:return En(g.type)&&zi(),Mi(g),null;case 3:return A=g.stateNode,jc(),Sn(Nn),Sn(qn),ub(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(p===null||p.child===null)&&(rh(g)?Ks(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,xs!==null&&(Ub(xs),xs=null))),dh(p,g),Mi(g),null;case 5:ab(g),w=Xs(Wc.current);var I=g.type;if(p!==null&&g.stateNode!=null)Tg(p,g,I,A,w),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!A){if(g.stateNode===null)throw Error(s(166));return Mi(g),null}if(p=Xs(Vo.current),rh(g)){if(!ge)throw Error(s(175));p=mn(g.stateNode,g.type,g.memoizedProps,w,p,g,!nh),g.updateQueue=p,p!==null&&Ks(g)}else{var k=$(I,A,w,p,g);fh(k,g,!1,!1),g.stateNode=k,oe(k,I,A,w,p)&&Ks(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Mi(g),null;case 6:if(p&&g.stateNode!=null)Ag(p,g,p.memoizedProps,A);else{if(typeof A!="string"&&g.stateNode===null)throw Error(s(166));if(p=Xs(Wc.current),w=Xs(Vo.current),rh(g)){if(!ge)throw Error(s(176));if(p=g.stateNode,A=g.memoizedProps,(w=ce(p,A,g,!nh))&&(I=xo,I!==null))switch(k=(I.mode&1)!==0,I.tag){case 3:kt(I.stateNode.containerInfo,p,A,k);break;case 5:$t(I.type,I.memoizedProps,I.stateNode,p,A,k)}w&&Ks(g)}else g.stateNode=K(A,p,w,g)}return Mi(g),null;case 13:if(Sn(vr),A=g.memoizedState,cr&&bo!==null&&g.mode&1&&!(g.flags&128)){for(p=bo;p;)p=xn(p);return Hc(),g.flags|=98560,g}if(A!==null&&A.dehydrated!==null){if(A=rh(g),p===null){if(!A)throw Error(s(318));if(!ge)throw Error(s(344));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));$e(p,g)}else Hc(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Mi(g),null}return xs!==null&&(Ub(xs),xs=null),g.flags&128?(g.lanes=w,g):(A=A!==null,w=!1,p===null?rh(g):w=p.memoizedState!==null,A&&!w&&(g.child.flags|=8192,g.mode&1&&(p===null||vr.current&1?Qr===0&&(Qr=3):zb())),g.updateQueue!==null&&(g.flags|=4),Mi(g),null);case 4:return jc(),dh(p,g),p===null&&Ie(g.stateNode.containerInfo),Mi(g),null;case 10:return Si(g.type._context),Mi(g),null;case 17:return En(g.type)&&zi(),Mi(g),null;case 19:if(Sn(vr),I=g.memoizedState,I===null)return Mi(g),null;if(A=(g.flags&128)!==0,k=I.rendering,k===null)if(A)hh(I,!1);else{if(Qr!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(k=yg(p),k!==null){for(g.flags|=128,hh(I,!1),p=k.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=w,A=g.child;A!==null;)w=A,I=p,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=I,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,I=k.dependencies,w.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),A=A.sibling;return Ft(vr,vr.current&1|2),g.child}p=p.sibling}I.tail!==null&&le()>Nb&&(g.flags|=128,A=!0,hh(I,!1),g.lanes=4194304)}else{if(!A)if(p=yg(k),p!==null){if(g.flags|=128,A=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),hh(I,!0),I.tail===null&&I.tailMode==="hidden"&&!k.alternate&&!cr)return Mi(g),null}else 2*le()-I.renderingStartTime>Nb&&w!==1073741824&&(g.flags|=128,A=!0,hh(I,!1),g.lanes=4194304);I.isBackwards?(k.sibling=g.child,g.child=k):(p=I.last,p!==null?p.sibling=k:g.child=k,I.last=k)}return I.tail!==null?(g=I.tail,I.rendering=g,I.tail=g.sibling,I.renderingStartTime=le(),g.sibling=null,p=vr.current,Ft(vr,A?p&1|2:p&1),g):(Mi(g),null);case 22:case 23:return Bb(),A=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==A&&(g.flags|=8192),A&&g.mode&1?So&1073741824&&(Mi(g),Ae&&g.subtreeFlags&6&&(g.flags|=8192)):Mi(g),null;case 24:return null;case 25:return null}throw Error(s(156,g.tag))}var kB=l.ReactCurrentOwner,_o=!1;function Hi(p,g,w,A){g.child=p===null?KT(g,null,w,A):Vc(g,p.child,w,A)}function wA(p,g,w,A,I){w=w.render;var k=g.ref;return Fr(g,I),A=fb(p,g,w,A,k,I),w=db(),p!==null&&!_o?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~I,Pa(p,g,I)):(cr&&w&&tb(g),g.flags|=1,Hi(p,g,A,I),g.child)}function EA(p,g,w,A,I){if(p===null){var k=w.type;return typeof k=="function"&&!Gb(k)&&k.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(g.tag=15,g.type=k,MA(p,g,k,A,I)):(p=Xg(w.type,null,A,g,g.mode,I),p.ref=g.ref,p.return=g,g.child=p)}if(k=p.child,!(p.lanes&I)){var ve=k.memoizedProps;if(w=w.compare,w=w!==null?w:tr,w(ve,A)&&p.ref===g.ref)return Pa(p,g,I)}return g.flags|=1,p=gl(k,A),p.ref=g.ref,p.return=g,g.child=p}function MA(p,g,w,A,I){if(p!==null&&tr(p.memoizedProps,A)&&p.ref===g.ref)if(_o=!1,(p.lanes&I)!==0)p.flags&131072&&(_o=!0);else return g.lanes=p.lanes,Pa(p,g,I);return yb(p,g,w,A,I)}function TA(p,g,w){var A=g.pendingProps,I=A.children,k=p!==null?p.memoizedState:null;if(A.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Ft(qc,So),So|=w;else if(w&1073741824)g.memoizedState={baseLanes:0,cachePool:null},A=k!==null?k.baseLanes:w,Ft(qc,So),So|=A;else return p=k!==null?k.baseLanes|w:w,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null},g.updateQueue=null,Ft(qc,So),So|=p,null;else k!==null?(A=k.baseLanes|w,g.memoizedState=null):A=w,Ft(qc,So),So|=A;return Hi(p,g,I,w),g.child}function AA(p,g){var w=g.ref;(p===null&&w!==null||p!==null&&p.ref!==w)&&(g.flags|=512,g.flags|=2097152)}function yb(p,g,w,A,I){var k=En(w)?Gr:qn.current;return k=Hn(g,k),Fr(g,I),w=fb(p,g,w,A,k,I),A=db(),p!==null&&!_o?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~I,Pa(p,g,I)):(cr&&A&&tb(g),g.flags|=1,Hi(p,g,w,I),g.child)}function CA(p,g,w,A,I){if(En(w)){var k=!0;Gi(g)}else k=!1;if(Fr(g,I),g.stateNode===null)p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),HT(g,w,A),eb(g,w,A,I),A=!0;else if(p===null){var ve=g.stateNode,Oe=g.memoizedProps;ve.props=Oe;var Ze=ve.context,ut=w.contextType;typeof ut=="object"&&ut!==null?ut=Vn(ut):(ut=En(w)?Gr:qn.current,ut=Hn(g,ut));var Tt=w.getDerivedStateFromProps,Yt=typeof Tt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";Yt||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Oe!==A||Ze!==ut)&&VT(g,ve,A,ut),ys=!1;var Ut=g.memoizedState;ve.state=Ut,hg(g,A,ve,I),Ze=g.memoizedState,Oe!==A||Ut!==Ze||Nn.current||ys?(typeof Tt=="function"&&(Zx(g,w,Tt,A),Ze=g.memoizedState),(Oe=ys||GT(g,w,Oe,A,Ut,Ze,ut))?(Yt||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=A,g.memoizedState=Ze),ve.props=A,ve.state=Ze,ve.context=ut,A=Oe):(typeof ve.componentDidMount=="function"&&(g.flags|=4194308),A=!1)}else{ve=g.stateNode,DT(p,g),Oe=g.memoizedProps,ut=g.type===g.elementType?Oe:dn(g.type,Oe),ve.props=ut,Yt=g.pendingProps,Ut=ve.context,Ze=w.contextType,typeof Ze=="object"&&Ze!==null?Ze=Vn(Ze):(Ze=En(w)?Gr:qn.current,Ze=Hn(g,Ze));var Qn=w.getDerivedStateFromProps;(Tt=typeof Qn=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Oe!==Yt||Ut!==Ze)&&VT(g,ve,A,Ze),ys=!1,Ut=g.memoizedState,ve.state=Ut,hg(g,A,ve,I);var It=g.memoizedState;Oe!==Yt||Ut!==It||Nn.current||ys?(typeof Qn=="function"&&(Zx(g,w,Qn,A),It=g.memoizedState),(ut=ys||GT(g,w,ut,A,Ut,It,Ze)||!1)?(Tt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(A,It,Ze),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(A,It,Ze)),typeof ve.componentDidUpdate=="function"&&(g.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Oe===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Oe===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=1024),g.memoizedProps=A,g.memoizedState=It),ve.props=A,ve.state=It,ve.context=Ze,A=ut):(typeof ve.componentDidUpdate!="function"||Oe===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Oe===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=1024),A=!1)}return xb(p,g,w,A,k,I)}function xb(p,g,w,A,I,k){AA(p,g);var ve=(g.flags&128)!==0;if(!A&&!ve)return I&&ds(g,w,!1),Pa(p,g,k);A=g.stateNode,kB.current=g;var Oe=ve&&typeof w.getDerivedStateFromError!="function"?null:A.render();return g.flags|=1,p!==null&&ve?(g.child=Vc(g,p.child,null,k),g.child=Vc(g,null,Oe,k)):Hi(p,g,Oe,k),g.memoizedState=A.state,I&&ds(g,w,!0),g.child}function RA(p){var g=p.stateNode;g.pendingContext?Mt(p,g.pendingContext,g.pendingContext!==g.context):g.context&&Mt(p,g.context,!1),sb(p,g.containerInfo)}function PA(p,g,w,A,I){return Hc(),ob(I),g.flags|=256,Hi(p,g,w,A),g.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function Rg(p){return{baseLanes:p,cachePool:null}}function IA(p,g,w){var A=g.pendingProps,I=vr.current,k=!1,ve=(g.flags&128)!==0,Oe;if((Oe=ve)||(Oe=p!==null&&p.memoizedState===null?!1:(I&2)!==0),Oe?(k=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(I|=1),Ft(vr,I&1),p===null)return ib(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(g.mode&1?Pn(p)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(I=A.children,p=A.fallback,k?(A=g.mode,k=g.child,I={mode:"hidden",children:I},!(A&1)&&k!==null?(k.childLanes=0,k.pendingProps=I):k=Yg(I,A,0,null),p=Tu(p,A,w,null),k.return=g,p.return=g,k.sibling=p,g.child=k,g.child.memoizedState=Rg(w),g.memoizedState=Cg,p):bb(g,I));if(I=p.memoizedState,I!==null){if(Oe=I.dehydrated,Oe!==null){if(ve)return g.flags&256?(g.flags&=-257,Pg(p,g,w,Error(s(422)))):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(k=A.fallback,I=g.mode,A=Yg({mode:"visible",children:A.children},I,0,null),k=Tu(k,I,w,null),k.flags|=2,A.return=g,k.return=g,A.sibling=k,g.child=A,g.mode&1&&Vc(g,p.child,null,w),g.child.memoizedState=Rg(w),g.memoizedState=Cg,k);if(!(g.mode&1))g=Pg(p,g,w,null);else if(Pn(Oe))g=Pg(p,g,w,Error(s(419)));else if(A=(w&p.childLanes)!==0,_o||A){if(A=Vr,A!==null){switch(w&-w){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}A=k&(A.suspendedLanes|w)?0:k,A!==0&&A!==I.retryLane&&(I.retryLane=A,jo(p,A,-1))}zb(),g=Pg(p,g,w,Error(s(421)))}else fn(Oe)?(g.flags|=128,g.child=p.child,g=$B.bind(null,p),gr(Oe,g),g=null):(w=I.treeContext,ge&&(bo=or(Oe),xo=g,cr=!0,xs=null,nh=!1,w!==null&&(Go[Ho++]=Aa,Go[Ho++]=Ca,Go[Ho++]=yu,Aa=w.id,Ca=w.overflow,yu=g)),g=bb(g,g.pendingProps.children),g.flags|=4096);return g}return k?(A=kA(p,g,A.children,A.fallback,w),k=g.child,I=p.child.memoizedState,k.memoizedState=I===null?Rg(w):{baseLanes:I.baseLanes|w,cachePool:null},k.childLanes=p.childLanes&~w,g.memoizedState=Cg,A):(w=LA(p,g,A.children,w),g.memoizedState=null,w)}return k?(A=kA(p,g,A.children,A.fallback,w),k=g.child,I=p.child.memoizedState,k.memoizedState=I===null?Rg(w):{baseLanes:I.baseLanes|w,cachePool:null},k.childLanes=p.childLanes&~w,g.memoizedState=Cg,A):(w=LA(p,g,A.children,w),g.memoizedState=null,w)}function bb(p,g){return g=Yg({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function LA(p,g,w,A){var I=p.child;return p=I.sibling,w=gl(I,{mode:"visible",children:w}),!(g.mode&1)&&(w.lanes=A),w.return=g,w.sibling=null,p!==null&&(A=g.deletions,A===null?(g.deletions=[p],g.flags|=16):A.push(p)),g.child=w}function kA(p,g,w,A,I){var k=g.mode;p=p.child;var ve=p.sibling,Oe={mode:"hidden",children:w};return!(k&1)&&g.child!==p?(w=g.child,w.childLanes=0,w.pendingProps=Oe,g.deletions=null):(w=gl(p,Oe),w.subtreeFlags=p.subtreeFlags&14680064),ve!==null?A=gl(ve,A):(A=Tu(A,k,I,null),A.flags|=2),A.return=g,w.return=g,w.sibling=A,g.child=w,A}function Pg(p,g,w,A){return A!==null&&ob(A),Vc(g,p.child,null,w),p=bb(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function NA(p,g,w){p.lanes|=g;var A=p.alternate;A!==null&&(A.lanes|=g),sr(p.return,g,w)}function _b(p,g,w,A,I){var k=p.memoizedState;k===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:I}:(k.isBackwards=g,k.rendering=null,k.renderingStartTime=0,k.last=A,k.tail=w,k.tailMode=I)}function OA(p,g,w){var A=g.pendingProps,I=A.revealOrder,k=A.tail;if(Hi(p,g,A.children,w),A=vr.current,A&2)A=A&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&NA(p,w,g);else if(p.tag===19)NA(p,w,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}A&=1}if(Ft(vr,A),!(g.mode&1))g.memoizedState=null;else switch(I){case"forwards":for(w=g.child,I=null;w!==null;)p=w.alternate,p!==null&&yg(p)===null&&(I=w),w=w.sibling;w=I,w===null?(I=g.child,g.child=null):(I=w.sibling,w.sibling=null),_b(g,!1,I,w,k);break;case"backwards":for(w=null,I=g.child,g.child=null;I!==null;){if(p=I.alternate,p!==null&&yg(p)===null){g.child=I;break}p=I.sibling,I.sibling=w,w=I,I=p}_b(g,!0,w,null,k);break;case"together":_b(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Pa(p,g,w){if(p!==null&&(g.dependencies=p.dependencies),Xc|=g.lanes,!(w&g.childLanes))return null;if(p!==null&&g.child!==p.child)throw Error(s(153));if(g.child!==null){for(p=g.child,w=gl(p,p.pendingProps),g.child=w,w.return=g;p.sibling!==null;)p=p.sibling,w=w.sibling=gl(p,p.pendingProps),w.return=g;w.sibling=null}return g.child}function NB(p,g,w){switch(g.tag){case 3:RA(g),Hc();break;case 5:QT(g);break;case 1:En(g.type)&&Gi(g);break;case 4:sb(g,g.stateNode.containerInfo);break;case 10:yo(g,g.type._context,g.memoizedProps.value);break;case 13:var A=g.memoizedState;if(A!==null)return A.dehydrated!==null?(Ft(vr,vr.current&1),g.flags|=128,null):w&g.child.childLanes?IA(p,g,w):(Ft(vr,vr.current&1),p=Pa(p,g,w),p!==null?p.sibling:null);Ft(vr,vr.current&1);break;case 19:if(A=(w&g.childLanes)!==0,p.flags&128){if(A)return OA(p,g,w);g.flags|=128}var I=g.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Ft(vr,vr.current),A)break;return null;case 22:case 23:return g.lanes=0,TA(p,g,w)}return Pa(p,g,w)}function OB(p,g){switch(nb(g),g.tag){case 1:return En(g.type)&&zi(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return jc(),Sn(Nn),Sn(qn),ub(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 5:return ab(g),null;case 13:if(Sn(vr),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(s(340));Hc()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return Sn(vr),null;case 4:return jc(),null;case 10:return Si(g.type._context),null;case 22:case 23:return Bb(),null;case 24:return null;default:return null}}var Ig=!1,_u=!1,FB=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Lg(p,g){var w=p.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){no(p,g,A)}else w.current=null}function Sb(p,g,w){try{w()}catch(A){no(p,g,A)}}var FA=!1;function DB(p,g){for(F(p.containerInfo),gt=g;gt!==null;)if(p=gt,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,gt=g;else for(;gt!==null;){p=gt;try{var w=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,I=w.memoizedState,k=p.stateNode,ve=k.getSnapshotBeforeUpdate(p.elementType===p.type?A:dn(p.type,A),I);k.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:Ae&&Ye(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Oe){no(p,p.return,Oe)}if(g=p.sibling,g!==null){g.return=p.return,gt=g;break}gt=p.return}return w=FA,FA=!1,w}function Su(p,g,w){var A=g.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var I=A=A.next;do{if((I.tag&p)===p){var k=I.destroy;I.destroy=void 0,k!==void 0&&Sb(g,w,k)}I=I.next}while(I!==A)}}function ph(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&p)===p){var A=w.create;w.destroy=A()}w=w.next}while(w!==g)}}function wb(p){var g=p.ref;if(g!==null){var w=p.stateNode;switch(p.tag){case 5:p=Z(w);break;default:p=w}typeof g=="function"?g(p):g.current=p}}function DA(p,g,w){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(De,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(p=g.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var A=p=p.next;do{var I=A,k=I.destroy;I=I.tag,k!==void 0&&(I&2||I&4)&&Sb(g,w,k),A=A.next}while(A!==p)}break;case 1:if(Lg(g,w),p=g.stateNode,typeof p.componentWillUnmount=="function")try{p.props=g.memoizedProps,p.state=g.memoizedState,p.componentWillUnmount()}catch(ve){no(g,w,ve)}break;case 5:Lg(g,w);break;case 4:Ae?VA(p,g,w):H&&H&&(g=g.stateNode.containerInfo,w=vt(g),Gt(g,w))}}function UA(p,g,w){for(var A=g;;)if(DA(p,A,w),A.child===null||Ae&&A.tag===4){if(A===g)break;for(;A.sibling===null;){if(A.return===null||A.return===g)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function BA(p){var g=p.alternate;g!==null&&(p.alternate=null,BA(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&We(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function zA(p){return p.tag===5||p.tag===3||p.tag===4}function GA(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||zA(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function HA(p){if(Ae){e:{for(var g=p.return;g!==null;){if(zA(g))break e;g=g.return}throw Error(s(160))}var w=g;switch(w.tag){case 5:g=w.stateNode,w.flags&32&&(Ue(g),w.flags&=-33),w=GA(p),Mb(p,w,g);break;case 3:case 4:g=w.stateNode.containerInfo,w=GA(p),Eb(p,w,g);break;default:throw Error(s(161))}}}function Eb(p,g,w){var A=p.tag;if(A===5||A===6)p=p.stateNode,g?de(w,p,g):ye(w,p);else if(A!==4&&(p=p.child,p!==null))for(Eb(p,g,w),p=p.sibling;p!==null;)Eb(p,g,w),p=p.sibling}function Mb(p,g,w){var A=p.tag;if(A===5||A===6)p=p.stateNode,g?ae(w,p,g):_e(w,p);else if(A!==4&&(p=p.child,p!==null))for(Mb(p,g,w),p=p.sibling;p!==null;)Mb(p,g,w),p=p.sibling}function VA(p,g,w){for(var A=g,I=!1,k,ve;;){if(!I){I=A.return;e:for(;;){if(I===null)throw Error(s(160));switch(k=I.stateNode,I.tag){case 5:ve=!1;break e;case 3:k=k.containerInfo,ve=!0;break e;case 4:k=k.containerInfo,ve=!0;break e}I=I.return}I=!0}if(A.tag===5||A.tag===6)UA(p,A,w),ve?me(k,A.stateNode):he(k,A.stateNode);else if(A.tag===18)ve?Pt(k,A.stateNode):mt(k,A.stateNode);else if(A.tag===4){if(A.child!==null){k=A.stateNode.containerInfo,ve=!0,A.child.return=A,A=A.child;continue}}else if(DA(p,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===g)break;for(;A.sibling===null;){if(A.return===null||A.return===g)return;A=A.return,A.tag===4&&(I=!1)}A.sibling.return=A.return,A=A.sibling}}function Tb(p,g){if(Ae){switch(g.tag){case 0:case 11:case 14:case 15:Su(3,g,g.return),ph(3,g),Su(5,g,g.return);return;case 1:return;case 5:var w=g.stateNode;if(w!=null){var A=g.memoizedProps;p=p!==null?p.memoizedProps:A;var I=g.type,k=g.updateQueue;g.updateQueue=null,k!==null&&be(w,k,I,p,A,g)}return;case 6:if(g.stateNode===null)throw Error(s(162));w=g.memoizedProps,we(g.stateNode,p!==null?p.memoizedProps:w,w);return;case 3:ge&&p!==null&&p.memoizedState.isDehydrated&&Ve(g.stateNode.containerInfo);return;case 12:return;case 13:kg(g);return;case 19:kg(g);return;case 17:return}throw Error(s(163))}switch(g.tag){case 0:case 11:case 14:case 15:Su(3,g,g.return),ph(3,g),Su(5,g,g.return);return;case 12:return;case 13:kg(g);return;case 19:kg(g);return;case 3:ge&&p!==null&&p.memoizedState.isDehydrated&&Ve(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(H){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,Gt(g.containerInfo,g.pendingChildren);break e}throw Error(s(163))}}function kg(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var w=p.stateNode;w===null&&(w=p.stateNode=new FB),g.forEach(function(A){var I=qB.bind(null,p,A);w.has(A)||(w.add(A),A.then(I,I))})}}function UB(p,g){for(gt=g;gt!==null;){g=gt;var w=g.deletions;if(w!==null)for(var A=0;A<w.length;A++){var I=w[A];try{var k=p;Ae?VA(k,I,g):UA(k,I,g);var ve=I.alternate;ve!==null&&(ve.return=null),I.return=null}catch(Rt){no(I,g,Rt)}}if(w=g.child,g.subtreeFlags&12854&&w!==null)w.return=g,gt=w;else for(;gt!==null;){g=gt;try{var Oe=g.flags;if(Oe&32&&Ae&&Ue(g.stateNode),Oe&512){var Ze=g.alternate;if(Ze!==null){var ut=Ze.ref;ut!==null&&(typeof ut=="function"?ut(null):ut.current=null)}}if(Oe&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var Tt=g.alternate;(Tt===null||Tt.memoizedState===null)&&(kb=le())}break;case 22:var Yt=g.memoizedState!==null,Ut=g.alternate,Qn=Ut!==null&&Ut.memoizedState!==null;if(w=g,Ae){e:if(A=w,I=Yt,k=null,Ae)for(var It=A;;){if(It.tag===5){if(k===null){k=It;var Ti=It.stateNode;I?Xe(Ti):Be(It.stateNode,It.memoizedProps)}}else if(It.tag===6){if(k===null){var qo=It.stateNode;I?ie(qo):Ee(qo,It.memoizedProps)}}else if((It.tag!==22&&It.tag!==23||It.memoizedState===null||It===A)&&It.child!==null){It.child.return=It,It=It.child;continue}if(It===A)break;for(;It.sibling===null;){if(It.return===null||It.return===A)break e;k===It&&(k=null),It=It.return}k===It&&(k=null),It.sibling.return=It.return,It=It.sibling}}if(Yt&&!Qn&&w.mode&1){gt=w;for(var qe=w.child;qe!==null;){for(w=gt=qe;gt!==null;){A=gt;var ze=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Su(4,A,A.return);break;case 1:Lg(A,A.return);var Qe=A.stateNode;if(typeof Qe.componentWillUnmount=="function"){var bt=A.return;try{Qe.props=A.memoizedProps,Qe.state=A.memoizedState,Qe.componentWillUnmount()}catch(Rt){no(A,bt,Rt)}}break;case 5:Lg(A,A.return);break;case 22:if(A.memoizedState!==null){$A(w);continue}}ze!==null?(ze.return=A,gt=ze):$A(w)}qe=qe.sibling}}}switch(Oe&4102){case 2:HA(g),g.flags&=-3;break;case 6:HA(g),g.flags&=-3,Tb(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,Tb(g.alternate,g);break;case 4:Tb(g.alternate,g)}}catch(Rt){no(g,g.return,Rt)}if(w=g.sibling,w!==null){w.return=g.return,gt=w;break}gt=g.return}}}function BB(p,g,w){gt=p,WA(p)}function WA(p,g,w){for(var A=(p.mode&1)!==0;gt!==null;){var I=gt,k=I.child;if(I.tag===22&&A){var ve=I.memoizedState!==null||Ig;if(!ve){var Oe=I.alternate,Ze=Oe!==null&&Oe.memoizedState!==null||_u;Oe=Ig;var ut=_u;if(Ig=ve,(_u=Ze)&&!ut)for(gt=I;gt!==null;)ve=gt,Ze=ve.child,ve.tag===22&&ve.memoizedState!==null?qA(I):Ze!==null?(Ze.return=ve,gt=Ze):qA(I);for(;k!==null;)gt=k,WA(k),k=k.sibling;gt=I,Ig=Oe,_u=ut}jA(p)}else I.subtreeFlags&8772&&k!==null?(k.return=I,gt=k):jA(p)}}function jA(p){for(;gt!==null;){var g=gt;if(g.flags&8772){var w=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:_u||ph(5,g);break;case 1:var A=g.stateNode;if(g.flags&4&&!_u)if(w===null)A.componentDidMount();else{var I=g.elementType===g.type?w.memoizedProps:dn(g.type,w.memoizedProps);A.componentDidUpdate(I,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var k=g.updateQueue;k!==null&&BT(g,k,A);break;case 3:var ve=g.updateQueue;if(ve!==null){if(w=null,g.child!==null)switch(g.child.tag){case 5:w=Z(g.child.stateNode);break;case 1:w=g.child.stateNode}BT(g,ve,w)}break;case 5:var Oe=g.stateNode;w===null&&g.flags&4&&Se(Oe,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(ge&&g.memoizedState===null){var Ze=g.alternate;if(Ze!==null){var ut=Ze.memoizedState;if(ut!==null){var Tt=ut.dehydrated;Tt!==null&&et(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}_u||g.flags&512&&wb(g)}catch(Yt){no(g,g.return,Yt)}}if(g===p){gt=null;break}if(w=g.sibling,w!==null){w.return=g.return,gt=w;break}gt=g.return}}function $A(p){for(;gt!==null;){var g=gt;if(g===p){gt=null;break}var w=g.sibling;if(w!==null){w.return=g.return,gt=w;break}gt=g.return}}function qA(p){for(;gt!==null;){var g=gt;try{switch(g.tag){case 0:case 11:case 15:var w=g.return;try{ph(4,g)}catch(Ze){no(g,w,Ze)}break;case 1:var A=g.stateNode;if(typeof A.componentDidMount=="function"){var I=g.return;try{A.componentDidMount()}catch(Ze){no(g,I,Ze)}}var k=g.return;try{wb(g)}catch(Ze){no(g,k,Ze)}break;case 5:var ve=g.return;try{wb(g)}catch(Ze){no(g,ve,Ze)}}}catch(Ze){no(g,g.return,Ze)}if(g===p){gt=null;break}var Oe=g.sibling;if(Oe!==null){Oe.return=g.return,gt=Oe;break}gt=g.return}}var Ng=0,Og=1,Fg=2,Dg=3,Ug=4;if(typeof Symbol=="function"&&Symbol.for){var mh=Symbol.for;Ng=mh("selector.component"),Og=mh("selector.has_pseudo_class"),Fg=mh("selector.role"),Dg=mh("selector.test_id"),Ug=mh("selector.text")}function Ab(p){var g=Me(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(s(364));return g}if(p=Ne(p),p===null)throw Error(s(362));return p.stateNode.current}function Cb(p,g){switch(g.$$typeof){case Ng:if(p.type===g.value)return!0;break;case Og:e:{g=g.value,p=[p,0];for(var w=0;w<p.length;){var A=p[w++],I=p[w++],k=g[I];if(A.tag!==5||!N(A)){for(;k!=null&&Cb(A,k);)I++,k=g[I];if(I===g.length){g=!0;break e}else for(A=A.child;A!==null;)p.push(A,I),A=A.sibling}}g=!1}return g;case Fg:if(p.tag===5&&se(p.stateNode,g.value))return!0;break;case Ug:if((p.tag===5||p.tag===6)&&(p=Q(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case Dg:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Rb(p){switch(p.$$typeof){case Ng:return"<"+(T(p.value)||"Unknown")+">";case Og:return":has("+(Rb(p)||"")+")";case Fg:return'[role="'+p.value+'"]';case Ug:return'"'+p.value+'"';case Dg:return'[data-testname="'+p.value+'"]';default:throw Error(s(365))}}function XA(p,g){var w=[];p=[p,0];for(var A=0;A<p.length;){var I=p[A++],k=p[A++],ve=g[k];if(I.tag!==5||!N(I)){for(;ve!=null&&Cb(I,ve);)k++,ve=g[k];if(k===g.length)w.push(I);else for(I=I.child;I!==null;)p.push(I,k),I=I.sibling}}return w}function Pb(p,g){if(!He)throw Error(s(363));p=Ab(p),p=XA(p,g),g=[],p=Array.from(p);for(var w=0;w<p.length;){var A=p[w++];if(A.tag===5)N(A)||g.push(A.stateNode);else for(A=A.child;A!==null;)p.push(A),A=A.sibling}return g}var zB=Math.ceil,Bg=l.ReactCurrentDispatcher,Ib=l.ReactCurrentOwner,Dr=l.ReactCurrentBatchConfig,cn=0,Vr=null,Wr=null,pi=0,So=0,qc=zt(0),Qr=0,gh=null,Xc=0,zg=0,Lb=0,vh=null,eo=null,kb=0,Nb=1/0;function Yc(){Nb=le()+500}var Gg=!1,Ob=null,dl=null,Hg=!1,hl=null,Vg=0,yh=0,Fb=null,Wg=-1,jg=0;function Vi(){return cn&6?le():Wg!==-1?Wg:Wg=le()}function pl(p){return p.mode&1?cn&2&&pi!==0?pi&-pi:Bn.transition!==null?(jg===0&&(p=hs,hs<<=1,!(hs&4194240)&&(hs=64),jg=p),jg):(p=sn,p!==0?p:Re()):1}function jo(p,g,w){if(50<yh)throw yh=0,Fb=null,Error(s(185));var A=$g(p,g);return A===null?null:(Bo(A,g,w),(!(cn&2)||A!==Vr)&&(A===Vr&&(!(cn&2)&&(zg|=g),Qr===4&&ml(A,pi)),to(A,w),g===1&&cn===0&&!(p.mode&1)&&(Yc(),an&&wn())),A)}function $g(p,g){p.lanes|=g;var w=p.alternate;for(w!==null&&(w.lanes|=g),w=p,p=p.return;p!==null;)p.childLanes|=g,w=p.alternate,w!==null&&(w.childLanes|=g),w=p,p=p.return;return w.tag===3?w.stateNode:null}function to(p,g){var w=p.callbackNode;gu(p,g);var A=Ma(p,p===Vr?pi:0);if(A===0)w!==null&&cl(w),p.callbackNode=null,p.callbackPriority=0;else if(g=A&-A,p.callbackPriority!==g){if(w!=null&&cl(w),g===1)p.tag===0?Mn(KA.bind(null,p)):Or(KA.bind(null,p)),ke?je(function(){cn===0&&wn()}):vs(ee,wn),w=null;else{switch(vu(A)){case 1:w=ee;break;case 4:w=re;break;case 16:w=Ce;break;case 536870912:w=Fe;break;default:w=Ce}w=oC(w,YA.bind(null,p))}p.callbackPriority=g,p.callbackNode=w}}function YA(p,g){if(Wg=-1,jg=0,cn&6)throw Error(s(327));var w=p.callbackNode;if(Mu()&&p.callbackNode!==w)return null;var A=Ma(p,p===Vr?pi:0);if(A===0)return null;if(A&30||A&p.expiredLanes||g)g=qg(p,A);else{g=A;var I=cn;cn|=2;var k=ZA();(Vr!==p||pi!==g)&&(Yc(),wu(p,g));do try{VB();break}catch(Oe){JA(p,Oe)}while(1);Yr(),Bg.current=k,cn=I,Wr!==null?g=0:(Vr=null,pi=0,g=Qr)}if(g!==0){if(g===2&&(I=gs(p),I!==0&&(A=I,g=Db(p,I))),g===1)throw w=gh,wu(p,0),ml(p,A),to(p,le()),w;if(g===6)ml(p,A);else{if(I=p.current.alternate,!(A&30)&&!GB(I)&&(g=qg(p,A),g===2&&(k=gs(p),k!==0&&(A=k,g=Db(p,k))),g===1))throw w=gh,wu(p,0),ml(p,A),to(p,le()),w;switch(p.finishedWork=I,p.finishedLanes=A,g){case 0:case 1:throw Error(s(345));case 2:Eu(p,eo);break;case 3:if(ml(p,A),(A&130023424)===A&&(g=kb+500-le(),10<g)){if(Ma(p,0)!==0)break;if(I=p.suspendedLanes,(I&A)!==A){Vi(),p.pingedLanes|=p.suspendedLanes&I;break}p.timeoutHandle=fe(Eu.bind(null,p,eo),g);break}Eu(p,eo);break;case 4:if(ml(p,A),(A&4194240)===A)break;for(g=p.eventTimes,I=-1;0<A;){var ve=31-Hr(A);k=1<<ve,ve=g[ve],ve>I&&(I=ve),A&=~k}if(A=I,A=le()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*zB(A/1960))-A,10<A){p.timeoutHandle=fe(Eu.bind(null,p,eo),A);break}Eu(p,eo);break;case 5:Eu(p,eo);break;default:throw Error(s(329))}}}return to(p,le()),p.callbackNode===w?YA.bind(null,p):null}function Db(p,g){var w=vh;return p.current.memoizedState.isDehydrated&&(wu(p,g).flags|=256),p=qg(p,g),p!==2&&(g=eo,eo=w,g!==null&&Ub(g)),p}function Ub(p){eo===null?eo=p:eo.push.apply(eo,p)}function GB(p){for(var g=p;;){if(g.flags&16384){var w=g.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var I=w[A],k=I.getSnapshot;I=I.value;try{if(!ht(k(),I))return!1}catch{return!1}}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function ml(p,g){for(g&=~Lb,g&=~zg,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var w=31-Hr(g),A=1<<w;p[w]=-1,g&=~A}}function KA(p){if(cn&6)throw Error(s(327));Mu();var g=Ma(p,0);if(!(g&1))return to(p,le()),null;var w=qg(p,g);if(p.tag!==0&&w===2){var A=gs(p);A!==0&&(g=A,w=Db(p,A))}if(w===1)throw w=gh,wu(p,0),ml(p,g),to(p,le()),w;if(w===6)throw Error(s(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,Eu(p,eo),to(p,le()),null}function QA(p){hl!==null&&hl.tag===0&&!(cn&6)&&Mu();var g=cn;cn|=1;var w=Dr.transition,A=sn;try{if(Dr.transition=null,sn=1,p)return p()}finally{sn=A,Dr.transition=w,cn=g,!(cn&6)&&wn()}}function Bb(){So=qc.current,Sn(qc)}function wu(p,g){p.finishedWork=null,p.finishedLanes=0;var w=p.timeoutHandle;if(w!==xe&&(p.timeoutHandle=xe,pe(w)),Wr!==null)for(w=Wr.return;w!==null;){var A=w;switch(nb(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&zi();break;case 3:jc(),Sn(Nn),Sn(qn),ub();break;case 5:ab(A);break;case 4:jc();break;case 13:Sn(vr);break;case 19:Sn(vr);break;case 10:Si(A.type._context);break;case 22:case 23:Bb()}w=w.return}if(Vr=p,Wr=p=gl(p.current,null),pi=So=g,Qr=0,gh=null,Lb=zg=Xc=0,eo=vh=null,Kr!==null){for(g=0;g<Kr.length;g++)if(w=Kr[g],A=w.interleaved,A!==null){w.interleaved=null;var I=A.next,k=w.pending;if(k!==null){var ve=k.next;k.next=I,A.next=ve}w.pending=A}Kr=null}return p}function JA(p,g){do{var w=Wr;try{if(Yr(),xg.current=Mg,bg){for(var A=Tr.memoizedState;A!==null;){var I=A.queue;I!==null&&(I.pending=null),A=A.next}bg=!1}if($c=0,ai=wi=Tr=null,ah=!1,lh=0,Ib.current=null,w===null||w.return===null){Qr=1,gh=g,Wr=null;break}e:{var k=p,ve=w.return,Oe=w,Ze=g;if(g=pi,Oe.flags|=32768,Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var ut=Ze,Tt=Oe,Yt=Tt.tag;if(!(Tt.mode&1)&&(Yt===0||Yt===11||Yt===15)){var Ut=Tt.alternate;Ut?(Tt.updateQueue=Ut.updateQueue,Tt.memoizedState=Ut.memoizedState,Tt.lanes=Ut.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Qn=xA(ve);if(Qn!==null){Qn.flags&=-257,bA(Qn,ve,Oe,k,g),Qn.mode&1&&yA(k,ut,g),g=Qn,Ze=ut;var It=g.updateQueue;if(It===null){var Ti=new Set;Ti.add(Ze),g.updateQueue=Ti}else It.add(Ze);break e}else{if(!(g&1)){yA(k,ut,g),zb();break e}Ze=Error(s(426))}}else if(cr&&Oe.mode&1){var qo=xA(ve);if(qo!==null){!(qo.flags&65536)&&(qo.flags|=256),bA(qo,ve,Oe,k,g),ob(Ze);break e}}k=Ze,Qr!==4&&(Qr=2),vh===null?vh=[k]:vh.push(k),Ze=gb(Ze,Oe),Oe=ve;do{switch(Oe.tag){case 3:Oe.flags|=65536,g&=-g,Oe.lanes|=g;var qe=gA(Oe,Ze,g);UT(Oe,qe);break e;case 1:k=Ze;var ze=Oe.type,Qe=Oe.stateNode;if(!(Oe.flags&128)&&(typeof ze.getDerivedStateFromError=="function"||Qe!==null&&typeof Qe.componentDidCatch=="function"&&(dl===null||!dl.has(Qe)))){Oe.flags|=65536,g&=-g,Oe.lanes|=g;var bt=vA(Oe,k,g);UT(Oe,bt);break e}}Oe=Oe.return}while(Oe!==null)}tC(w)}catch(Rt){g=Rt,Wr===w&&w!==null&&(Wr=w=w.return);continue}break}while(1)}function ZA(){var p=Bg.current;return Bg.current=Mg,p===null?Mg:p}function zb(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),Vr===null||!(Xc&268435455)&&!(zg&268435455)||ml(Vr,pi)}function qg(p,g){var w=cn;cn|=2;var A=ZA();Vr===p&&pi===g||wu(p,g);do try{HB();break}catch(I){JA(p,I)}while(1);if(Yr(),cn=w,Bg.current=A,Wr!==null)throw Error(s(261));return Vr=null,pi=0,Qr}function HB(){for(;Wr!==null;)eC(Wr)}function VB(){for(;Wr!==null&&!B();)eC(Wr)}function eC(p){var g=iC(p.alternate,p,So);p.memoizedProps=p.pendingProps,g===null?tC(p):Wr=g,Ib.current=null}function tC(p){var g=p;do{var w=g.alternate;if(p=g.return,g.flags&32768){if(w=OB(w,g),w!==null){w.flags&=32767,Wr=w;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Qr=6,Wr=null;return}}else if(w=LB(w,g,So),w!==null){Wr=w;return}if(g=g.sibling,g!==null){Wr=g;return}Wr=g=p}while(g!==null);Qr===0&&(Qr=5)}function Eu(p,g){var w=sn,A=Dr.transition;try{Dr.transition=null,sn=1,WB(p,g,w)}finally{Dr.transition=A,sn=w}return null}function WB(p,g,w){do Mu();while(hl!==null);if(cn&6)throw Error(s(327));var A=p.finishedWork,I=p.finishedLanes;if(A===null)return null;if(p.finishedWork=null,p.finishedLanes=0,A===p.current)throw Error(s(177));p.callbackNode=null,p.callbackPriority=0;var k=A.lanes|A.childLanes;if(qs(p,k),p===Vr&&(Wr=Vr=null,pi=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Hg||(Hg=!0,oC(Ce,function(){return Mu(),null})),k=(A.flags&15990)!==0,A.subtreeFlags&15990||k){k=Dr.transition,Dr.transition=null;var ve=sn;sn=1;var Oe=cn;cn|=4,Ib.current=null,DB(p,A),UB(p,A),G(p.containerInfo),p.current=A,BB(A),J(),cn=Oe,sn=ve,Dr.transition=k}else p.current=A;if(Hg&&(Hg=!1,hl=p,Vg=I),k=p.pendingLanes,k===0&&(dl=null),ot(A.stateNode),to(p,le()),g!==null)for(w=p.onRecoverableError,A=0;A<g.length;A++)w(g[A]);if(Gg)throw Gg=!1,p=Ob,Ob=null,p;return Vg&1&&p.tag!==0&&Mu(),k=p.pendingLanes,k&1?p===Fb?yh++:(yh=0,Fb=p):yh=0,wn(),null}function Mu(){if(hl!==null){var p=vu(Vg),g=Dr.transition,w=sn;try{if(Dr.transition=null,sn=16>p?16:p,hl===null)var A=!1;else{if(p=hl,hl=null,Vg=0,cn&6)throw Error(s(331));var I=cn;for(cn|=4,gt=p.current;gt!==null;){var k=gt,ve=k.child;if(gt.flags&16){var Oe=k.deletions;if(Oe!==null){for(var Ze=0;Ze<Oe.length;Ze++){var ut=Oe[Ze];for(gt=ut;gt!==null;){var Tt=gt;switch(Tt.tag){case 0:case 11:case 15:Su(8,Tt,k)}var Yt=Tt.child;if(Yt!==null)Yt.return=Tt,gt=Yt;else for(;gt!==null;){Tt=gt;var Ut=Tt.sibling,Qn=Tt.return;if(BA(Tt),Tt===ut){gt=null;break}if(Ut!==null){Ut.return=Qn,gt=Ut;break}gt=Qn}}}var It=k.alternate;if(It!==null){var Ti=It.child;if(Ti!==null){It.child=null;do{var qo=Ti.sibling;Ti.sibling=null,Ti=qo}while(Ti!==null)}}gt=k}}if(k.subtreeFlags&2064&&ve!==null)ve.return=k,gt=ve;else e:for(;gt!==null;){if(k=gt,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Su(9,k,k.return)}var qe=k.sibling;if(qe!==null){qe.return=k.return,gt=qe;break e}gt=k.return}}var ze=p.current;for(gt=ze;gt!==null;){ve=gt;var Qe=ve.child;if(ve.subtreeFlags&2064&&Qe!==null)Qe.return=ve,gt=Qe;else e:for(ve=ze;gt!==null;){if(Oe=gt,Oe.flags&2048)try{switch(Oe.tag){case 0:case 11:case 15:ph(9,Oe)}}catch(Rt){no(Oe,Oe.return,Rt)}if(Oe===ve){gt=null;break e}var bt=Oe.sibling;if(bt!==null){bt.return=Oe.return,gt=bt;break e}gt=Oe.return}}if(cn=I,wn(),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(De,p)}catch{}A=!0}return A}finally{sn=w,Dr.transition=g}}return!1}function nC(p,g,w){g=gb(w,g),g=gA(p,g,1),fl(p,g),g=Vi(),p=$g(p,1),p!==null&&(Bo(p,1,g),to(p,g))}function no(p,g,w){if(p.tag===3)nC(p,p,w);else for(;g!==null;){if(g.tag===3){nC(g,p,w);break}else if(g.tag===1){var A=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(dl===null||!dl.has(A))){p=gb(w,p),p=vA(g,p,1),fl(g,p),p=Vi(),g=$g(g,1),g!==null&&(Bo(g,1,p),to(g,p));break}}g=g.return}}function jB(p,g,w){var A=p.pingCache;A!==null&&A.delete(g),g=Vi(),p.pingedLanes|=p.suspendedLanes&w,Vr===p&&(pi&w)===w&&(Qr===4||Qr===3&&(pi&130023424)===pi&&500>le()-kb?wu(p,0):Lb|=w),to(p,g)}function rC(p,g){g===0&&(p.mode&1?(g=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):g=1);var w=Vi();p=$g(p,g),p!==null&&(Bo(p,g,w),to(p,w))}function $B(p){var g=p.memoizedState,w=0;g!==null&&(w=g.retryLane),rC(p,w)}function qB(p,g){var w=0;switch(p.tag){case 13:var A=p.stateNode,I=p.memoizedState;I!==null&&(w=I.retryLane);break;case 19:A=p.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(g),rC(p,w)}var iC;iC=function(p,g,w){if(p!==null)if(p.memoizedProps!==g.pendingProps||Nn.current)_o=!0;else{if(!(p.lanes&w)&&!(g.flags&128))return _o=!1,NB(p,g,w);_o=!!(p.flags&131072)}else _o=!1,cr&&g.flags&1048576&&WT(g,gg,g.index);switch(g.lanes=0,g.tag){case 2:var A=g.type;p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps;var I=Hn(g,qn.current);Fr(g,w),I=fb(null,g,A,p,I,w);var k=db();return g.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,En(A)?(k=!0,Gi(g)):k=!1,g.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Jx(g),I.updater=pg,g.stateNode=I,I._reactInternals=g,eb(g,A,p,w),g=xb(null,g,A,!0,k,w)):(g.tag=0,cr&&k&&tb(g),Hi(null,g,I,w),g=g.child),g;case 16:A=g.elementType;e:{switch(p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps,I=A._init,A=I(A._payload),g.type=A,I=g.tag=YB(A),p=dn(A,p),I){case 0:g=yb(null,g,A,p,w);break e;case 1:g=CA(null,g,A,p,w);break e;case 11:g=wA(null,g,A,p,w);break e;case 14:g=EA(null,g,A,dn(A.type,p),w);break e}throw Error(s(306,A,""))}return g;case 0:return A=g.type,I=g.pendingProps,I=g.elementType===A?I:dn(A,I),yb(p,g,A,I,w);case 1:return A=g.type,I=g.pendingProps,I=g.elementType===A?I:dn(A,I),CA(p,g,A,I,w);case 3:e:{if(RA(g),p===null)throw Error(s(387));A=g.pendingProps,k=g.memoizedState,I=k.element,DT(p,g),hg(g,A,null,w);var ve=g.memoizedState;if(A=ve.element,ge&&k.isDehydrated)if(k={element:A,isDehydrated:!1,cache:ve.cache,transitions:ve.transitions},g.updateQueue.baseState=k,g.memoizedState=k,g.flags&256){I=Error(s(423)),g=PA(p,g,A,w,I);break e}else if(A!==I){I=Error(s(424)),g=PA(p,g,A,w,I);break e}else for(ge&&(bo=bn(g.stateNode.containerInfo),xo=g,cr=!0,xs=null,nh=!1),w=KT(g,null,A,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Hc(),A===I){g=Pa(p,g,w);break e}Hi(p,g,A,w)}g=g.child}return g;case 5:return QT(g),p===null&&ib(g),A=g.type,I=g.pendingProps,k=p!==null?p.memoizedProps:null,ve=I.children,Y(A,I)?ve=null:k!==null&&Y(A,k)&&(g.flags|=32),AA(p,g),Hi(p,g,ve,w),g.child;case 6:return p===null&&ib(g),null;case 13:return IA(p,g,w);case 4:return sb(g,g.stateNode.containerInfo),A=g.pendingProps,p===null?g.child=Vc(g,null,A,w):Hi(p,g,A,w),g.child;case 11:return A=g.type,I=g.pendingProps,I=g.elementType===A?I:dn(A,I),wA(p,g,A,I,w);case 7:return Hi(p,g,g.pendingProps,w),g.child;case 8:return Hi(p,g,g.pendingProps.children,w),g.child;case 12:return Hi(p,g,g.pendingProps.children,w),g.child;case 10:e:{if(A=g.type._context,I=g.pendingProps,k=g.memoizedProps,ve=I.value,yo(g,A,ve),k!==null)if(ht(k.value,ve)){if(k.children===I.children&&!Nn.current){g=Pa(p,g,w);break e}}else for(k=g.child,k!==null&&(k.return=g);k!==null;){var Oe=k.dependencies;if(Oe!==null){ve=k.child;for(var Ze=Oe.firstContext;Ze!==null;){if(Ze.context===A){if(k.tag===1){Ze=Ta(-1,w&-w),Ze.tag=2;var ut=k.updateQueue;if(ut!==null){ut=ut.shared;var Tt=ut.pending;Tt===null?Ze.next=Ze:(Ze.next=Tt.next,Tt.next=Ze),ut.pending=Ze}}k.lanes|=w,Ze=k.alternate,Ze!==null&&(Ze.lanes|=w),sr(k.return,w,g),Oe.lanes|=w;break}Ze=Ze.next}}else if(k.tag===10)ve=k.type===g.type?null:k.child;else if(k.tag===18){if(ve=k.return,ve===null)throw Error(s(341));ve.lanes|=w,Oe=ve.alternate,Oe!==null&&(Oe.lanes|=w),sr(ve,w,g),ve=k.sibling}else ve=k.child;if(ve!==null)ve.return=k;else for(ve=k;ve!==null;){if(ve===g){ve=null;break}if(k=ve.sibling,k!==null){k.return=ve.return,ve=k;break}ve=ve.return}k=ve}Hi(p,g,I.children,w),g=g.child}return g;case 9:return I=g.type,A=g.pendingProps.children,Fr(g,w),I=Vn(I),A=A(I),g.flags|=1,Hi(p,g,A,w),g.child;case 14:return A=g.type,I=dn(A,g.pendingProps),I=dn(A.type,I),EA(p,g,A,I,w);case 15:return MA(p,g,g.type,g.pendingProps,w);case 17:return A=g.type,I=g.pendingProps,I=g.elementType===A?I:dn(A,I),p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,En(A)?(p=!0,Gi(g)):p=!1,Fr(g,w),HT(g,A,I),eb(g,A,I,w),xb(null,g,A,!0,p,w);case 19:return OA(p,g,w);case 22:return TA(p,g,w)}throw Error(s(156,g.tag))};function oC(p,g){return vs(p,g)}function XB(p,g,w,A){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(p,g,w,A){return new XB(p,g,w,A)}function Gb(p){return p=p.prototype,!(!p||!p.isReactComponent)}function YB(p){if(typeof p=="function")return Gb(p)?1:0;if(p!=null){if(p=p.$$typeof,p===y)return 11;if(p===_)return 14}return 2}function gl(p,g){var w=p.alternate;return w===null?(w=$o(p.tag,g,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=g,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&14680064,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,g=p.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w}function Xg(p,g,w,A,I,k){var ve=2;if(A=p,typeof p=="function")Gb(p)&&(ve=1);else if(typeof p=="string")ve=5;else e:switch(p){case c:return Tu(w.children,I,k,g);case f:ve=8,I|=8;break;case d:return p=$o(12,w,g,I|2),p.elementType=d,p.lanes=k,p;case x:return p=$o(13,w,g,I),p.elementType=x,p.lanes=k,p;case v:return p=$o(19,w,g,I),p.elementType=v,p.lanes=k,p;case S:return Yg(w,I,k,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:ve=10;break e;case m:ve=9;break e;case y:ve=11;break e;case _:ve=14;break e;case b:ve=16,A=null;break e}throw Error(s(130,p==null?p:typeof p,""))}return g=$o(ve,w,g,I),g.elementType=p,g.type=A,g.lanes=k,g}function Tu(p,g,w,A){return p=$o(7,p,A,g),p.lanes=w,p}function Yg(p,g,w,A){return p=$o(22,p,A,g),p.elementType=S,p.lanes=w,p.stateNode={},p}function Hb(p,g,w){return p=$o(6,p,null,g),p.lanes=w,p}function Vb(p,g,w){return g=$o(4,p.children!==null?p.children:[],p.key,g),g.lanes=w,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function KB(p,g,w,A,I){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=A,this.onRecoverableError=I,ge&&(this.mutableSourceEagerHydrationData=null)}function sC(p,g,w,A,I,k,ve,Oe,Ze){return p=new KB(p,g,w,Oe,Ze),g===1?(g=1,k===!0&&(g|=8)):g=0,k=$o(3,null,null,g),p.current=k,k.stateNode=p,k.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},Jx(k),p}function aC(p){if(!p)return Nr;p=p._reactInternals;e:{if(C(p)!==p||p.tag!==1)throw Error(s(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(En(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(s(171))}if(p.tag===1){var w=p.type;if(En(w))return vo(p,w,g)}return g}function lC(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(s(188)):(p=Object.keys(p).join(","),Error(s(268,p)));return p=z(g),p===null?null:p.stateNode}function uC(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<g?w:g}}function Wb(p,g){uC(p,g),(p=p.alternate)&&uC(p,g)}function QB(p){return p=z(p),p===null?null:p.stateNode}function JB(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var g=Vi();jo(p,134217728,g),Wb(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=Vi(),w=pl(p);jo(p,w,g),Wb(p,w)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var w=ms(g.pendingLanes);w!==0&&(zo(g,w|1),to(g,le()),!(cn&6)&&(Yc(),wn()))}break;case 13:var A=Vi();QA(function(){return jo(p,1,A)}),Wb(p,1)}},n.batchedUpdates=function(p,g){var w=cn;cn|=1;try{return p(g)}finally{cn=w,cn===0&&(Yc(),an&&wn())}},n.createComponentSelector=function(p){return{$$typeof:Ng,value:p}},n.createContainer=function(p,g,w,A,I,k,ve){return sC(p,g,!1,null,w,A,I,k,ve)},n.createHasPseudoClassSelector=function(p){return{$$typeof:Og,value:p}},n.createHydrationContainer=function(p,g,w,A,I,k,ve,Oe,Ze){return p=sC(w,A,!0,p,I,k,ve,Oe,Ze),p.context=aC(null),w=p.current,A=Vi(),I=pl(w),k=Ta(A,I),k.callback=g??null,fl(w,k),p.current.lanes=I,Bo(p,I,A),to(p,A),p},n.createPortal=function(p,g,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:p,containerInfo:g,implementation:w}},n.createRoleSelector=function(p){return{$$typeof:Fg,value:p}},n.createTestNameSelector=function(p){return{$$typeof:Dg,value:p}},n.createTextSelector=function(p){return{$$typeof:Ug,value:p}},n.deferredUpdates=function(p){var g=sn,w=Dr.transition;try{return Dr.transition=null,sn=16,p()}finally{sn=g,Dr.transition=w}},n.discreteUpdates=function(p,g,w,A,I){var k=sn,ve=Dr.transition;try{return Dr.transition=null,sn=1,p(g,w,A,I)}finally{sn=k,Dr.transition=ve,cn===0&&Yc()}},n.findAllNodes=Pb,n.findBoundingRects=function(p,g){if(!He)throw Error(s(363));g=Pb(p,g),p=[];for(var w=0;w<g.length;w++)p.push(Ke(g[w]));for(g=p.length-1;0<g;g--){w=p[g];for(var A=w.x,I=A+w.width,k=w.y,ve=k+w.height,Oe=g-1;0<=Oe;Oe--)if(g!==Oe){var Ze=p[Oe],ut=Ze.x,Tt=ut+Ze.width,Yt=Ze.y,Ut=Yt+Ze.height;if(A>=ut&&k>=Yt&&I<=Tt&&ve<=Ut){p.splice(g,1);break}else if(A!==ut||w.width!==Ze.width||Ut<k||Yt>ve){if(!(k!==Yt||w.height!==Ze.height||Tt<A||ut>I)){ut>A&&(Ze.width+=ut-A,Ze.x=A),Tt<I&&(Ze.width=I-ut),p.splice(g,1);break}}else{Yt>k&&(Ze.height+=Yt-k,Ze.y=k),Ut<ve&&(Ze.height=ve-Yt),p.splice(g,1);break}}}return p},n.findHostInstance=lC,n.findHostInstanceWithNoPortals=function(p){return p=D(p),p=p!==null?U(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return lC(p)},n.flushControlled=function(p){var g=cn;cn|=1;var w=Dr.transition,A=sn;try{Dr.transition=null,sn=1,p()}finally{sn=A,Dr.transition=w,cn=g,cn===0&&(Yc(),wn())}},n.flushPassiveEffects=Mu,n.flushSync=QA,n.focusWithin=function(p,g){if(!He)throw Error(s(363));for(p=Ab(p),g=XA(p,g),g=Array.from(g),p=0;p<g.length;){var w=g[p++];if(!N(w)){if(w.tag===5&&Le(w.stateNode))return!0;for(w=w.child;w!==null;)g.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return sn},n.getFindAllNodesFailureDescription=function(p,g){if(!He)throw Error(s(363));var w=0,A=[];p=[Ab(p),0];for(var I=0;I<p.length;){var k=p[I++],ve=p[I++],Oe=g[ve];if((k.tag!==5||!N(k))&&(Cb(k,Oe)&&(A.push(Rb(Oe)),ve++,ve>w&&(w=ve)),ve<g.length))for(k=k.child;k!==null;)p.push(k,ve),k=k.sibling}if(w<g.length){for(p=[];w<g.length;w++)p.push(Rb(g[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Z(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:QB,findFiberByHostInstance:p.findFiberByHostInstance||JB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{De=g.inject(p),Pe=g}catch{}p=!!g.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,g,w,A){if(!He)throw Error(s(363));p=Pb(p,g);var I=Te(p,w,A).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(p,g){var w=g._getVersion;w=w(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,w]:p.mutableSourceEagerHydrationData.push(g,w)},n.runWithPriority=function(p,g){var w=sn;try{return sn=p,g()}finally{sn=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,g,w,A){var I=g.current,k=Vi(),ve=pl(I);return w=aC(w),g.context===null?g.context=w:g.pendingContext=w,g=Ta(k,ve),g.payload={element:p},A=A===void 0?null:A,A!==null&&(g.callback=A),fl(I,g),p=jo(I,ve,k),p!==null&&dg(p,I,ve),ve},n};j4.exports=lae;var uae=j4.exports;const cae=Fd(uae);var $4={exports:{}},q4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var G=O.length;O.push(F);e:for(;0<G;){var $=G-1>>>1,W=O[$];if(0<i(W,F))O[$]=F,O[G]=W,G=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],G=O.pop();if(G!==F){O[0]=G;e:for(var $=0,W=O.length,oe=W>>>1;$<oe;){var j=2*($+1)-1,Y=O[j],K=j+1,fe=O[K];if(0>i(Y,G))K<W&&0>i(fe,Y)?(O[$]=fe,O[K]=G,$=K):(O[$]=Y,O[j]=G,$=j);else if(K<W&&0>i(fe,G))O[$]=fe,O[K]=G,$=K;else break e}}return F}function i(O,F){var G=O.sortIndex-F.sortIndex;return G!==0?G:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=O)r(u),F.sortIndex=F.expirationTime,e(a,F);else break;F=n(u)}}function S(O){if(y=!1,b(O),!m)if(n(a)!==null)m=!0,Z(E);else{var F=n(u);F!==null&&ne(S,F.startTime-O)}}function E(O,F){m=!1,y&&(y=!1,v(R),R=-1),h=!0;var G=d;try{for(b(F),f=n(a);f!==null&&(!(f.expirationTime>F)||O&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var W=$(f.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(a)&&r(a),b(F)}else r(a);f=n(a)}if(f!==null)var oe=!0;else{var j=n(u);j!==null&&ne(S,j.startTime-F),oe=!1}return oe}finally{f=null,d=G,h=!1}}var M=!1,T=null,R=-1,C=5,P=-1;function D(){return!(t.unstable_now()-P<C)}function z(){if(T!==null){var O=t.unstable_now();P=O;var F=!0;try{F=T(!0,O)}finally{F?V():(M=!1,T=null)}}else M=!1}var V;if(typeof _=="function")V=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=z,V=function(){q.postMessage(null)}}else V=function(){x(z,0)};function Z(O){T=O,M||(M=!0,V())}function ne(O,F){R=x(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Z(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var G=d;d=F;try{return O()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=d;d=O;try{return F()}finally{d=G}},t.unstable_scheduleCallback=function(O,F,G){var $=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,O={id:c++,callback:F,priorityLevel:O,startTime:G,expirationTime:W,sortIndex:-1},G>$?(O.sortIndex=G,e(u,O),n(a)===null&&O===n(u)&&(y?(v(R),R=-1):y=!0,ne(S,G-$))):(O.sortIndex=W,e(a,O),m||h||(m=!0,Z(E))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var F=d;return function(){var G=d;d=F;try{return O.apply(this,arguments)}finally{d=G}}}})(q4);$4.exports=q4;var UI=$4.exports;const fae=t=>typeof t=="object"&&typeof t.then=="function",sv=[];function dae(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function hae(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of sv)if(dae(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=sv.indexOf(i);o!==-1&&sv.splice(o,1)},promise:(fae(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(sv.push(i),!n)throw i.promise}const pae=(t,e,n)=>hae(t,e,!1,n),mT={},X4=t=>void Object.assign(mT,t);function mae(t,e){function n(c,{args:f=[],attach:d,...h},m){let y=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=h.object;x=Nf(v,{type:c,root:m,attach:d,primitive:!0})}else{const v=mT[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=Nf(new v(...f),{type:c,root:m,attach:d,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x instanceof nn?x.__r3f.attach="geometry":x instanceof _i&&(x.__r3f.attach="material")),y!=="inject"&&pS(x,h),x}function r(c,f){let d=!1;if(f){var h,m;(h=f.__r3f)!=null&&h.attach?hS(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(m=c.__r3f)==null||m.objects.push(f),f.__r3f||Nf(f,{}),f.__r3f.parent=c,kE(f),Of(f)}}function i(c,f,d){let h=!1;if(f){var m,y;if((m=f.__r3f)!=null&&m.attach)hS(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const x=c.children.filter(_=>_!==f),v=x.indexOf(d);c.children=[...x.slice(0,v),f,...x.slice(v)],h=!0}h||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||Nf(f,{}),f.__r3f.parent=c,kE(f),Of(f)}}function o(c,f,d=!1){c&&[...c].forEach(h=>s(f,h,d))}function s(c,f,d){if(f){var h,m,y;if(f.__r3f&&(f.__r3f.parent=null),(h=c.__r3f)!=null&&h.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==f)),(m=f.__r3f)!=null&&m.attach)VI(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var x;c.remove(f),(x=f.__r3f)!=null&&x.root&&Sae(f.__r3f.root,f)}const _=(y=f.__r3f)==null?void 0:y.primitive,b=d===void 0?f.dispose!==null&&!_:d;if(!_){var v;o((v=f.__r3f)==null?void 0:v.objects,f,b),o(f.children,f,b)}delete f.__r3f,b&&f.dispose&&f.type!=="Scene"&&UI.unstable_scheduleCallback(UI.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Of(c)}}function l(c,f,d,h){var m;const y=(m=c.__r3f)==null?void 0:m.parent;if(!y)return;const x=n(f,d,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(x,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(x,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(y,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[h,h.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const a=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:cae({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&s(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const h=c.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,d,h){if(c.__r3f.primitive&&h.object&&h.object!==c)return[!0];{const{args:m=[],children:y,...x}=h,{args:v=[],children:_,...b}=d;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((E,M)=>E!==v[M]))return[!0];const S=t5(c,x,b,!0);return S.changes.length?[!1,S]:null}},commitUpdate(c,[f,d],h,m,y,x){f?l(c,h,y,x):pS(c,d)},commitMount(c,f,d,h){var m;const y=(m=c.__r3f)!=null?m:{};c.raycast&&y.handlers&&y.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Nf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:h}=(f=c.__r3f)!=null?f:{};d&&h&&VI(h,c,d),c.isObject3D&&(c.visible=!1),Of(c)},unhideInstance(c,f){var d;const{attach:h,parent:m}=(d=c.__r3f)!=null?d:{};h&&m&&hS(m,c,h),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Of(c)},createTextInstance:a,hideTextInstance:a,unhideTextInstance:a,getCurrentEventPriority:()=>e?e():rd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&dr.fun(performance.now)?performance.now:dr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:dr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:dr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:pS}}var BI,zI;const dS=t=>"colorSpace"in t||"outputColorSpace"in t,Y4=()=>{var t;return(t=mT.ColorManagement)!=null?t:null},K4=t=>t&&t.isOrthographicCamera,gae=t=>t&&t.hasOwnProperty("current"),sg=typeof window<"u"&&((BI=window.document)!=null&&BI.createElement||((zI=window.navigator)==null?void 0:zI.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function Q4(t){const e=L.useRef(t);return sg(()=>void(e.current=t),[t]),e}function vae({set:t}){return sg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class J4 extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}J4.getDerivedStateFromError=()=>({error:!0});const Z4="__default",GI=new Map,yae=t=>t&&!!t.memoized&&!!t.changes;function e5(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const jh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},dr={obj:t=>t===Object(t)&&!dr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(dr.str(t)||dr.num(t))return t===e;const o=dr.obj(t);if(o&&r==="reference")return t===e;const s=dr.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(l in i?e:t)if(!dr.equ(t[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:t)if(t[l]!==e[l])return!1;if(dr.und(l)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function xae(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Nf(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function LE(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const HI=/-\d+$/;function hS(t,e,n){if(dr.str(n)){if(HI.test(n)){const o=n.replace(HI,""),{target:s,key:l}=LE(t,o);Array.isArray(s[l])||(s[l]=[])}const{target:r,key:i}=LE(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function VI(t,e,n){var r,i;if(dr.str(n)){const{target:o,key:s}=LE(t,n),l=e.__r3f.previousAttach;l===void 0?delete o[s]:o[s]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function t5(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:l,...a}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},d=Object.entries(i),h=[];if(u){const y=Object.keys(a);for(let x=0;x<y.length;x++)i.hasOwnProperty(y[x])||d.unshift([y[x],Z4+"remove"])}d.forEach(([y,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&y==="object"||dr.equ(x,a[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return h.push([y,x,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),h.push([y,x,!1,_]);for(const b in i){const S=i[b];b.startsWith(`${y}-`)&&h.push([b,S,!1,b.split("-")])}});const m={...i};return f.memoizedProps&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:h}}function pS(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},s=o.root,l=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:u}=yae(e)?e:t5(t,e),c=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<u.length;d++){let[h,m,y,x]=u[d];if(dS(t)){const S="srgb",E="srgb-linear";h==="encoding"?(h="colorSpace",m=m===3001?S:E):h==="outputEncoding"&&(h="outputColorSpace",m=m===3001?S:E)}let v=t,_=v[h];if(x.length&&(_=x.reduce((b,S)=>b[S],t),!(_&&_.set))){const[b,...S]=x.reverse();v=S.reverse().reduce((E,M)=>E[M],t),h=b}if(m===Z4+"remove")if(v.constructor){let b=GI.get(v.constructor);b||(b=new v.constructor,GI.set(v.constructor,b)),m=b[h]}else m=0;if(y)m?o.handlers[h]=m:delete o.handlers[h],o.eventCount=Object.keys(o.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof fc)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&_.constructor===m.constructor)_.copy(m);else if(m!==void 0){const b=_ instanceof yt;!b&&_.setScalar?_.setScalar(m):_ instanceof fc&&m instanceof fc?_.mask=m.mask:_.set(m),!Y4()&&!l.linear&&b&&_.convertSRGBToLinear()}}else if(v[h]=m,v[h]instanceof wr&&v[h].format===ao&&v[h].type===ma){const b=v[h];dS(b)&&dS(l.gl)?b.colorSpace=l.gl.outputColorSpace:b.encoding=l.gl.outputEncoding}Of(t)}if(o.parent&&l.internal&&t.raycast&&c!==o.eventCount){const d=l.internal.interaction.indexOf(t);d>-1&&l.internal.interaction.splice(d,1),o.eventCount&&l.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&kE(t),t}function Of(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function kE(t){t.onUpdate==null||t.onUpdate(t)}function bae(t,e){t.manual||(K4(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function av(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function _ae(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return rd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return rd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return rd.ContinuousEventPriority;default:return rd.DefaultEventPriority}}function n5(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Sae(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{n5(n.capturedMap,e,r,i)})}function wae(t){function e(a){const{internal:u}=t.getState(),c=a.offsetX-u.initialClick[0],f=a.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(a){return a.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(a,u){const c=t.getState(),f=new Set,d=[],h=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<h.length;v++){const _=jh(h[v]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(a,c);function m(v){const _=jh(v);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(a,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(v,!0):[]}let y=h.flatMap(m).sort((v,_)=>{const b=jh(v.object),S=jh(_.object);return!b||!S?v.distance-_.distance:S.events.priority-b.events.priority||v.distance-_.distance}).filter(v=>{const _=av(v);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const v of y){let _=v.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&d.push({...v,eventObject:_}),_=_.parent}}if("pointerId"in a&&c.internal.capturedMap.has(a.pointerId))for(let v of c.internal.capturedMap.get(a.pointerId).values())f.has(av(v.intersection))||d.push(v.intersection);return d}function i(a,u,c,f){const d=t.getState();if(a.length){const h={stopped:!1};for(const m of a){const y=jh(m.object)||d,{raycaster:x,pointer:v,camera:_,internal:b}=y,S=new ue(v.x,v.y,0).unproject(_),E=P=>{var D,z;return(D=(z=b.capturedMap.get(P))==null?void 0:z.has(m.eventObject))!=null?D:!1},M=P=>{const D={intersection:m,target:u.target};b.capturedMap.has(P)?b.capturedMap.get(P).set(m.eventObject,D):b.capturedMap.set(P,new Map([[m.eventObject,D]])),u.target.setPointerCapture(P)},T=P=>{const D=b.capturedMap.get(P);D&&n5(b.capturedMap,m.eventObject,D,P)};let R={};for(let P in u){let D=u[P];typeof D!="function"&&(R[P]=D)}let C={...m,...R,pointer:v,intersections:a,stopped:h.stopped,delta:c,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const P="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!P||P.has(m.eventObject))&&(C.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(D=>D.eventObject===m.eventObject))){const D=a.slice(0,a.indexOf(m));o([...D,m])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},nativeEvent:u};if(f(C),h.stopped===!0)break}}return a}function o(a){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!a.length||!a.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,h=d==null?void 0:d.handlers;if(u.hovered.delete(av(c)),d!=null&&d.eventCount){const m={...c,intersections:a};h.onPointerOut==null||h.onPointerOut(m),h.onPointerLeave==null||h.onPointerLeave(m)}}}function s(a,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(a)}}function l(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),o([]))})}}return function(c){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=c;const h=a==="onPointerMove",m=a==="onClick"||a==="onContextMenu"||a==="onDoubleClick",x=r(c,h?n:void 0),v=m?e(c):0;a==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=x.map(b=>b.eventObject)),m&&!x.length&&v<=2&&(s(c,d.interaction),f&&f(c)),h&&o(x);function _(b){const S=b.eventObject,E=S.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(h){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const T=av(b),R=d.hovered.get(T);R?R.stopped&&b.stopPropagation():(d.hovered.set(T,b),M.onPointerOver==null||M.onPointerOver(b),M.onPointerEnter==null||M.onPointerEnter(b))}M.onPointerMove==null||M.onPointerMove(b)}else{const T=M[a];T?(!m||d.initialHits.includes(S))&&(s(c,d.interaction.filter(R=>!d.initialHits.includes(R))),T(b)):m&&d.initialHits.includes(S)&&s(c,d.interaction.filter(R=>!d.initialHits.includes(R)))}}i(x,c,v,_)}}return{handlePointer:l}}const r5=t=>!!(t!=null&&t.render),i5=L.createContext(null),Eae=(t,e)=>{const n=oae((l,a)=>{const u=new ue,c=new ue,f=new ue;function d(v=a().camera,_=c,b=a().size){const{width:S,height:E,top:M,left:T}=b,R=S/E;_ instanceof ue?f.copy(_):f.set(..._);const C=v.getWorldPosition(u).distanceTo(f);if(K4(v))return{width:S/v.zoom,height:E/v.zoom,top:M,left:T,factor:1,distance:C,aspect:R};{const P=v.fov*Math.PI/180,D=2*Math.tan(P/2)*C,z=D*(S/E);return{width:z,height:D,top:M,left:T,factor:S/z,distance:C,aspect:R}}}let h;const m=v=>l(_=>({performance:{..._.performance,current:v}})),y=new it;return{set:l,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(a(),v),advance:(v,_)=>e(v,_,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new fT,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=a();h&&clearTimeout(h),v.performance.current!==v.performance.min&&m(v.performance.min),h=setTimeout(()=>m(a().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>l(_=>({..._,events:{..._.events,...v}})),setSize:(v,_,b,S,E)=>{const M=a().camera,T={width:v,height:_,top:S||0,left:E||0,updateStyle:b};l(R=>({size:T,viewport:{...R.viewport,...d(M,c,T)}}))},setDpr:v=>l(_=>{const b=e5(v);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const _=a().clock;_.stop(),_.elapsedTime=0,v!=="never"&&(_.start(),_.elapsedTime=0),l(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,_,b)=>{const S=a().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:v,priority:_,store:b}),S.subscribers=S.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=a().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==v))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:l,size:a,viewport:u,gl:c,set:f}=n.getState();if(a!==i||u.dpr!==o){var d;i=a,o=u.dpr,bae(l,a),c.setPixelRatio(u.dpr);const h=(d=a.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(a.width,a.height,h)}l!==s&&(s=l,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};let lv,Mae=new Set,Tae=new Set,Aae=new Set;function mS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function $h(t,e){switch(t){case"before":return mS(Mae,e);case"after":return mS(Tae,e);case"tail":return mS(Aae,e)}}let gS,vS;function yS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),gS=e.internal.subscribers,lv=0;lv<gS.length;lv++)vS=gS[lv],vS.ref.current(vS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Cae(t){let e=!1,n,r,i;function o(a){r=requestAnimationFrame(o),e=!0,n=0,$h("before",a);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=yS(a,i))}if($h("after",a),n===0)return $h("tail",a),e=!1,cancelAnimationFrame(r)}function s(a,u=1){var c;if(!a)return t.forEach(f=>s(f.store.getState()),u);(c=a.gl.xr)!=null&&c.isPresenting||!a.internal.active||a.frameloop==="never"||(a.internal.frames=Math.min(60,a.internal.frames+u),e||(e=!0,requestAnimationFrame(o)))}function l(a,u=!0,c,f){if(u&&$h("before",a),c)yS(a,c,f);else for(const d of t.values())yS(a,d.store.getState());u&&$h("after",a)}return{loop:o,invalidate:s,advance:l}}function o5(){const t=L.useContext(i5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Rae(t=n=>n,e){return o5()(t,e)}function Ws(t,e=0){const n=o5(),r=n.getState().internal.subscribe,i=Q4(t);return sg(()=>r(i,e,n),[e,r,n]),null}const kd=new Map,{invalidate:WI,advance:jI}=Cae(kd),{reconciler:jy,applyProps:Af}=mae(kd,_ae),Cf={objects:"shallow",strict:!1},Pae=(t,e)=>{const n=typeof t=="function"?t(e):t;return r5(n)?n:new j2({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Iae(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:o}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:o}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Lae(t){const e=kd.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Eae(WI,jI),s=n||jy.createContainer(o,rd.ConcurrentRoot,null,!1,null,"",i,null);e||kd.set(t,{fiber:s,store:o});let l,a=!1,u;return{configure(c={}){let{gl:f,size:d,scene:h,events:m,onCreated:y,shadows:x=!1,linear:v=!1,flat:_=!1,legacy:b=!1,orthographic:S=!1,frameloop:E="always",dpr:M=[1,2],performance:T,raycaster:R,camera:C,onPointerMissed:P}=c,D=o.getState(),z=D.gl;D.gl||D.set({gl:z=Pae(f,t)});let V=D.raycaster;V||D.set({raycaster:V=new z4});const{params:U,...q}=R||{};if(dr.equ(q,V,Cf)||Af(V,{...q}),dr.equ(U,V.params,Cf)||Af(V,{params:{...V.params,...U}}),!D.camera||D.camera===u&&!dr.equ(u,C,Cf)){u=C;const $=C instanceof jm,W=$?C:S?new qm(0,0,0,0,.1,1e3):new fi(75,0,.1,1e3);$||(W.position.z=5,C&&Af(W,C),!D.camera&&!(C!=null&&C.rotation)&&W.lookAt(0,0,0)),D.set({camera:W})}if(!D.scene){let $;h instanceof Wy?$=h:($=new Wy,h&&Af($,h)),D.set({scene:Nf($)})}if(!D.xr){const $=(j,Y)=>{const K=o.getState();K.frameloop!=="never"&&jI(j,!0,K,Y)},W=()=>{const j=o.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?$:null),j.gl.xr.isPresenting||WI(j)},oe={connect(){const j=o.getState().gl;j.xr.addEventListener("sessionstart",W),j.xr.addEventListener("sessionend",W)},disconnect(){const j=o.getState().gl;j.xr.removeEventListener("sessionstart",W),j.xr.removeEventListener("sessionend",W)}};z.xr&&oe.connect(),D.set({xr:oe})}if(z.shadowMap){const $=z.shadowMap.enabled,W=z.shadowMap.type;if(z.shadowMap.enabled=!!x,dr.boo(x))z.shadowMap.type=Tp;else if(dr.str(x)){var Z;const oe={basic:VD,percentage:gx,soft:Tp,variance:As};z.shadowMap.type=(Z=oe[x])!=null?Z:Tp}else dr.obj(x)&&Object.assign(z.shadowMap,x);($!==z.shadowMap.enabled||W!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const ne=Y4();ne&&("enabled"in ne?ne.enabled=!b:"legacyMode"in ne&&(ne.legacyMode=b)),Af(z,{outputEncoding:v?3e3:3001,toneMapping:_?Fs:A2}),D.legacy!==b&&D.set(()=>({legacy:b})),D.linear!==v&&D.set(()=>({linear:v})),D.flat!==_&&D.set(()=>({flat:_})),f&&!dr.fun(f)&&!r5(f)&&!dr.equ(f,z,Cf)&&Af(z,f),m&&!D.events.handlers&&D.set({events:m(o)});const G=Iae(t,d);return dr.equ(G,D.size,Cf)||D.setSize(G.width,G.height,G.updateStyle,G.top,G.left),M&&D.viewport.dpr!==e5(M)&&D.setDpr(M),D.frameloop!==E&&D.setFrameloop(E),D.onPointerMissed||D.set({onPointerMissed:P}),T&&!dr.equ(T,D.performance,Cf)&&D.set($=>({performance:{...$.performance,...T}})),l=y,a=!0,this},render(c){return a||this.configure(),jy.updateContainer(L.createElement(kae,{store:o,children:c,onCreated:l,rootElement:t}),s,null,()=>{}),o},unmount(){s5(t)}}}function kae({store:t,children:e,onCreated:n,rootElement:r}){return sg(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.createElement(i5.Provider,{value:t},e)}function s5(t,e){const n=kd.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),jy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,l,a;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(a=i.gl)!=null&&a.xr&&i.xr.disconnect(),xae(i),kd.delete(t),e&&e(t)}catch{}},500)})}}jy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});function NE(t,e,n){var r,i,o,s,l;e==null&&(e=100);function a(){var c=Date.now()-s;c<e&&c>=0?r=setTimeout(a,e-c):(r=null,n||(l=t.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(a,e)),c&&(l=t.apply(o,i),o=i=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}NE.debounce=NE;var Nae=NE;const $I=Fd(Nae);function Oae(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=L.useRef(!1);L.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,h,m]=L.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:b,top:S,width:E,height:M,bottom:T,right:R,x:C,y:P}=a.current.element.getBoundingClientRect(),D={left:b,top:S,width:E,height:M,bottom:T,right:R,x:C,y:P};a.current.element instanceof HTMLElement&&i&&(D.height=a.current.element.offsetHeight,D.width=a.current.element.offsetWidth),Object.freeze(D),f.current&&!Bae(a.current.lastBounds,D)&&l(a.current.lastBounds=D)};return[_,c?$I(_,c):_,u?$I(_,u):_]},[l,i,u,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null)}function x(){a.current.element&&(a.current.resizeObserver=new o(m),a.current.resizeObserver.observe(a.current.element),n&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",m,{capture:!0,passive:!0})))}const v=_=>{!_||_===a.current.element||(y(),a.current.element=_,a.current.scrollContainers=a5(_),x())};return Dae(m,!!n),Fae(h),L.useEffect(()=>{y(),x()},[n,m,h]),L.useEffect(()=>y,[]),[v,s,d]}function Fae(t){L.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Dae(t,e){L.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function a5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...a5(t.parentElement)]}const Uae=["x","y","top","bottom","left","right","width","height"],Bae=(t,e)=>Uae.every(n=>t[n]===e[n]);var zae=Object.defineProperty,Gae=Object.defineProperties,Hae=Object.getOwnPropertyDescriptors,qI=Object.getOwnPropertySymbols,Vae=Object.prototype.hasOwnProperty,Wae=Object.prototype.propertyIsEnumerable,XI=(t,e,n)=>e in t?zae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YI=(t,e)=>{for(var n in e||(e={}))Vae.call(e,n)&&XI(t,n,e[n]);if(qI)for(var n of qI(e))Wae.call(e,n)&&XI(t,n,e[n]);return t},jae=(t,e)=>Gae(t,Hae(e));function l5(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=l5(r,e,n);if(i)return i;r=e?null:r.sibling}}function u5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const gT=u5(L.createContext(null));class c5 extends L.Component{render(){return L.createElement(gT.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:KI,ReactCurrentDispatcher:QI}=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $ae(){const t=L.useContext(gT);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const r of[KI==null?void 0:KI.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=l5(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function qae(){var t,e;const n=$ae(),[r]=L.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==gT&&!r.has(o)&&r.set(o,(e=QI==null?void 0:QI.current)==null?void 0:e.readContext(u5(o))),i=i.return}return r}function Xae(){const t=qae();return L.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>L.createElement(e,null,L.createElement(n.Provider,jae(YI({},r),{value:t.get(n)}))),e=>L.createElement(c5,YI({},e))),[t])}const xS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Yae(t){const{handlePointer:e}=wae(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(xS).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,l])=>{const[a,u]=xS[s];n.addEventListener(a,l,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[l]=xS[o];r.connected.removeEventListener(l,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const Kae=L.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=Yae,eventSource:l,eventPrefix:a,shadows:u,linear:c,flat:f,legacy:d,orthographic:h,frameloop:m,dpr:y,performance:x,raycaster:v,camera:_,onPointerMissed:b,onCreated:S,...E},M){L.useMemo(()=>X4(nae),[]);const T=Xae(),[R,C]=Oae({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=L.useRef(null),D=L.useRef(null);L.useImperativeHandle(M,()=>P.current);const z=Q4(b),[V,U]=L.useState(!1),[q,Z]=L.useState(!1);if(V)throw V;if(q)throw q;const ne=L.useRef(null);sg(()=>{const F=P.current;C.width>0&&C.height>0&&F&&(ne.current||(ne.current=Lae(F)),ne.current.configure({gl:o,events:s,shadows:u,linear:c,flat:f,legacy:d,orthographic:h,frameloop:m,dpr:y,performance:x,raycaster:v,camera:_,size:C,onPointerMissed:(...G)=>z.current==null?void 0:z.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(l?gae(l)?l.current:l:D.current),a&&G.setEvents({compute:($,W)=>{const oe=$[a+"X"],j=$[a+"Y"];W.pointer.set(oe/W.size.width*2-1,-(j/W.size.height)*2+1),W.raycaster.setFromCamera(W.pointer,W.camera)}}),S==null||S(G)}}),ne.current.render(L.createElement(T,null,L.createElement(J4,{set:Z},L.createElement(L.Suspense,{fallback:L.createElement(vae,{set:U})},e)))))}),L.useEffect(()=>{const F=P.current;if(F)return()=>s5(F)},[]);const O=l?"none":"auto";return L.createElement("div",te({ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...i}},E),L.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},L.createElement("canvas",{ref:P,style:{display:"block"}},n)))}),vT=L.forwardRef(function(e,n){return L.createElement(c5,null,L.createElement(Kae,te({},e,{ref:n})))}),f5=88,Cs=21;var Cl=(t=>(t[t.C=0]="C",t[t.C_SHARP=1]="C_SHARP",t[t.D_FLAT=1]="D_FLAT",t[t.D=2]="D",t[t.D_SHARP=3]="D_SHARP",t[t.E_FLAT=3]="E_FLAT",t[t.E=4]="E",t[t.F=5]="F",t[t.F_SHARP=6]="F_SHARP",t[t.G_FLAT=6]="G_FLAT",t[t.G=7]="G",t[t.G_SHARP=8]="G_SHARP",t[t.A_FLAT=8]="A_FLAT",t[t.A=9]="A",t[t.A_SHARP=10]="A_SHARP",t[t.B_FLAT=10]="B_FLAT",t[t.B=11]="B",t))(Cl||{});const Qae={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Ox={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],ionian:[0,2,4,5,7,9,11],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],aeolian:[0,2,3,5,7,8,10],locrian:[0,1,3,5,6,8,10]},Fp=class{constructor(e){bs(this,"midiNumber");bs(this,"octave");bs(this,"keyName");bs(this,"pressed");this.midiNumber=e,this.keyName=Fp.getNoteNameFromMidiNumber(e),this.octave=Fp.getOctaveFromMidiNumber(e),this.pressed=!1}getPitchIndex(){return this.midiNumber%12}getIndexInOctave(){return this.getPitchIndex()}isWhiteKey(){switch(this.getPitchIndex()){case Cl.A:case Cl.B:case Cl.C:case Cl.D:case Cl.E:case Cl.F:case Cl.G:return!0}return!1}};let Ol=Fp;bs(Ol,"getOctaveFromMidiNumber",e=>Math.floor(e/12-1)),bs(Ol,"getNoteNameFromMidiNumber",e=>{const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=e%12;return n[r]+Fp.getOctaveFromMidiNumber(e).toString()}),bs(Ol,"getKeyNameFromMidiNumber",e=>{const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=e%12;return n[r]});const Ps=Array.from({length:f5}).map((t,e)=>new Ol(Cs+e)),Jae={},Zae=(t,e)=>{const n=Ox[e],r=Qae[t];return n.map(i=>(i+r)%12)},Gv=(t,e)=>Zae(t,e).map(r=>Ol.getKeyNameFromMidiNumber(r%12));Ps.forEach(t=>{Jae[t.midiNumber]=t});var ele=Object.defineProperty,JI=Object.getOwnPropertySymbols,tle=Object.prototype.hasOwnProperty,nle=Object.prototype.propertyIsEnumerable,ZI=(t,e,n)=>e in t?ele(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rle=(t,e)=>{for(var n in e||(e={}))tle.call(e,n)&&ZI(t,n,e[n]);if(JI)for(var n of JI(e))nle.call(e,n)&&ZI(t,n,e[n]);return t},d5=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zn=(t,e,n)=>(d5(t,e,"read from private field"),n?n.call(t):e.get(t)),ra=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Jo=(t,e,n,r)=>(d5(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nd=(t,e,n)=>new Promise((r,i)=>{var o=a=>{try{l(n.next(a))}catch(u){i(u)}},s=a=>{try{l(n.throw(a))}catch(u){i(u)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,s);l((n=n.apply(t,e)).next())});function h5(t,e,n){return Nd(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const r=yield n.fetch(e);if(r.status!==200){console.warn("Error loading buffer. Invalid status: ",r.status,e);return}try{const i=yield r.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function ile(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let n=0;n<t.length;n++){const r=t[n],i=e.canPlayType(`audio/${r}`);if(i==="probably"||i==="maybe")return r;if(r==="m4a"){const o=e.canPlayType("audio/aac");if(o==="probably"||o==="maybe")return r}}return null}var p5={fetch(t){return fetch(t)}};function Hv(t){const e=t.filter(n=>!!n);return e.reduce((n,r)=>{const i="output"in n?n.output:n,o="input"in r?r.input:r;return i.connect(o),r}),()=>{e.reduce((n,r)=>{const i="output"in n?n.output:n,o="input"in r?r.input:r;return i.disconnect(o),r})}}function ole(t){const n=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!n)return;const r=n[1].toUpperCase();if(!r)return;const i=n[2],o=i[0]==="b"?-i.length:i.length,s=n[3]?+n[3]:4,l=(r.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][l]+o+12*(s+1)}function sle(t){return t===void 0?void 0:typeof t=="number"?t:ole(t)}function OE(t){return t*t/16129}function ale(t){let e=t;const n=new Set;function r(s){return n.add(s),s(e),()=>{n.delete(s)}}function i(s){e=s,n.forEach(l=>l(e))}function o(){return e}return{subscribe:r,set:i,get:o}}function lle(){const t=new Set;function e(r){return t.add(r),()=>{t.delete(r)}}function n(r){t.forEach(i=>i(r))}return{subscribe:e,trigger:n}}function ule(t){let e=!1;return()=>{e||(e=!0,t.forEach(n=>n==null?void 0:n()))}}var ju,Rl,Ff,Df,Vv,sp,cle=class{constructor(t,e){this.context=t,ra(this,ju,void 0),ra(this,Rl,void 0),ra(this,Ff,void 0),ra(this,Df,void 0),ra(this,Vv,void 0),ra(this,sp,void 0);var n,r;Jo(this,sp,Object.freeze(rle({destination:t.destination,volume:100,volumeToGain:OE},e))),this.input=new GainNode(this.context),Jo(this,ju,new GainNode(this.context)),Jo(this,Df,Hv([this.input,zn(this,ju),zn(this,sp).destination]));const i=ale((n=e.volume)!=null?n:100);this.setVolume=i.set;const o=(r=e.volumeToGain)!=null?r:OE;Jo(this,Vv,i.subscribe(s=>{zn(this,ju).gain.value=o(s)}))}addInsert(t){var e;(e=zn(this,Ff))!=null||Jo(this,Ff,[]),zn(this,Ff).push(t),zn(this,Df).call(this),Jo(this,Df,Hv([this.input,...zn(this,Ff),zn(this,ju),zn(this,sp).destination]))}addEffect(t,e,n){var r;const i=new GainNode(this.context);i.gain.value=n;const o="input"in e?e.input:e,s=Hv([zn(this,ju),i,o]);(r=zn(this,Rl))!=null||Jo(this,Rl,[]),zn(this,Rl).push({name:t,mix:i,disconnect:s})}sendEffect(t,e){var n;const r=(n=zn(this,Rl))==null?void 0:n.find(i=>i.name===t);r?r.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;zn(this,Df).call(this),zn(this,Vv).call(this),(t=zn(this,Rl))==null||t.forEach(e=>e.disconnect()),Jo(this,Rl,void 0)}};ju=new WeakMap;Rl=new WeakMap;Ff=new WeakMap;Df=new WeakMap;Vv=new WeakMap;sp=new WeakMap;function fle(t){var e,n,r;const i=t.destination.context,o=i.createBufferSource();o.buffer=t.buffer,o.detune.value=(e=t==null?void 0:t.detune)!=null?e:0;const s=t.lpfCutoffHz?new BiquadFilterNode(i,{type:"lowpass",frequency:t.lpfCutoffHz}):void 0,l=i.createGain();l.gain.value=(n=t==null?void 0:t.gain)!=null?n:1;const[a,u]=dle(i,t.decayTime),c=ule([Hv([o,s,l,a,t.destination]),(r=t.stop)==null?void 0:r.call(t,h=>{(h===void 0||h.stopId===void 0||h.stopId===t.stopId)&&d(h==null?void 0:h.time)})]);o.onended=()=>{var h;c(),(h=t.onEnded)==null||h.call(t)};const f=t.time||i.currentTime;o.start(f);function d(h){if(h??(h=i.currentTime),h<=f)o.stop(h);else{const m=u(h);o.stop(m)}}return t.duration!==void 0&&d(f+t.duration),d}function dle(t,e=.2){let n=0;const r=new GainNode(t,{gain:1});function i(o){if(n)return n;r.gain.cancelScheduledValues(o);const s=o||t.currentTime;return n=s+e,r.gain.setValueAtTime(1,s),r.gain.linearRampToValueAtTime(0,n),n}return[r,i]}var Ko,ap,Wv,lp,hle=class{constructor(t,e={}){this.context=t,ra(this,Ko,void 0),ra(this,ap,void 0),ra(this,Wv,void 0),ra(this,lp,void 0);var n,r,i,o,s,l,a;Jo(this,Ko,{destination:(n=e.destination)!=null?n:t.destination,detune:0,volume:(r=e.volume)!=null?r:100,velocity:(i=e.velocity)!=null?i:100,buffers:(o=e.buffers)!=null?o:{},volumeToGain:(s=e.volumeToGain)!=null?s:OE,noteToSample:(l=e.noteToSample)!=null?l:f=>[f.note.toString(),0]}),this.buffers={},Jo(this,ap,lle());const u=(a=e.storage)!=null?a:p5,c=typeof zn(this,Ko).buffers=="function"?zn(this,Ko).buffers:ple(zn(this,Ko).buffers,u);Jo(this,Wv,c(t,this.buffers)),Jo(this,lp,new cle(t,zn(this,Ko))),this.output=zn(this,lp)}loaded(){return Nd(this,null,function*(){return yield zn(this,Wv),this})}start(t){var e,n,r;const i=typeof t=="object"?t:{note:t},[o,s]=zn(this,Ko).noteToSample(i,this.buffers,zn(this,Ko)),l=this.buffers[o];if(!l)return console.warn(`Sample not found: '${o}'`),()=>{};const a=i.onEnded;return fle({buffer:l,destination:zn(this,lp).input,time:i.time,duration:i.duration,decayTime:i.decayTime,lpfCutoffHz:i.lpfCutoffHz,detune:s+((e=i.detune)!=null?e:zn(this,Ko).detune),gain:zn(this,Ko).volumeToGain((n=i.velocity)!=null?n:zn(this,Ko).velocity),stop:zn(this,ap).subscribe,stopId:(r=i.stopId)!=null?r:i.note,onEnded:a?()=>a(t):void 0})}stop(t){const e=typeof t=="object"?t:{stopId:t};zn(this,ap).trigger(e)}};Ko=new WeakMap;ap=new WeakMap;Wv=new WeakMap;lp=new WeakMap;function ple(t,e){return(n,r)=>Nd(this,null,function*(){yield Promise.all([Object.keys(t).map(i=>Nd(this,null,function*(){const o=t[i];if(o instanceof AudioBuffer)r[i]=o;else if(typeof o=="string"){const s=yield h5(n,o,e);s&&(r[i]=s)}}))])})}var mle="https://danigb.github.io/samples/splendid-grand-piano",gle=class extends hle{constructor(t,e={}){var n,r,i;super(t,{destination:e.destination,detune:e.detune,volume:e.volume,velocity:e.velocity,decayTime:(n=e.decayTime)!=null?n:.5,lpfCutoffHz:e.lpfCutoffHz,buffers:yle((r=e.baseUrl)!=null?r:mle,(i=e.storage)!=null?i:p5),noteToSample:(o,s,l)=>{var a;const u=sle(o.note);if(!u)return[o.note,0];const c=(a=o.velocity)!=null?a:l.velocity,f=FE.findIndex(h=>c>=h.vel_range[0]&&c<=h.vel_range[1]),d=FE[f];return d?vle(d.name,u,s):["",0]}})}};function vle(t,e,n){let r=0;for(;n[t+(e+r)]===void 0&&r<128;)r>0?r=-r:r=-r+1;return r===127?[t+e,0]:[t+(e+r),-r*100]}function yle(t,e){var n;const r=(n=ile(["ogg","m4a"]))!=null?n:"ogg";return(i,o)=>Nd(this,null,function*(){for(const s of FE)yield Promise.all(s.samples.map(l=>Nd(this,[l],function*([a,u]){const c=`${t}/${u}.${r}`,f=yield h5(i,c,e);f&&(o[s.name+a]=f)})))})}var FE=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];const m5=L.createContext(null),Fx=()=>L.useContext(m5),yT=t=>{const e=L.useRef(),n=L.useCallback(f=>{e.current=f},[]),r=L.useRef(),i=L.useCallback(f=>{r.current=f},[]),o=L.useRef(),s=L.useCallback(f=>{o.current=f},[]),l=L.useRef(),a=L.useCallback(f=>{l.current=f},[]),[u,c]=L.useState(-1);return X.jsx(m5.Provider,{value:{refHandleMidiNoteDown:e,setHandleMidiNoteDown:n,refHandleMidiNoteUp:r,setHandleMidiNoteUp:i,refHandlePreviewNoteDown:o,setHandlePreviewNoteDown:s,refHandlePreviewNoteUp:l,setHandlePreviewNoteUp:a,midiIdx:u,setMidiIdx:c},children:t.children})};var xle=Object.defineProperty,ble=(t,e,n)=>e in t?xle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g5=(t,e,n)=>(ble(t,typeof e!="symbol"?e+"":e,n),n);const jv={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new ue},up:{value:new ue(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <encodings_fragment>

      }
    `},v5=new ls({name:"SkyShader",fragmentShader:jv.fragmentShader,vertexShader:jv.vertexShader,uniforms:_x.clone(jv.uniforms),side:xi,depthWrite:!1});let xT=class extends mr{constructor(){super(new Sa(1,1,1),v5)}};g5(xT,"SkyShader",jv);g5(xT,"material",v5);function _le(){var t=Object.create(null);function e(i,o){var s=i.id,l=i.name,a=i.dependencies;a===void 0&&(a=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[s])try{a=a.map(function(d){return d&&d.isWorkerModule&&(e(d,function(h){if(h instanceof Error)throw h}),d=t[d.id].value),d}),u=r("<"+l+">.init",u),c&&(c=r("<"+l+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,a):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:f,getTransferables:c},o(f)}catch(d){d&&d.noLog||console.error(d),o(d)}}function n(i,o){var s,l=i.id,a=i.args;(!t[l]||typeof t[l].value!="function")&&o(new Error("Worker module "+l+": not found or its 'init' did not return a function"));try{var u=(s=t[l]).value.apply(s,a);u&&typeof u.then=="function"?u.then(c,function(f){return o(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){o(f)}function c(f){try{var d=t[l].getTransferables&&t[l].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),o(f,d)}catch(h){console.error(h),o(h)}}}function r(i,o){var s=void 0;self.troikaDefine=function(a){return s=a};var l=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(l)}catch(a){console.error(a)}return URL.revokeObjectURL(l),delete self.troikaDefine,s}self.addEventListener("message",function(i){var o=i.data,s=o.messageId,l=o.action,a=o.data;try{l==="registerModule"&&e(a,function(u){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof u=="function"}})}),l==="callModule"&&n(a,function(u,c){u instanceof Error?postMessage({messageId:s,success:!1,error:u.message}):postMessage({messageId:s,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:s,success:!1,error:u.stack})}})}function Sle(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(o){return o&&o._getInitResult?o._getInitResult():o}):[];var i=Promise.all(n).then(function(o){return r.apply(null,o)});return e._getInitResult=function(){return i},i},e}var y5=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return y5=function(){return t},t},wle=0,Ele=0,bS=!1,Lp=Object.create(null),kp=Object.create(null),DE=Object.create(null);function ag(t){if((!t||typeof t.init!="function")&&!bS)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!y5())return Sle(t);i==null&&(i="#default");var o="workerModule"+ ++wle,s=t.name||o,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(bS=!0,u=ag({workerId:i,name:"<"+s+"> function dependency: "+u.name,init:`function(){return (
`+$v(u)+`
)}`}),bS=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function a(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];if(!l){l=eL(i,"registerModule",a.workerModuleData);var f=function(){l=null,kp[i].delete(f)};(kp[i]||(kp[i]=new Set)).add(f)}return l.then(function(d){var h=d.isCallable;if(h)return eL(i,"callModule",{id:o,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return a.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:e,init:$v(n),getTransferables:r&&$v(r)},a}function Mle(t){kp[t]&&kp[t].forEach(function(e){e()}),Lp[t]&&(Lp[t].terminate(),delete Lp[t])}function $v(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Tle(t){var e=Lp[t];if(!e){var n=$v(_le);e=Lp[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,o=i.messageId,s=DE[o];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete DE[o],s(i)}}return e}function eL(t,e,n){return new Promise(function(r,i){var o=++Ele;DE[o]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},Tle(t).postMessage({messageId:o,action:e,data:n})})}function x5(){var t=function(e){function n(F,G,$,W,oe,j,Y,K){var fe=1-Y;K.x=fe*fe*F+2*fe*Y*$+Y*Y*oe,K.y=fe*fe*G+2*fe*Y*W+Y*Y*j}function r(F,G,$,W,oe,j,Y,K,fe,pe){var xe=1-fe;pe.x=xe*xe*xe*F+3*xe*xe*fe*$+3*xe*fe*fe*oe+fe*fe*fe*Y,pe.y=xe*xe*xe*G+3*xe*xe*fe*W+3*xe*fe*fe*j+fe*fe*fe*K}function i(F,G){for(var $=/([MLQCZ])([^MLQCZ]*)/g,W,oe,j,Y,K;W=$.exec(F);){var fe=W[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(pe){return parseFloat(pe)});switch(W[1]){case"M":Y=oe=fe[0],K=j=fe[1];break;case"L":(fe[0]!==Y||fe[1]!==K)&&G("L",Y,K,Y=fe[0],K=fe[1]);break;case"Q":{G("Q",Y,K,Y=fe[2],K=fe[3],fe[0],fe[1]);break}case"C":{G("C",Y,K,Y=fe[4],K=fe[5],fe[0],fe[1],fe[2],fe[3]);break}case"Z":(Y!==oe||K!==j)&&G("L",Y,K,oe,j);break}}}function o(F,G,$){$===void 0&&($=16);var W={x:0,y:0};i(F,function(oe,j,Y,K,fe,pe,xe,Ge,Ae){switch(oe){case"L":G(j,Y,K,fe);break;case"Q":{for(var H=j,ge=Y,Me=1;Me<$;Me++)n(j,Y,pe,xe,K,fe,Me/($-1),W),G(H,ge,W.x,W.y),H=W.x,ge=W.y;break}case"C":{for(var Ie=j,Re=Y,We=1;We<$;We++)r(j,Y,pe,xe,Ge,Ae,K,fe,We/($-1),W),G(Ie,Re,W.x,W.y),Ie=W.x,Re=W.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",a=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(F,G){var $=F.getContext?F.getContext("webgl",u):F,W=a.get($);if(!W){let Ie=function(Ne){var Ke=j[Ne];if(!Ke&&(Ke=j[Ne]=$.getExtension(Ne),!Ke))throw new Error(Ne+" not supported");return Ke},Re=function(Ne,Ke){var Q=$.createShader(Ke);return $.shaderSource(Q,Ne),$.compileShader(Q),Q},We=function(Ne,Ke,Q,N){if(!Y[Ne]){var se={},Le={},Te=$.createProgram();$.attachShader(Te,Re(Ke,$.VERTEX_SHADER)),$.attachShader(Te,Re(Q,$.FRAGMENT_SHADER)),$.linkProgram(Te),Y[Ne]={program:Te,transaction:function(ye){$.useProgram(Te),ye({setUniform:function(Se,be){for(var ae=[],de=arguments.length-2;de-- >0;)ae[de]=arguments[de+2];var he=Le[be]||(Le[be]=$.getUniformLocation(Te,be));$["uniform"+Se].apply($,[he].concat(ae))},setAttribute:function(Se,be,ae,de,he){var me=se[Se];me||(me=se[Se]={buf:$.createBuffer(),loc:$.getAttribLocation(Te,Se),data:null}),$.bindBuffer($.ARRAY_BUFFER,me.buf),$.vertexAttribPointer(me.loc,be,$.FLOAT,!1,0,0),$.enableVertexAttribArray(me.loc),oe?$.vertexAttribDivisor(me.loc,de):Ie("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(me.loc,de),he!==me.data&&($.bufferData($.ARRAY_BUFFER,he,ae),me.data=he)}})}}}Y[Ne].transaction(N)},ke=function(Ne,Ke){fe++;try{$.activeTexture($.TEXTURE0+fe);var Q=K[Ne];Q||(Q=K[Ne]=$.createTexture(),$.bindTexture($.TEXTURE_2D,Q),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.NEAREST),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.NEAREST)),$.bindTexture($.TEXTURE_2D,Q),Ke(Q,fe)}finally{fe--}},je=function(Ne,Ke,Q){var N=$.createFramebuffer();pe.push(N),$.bindFramebuffer($.FRAMEBUFFER,N),$.activeTexture($.TEXTURE0+Ke),$.bindTexture($.TEXTURE_2D,Ne),$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Ne,0);try{Q(N)}finally{$.deleteFramebuffer(N),$.bindFramebuffer($.FRAMEBUFFER,pe[--pe.length-1]||null)}},He=function(){j={},Y={},K={},fe=-1,pe.length=0};var xe=Ie,Ge=Re,Ae=We,H=ke,ge=je,Me=He,oe=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext,j={},Y={},K={},fe=-1,pe=[];$.canvas.addEventListener("webglcontextlost",function(Ne){He(),Ne.preventDefault()},!1),a.set($,W={gl:$,isWebGL2:oe,getExtension:Ie,withProgram:We,withTexture:ke,withTextureFramebuffer:je,handleContextLoss:He})}G(W)}function f(F,G,$,W,oe,j,Y,K){Y===void 0&&(Y=15),K===void 0&&(K=null),c(F,function(fe){var pe=fe.gl,xe=fe.withProgram,Ge=fe.withTexture;Ge("copy",function(Ae,H){pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,oe,j,0,pe.RGBA,pe.UNSIGNED_BYTE,G),xe("copy",s,l,function(ge){var Me=ge.setUniform,Ie=ge.setAttribute;Ie("aUV",2,pe.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",H),pe.bindFramebuffer(pe.FRAMEBUFFER,K||null),pe.disable(pe.BLEND),pe.colorMask(Y&8,Y&4,Y&2,Y&1),pe.viewport($,W,oe,j),pe.scissor($,W,oe,j),pe.drawArrays(pe.TRIANGLES,0,3)})})})}function d(F,G,$){var W=F.width,oe=F.height;c(F,function(j){var Y=j.gl,K=new Uint8Array(W*oe*4);Y.readPixels(0,0,W,oe,Y.RGBA,Y.UNSIGNED_BYTE,K),F.width=G,F.height=$,f(Y,K,0,0,W,oe)})}var h=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function m(F,G,$,W,oe,j){j===void 0&&(j=1);var Y=new Uint8Array(F*G),K=W[2]-W[0],fe=W[3]-W[1],pe=[];o($,function(Ie,Re,We,ke){pe.push({x1:Ie,y1:Re,x2:We,y2:ke,minX:Math.min(Ie,We),minY:Math.min(Re,ke),maxX:Math.max(Ie,We),maxY:Math.max(Re,ke)})}),pe.sort(function(Ie,Re){return Ie.maxX-Re.maxX});for(var xe=0;xe<F;xe++)for(var Ge=0;Ge<G;Ge++){var Ae=ge(W[0]+K*(xe+.5)/F,W[1]+fe*(Ge+.5)/G),H=Math.pow(1-Math.abs(Ae)/oe,j)/2;Ae<0&&(H=1-H),H=Math.max(0,Math.min(255,Math.round(H*255))),Y[Ge*F+xe]=H}return Y;function ge(Ie,Re){for(var We=1/0,ke=1/0,je=pe.length;je--;){var He=pe[je];if(He.maxX+ke<=Ie)break;if(Ie+ke>He.minX&&Re-ke<He.maxY&&Re+ke>He.minY){var Ne=v(Ie,Re,He.x1,He.y1,He.x2,He.y2);Ne<We&&(We=Ne,ke=Math.sqrt(We))}}return Me(Ie,Re)&&(ke=-ke),ke}function Me(Ie,Re){for(var We=0,ke=pe.length;ke--;){var je=pe[ke];if(je.maxX<=Ie)break;var He=je.y1>Re!=je.y2>Re&&Ie<(je.x2-je.x1)*(Re-je.y1)/(je.y2-je.y1)+je.x1;He&&(We+=je.y1<je.y2?1:-1)}return We!==0}}function y(F,G,$,W,oe,j,Y,K,fe,pe){j===void 0&&(j=1),K===void 0&&(K=0),fe===void 0&&(fe=0),pe===void 0&&(pe=0),x(F,G,$,W,oe,j,Y,null,K,fe,pe)}function x(F,G,$,W,oe,j,Y,K,fe,pe,xe){j===void 0&&(j=1),fe===void 0&&(fe=0),pe===void 0&&(pe=0),xe===void 0&&(xe=0);for(var Ge=m(F,G,$,W,oe,j),Ae=new Uint8Array(Ge.length*4),H=0;H<Ge.length;H++)Ae[H*4+xe]=Ge[H];f(Y,Ae,fe,pe,F,G,1<<3-xe,K)}function v(F,G,$,W,oe,j){var Y=oe-$,K=j-W,fe=Y*Y+K*K,pe=fe?Math.max(0,Math.min(1,((F-$)*Y+(G-W)*K)/fe)):0,xe=F-($+pe*Y),Ge=G-(W+pe*K);return xe*xe+Ge*Ge}var _=Object.freeze({__proto__:null,generate:m,generateIntoCanvas:y,generateIntoFramebuffer:x}),b="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),T=null,R=!1,C={},P=new WeakMap;function D(F){if(!R&&!q(F))throw new Error("WebGL generation not supported")}function z(F,G,$,W,oe,j,Y){if(j===void 0&&(j=1),Y===void 0&&(Y=null),!Y&&(Y=T,!Y)){var K=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!K)throw new Error("OffscreenCanvas or DOM canvas not supported");Y=T=K.getContext("webgl",{depth:!1})}D(Y);var fe=new Uint8Array(F*G*4);c(Y,function(Ae){var H=Ae.gl,ge=Ae.withTexture,Me=Ae.withTextureFramebuffer;ge("readable",function(Ie,Re){H.texImage2D(H.TEXTURE_2D,0,H.RGBA,F,G,0,H.RGBA,H.UNSIGNED_BYTE,null),Me(Ie,Re,function(We){U(F,G,$,W,oe,j,H,We,0,0,0),H.readPixels(0,0,F,G,H.RGBA,H.UNSIGNED_BYTE,fe)})})});for(var pe=new Uint8Array(F*G),xe=0,Ge=0;xe<fe.length;xe+=4)pe[Ge++]=fe[xe];return pe}function V(F,G,$,W,oe,j,Y,K,fe,pe){j===void 0&&(j=1),K===void 0&&(K=0),fe===void 0&&(fe=0),pe===void 0&&(pe=0),U(F,G,$,W,oe,j,Y,null,K,fe,pe)}function U(F,G,$,W,oe,j,Y,K,fe,pe,xe){j===void 0&&(j=1),fe===void 0&&(fe=0),pe===void 0&&(pe=0),xe===void 0&&(xe=0),D(Y);var Ge=[];o($,function(Ae,H,ge,Me){Ge.push(Ae,H,ge,Me)}),Ge=new Float32Array(Ge),c(Y,function(Ae){var H=Ae.gl,ge=Ae.isWebGL2,Me=Ae.getExtension,Ie=Ae.withProgram,Re=Ae.withTexture,We=Ae.withTextureFramebuffer,ke=Ae.handleContextLoss;if(Re("rawDistances",function(je,He){(F!==je._lastWidth||G!==je._lastHeight)&&H.texImage2D(H.TEXTURE_2D,0,H.RGBA,je._lastWidth=F,je._lastHeight=G,0,H.RGBA,H.UNSIGNED_BYTE,null),Ie("main",b,S,function(Ne){var Ke=Ne.setAttribute,Q=Ne.setUniform,N=!ge&&Me("ANGLE_instanced_arrays"),se=!ge&&Me("EXT_blend_minmax");Ke("aUV",2,H.STATIC_DRAW,0,M),Ke("aLineSegment",4,H.DYNAMIC_DRAW,1,Ge),Q.apply(void 0,["4f","uGlyphBounds"].concat(W)),Q("1f","uMaxDistance",oe),Q("1f","uExponent",j),We(je,He,function(Le){H.enable(H.BLEND),H.colorMask(!0,!0,!0,!0),H.viewport(0,0,F,G),H.scissor(0,0,F,G),H.blendFunc(H.ONE,H.ONE),H.blendEquationSeparate(H.FUNC_ADD,ge?H.MAX:se.MAX_EXT),H.clear(H.COLOR_BUFFER_BIT),ge?H.drawArraysInstanced(H.TRIANGLES,0,3,Ge.length/4):N.drawArraysInstancedANGLE(H.TRIANGLES,0,3,Ge.length/4)})}),Ie("post",s,E,function(Ne){Ne.setAttribute("aUV",2,H.STATIC_DRAW,0,M),Ne.setUniform("1i","tex",He),H.bindFramebuffer(H.FRAMEBUFFER,K),H.disable(H.BLEND),H.colorMask(xe===0,xe===1,xe===2,xe===3),H.viewport(fe,pe,F,G),H.scissor(fe,pe,F,G),H.drawArrays(H.TRIANGLES,0,3)})}),H.isContextLost())throw ke(),new Error("webgl context lost")})}function q(F){var G=!F||F===T?C:F.canvas||F,$=P.get(G);if($===void 0){R=!0;var W=null;try{var oe=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],j=z(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,F);$=j&&oe.length===j.length&&j.every(function(Y,K){return Y===oe[K]}),$||(W="bad trial run results",console.info(oe,j))}catch(Y){$=!1,W=Y.message}W&&console.warn("WebGL SDF generation not supported:",W),R=!1,P.set(G,$)}return $}var Z=Object.freeze({__proto__:null,generate:z,generateIntoCanvas:V,generateIntoFramebuffer:U,isSupported:q});function ne(F,G,$,W,oe,j){oe===void 0&&(oe=Math.max(W[2]-W[0],W[3]-W[1])/2),j===void 0&&(j=1);try{return z.apply(Z,arguments)}catch(Y){return console.info("WebGL SDF generation failed, falling back to JS",Y),m.apply(_,arguments)}}function O(F,G,$,W,oe,j,Y,K,fe,pe){oe===void 0&&(oe=Math.max(W[2]-W[0],W[3]-W[1])/2),j===void 0&&(j=1),K===void 0&&(K=0),fe===void 0&&(fe=0),pe===void 0&&(pe=0);try{return V.apply(Z,arguments)}catch(xe){return console.info("WebGL SDF generation failed, falling back to JS",xe),y.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=ne,e.generateIntoCanvas=O,e.javascript=_,e.pathToLineSegments=o,e.webgl=Z,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Ale(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ke,je){r[ke]=1<<je+1,i[r[ke]]=ke}),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,l=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,a=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|o|r.PDI|a,c=null;function f(){if(!c){c=new Map;var ke=function(He){if(n.hasOwnProperty(He)){var Ne=0;n[He].split(",").forEach(function(Ke){var Q=Ke.split("+"),N=Q[0],se=Q[1];N=parseInt(N,36),se=se?parseInt(se,36):0,c.set(Ne+=N,r[He]);for(var Le=0;Le<se;Le++)c.set(++Ne,r[He])})}};for(var je in n)ke(je)}}function d(ke){return f(),c.get(ke.codePointAt(0))||r.L}function h(ke){return i[d(ke)]}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(ke,je){var He=36,Ne=0,Ke=new Map,Q=je&&new Map,N;return ke.split(",").forEach(function se(Le){if(Le.indexOf("+")!==-1)for(var Te=+Le;Te--;)se(N);else{N=Le;var _e=Le.split(">"),ye=_e[0],we=_e[1];ye=String.fromCodePoint(Ne+=parseInt(ye,He)),we=String.fromCodePoint(Ne+=parseInt(we,He)),Ke.set(ye,we),je&&Q.set(we,ye)}}),{map:Ke,reverseMap:Q}}var x,v,_;function b(){if(!x){var ke=y(m.pairs,!0),je=ke.map,He=ke.reverseMap;x=je,v=He,_=y(m.canonical,!1).map}}function S(ke){return b(),x.get(ke)||null}function E(ke){return b(),v.get(ke)||null}function M(ke){return b(),_.get(ke)||null}var T=r.L,R=r.R,C=r.EN,P=r.ES,D=r.ET,z=r.AN,V=r.CS,U=r.B,q=r.S,Z=r.ON,ne=r.BN,O=r.NSM,F=r.AL,G=r.LRO,$=r.RLO,W=r.LRE,oe=r.RLE,j=r.PDF,Y=r.LRI,K=r.RLI,fe=r.FSI,pe=r.PDI;function xe(ke,je){for(var He=125,Ne=new Uint32Array(ke.length),Ke=0;Ke<ke.length;Ke++)Ne[Ke]=d(ke[Ke]);var Q=new Map;function N(sr,Fr){var Vn=Ne[sr];Ne[sr]=Fr,Q.set(Vn,Q.get(Vn)-1),Vn&l&&Q.set(l,Q.get(l)-1),Q.set(Fr,(Q.get(Fr)||0)+1),Fr&l&&Q.set(l,(Q.get(l)||0)+1)}for(var se=new Uint8Array(ke.length),Le=new Map,Te=[],_e=null,ye=0;ye<ke.length;ye++)_e||Te.push(_e={start:ye,end:ke.length-1,level:je==="rtl"?1:je==="ltr"?0:Yr(ye,!1)}),Ne[ye]&U&&(_e.end=ye,_e=null);for(var we=oe|W|$|G|o|pe|j|U,Se=function(sr){return sr+(sr&1?1:2)},be=function(sr){return sr+(sr&1?2:1)},ae=0;ae<Te.length;ae++){_e=Te[ae];var de=[{_level:_e.level,_override:0,_isolate:0}],he=void 0,me=0,Ue=0,Xe=0;Q.clear();for(var ie=_e.start;ie<=_e.end;ie++){var Be=Ne[ie];if(he=de[de.length-1],Q.set(Be,(Q.get(Be)||0)+1),Be&l&&Q.set(l,(Q.get(l)||0)+1),Be&we)if(Be&(oe|W)){se[ie]=he._level;var Ee=(Be===oe?be:Se)(he._level);Ee<=He&&!me&&!Ue?de.push({_level:Ee,_override:0,_isolate:0}):me||Ue++}else if(Be&($|G)){se[ie]=he._level;var Ye=(Be===$?be:Se)(he._level);Ye<=He&&!me&&!Ue?de.push({_level:Ye,_override:Be&$?R:T,_isolate:0}):me||Ue++}else if(Be&o){Be&fe&&(Be=Yr(ie+1,!0)===1?K:Y),se[ie]=he._level,he._override&&N(ie,he._override);var tt=(Be===K?be:Se)(he._level);tt<=He&&me===0&&Ue===0?(Xe++,de.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:ie})):me++}else if(Be&pe){if(me>0)me--;else if(Xe>0){for(Ue=0;!de[de.length-1]._isolate;)de.pop();var vt=de[de.length-1]._isolInitIndex;vt!=null&&(Le.set(vt,ie),Le.set(ie,vt)),de.pop(),Xe--}he=de[de.length-1],se[ie]=he._level,he._override&&N(ie,he._override)}else Be&j?(me===0&&(Ue>0?Ue--:!he._isolate&&de.length>1&&(de.pop(),he=de[de.length-1])),se[ie]=he._level):Be&U&&(se[ie]=_e.level);else se[ie]=he._level,he._override&&Be!==ne&&N(ie,he._override)}for(var xt=[],Et=null,Gt=_e.start;Gt<=_e.end;Gt++){var qt=Ne[Gt];if(!(qt&a)){var jt=se[Gt],Vt=qt&o,$n=qt===pe;Et&&jt===Et._level?(Et._end=Gt,Et._endsWithIsolInit=Vt):xt.push(Et={_start:Gt,_end:Gt,_level:jt,_startsWithPDI:$n,_endsWithIsolInit:Vt})}}for(var ir=[],fn=0;fn<xt.length;fn++){var Pn=xt[fn];if(!Pn._startsWithPDI||Pn._startsWithPDI&&!Le.has(Pn._start)){for(var gr=[Et=Pn],xn=void 0;Et&&Et._endsWithIsolInit&&(xn=Le.get(Et._end))!=null;)for(var Ht=fn+1;Ht<xt.length;Ht++)if(xt[Ht]._start===xn){gr.push(Et=xt[Ht]);break}for(var bn=[],or=0;or<gr.length;or++)for(var mn=gr[or],ce=mn._start;ce<=mn._end;ce++)bn.push(ce);for(var $e=se[bn[0]],Je=_e.level,Ve=bn[0]-1;Ve>=0;Ve--)if(!(Ne[Ve]&a)){Je=se[Ve];break}var et=bn[bn.length-1],mt=se[et],Pt=_e.level;if(!(Ne[et]&o)){for(var Ot=et+1;Ot<=_e.end;Ot++)if(!(Ne[Ot]&a)){Pt=se[Ot];break}}ir.push({_seqIndices:bn,_sosType:Math.max(Je,$e)%2?R:T,_eosType:Math.max(Pt,mt)%2?R:T})}}for(var kt=0;kt<ir.length;kt++){var $t=ir[kt],st=$t._seqIndices,Nt=$t._sosType,gn=$t._eosType;if(Q.get(O))for(var _n=0;_n<st.length;_n++){var Bt=st[_n];if(Ne[Bt]&O){for(var kr=Nt,vn=_n-1;vn>=0;vn--)if(!(Ne[st[vn]]&a)){kr=Ne[st[vn]];break}N(Bt,kr&(o|pe)?Z:kr)}}if(Q.get(C))for(var zt=0;zt<st.length;zt++){var Sn=st[zt];if(Ne[Sn]&C)for(var Ft=zt-1;Ft>=-1;Ft--){var Nr=Ft===-1?Nt:Ne[st[Ft]];if(Nr&s){Nr===F&&N(Sn,z);break}}}if(Q.get(F))for(var qn=0;qn<st.length;qn++){var Nn=st[qn];Ne[Nn]&F&&N(Nn,R)}if(Q.get(P)||Q.get(V))for(var Gr=1;Gr<st.length-1;Gr++){var Hn=st[Gr];if(Ne[Hn]&(P|V)){for(var En=0,zi=0,Mt=Gr-1;Mt>=0&&(En=Ne[st[Mt]],!!(En&a));Mt--);for(var vo=Gr+1;vo<st.length&&(zi=Ne[st[vo]],!!(zi&a));vo++);En===zi&&(Ne[Hn]===P?En===C:En&(C|z))&&N(Hn,En)}}if(Q.get(C))for(var Gi=0;Gi<st.length;Gi++){var ds=st[Gi];if(Ne[ds]&C){for(var Hr=Gi-1;Hr>=0&&Ne[st[Hr]]&(D|a);Hr--)N(st[Hr],C);for(var js=Gi+1;js<st.length&&Ne[st[js]]&(D|a);js++)N(st[js],C)}}if(Q.get(D)||Q.get(P)||Q.get(V))for(var $s=0;$s<st.length;$s++){var Uc=st[$s];if(Ne[Uc]&(D|P|V)){N(Uc,Z);for(var hs=$s-1;hs>=0&&Ne[st[hs]]&a;hs--)N(st[hs],Z);for(var ps=$s+1;ps<st.length&&Ne[st[ps]]&a;ps++)N(st[ps],Z)}}if(Q.get(C))for(var ms=0,Ma=Nt;ms<st.length;ms++){var Bc=st[ms],gu=Ne[Bc];gu&C?Ma===T&&N(Bc,T):gu&s&&(Ma=gu)}if(Q.get(l)){var gs=R|C|z,ul=gs|T,Bo=[];{for(var qs=[],zo=0;zo<st.length;zo++)if(Ne[st[zo]]&l){var sn=ke[st[zo]],vu=void 0;if(S(sn)!==null)if(qs.length<63)qs.push({char:sn,seqIndex:zo});else break;else if((vu=E(sn))!==null)for(var vs=qs.length-1;vs>=0;vs--){var cl=qs[vs].char;if(cl===vu||cl===E(M(sn))||S(M(cl))===sn){Bo.push([qs[vs].seqIndex,zo]),qs.length=vs;break}}}Bo.sort(function(sr,Fr){return sr[0]-Fr[0]})}for(var B=0;B<Bo.length;B++){for(var J=Bo[B],le=J[0],ee=J[1],re=!1,Ce=0,Fe=le+1;Fe<ee;Fe++){var De=st[Fe];if(Ne[De]&ul){re=!0;var Pe=Ne[De]&gs?R:T;if(Pe===Si(De)){Ce=Pe;break}}}if(re&&!Ce){Ce=Nt;for(var ot=le-1;ot>=0;ot--){var at=st[ot];if(Ne[at]&ul){var ht=Ne[at]&gs?R:T;ht!==Si(at)?Ce=ht:Ce=Si(at);break}}}if(Ce){if(Ne[st[le]]=Ne[st[ee]]=Ce,Ce!==Si(st[le])){for(var Dt=le+1;Dt<st.length;Dt++)if(!(Ne[st[Dt]]&a)){d(ke[st[Dt]])&O&&(Ne[st[Dt]]=Ce);break}}if(Ce!==Si(st[ee])){for(var an=ee+1;an<st.length;an++)if(!(Ne[st[an]]&a)){d(ke[st[an]])&O&&(Ne[st[an]]=Ce);break}}}}for(var Xn=0;Xn<st.length;Xn++)if(Ne[st[Xn]]&l){for(var Or=Xn,Mn=Xn,wn=Nt,Bn=Xn-1;Bn>=0;Bn--)if(Ne[st[Bn]]&a)Or=Bn;else{wn=Ne[st[Bn]]&gs?R:T;break}for(var tr=gn,Yn=Xn+1;Yn<st.length;Yn++)if(Ne[st[Yn]]&(l|a))Mn=Yn;else{tr=Ne[st[Yn]]&gs?R:T;break}for(var dn=Or;dn<=Mn;dn++)Ne[st[dn]]=wn===tr?wn:Si(st[dn]);Xn=Mn}}}for(var Tn=_e.start;Tn<=_e.end;Tn++){var Mr=se[Tn],ur=Ne[Tn];if(Mr&1?ur&(T|C|z)&&se[Tn]++:ur&R?se[Tn]++:ur&(z|C)&&(se[Tn]+=2),ur&a&&(se[Tn]=Tn===0?_e.level:se[Tn-1]),Tn===_e.end||d(ke[Tn])&(q|U))for(var si=Tn;si>=0&&d(ke[si])&u;si--)se[si]=_e.level}}return{levels:se,paragraphs:Te};function Yr(sr,Fr){for(var Vn=sr;Vn<ke.length;Vn++){var Kr=Ne[Vn];if(Kr&(R|F))return 1;if(Kr&(U|T)||Fr&&Kr===pe)return 0;if(Kr&o){var ys=yo(Vn);Vn=ys===-1?ke.length:ys}}return 0}function yo(sr){for(var Fr=1,Vn=sr+1;Vn<ke.length;Vn++){var Kr=Ne[Vn];if(Kr&U)break;if(Kr&pe){if(--Fr===0)return Vn}else Kr&o&&Fr++}return-1}function Si(sr){return se[sr]&1?R:T}}var Ge="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ae;function H(){if(!Ae){var ke=y(Ge,!0),je=ke.map,He=ke.reverseMap;He.forEach(function(Ne,Ke){je.set(Ke,Ne)}),Ae=je}}function ge(ke){return H(),Ae.get(ke)||null}function Me(ke,je,He,Ne){var Ke=ke.length;He=Math.max(0,He==null?0:+He),Ne=Math.min(Ke-1,Ne==null?Ke-1:+Ne);for(var Q=new Map,N=He;N<=Ne;N++)if(je[N]&1){var se=ge(ke[N]);se!==null&&Q.set(N,se)}return Q}function Ie(ke,je,He,Ne){var Ke=ke.length;He=Math.max(0,He==null?0:+He),Ne=Math.min(Ke-1,Ne==null?Ke-1:+Ne);var Q=[];return je.paragraphs.forEach(function(N){var se=Math.max(He,N.start),Le=Math.min(Ne,N.end);if(se<Le){for(var Te=je.levels.slice(se,Le+1),_e=Le;_e>=se&&d(ke[_e])&u;_e--)Te[_e]=N.level;for(var ye=N.level,we=1/0,Se=0;Se<Te.length;Se++){var be=Te[Se];be>ye&&(ye=be),be<we&&(we=be|1)}for(var ae=ye;ae>=we;ae--)for(var de=0;de<Te.length;de++)if(Te[de]>=ae){for(var he=de;de+1<Te.length&&Te[de+1]>=ae;)de++;de>he&&Q.push([he+He,de+He])}}}),Q}function Re(ke,je,He,Ne){var Ke=We(ke,je,He,Ne),Q=[].concat(ke);return Ke.forEach(function(N,se){Q[se]=(je.levels[N]&1?ge(ke[N]):null)||ke[N]}),Q.join("")}function We(ke,je,He,Ne){for(var Ke=Ie(ke,je,He,Ne),Q=[],N=0;N<ke.length;N++)Q[N]=N;return Ke.forEach(function(se){for(var Le=se[0],Te=se[1],_e=Q.slice(Le,Te+1),ye=_e.length;ye--;)Q[Te-ye]=_e[ye]}),Q}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=h,e.getCanonicalBracket=M,e.getEmbeddingLevels=xe,e.getMirroredCharacter=ge,e.getMirroredCharactersMap=Me,e.getReorderSegments=Ie,e.getReorderedIndices=We,e.getReorderedString=Re,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const b5=/\bvoid\s+main\s*\(\s*\)\s*{/g;function UE(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let o=en[i];return o?UE(o):r}return t.replace(e,n)}const mi=[];for(let t=0;t<256;t++)mi[t]=(t<16?"0":"")+t.toString(16);function Cle(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(mi[t&255]+mi[t>>8&255]+mi[t>>16&255]+mi[t>>24&255]+"-"+mi[e&255]+mi[e>>8&255]+"-"+mi[e>>16&15|64]+mi[e>>24&255]+"-"+mi[n&63|128]+mi[n>>8&255]+"-"+mi[n>>16&255]+mi[n>>24&255]+mi[r&255]+mi[r>>8&255]+mi[r>>16&255]+mi[r>>24&255]).toUpperCase()}const Uu=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Rle=Date.now(),tL=new WeakMap,nL=new Map;let Ple=1e10;function BE(t,e){const n=Nle(e);let r=tL.get(t);if(r||tL.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,o=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let d=nL[f];if(!d){const h=Ile(this,u,e,n);d=nL[f]=h}u.vertexShader=d.vertexShader,u.fragmentShader=d.fragmentShader,Uu(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Rle}}),this[i]&&this[i](u)},s=function(){return l(e.chained?t:t.clone())},l=function(u){const c=Object.create(u,a);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:Ple++}),c.uuid=Cle(),c.uniforms=Uu({},u.uniforms,e.uniforms),c.defines=Uu({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Uu({},u.extensions,e.extensions),c._listeners=void 0,c},a={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return o},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Uu(this.extensions,u.extensions),Uu(this.defines,u.defines),Uu(this.uniforms,_x.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return l(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=BE(t.isDerivedMaterial?t.getDepthMaterial():new Ex({depthPacking:D2}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=BE(t.isDerivedMaterial?t.getDistanceMaterial():new Mx,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=s,new s}function Ile(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:s,vertexMainOutro:l,vertexTransform:a,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:m}=r;if(o=o||"",s=s||"",l=l||"",u=u||"",c=c||"",f=f||"",(a||h)&&(e=UE(e)),(d||h)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=UE(n)),h){let y=h({vertexShader:e,fragmentShader:n});e=y.vertexShader,n=y.fragmentShader}if(d){let y=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(y.push(x),"")),f=`${d}
${y.join(`
`)}
${f}`}if(m){const y=`
uniform float ${m};
`;o=y+o,u=y+u}return a&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${a}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,x,v,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,v))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=rL(e,i,o,s,l),n=rL(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function rL(t,e,n,r,i){return(r||i||n)&&(t=t.replace(b5,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Lle(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let kle=0;const iL=new Map;function Nle(t){const e=JSON.stringify(t,Lle);let n=iL.get(e);return n==null&&iL.set(e,n=++kle),n}function Ole(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),o=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,l="[^\\S\\u00A0]",a=new RegExp(`${l}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u(_,b){function S(){const E=M=>{console.error(`Failure loading font ${_}${_===r?"":"; trying fallback"}`,M),_!==r&&(_=r,S())};try{const M=new XMLHttpRequest;M.open("get",_,!0),M.responseType="arraybuffer",M.onload=function(){if(M.status>=400)E(new Error(M.statusText));else if(M.status>0)try{const T=t(M.response);b(T)}catch(T){E(T)}},M.onerror=E,M.send()}catch(M){E(M)}}S()}function c(_,b){_||(_=r);let S=i[_];S?S.pending?S.pending.push(b):b(S):(i[_]={pending:[b]},u(_,E=>{let M=i[_].pending;i[_]=E,M.forEach(T=>T(E))}))}function f({text:_="",font:b=r,sdfGlyphSize:S=64,fontSize:E=1,letterSpacing:M=0,lineHeight:T="normal",maxWidth:R=o,direction:C,textAlign:P="left",textIndent:D=0,whiteSpace:z="normal",overflowWrap:V="normal",anchorX:U=0,anchorY:q=0,includeCaretPositions:Z=!1,chunkedBoundsSize:ne=8192,colorRanges:O=null},F,G=!1){const $=y(),W={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,M=+M,R=+R,T=T||"normal",D=+D,c(b,oe=>{const j=isFinite(R);let Y=null,K=null,fe=null,pe=null,xe=null,Ge=null,Ae=null,H=0,ge=0,Me=z!=="nowrap";const{ascender:Ie,descender:Re,unitsPerEm:We,lineGap:ke,capHeight:je,xHeight:He}=oe;W.fontLoad=y()-$;const Ne=y(),Ke=E/We;T==="normal"&&(T=(Ie-Re+ke)/We),T=T*E;const Q=(T-(Ie-Re)*Ke)/2,N=-(Ie*Ke+Q),se=Math.min(T,(Ie-Re)*Ke),Le=(Ie+Re)/2*Ke-se/2;let Te=D,_e=new x;const ye=[_e];oe.forEachGlyph(_,E,M,(be,ae,de)=>{const he=_.charAt(de),me=be.advanceWidth*Ke,Ue=_e.count;let Xe;if("isEmpty"in be||(be.isWhitespace=!!he&&new RegExp(l).test(he),be.canBreakAfter=!!he&&a.test(he),be.isEmpty=be.xMin===be.xMax||be.yMin===be.yMax||s.test(he)),!be.isWhitespace&&!be.isEmpty&&ge++,Me&&j&&!be.isWhitespace&&ae+me+Te>R&&Ue){if(_e.glyphAt(Ue-1).glyphObj.canBreakAfter)Xe=new x,Te=-ae;else for(let Be=Ue;Be--;)if(Be===0&&V==="break-word"){Xe=new x,Te=-ae;break}else if(_e.glyphAt(Be).glyphObj.canBreakAfter){Xe=_e.splitAt(Be+1);const Ee=Xe.glyphAt(0).x;Te-=Ee;for(let Ye=Xe.count;Ye--;)Xe.glyphAt(Ye).x-=Ee;break}Xe&&(_e.isSoftWrapped=!0,_e=Xe,ye.push(_e),H=R)}let ie=_e.glyphAt(_e.count);ie.glyphObj=be,ie.x=ae+Te,ie.width=me,ie.charIndex=de,he===`
`&&(_e=new x,ye.push(_e),Te=-(ae+me+M*E)+D)}),ye.forEach(be=>{for(let ae=be.count;ae--;){let{glyphObj:de,x:he,width:me}=be.glyphAt(ae);if(!de.isWhitespace){be.width=he+me,be.width>H&&(H=be.width);return}}});let we=0,Se=0;if(U&&(typeof U=="number"?we=-U:typeof U=="string"&&(we=-H*(U==="left"?0:U==="center"?.5:U==="right"?1:h(U)))),q){if(typeof q=="number")Se=-q;else if(typeof q=="string"){let be=ye.length*T;Se=q==="top"?0:q==="top-baseline"?-N:q==="top-cap"?-N-je*Ke:q==="top-ex"?-N-He*Ke:q==="middle"?be/2:q==="bottom"?be:q==="bottom-baseline"?be-Q+Re*Ke:h(q)*be}}if(!G){const be=e.getEmbeddingLevels(_,C);Y=new Uint16Array(ge),K=new Float32Array(ge*2),fe={},Ge=[o,o,-o,-o],Ae=[];let ae=N;Z&&(xe=new Float32Array(_.length*3)),O&&(pe=new Uint8Array(ge*3));let de=0,he=-1,me=-1,Ue,Xe;if(ye.forEach((ie,Be)=>{let{count:Ee,width:Ye}=ie;if(Ee>0){let tt=0;for(let jt=Ee;jt--&&ie.glyphAt(jt).glyphObj.isWhitespace;)tt++;let vt=0,xt=0;if(P==="center")vt=(H-Ye)/2;else if(P==="right")vt=H-Ye;else if(P==="justify"&&ie.isSoftWrapped){let jt=0;for(let Vt=Ee-tt;Vt--;)ie.glyphAt(Vt).glyphObj.isWhitespace&&jt++;xt=(H-Ye)/jt}if(xt||vt){let jt=0;for(let Vt=0;Vt<Ee;Vt++){let $n=ie.glyphAt(Vt);const ir=$n.glyphObj;$n.x+=vt+jt,xt!==0&&ir.isWhitespace&&Vt<Ee-tt&&(jt+=xt,$n.width+=xt)}}const Et=e.getReorderSegments(_,be,ie.glyphAt(0).charIndex,ie.glyphAt(ie.count-1).charIndex);for(let jt=0;jt<Et.length;jt++){const[Vt,$n]=Et[jt];let ir=1/0,fn=-1/0;for(let Pn=0;Pn<Ee;Pn++)if(ie.glyphAt(Pn).charIndex>=Vt){let gr=Pn,xn=Pn;for(;xn<Ee;xn++){let Ht=ie.glyphAt(xn);if(Ht.charIndex>$n)break;xn<Ee-tt&&(ir=Math.min(ir,Ht.x),fn=Math.max(fn,Ht.x+Ht.width))}for(let Ht=gr;Ht<xn;Ht++){const bn=ie.glyphAt(Ht);bn.x=fn-(bn.x+bn.width-ir)}break}}let Gt;const qt=jt=>Gt=jt;for(let jt=0;jt<Ee;jt++){let Vt=ie.glyphAt(jt);Gt=Vt.glyphObj;const $n=Gt.index,ir=be.levels[Vt.charIndex]&1;if(ir){const fn=e.getMirroredCharacter(_[Vt.charIndex]);fn&&oe.forEachGlyph(fn,0,0,qt)}if(Z){const{charIndex:fn}=Vt,Pn=Vt.x+we,gr=Vt.x+Vt.width+we;xe[fn*3]=ir?gr:Pn,xe[fn*3+1]=ir?Pn:gr,xe[fn*3+2]=ae+Le+Se;const xn=fn-he;xn>1&&m(xe,he,xn),he=fn}if(O){const{charIndex:fn}=Vt;for(;fn>me;)me++,O.hasOwnProperty(me)&&(Xe=O[me])}if(!Gt.isWhitespace&&!Gt.isEmpty){const fn=de++;fe[$n]||(fe[$n]={path:Gt.path,pathBounds:[Gt.xMin,Gt.yMin,Gt.xMax,Gt.yMax]});const Pn=Vt.x+we,gr=ae+Se;K[fn*2]=Pn,K[fn*2+1]=gr;const xn=Pn+Gt.xMin*Ke,Ht=gr+Gt.yMin*Ke,bn=Pn+Gt.xMax*Ke,or=gr+Gt.yMax*Ke;xn<Ge[0]&&(Ge[0]=xn),Ht<Ge[1]&&(Ge[1]=Ht),bn>Ge[2]&&(Ge[2]=bn),or>Ge[3]&&(Ge[3]=or),fn%ne===0&&(Ue={start:fn,end:fn,rect:[o,o,-o,-o]},Ae.push(Ue)),Ue.end++;const mn=Ue.rect;if(xn<mn[0]&&(mn[0]=xn),Ht<mn[1]&&(mn[1]=Ht),bn>mn[2]&&(mn[2]=bn),or>mn[3]&&(mn[3]=or),Y[fn]=$n,O){const ce=fn*3;pe[ce]=Xe>>16&255,pe[ce+1]=Xe>>8&255,pe[ce+2]=Xe&255}}}}ae-=T}),xe){const ie=_.length-he;ie>1&&m(xe,he,ie)}}W.typesetting=y()-Ne,F({glyphIds:Y,glyphPositions:K,glyphData:fe,caretPositions:xe,caretHeight:se,glyphColors:pe,chunkedBounds:Ae,fontSize:E,unitsPerEm:We,ascender:Ie*Ke,descender:Re*Ke,capHeight:je*Ke,xHeight:He*Ke,lineHeight:T,topBaseline:N,blockBounds:[we,Se-ye.length*T,we+H,Se],visibleBounds:Ge,timings:W})})}function d(_,b){f(_,S=>{const[E,M,T,R]=S.blockBounds;b({width:T-E,height:R-M})},{metricsOnly:!0})}function h(_){let b=_.match(/^([\d.]+)%$/),S=b?parseFloat(b[1]):NaN;return isNaN(S)?0:S/100}function m(_,b,S){const E=_[b*3],M=_[b*3+1],T=_[b*3+2],R=(M-E)/S;for(let C=0;C<S;C++){const P=(b+C)*3;_[P]=E+R*C,_[P+1]=E+R*(C+1),_[P+2]=T}}function y(){return(self.performance||Date).now()}function x(){this.data=[]}const v=["glyphObj","x","width","charIndex"];return x.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt(_){let b=x.flyweight;return b.data=this.data,b.index=_,b},splitAt(_){let b=new x;return b.data=this.data.splice(_*v.length),b}},x.flyweight=v.reduce((_,b,S,E)=>(Object.defineProperty(_,b,{get(){return this.data[this.index*v.length+S]},set(M){this.data[this.index*v.length+S]=M}}),_),{data:null,index:0}),{typeset:f,measure:d,loadFont:c}}const hc=()=>(self.performance||Date).now(),Dx=x5();let oL;function Fle(t,e,n,r,i,o,s,l,a,u,c=!0){return c?Ule(t,e,n,r,i,o,s,l,a,u).then(null,f=>(oL||(console.warn("WebGL SDF generation failed, falling back to JS",f),oL=!0),aL(t,e,n,r,i,o,s,l,a,u))):aL(t,e,n,r,i,o,s,l,a,u)}const qv=[],Dle=5;let zE=0;function _5(){const t=hc();for(;qv.length&&hc()-t<Dle;)qv.shift()();zE=qv.length?setTimeout(_5,0):0}const Ule=(...t)=>new Promise((e,n)=>{qv.push(()=>{const r=hc();try{Dx.webgl.generateIntoCanvas(...t),e({timing:hc()-r})}catch(i){n(i)}}),zE||(zE=setTimeout(_5,0))}),Ble=4,zle=2e3,sL={};let Gle=0;function aL(t,e,n,r,i,o,s,l,a,u){const c="TroikaTextSDFGenerator_JS_"+Gle++%Ble;let f=sL[c];return f||(f=sL[c]={workerModule:ag({name:c,workerId:c,dependencies:[x5,hc],init(d,h){const m=d().javascript.generate;return function(...y){const x=h();return{textureData:m(...y),timing:h()-x}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,o).then(({textureData:d,timing:h})=>{const m=hc(),y=new Uint8Array(d.length*4);for(let x=0;x<d.length;x++)y[x*4+u]=d[x];return Dx.webglUtils.renderImageData(s,y,l,a,t,e,1<<3-u),h+=hc()-m,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Mle(c)},zle)),{timing:h}})}function Hle(t){t._warm||(Dx.webgl.isSupported(t),t._warm=!0)}const Vle=Dx.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Wle(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var o=e._bin,s=new Uint8Array(i);if(o.readASCII(s,0,4)=="ttcf"){var l=4;o.readUshort(s,l),l+=2,o.readUshort(s,l),l+=2;var a=o.readUint(s,l);l+=4;for(var u=[],c=0;c<a;c++){var f=o.readUint(s,l);l+=4,u.push(e._readFont(s,f))}return u}return[e._readFont(s,0)]},_readFont:function(i,o){var s=e._bin,l=o;s.readFixed(i,o),o+=4;var a=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:i,_offset:l},f={},d=0;d<a;d++){var h=s.readASCII(i,o,4);o+=4,s.readUint(i,o),o+=4;var m=s.readUint(i,o);o+=4;var y=s.readUint(i,o);o+=4,f[h]={offset:m,length:y}}for(d=0;d<u.length;d++){var x=u[d];f[x]&&(c[x.trim()]=e[x.trim()].parse(i,f[x].offset,f[x].length,c))}return c},_tabOffset:function(i,o,s){for(var l=e._bin,a=l.readUshort(i,s+4),u=s+12,c=0;c<a;c++){var f=l.readASCII(i,u,4);u+=4,l.readUint(i,u),u+=4;var d=l.readUint(i,u);if(u+=4,l.readUint(i,u),u+=4,f==o)return d}return 0}};e._bin={readFixed:function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<8|i[o+3])/65540},readF2dot14:function(i,o){return e._bin.readShort(i,o)/16384},readInt:function(i,o){return e._bin._view(i).getInt32(o)},readInt8:function(i,o){return e._bin._view(i).getInt8(o)},readShort:function(i,o){return e._bin._view(i).getInt16(o)},readUshort:function(i,o){return e._bin._view(i).getUint16(o)},readUshorts:function(i,o,s){for(var l=[],a=0;a<s;a++)l.push(e._bin.readUshort(i,o+2*a));return l},readUint:function(i,o){return e._bin._view(i).getUint32(o)},readUint64:function(i,o){return 4294967296*e._bin.readUint(i,o)+e._bin.readUint(i,o+4)},readASCII:function(i,o,s){for(var l="",a=0;a<s;a++)l+=String.fromCharCode(i[o+a]);return l},readUnicode:function(i,o,s){for(var l="",a=0;a<s;a++){var u=i[o++]<<8|i[o++];l+=String.fromCharCode(u)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,o,s){var l=e._bin._tdec;return l&&o==0&&s==i.length?l.decode(i):e._bin.readASCII(i,o,s)},readBytes:function(i,o,s){for(var l=[],a=0;a<s;a++)l.push(i[o+a]);return l},readASCIIArray:function(i,o,s){for(var l=[],a=0;a<s;a++)l.push(String.fromCharCode(i[o+a]));return l},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,o,s,l,a){var u=e._bin,c={},f=o;u.readFixed(i,o),o+=4;var d=u.readUshort(i,o);o+=2;var h=u.readUshort(i,o);o+=2;var m=u.readUshort(i,o);return o+=2,c.scriptList=e._lctf.readScriptList(i,f+d),c.featureList=e._lctf.readFeatureList(i,f+h),c.lookupList=e._lctf.readLookupList(i,f+m,a),c},e._lctf.readLookupList=function(i,o,s){var l=e._bin,a=o,u=[],c=l.readUshort(i,o);o+=2;for(var f=0;f<c;f++){var d=l.readUshort(i,o);o+=2;var h=e._lctf.readLookupTable(i,a+d,s);u.push(h)}return u},e._lctf.readLookupTable=function(i,o,s){var l=e._bin,a=o,u={tabs:[]};u.ltype=l.readUshort(i,o),o+=2,u.flag=l.readUshort(i,o),o+=2;var c=l.readUshort(i,o);o+=2;for(var f=u.ltype,d=0;d<c;d++){var h=l.readUshort(i,o);o+=2;var m=s(i,f,a+h,u);u.tabs.push(m)}return u},e._lctf.numOfOnes=function(i){for(var o=0,s=0;s<32;s++)i>>>s&1&&o++;return o},e._lctf.readClassDef=function(i,o){var s=e._bin,l=[],a=s.readUshort(i,o);if(o+=2,a==1){var u=s.readUshort(i,o);o+=2;var c=s.readUshort(i,o);o+=2;for(var f=0;f<c;f++)l.push(u+f),l.push(u+f),l.push(s.readUshort(i,o)),o+=2}if(a==2){var d=s.readUshort(i,o);for(o+=2,f=0;f<d;f++)l.push(s.readUshort(i,o)),o+=2,l.push(s.readUshort(i,o)),o+=2,l.push(s.readUshort(i,o)),o+=2}return l},e._lctf.getInterval=function(i,o){for(var s=0;s<i.length;s+=3){var l=i[s],a=i[s+1];if(i[s+2],l<=o&&o<=a)return s}return-1},e._lctf.readCoverage=function(i,o){var s=e._bin,l={};l.fmt=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);return o+=2,l.fmt==1&&(l.tab=s.readUshorts(i,o,a)),l.fmt==2&&(l.tab=s.readUshorts(i,o,3*a)),l},e._lctf.coverageIndex=function(i,o){var s=i.tab;if(i.fmt==1)return s.indexOf(o);if(i.fmt==2){var l=e._lctf.getInterval(s,o);if(l!=-1)return s[l+2]+(o-s[l])}return-1},e._lctf.readFeatureList=function(i,o){var s=e._bin,l=o,a=[],u=s.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=s.readASCII(i,o,4);o+=4;var d=s.readUshort(i,o);o+=2;var h=e._lctf.readFeatureTable(i,l+d);h.tag=f.trim(),a.push(h)}return a},e._lctf.readFeatureTable=function(i,o){var s=e._bin,l=o,a={},u=s.readUshort(i,o);o+=2,u>0&&(a.featureParams=l+u);var c=s.readUshort(i,o);o+=2,a.tab=[];for(var f=0;f<c;f++)a.tab.push(s.readUshort(i,o+2*f));return a},e._lctf.readScriptList=function(i,o){var s=e._bin,l=o,a={},u=s.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=s.readASCII(i,o,4);o+=4;var d=s.readUshort(i,o);o+=2,a[f.trim()]=e._lctf.readScriptTable(i,l+d)}return a},e._lctf.readScriptTable=function(i,o){var s=e._bin,l=o,a={},u=s.readUshort(i,o);o+=2,a.default=e._lctf.readLangSysTable(i,l+u);var c=s.readUshort(i,o);o+=2;for(var f=0;f<c;f++){var d=s.readASCII(i,o,4);o+=4;var h=s.readUshort(i,o);o+=2,a[d.trim()]=e._lctf.readLangSysTable(i,l+h)}return a},e._lctf.readLangSysTable=function(i,o){var s=e._bin,l={};s.readUshort(i,o),o+=2,l.reqFeature=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);return o+=2,l.features=s.readUshorts(i,o,a),l},e.CFF={},e.CFF.parse=function(i,o,s){var l=e._bin;(i=new Uint8Array(i.buffer,o,s))[o=0],i[++o],i[++o],i[++o],o++;var a=[];o=e.CFF.readIndex(i,o,a);for(var u=[],c=0;c<a.length-1;c++)u.push(l.readASCII(i,o+a[c],a[c+1]-a[c]));o+=a[a.length-1];var f=[];o=e.CFF.readIndex(i,o,f);var d=[];for(c=0;c<f.length-1;c++)d.push(e.CFF.readDict(i,o+f[c],o+f[c+1]));o+=f[f.length-1];var h=d[0],m=[];o=e.CFF.readIndex(i,o,m);var y=[];for(c=0;c<m.length-1;c++)y.push(l.readASCII(i,o+m[c],m[c+1]-m[c]));if(o+=m[m.length-1],e.CFF.readSubrs(i,o,h),h.CharStrings){o=h.CharStrings,m=[],o=e.CFF.readIndex(i,o,m);var x=[];for(c=0;c<m.length-1;c++)x.push(l.readBytes(i,o+m[c],m[c+1]-m[c]));h.CharStrings=x}if(h.ROS){o=h.FDArray;var v=[];for(o=e.CFF.readIndex(i,o,v),h.FDArray=[],c=0;c<v.length-1;c++){var _=e.CFF.readDict(i,o+v[c],o+v[c+1]);e.CFF._readFDict(i,_,y),h.FDArray.push(_)}o+=v[v.length-1],o=h.FDSelect,h.FDSelect=[];var b=i[o];if(o++,b!=3)throw b;var S=l.readUshort(i,o);for(o+=2,c=0;c<S+1;c++)h.FDSelect.push(l.readUshort(i,o),i[o+2]),o+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,y),h},e.CFF._readFDict=function(i,o,s){var l;for(var a in o.Private&&(l=o.Private[1],o.Private=e.CFF.readDict(i,l,l+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(i,l+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)!=-1&&(o[a]=s[o[a]-426+35])},e.CFF.readSubrs=function(i,o,s){var l=e._bin,a=[];o=e.CFF.readIndex(i,o,a);var u,c=a.length;u=c<1240?107:c<33900?1131:32768,s.Bias=u,s.Subrs=[];for(var f=0;f<a.length-1;f++)s.Subrs.push(l.readBytes(i,o+a[f],a[f+1]-a[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,o){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==o)return s;return-1},e.CFF.glyphBySE=function(i,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[o])},e.CFF.readEncoding=function(i,o,s){e._bin;var l=[".notdef"],a=i[o];if(o++,a!=0)throw"error: unknown encoding format: "+a;var u=i[o];o++;for(var c=0;c<u;c++)l.push(i[o+c]);return l},e.CFF.readCharset=function(i,o,s){var l=e._bin,a=[".notdef"],u=i[o];if(o++,u==0)for(var c=0;c<s;c++){var f=l.readUshort(i,o);o+=2,a.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;a.length<s;){f=l.readUshort(i,o),o+=2;var d=0;for(u==1?(d=i[o],o++):(d=l.readUshort(i,o),o+=2),c=0;c<=d;c++)a.push(f),f++}}return a},e.CFF.readIndex=function(i,o,s){var l=e._bin,a=l.readUshort(i,o)+1,u=i[o+=2];if(o++,u==1)for(var c=0;c<a;c++)s.push(i[o+c]);else if(u==2)for(c=0;c<a;c++)s.push(l.readUshort(i,o+2*c));else if(u==3)for(c=0;c<a;c++)s.push(16777215&l.readUint(i,o+3*c-1));else if(a!=1)throw"unsupported offset size: "+u+", count: "+a;return(o+=a*u)-1},e.CFF.getCharString=function(i,o,s){var l=e._bin,a=i[o],u=i[o+1];i[o+2],i[o+3],i[o+4];var c=1,f=null,d=null;a<=20&&(f=a,c=1),a==12&&(f=100*a+u,c=2),21<=a&&a<=27&&(f=a,c=1),a==28&&(d=l.readShort(i,o+1),c=3),29<=a&&a<=31&&(f=a,c=1),32<=a&&a<=246&&(d=a-139,c=1),247<=a&&a<=250&&(d=256*(a-247)+u+108,c=2),251<=a&&a<=254&&(d=256*-(a-251)-u-108,c=2),a==255&&(d=l.readInt(i,o+1)/65535,c=5),s.val=d??"o"+f,s.size=c},e.CFF.readCharString=function(i,o,s){for(var l=o+s,a=e._bin,u=[];o<l;){var c=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,h=null,m=null;c<=20&&(h=c,d=1),c==12&&(h=100*c+f,d=2),c!=19&&c!=20||(h=c,d=2),21<=c&&c<=27&&(h=c,d=1),c==28&&(m=a.readShort(i,o+1),d=3),29<=c&&c<=31&&(h=c,d=1),32<=c&&c<=246&&(m=c-139,d=1),247<=c&&c<=250&&(m=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(m=256*-(c-251)-f-108,d=2),c==255&&(m=a.readInt(i,o+1)/65535,d=5),u.push(m??"o"+h),o+=d}return u},e.CFF.readDict=function(i,o,s){for(var l=e._bin,a={},u=[];o<s;){var c=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,h=null,m=null;if(c==28&&(m=l.readShort(i,o+1),d=3),c==29&&(m=l.readInt(i,o+1),d=5),32<=c&&c<=246&&(m=c-139,d=1),247<=c&&c<=250&&(m=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(m=256*-(c-251)-f-108,d=2),c==255)throw m=l.readInt(i,o+1)/65535,d=5,"unknown number";if(c==30){var y=[];for(d=1;;){var x=i[o+d];d++;var v=x>>4,_=15&x;if(v!=15&&y.push(v),_!=15&&y.push(_),_==15)break}for(var b="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<y.length;E++)b+=S[y[E]];m=parseFloat(b)}c<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],d=1,c==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),h!=null?(a[h]=u.length==1?u[0]:u,u=[]):u.push(m),o+=d}return a},e.cmap={},e.cmap.parse=function(i,o,s){i=new Uint8Array(i.buffer,o,s),o=0;var l=e._bin,a={};l.readUshort(i,o),o+=2;var u=l.readUshort(i,o);o+=2;var c=[];a.tables=[];for(var f=0;f<u;f++){var d=l.readUshort(i,o);o+=2;var h=l.readUshort(i,o);o+=2;var m=l.readUint(i,o);o+=4;var y="p"+d+"e"+h,x=c.indexOf(m);if(x==-1){var v;x=a.tables.length,c.push(m);var _=l.readUshort(i,m);_==0?v=e.cmap.parse0(i,m):_==4?v=e.cmap.parse4(i,m):_==6?v=e.cmap.parse6(i,m):_==12?v=e.cmap.parse12(i,m):console.debug("unknown format: "+_,d,h,m),a.tables.push(v)}if(a[y]!=null)throw"multiple tables for one platform+encoding";a[y]=x}return a},e.cmap.parse0=function(i,o){var s=e._bin,l={};l.format=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,l.map=[];for(var u=0;u<a-6;u++)l.map.push(i[o+u]);return l},e.cmap.parse4=function(i,o){var s=e._bin,l=o,a={};a.format=s.readUshort(i,o),o+=2;var u=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2;var f=c/2;a.searchRange=s.readUshort(i,o),o+=2,a.entrySelector=s.readUshort(i,o),o+=2,a.rangeShift=s.readUshort(i,o),o+=2,a.endCount=s.readUshorts(i,o,f),o+=2*f,o+=2,a.startCount=s.readUshorts(i,o,f),o+=2*f,a.idDelta=[];for(var d=0;d<f;d++)a.idDelta.push(s.readShort(i,o)),o+=2;for(a.idRangeOffset=s.readUshorts(i,o,f),o+=2*f,a.glyphIdArray=[];o<l+u;)a.glyphIdArray.push(s.readUshort(i,o)),o+=2;return a},e.cmap.parse6=function(i,o){var s=e._bin,l={};l.format=s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,l.firstCode=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);o+=2,l.glyphIdArray=[];for(var u=0;u<a;u++)l.glyphIdArray.push(s.readUshort(i,o)),o+=2;return l},e.cmap.parse12=function(i,o){var s=e._bin,l={};l.format=s.readUshort(i,o),o+=2,o+=2,s.readUint(i,o),o+=4,s.readUint(i,o),o+=4;var a=s.readUint(i,o);o+=4,l.groups=[];for(var u=0;u<a;u++){var c=o+12*u,f=s.readUint(i,c+0),d=s.readUint(i,c+4),h=s.readUint(i,c+8);l.groups.push([f,d,h])}return l},e.glyf={},e.glyf.parse=function(i,o,s,l){for(var a=[],u=0;u<l.maxp.numGlyphs;u++)a.push(null);return a},e.glyf._parseGlyf=function(i,o){var s=e._bin,l=i._data,a=e._tabOffset(l,"glyf",i._offset)+i.loca[o];if(i.loca[o]==i.loca[o+1])return null;var u={};if(u.noc=s.readShort(l,a),a+=2,u.xMin=s.readShort(l,a),a+=2,u.yMin=s.readShort(l,a),a+=2,u.xMax=s.readShort(l,a),a+=2,u.yMax=s.readShort(l,a),a+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(s.readUshort(l,a)),a+=2;var f=s.readUshort(l,a);if(a+=2,l.length-a<f)return null;u.instructions=s.readBytes(l,a,f),a+=f;var d=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<d;c++){var h=l[a];if(a++,u.flags.push(h),(8&h)!=0){var m=l[a];a++;for(var y=0;y<m;y++)u.flags.push(h),c++}}for(u.xs=[],c=0;c<d;c++){var x=(2&u.flags[c])!=0,v=(16&u.flags[c])!=0;x?(u.xs.push(v?l[a]:-l[a]),a++):v?u.xs.push(0):(u.xs.push(s.readShort(l,a)),a+=2)}for(u.ys=[],c=0;c<d;c++)x=(4&u.flags[c])!=0,v=(32&u.flags[c])!=0,x?(u.ys.push(v?l[a]:-l[a]),a++):v?u.ys.push(0):(u.ys.push(s.readShort(l,a)),a+=2);var _=0,b=0;for(c=0;c<d;c++)_+=u.xs[c],b+=u.ys[c],u.xs[c]=_,u.ys[c]=b}else{var S;u.parts=[];do{S=s.readUshort(l,a),a+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(E),E.glyphIndex=s.readUshort(l,a),a+=2,1&S){var M=s.readShort(l,a);a+=2;var T=s.readShort(l,a);a+=2}else M=s.readInt8(l,a),a++,T=s.readInt8(l,a),a++;2&S?(E.m.tx=M,E.m.ty=T):(E.p1=M,E.p2=T),8&S?(E.m.a=E.m.d=s.readF2dot14(l,a),a+=2):64&S?(E.m.a=s.readF2dot14(l,a),a+=2,E.m.d=s.readF2dot14(l,a),a+=2):128&S&&(E.m.a=s.readF2dot14(l,a),a+=2,E.m.b=s.readF2dot14(l,a),a+=2,E.m.c=s.readF2dot14(l,a),a+=2,E.m.d=s.readF2dot14(l,a),a+=2)}while(32&S);if(256&S){var R=s.readUshort(l,a);for(a+=2,u.instr=[],c=0;c<R;c++)u.instr.push(l[a]),a++}}return u},e.GPOS={},e.GPOS.parse=function(i,o,s,l){return e._lctf.parse(i,o,s,l,e.GPOS.subt)},e.GPOS.subt=function(i,o,s,l){var a=e._bin,u=s,c={};if(c.fmt=a.readUshort(i,s),s+=2,o==1||o==2||o==3||o==7||o==8&&c.fmt<=2){var f=a.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(o==1&&c.fmt==1){var d=a.readUshort(i,s);s+=2;var h=e._lctf.numOfOnes(d);d!=0&&(c.pos=e.GPOS.readValueRecord(i,s,d))}else if(o==2&&c.fmt>=1&&c.fmt<=2){d=a.readUshort(i,s),s+=2;var m=a.readUshort(i,s);s+=2,h=e._lctf.numOfOnes(d);var y=e._lctf.numOfOnes(m);if(c.fmt==1){c.pairsets=[];var x=a.readUshort(i,s);s+=2;for(var v=0;v<x;v++){var _=u+a.readUshort(i,s);s+=2;var b=a.readUshort(i,_);_+=2;for(var S=[],E=0;E<b;E++){var M=a.readUshort(i,_);_+=2,d!=0&&(z=e.GPOS.readValueRecord(i,_,d),_+=2*h),m!=0&&(V=e.GPOS.readValueRecord(i,_,m),_+=2*y),S.push({gid2:M,val1:z,val2:V})}c.pairsets.push(S)}}if(c.fmt==2){var T=a.readUshort(i,s);s+=2;var R=a.readUshort(i,s);s+=2;var C=a.readUshort(i,s);s+=2;var P=a.readUshort(i,s);for(s+=2,c.classDef1=e._lctf.readClassDef(i,u+T),c.classDef2=e._lctf.readClassDef(i,u+R),c.matrix=[],v=0;v<C;v++){var D=[];for(E=0;E<P;E++){var z=null,V=null;d!=0&&(z=e.GPOS.readValueRecord(i,s,d),s+=2*h),m!=0&&(V=e.GPOS.readValueRecord(i,s,m),s+=2*y),D.push({val1:z,val2:V})}c.matrix.push(D)}}}else{if(o==9&&c.fmt==1){var U=a.readUshort(i,s);s+=2;var q=a.readUint(i,s);if(s+=4,l.ltype==9)l.ltype=U;else if(l.ltype!=U)throw"invalid extension substitution";return e.GPOS.subt(i,l.ltype,u+q)}console.debug("unsupported GPOS table LookupType",o,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,o,s){var l=e._bin,a=[];return a.push(1&s?l.readShort(i,o):0),o+=1&s?2:0,a.push(2&s?l.readShort(i,o):0),o+=2&s?2:0,a.push(4&s?l.readShort(i,o):0),o+=4&s?2:0,a.push(8&s?l.readShort(i,o):0),o+=8&s?2:0,a},e.GSUB={},e.GSUB.parse=function(i,o,s,l){return e._lctf.parse(i,o,s,l,e.GSUB.subt)},e.GSUB.subt=function(i,o,s,l){var a=e._bin,u=s,c={};if(c.fmt=a.readUshort(i,s),s+=2,o!=1&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==4||o==5&&c.fmt<=2||o==6&&c.fmt<=2){var f=a.readUshort(i,s);s+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(o==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=a.readShort(i,s),s+=2;else if(c.fmt==2){var d=a.readUshort(i,s);s+=2,c.newg=a.readUshorts(i,s,d),s+=2*c.newg.length}}else if(o==4){c.vals=[],d=a.readUshort(i,s),s+=2;for(var h=0;h<d;h++){var m=a.readUshort(i,s);s+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+m))}}else if(o==5&&c.fmt==2){if(c.fmt==2){var y=a.readUshort(i,s);s+=2,c.cDef=e._lctf.readClassDef(i,u+y),c.scset=[];var x=a.readUshort(i,s);for(s+=2,h=0;h<x;h++){var v=a.readUshort(i,s);s+=2,c.scset.push(v==0?null:e.GSUB.readSubClassSet(i,u+v))}}}else if(o==6&&c.fmt==3){if(c.fmt==3){for(h=0;h<3;h++){d=a.readUshort(i,s),s+=2;for(var _=[],b=0;b<d;b++)_.push(e._lctf.readCoverage(i,u+a.readUshort(i,s+2*b)));s+=2*d,h==0&&(c.backCvg=_),h==1&&(c.inptCvg=_),h==2&&(c.ahedCvg=_)}d=a.readUshort(i,s),s+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,s,d)}}else{if(o==7&&c.fmt==1){var S=a.readUshort(i,s);s+=2;var E=a.readUint(i,s);if(s+=4,l.ltype==9)l.ltype=S;else if(l.ltype!=S)throw"invalid extension substitution";return e.GSUB.subt(i,l.ltype,u+E)}console.debug("unsupported GSUB table LookupType",o,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,o){var s=e._bin.readUshort,l=o,a=[],u=s(i,o);o+=2;for(var c=0;c<u;c++){var f=s(i,o);o+=2,a.push(e.GSUB.readSubClassRule(i,l+f))}return a},e.GSUB.readSubClassRule=function(i,o){var s=e._bin.readUshort,l={},a=s(i,o),u=s(i,o+=2);o+=2,l.input=[];for(var c=0;c<a-1;c++)l.input.push(s(i,o)),o+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(i,o,u),l},e.GSUB.readSubstLookupRecords=function(i,o,s){for(var l=e._bin.readUshort,a=[],u=0;u<s;u++)a.push(l(i,o),l(i,o+2)),o+=4;return a},e.GSUB.readChainSubClassSet=function(i,o){var s=e._bin,l=o,a=[],u=s.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,o);o+=2,a.push(e.GSUB.readChainSubClassRule(i,l+f))}return a},e.GSUB.readChainSubClassRule=function(i,o){for(var s=e._bin,l={},a=["backtrack","input","lookahead"],u=0;u<a.length;u++){var c=s.readUshort(i,o);o+=2,u==1&&c--,l[a[u]]=s.readUshorts(i,o,c),o+=2*l[a[u]].length}return c=s.readUshort(i,o),o+=2,l.subst=s.readUshorts(i,o,2*c),o+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(i,o){var s=e._bin,l=o,a=[],u=s.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,o);o+=2,a.push(e.GSUB.readLigature(i,l+f))}return a},e.GSUB.readLigature=function(i,o){var s=e._bin,l={chain:[]};l.nglyph=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);o+=2;for(var u=0;u<a-1;u++)l.chain.push(s.readUshort(i,o)),o+=2;return l},e.head={},e.head.parse=function(i,o,s){var l=e._bin,a={};return l.readFixed(i,o),o+=4,a.fontRevision=l.readFixed(i,o),o+=4,l.readUint(i,o),o+=4,l.readUint(i,o),o+=4,a.flags=l.readUshort(i,o),o+=2,a.unitsPerEm=l.readUshort(i,o),o+=2,a.created=l.readUint64(i,o),o+=8,a.modified=l.readUint64(i,o),o+=8,a.xMin=l.readShort(i,o),o+=2,a.yMin=l.readShort(i,o),o+=2,a.xMax=l.readShort(i,o),o+=2,a.yMax=l.readShort(i,o),o+=2,a.macStyle=l.readUshort(i,o),o+=2,a.lowestRecPPEM=l.readUshort(i,o),o+=2,a.fontDirectionHint=l.readShort(i,o),o+=2,a.indexToLocFormat=l.readShort(i,o),o+=2,a.glyphDataFormat=l.readShort(i,o),o+=2,a},e.hhea={},e.hhea.parse=function(i,o,s){var l=e._bin,a={};return l.readFixed(i,o),o+=4,a.ascender=l.readShort(i,o),o+=2,a.descender=l.readShort(i,o),o+=2,a.lineGap=l.readShort(i,o),o+=2,a.advanceWidthMax=l.readUshort(i,o),o+=2,a.minLeftSideBearing=l.readShort(i,o),o+=2,a.minRightSideBearing=l.readShort(i,o),o+=2,a.xMaxExtent=l.readShort(i,o),o+=2,a.caretSlopeRise=l.readShort(i,o),o+=2,a.caretSlopeRun=l.readShort(i,o),o+=2,a.caretOffset=l.readShort(i,o),o+=2,o+=8,a.metricDataFormat=l.readShort(i,o),o+=2,a.numberOfHMetrics=l.readUshort(i,o),o+=2,a},e.hmtx={},e.hmtx.parse=function(i,o,s,l){for(var a=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,d=0;d<l.maxp.numGlyphs;d++)d<l.hhea.numberOfHMetrics&&(c=a.readUshort(i,o),o+=2,f=a.readShort(i,o),o+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,o,s,l){var a=e._bin,u=a.readUshort(i,o);if(o+=2,u==1)return e.kern.parseV1(i,o-2,s,l);var c=a.readUshort(i,o);o+=2;for(var f={glyph1:[],rval:[]},d=0;d<c;d++){o+=2,s=a.readUshort(i,o),o+=2;var h=a.readUshort(i,o);o+=2;var m=h>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;o=e.kern.readFormat0(i,o,f)}return f},e.kern.parseV1=function(i,o,s,l){var a=e._bin;a.readFixed(i,o),o+=4;var u=a.readUint(i,o);o+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){a.readUint(i,o),o+=4;var d=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;o=e.kern.readFormat0(i,o,c)}return c},e.kern.readFormat0=function(i,o,s){var l=e._bin,a=-1,u=l.readUshort(i,o);o+=2,l.readUshort(i,o),o+=2,l.readUshort(i,o),o+=2,l.readUshort(i,o),o+=2;for(var c=0;c<u;c++){var f=l.readUshort(i,o);o+=2;var d=l.readUshort(i,o);o+=2;var h=l.readShort(i,o);o+=2,f!=a&&(s.glyph1.push(f),s.rval.push({glyph2:[],vals:[]}));var m=s.rval[s.rval.length-1];m.glyph2.push(d),m.vals.push(h),a=f}return o},e.loca={},e.loca.parse=function(i,o,s,l){var a=e._bin,u=[],c=l.head.indexToLocFormat,f=l.maxp.numGlyphs+1;if(c==0)for(var d=0;d<f;d++)u.push(a.readUshort(i,o+(d<<1))<<1);if(c==1)for(d=0;d<f;d++)u.push(a.readUint(i,o+(d<<2)));return u},e.maxp={},e.maxp.parse=function(i,o,s){var l=e._bin,a={},u=l.readUint(i,o);return o+=4,a.numGlyphs=l.readUshort(i,o),o+=2,u==65536&&(a.maxPoints=l.readUshort(i,o),o+=2,a.maxContours=l.readUshort(i,o),o+=2,a.maxCompositePoints=l.readUshort(i,o),o+=2,a.maxCompositeContours=l.readUshort(i,o),o+=2,a.maxZones=l.readUshort(i,o),o+=2,a.maxTwilightPoints=l.readUshort(i,o),o+=2,a.maxStorage=l.readUshort(i,o),o+=2,a.maxFunctionDefs=l.readUshort(i,o),o+=2,a.maxInstructionDefs=l.readUshort(i,o),o+=2,a.maxStackElements=l.readUshort(i,o),o+=2,a.maxSizeOfInstructions=l.readUshort(i,o),o+=2,a.maxComponentElements=l.readUshort(i,o),o+=2,a.maxComponentDepth=l.readUshort(i,o),o+=2),a},e.name={},e.name.parse=function(i,o,s){var l=e._bin,a={};l.readUshort(i,o),o+=2;var u=l.readUshort(i,o);o+=2,l.readUshort(i,o);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=o+=2,h=0;h<u;h++){var m=l.readUshort(i,o);o+=2;var y=l.readUshort(i,o);o+=2;var x=l.readUshort(i,o);o+=2;var v=l.readUshort(i,o);o+=2;var _=l.readUshort(i,o);o+=2;var b=l.readUshort(i,o);o+=2;var S,E=f[v],M=d+12*u+b;if(m==0)S=l.readUnicode(i,M,_/2);else if(m==3&&y==0)S=l.readUnicode(i,M,_/2);else if(y==0)S=l.readASCII(i,M,_);else if(y==1)S=l.readUnicode(i,M,_/2);else if(y==3)S=l.readUnicode(i,M,_/2);else{if(m!=1)throw"unknown encoding "+y+", platformID: "+m;S=l.readASCII(i,M,_),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var T="p"+m+","+x.toString(16);a[T]==null&&(a[T]={}),a[T][E!==void 0?E:v]=S,a[T]._lang=x}for(var R in a)if(a[R].postScriptName!=null&&a[R]._lang==1033)return a[R];for(var R in a)if(a[R].postScriptName!=null&&a[R]._lang==0)return a[R];for(var R in a)if(a[R].postScriptName!=null&&a[R]._lang==3084)return a[R];for(var R in a)if(a[R].postScriptName!=null)return a[R];for(var R in a){c=R;break}return console.debug("returning name table with languageID "+a[c]._lang),a[c]},e["OS/2"]={},e["OS/2"].parse=function(i,o,s){var l=e._bin.readUshort(i,o);o+=2;var a={};if(l==0)e["OS/2"].version0(i,o,a);else if(l==1)e["OS/2"].version1(i,o,a);else if(l==2||l==3||l==4)e["OS/2"].version2(i,o,a);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(i,o,a)}return a},e["OS/2"].version0=function(i,o,s){var l=e._bin;return s.xAvgCharWidth=l.readShort(i,o),o+=2,s.usWeightClass=l.readUshort(i,o),o+=2,s.usWidthClass=l.readUshort(i,o),o+=2,s.fsType=l.readUshort(i,o),o+=2,s.ySubscriptXSize=l.readShort(i,o),o+=2,s.ySubscriptYSize=l.readShort(i,o),o+=2,s.ySubscriptXOffset=l.readShort(i,o),o+=2,s.ySubscriptYOffset=l.readShort(i,o),o+=2,s.ySuperscriptXSize=l.readShort(i,o),o+=2,s.ySuperscriptYSize=l.readShort(i,o),o+=2,s.ySuperscriptXOffset=l.readShort(i,o),o+=2,s.ySuperscriptYOffset=l.readShort(i,o),o+=2,s.yStrikeoutSize=l.readShort(i,o),o+=2,s.yStrikeoutPosition=l.readShort(i,o),o+=2,s.sFamilyClass=l.readShort(i,o),o+=2,s.panose=l.readBytes(i,o,10),o+=10,s.ulUnicodeRange1=l.readUint(i,o),o+=4,s.ulUnicodeRange2=l.readUint(i,o),o+=4,s.ulUnicodeRange3=l.readUint(i,o),o+=4,s.ulUnicodeRange4=l.readUint(i,o),o+=4,s.achVendID=[l.readInt8(i,o),l.readInt8(i,o+1),l.readInt8(i,o+2),l.readInt8(i,o+3)],o+=4,s.fsSelection=l.readUshort(i,o),o+=2,s.usFirstCharIndex=l.readUshort(i,o),o+=2,s.usLastCharIndex=l.readUshort(i,o),o+=2,s.sTypoAscender=l.readShort(i,o),o+=2,s.sTypoDescender=l.readShort(i,o),o+=2,s.sTypoLineGap=l.readShort(i,o),o+=2,s.usWinAscent=l.readUshort(i,o),o+=2,s.usWinDescent=l.readUshort(i,o),o+=2},e["OS/2"].version1=function(i,o,s){var l=e._bin;return o=e["OS/2"].version0(i,o,s),s.ulCodePageRange1=l.readUint(i,o),o+=4,s.ulCodePageRange2=l.readUint(i,o),o+=4},e["OS/2"].version2=function(i,o,s){var l=e._bin;return o=e["OS/2"].version1(i,o,s),s.sxHeight=l.readShort(i,o),o+=2,s.sCapHeight=l.readShort(i,o),o+=2,s.usDefault=l.readUshort(i,o),o+=2,s.usBreak=l.readUshort(i,o),o+=2,s.usMaxContext=l.readUshort(i,o),o+=2},e["OS/2"].version5=function(i,o,s){var l=e._bin;return o=e["OS/2"].version2(i,o,s),s.usLowerOpticalPointSize=l.readUshort(i,o),o+=2,s.usUpperOpticalPointSize=l.readUshort(i,o),o+=2},e.post={},e.post.parse=function(i,o,s){var l=e._bin,a={};return a.version=l.readFixed(i,o),o+=4,a.italicAngle=l.readFixed(i,o),o+=4,a.underlinePosition=l.readShort(i,o),o+=2,a.underlineThickness=l.readShort(i,o),o+=2,a},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,o){var s=i.cmap,l=-1;if(s.p0e4!=null?l=s.p0e4:s.p3e1!=null?l=s.p3e1:s.p1e0!=null?l=s.p1e0:s.p0e3!=null&&(l=s.p0e3),l==-1)throw"no familiar platform and encoding!";var a=s.tables[l];if(a.format==0)return o>=a.map.length?0:a.map[o];if(a.format==4){for(var u=-1,c=0;c<a.endCount.length;c++)if(o<=a.endCount[c]){u=c;break}return u==-1||a.startCount[u]>o?0:65535&(a.idRangeOffset[u]!=0?a.glyphIdArray[o-a.startCount[u]+(a.idRangeOffset[u]>>1)-(a.idRangeOffset.length-u)]:o+a.idDelta[u])}if(a.format==12){if(o>a.groups[a.groups.length-1][1])return 0;for(c=0;c<a.groups.length;c++){var f=a.groups[c];if(f[0]<=o&&o<=f[1])return f[2]+(o-f[0])}return 0}throw"unknown cmap table format "+a.format},e.U.glyphToPath=function(i,o){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[o]){var l=i.SVG.entries[o];return l==null?s:(typeof l=="string"&&(l=e.SVG.toPath(l),i.SVG.entries[o]=l),l)}if(i.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=o;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[o],a,u,c,s)}else i.glyf&&e.U._drawGlyf(o,i,s);return s},e.U._drawGlyf=function(i,o,s){var l=o.glyf[i];l==null&&(l=o.glyf[i]=e.glyf._parseGlyf(o,i)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,s):e.U._compoGlyph(l,o,s))},e.U._simpleGlyph=function(i,o){for(var s=0;s<i.noc;s++){for(var l=s==0?0:i.endPts[s-1]+1,a=i.endPts[s],u=l;u<=a;u++){var c=u==l?a:u-1,f=u==a?l:u+1,d=1&i.flags[u],h=1&i.flags[c],m=1&i.flags[f],y=i.xs[u],x=i.ys[u];if(u==l)if(d){if(!h){e.U.P.moveTo(o,y,x);continue}e.U.P.moveTo(o,i.xs[c],i.ys[c])}else h?e.U.P.moveTo(o,i.xs[c],i.ys[c]):e.U.P.moveTo(o,(i.xs[c]+y)/2,(i.ys[c]+x)/2);d?h&&e.U.P.lineTo(o,y,x):m?e.U.P.qcurveTo(o,y,x,i.xs[f],i.ys[f]):e.U.P.qcurveTo(o,y,x,(y+i.xs[f])/2,(x+i.ys[f])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(i,o,s){for(var l=0;l<i.parts.length;l++){var a={cmds:[],crds:[]},u=i.parts[l];e.U._drawGlyf(u.glyphIndex,o,a);for(var c=u.m,f=0;f<a.crds.length;f+=2){var d=a.crds[f],h=a.crds[f+1];s.crds.push(d*c.a+h*c.b+c.tx),s.crds.push(d*c.c+h*c.d+c.ty)}for(f=0;f<a.cmds.length;f++)s.cmds.push(a.cmds[f])}},e.U._getGlyphClass=function(i,o){var s=e._lctf.getInterval(o,i);return s==-1?0:o[s+2]},e.U.getPairAdjustment=function(i,o,s){var l=!1;if(i.GPOS)for(var a=i.GPOS,u=a.lookupList,c=a.featureList,f=[],d=0;d<c.length;d++){var h=c[d];if(h.tag=="kern"){l=!0;for(var m=0;m<h.tab.length;m++)if(!f[h.tab[m]]){f[h.tab[m]]=!0;for(var y=u[h.tab[m]],x=0;x<y.tabs.length;x++)if(y.tabs[x]!=null){var v,_=y.tabs[x];if((!_.coverage||(v=e._lctf.coverageIndex(_.coverage,o))!=-1)&&y.ltype!=1){if(y.ltype==2){var b=null;if(_.fmt==1){var S=_.pairsets[v];for(d=0;d<S.length;d++)S[d].gid2==s&&(b=S[d])}else if(_.fmt==2){var E=e.U._getGlyphClass(o,_.classDef1),M=e.U._getGlyphClass(s,_.classDef2);b=_.matrix[E][M]}if(b){var T=0;return b.val1&&b.val1[2]&&(T+=b.val1[2]),b.val2&&b.val2[0]&&(T+=b.val2[0]),T}}}}}}}if(i.kern&&!l){var R=i.kern.glyph1.indexOf(o);if(R!=-1){var C=i.kern.rval[R].glyph2.indexOf(s);if(C!=-1)return i.kern.rval[R].vals[C]}}return 0},e.U._applySubs=function(i,o,s,l){for(var a=i.length-o-1,u=0;u<s.tabs.length;u++)if(s.tabs[u]!=null){var c,f=s.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[o]))!=-1){if(s.ltype==1)i[o],f.fmt==1?i[o]=i[o]+f.delta:i[o]=f.newg[c];else if(s.ltype==4)for(var d=f.vals[c],h=0;h<d.length;h++){var m=d[h],y=m.chain.length;if(!(y>a)){for(var x=!0,v=0,_=0;_<y;_++){for(;i[o+v+(1+_)]==-1;)v++;m.chain[_]!=i[o+v+(1+_)]&&(x=!1)}if(x){for(i[o]=m.nglyph,_=0;_<y+v;_++)i[o+_+1]=-1;break}}}else if(s.ltype==5&&f.fmt==2)for(var b=e._lctf.getInterval(f.cDef,i[o]),S=f.cDef[b+2],E=f.scset[S],M=0;M<E.length;M++){var T=E[M],R=T.input;if(!(R.length>a)){for(x=!0,_=0;_<R.length;_++){var C=e._lctf.getInterval(f.cDef,i[o+1+_]);if(b==-1&&f.cDef[C+2]!=R[_]){x=!1;break}}if(x){var P=T.substLookupRecords;for(h=0;h<P.length;h+=2)P[h],P[h+1]}}}else if(s.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,o-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,o)||!e.U._glsCovered(i,f.ahedCvg,o+f.inptCvg.length))continue;var D=f.lookupRec;for(M=0;M<D.length;M+=2){b=D[M];var z=l[D[M+1]];e.U._applySubs(i,o+b,z,l)}}}}},e.U._glsCovered=function(i,o,s){for(var l=0;l<o.length;l++)if(e._lctf.coverageIndex(o[l],i[s+l])==-1)return!1;return!0},e.U.glyphsToPath=function(i,o,s){for(var l={cmds:[],crds:[]},a=0,u=0;u<o.length;u++){var c=o[u];if(c!=-1){for(var f=u<o.length-1&&o[u+1]!=-1?o[u+1]:0,d=e.U.glyphToPath(i,c),h=0;h<d.crds.length;h+=2)l.crds.push(d.crds[h]+a),l.crds.push(d.crds[h+1]);for(s&&l.cmds.push(s),h=0;h<d.cmds.length;h++)l.cmds.push(d.cmds[h]);s&&l.cmds.push("X"),a+=i.hmtx.aWidth[c],u<o.length-1&&(a+=e.U.getPairAdjustment(i,c,f))}}return l},e.U.P={},e.U.P.moveTo=function(i,o,s){i.cmds.push("M"),i.crds.push(o,s)},e.U.P.lineTo=function(i,o,s){i.cmds.push("L"),i.crds.push(o,s)},e.U.P.curveTo=function(i,o,s,l,a,u,c){i.cmds.push("C"),i.crds.push(o,s,l,a,u,c)},e.U.P.qcurveTo=function(i,o,s,l,a){i.cmds.push("Q"),i.crds.push(o,s,l,a)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,o,s,l,a){for(var u=o.stack,c=o.nStems,f=o.haveWidth,d=o.width,h=o.open,m=0,y=o.x,x=o.y,v=0,_=0,b=0,S=0,E=0,M=0,T=0,R=0,C=0,P=0,D={val:0,size:0};m<i.length;){e.CFF.getCharString(i,m,D);var z=D.val;if(m+=D.size,z=="o1"||z=="o18")u.length%2!=0&&!f&&(d=u.shift()+l.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(z=="o3"||z=="o23")u.length%2!=0&&!f&&(d=u.shift()+l.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(z=="o4")u.length>1&&!f&&(d=u.shift()+l.nominalWidthX,f=!0),h&&e.U.P.closePath(a),x+=u.pop(),e.U.P.moveTo(a,y,x),h=!0;else if(z=="o5")for(;u.length>0;)y+=u.shift(),x+=u.shift(),e.U.P.lineTo(a,y,x);else if(z=="o6"||z=="o7")for(var V=u.length,U=z=="o6",q=0;q<V;q++){var Z=u.shift();U?y+=Z:x+=Z,U=!U,e.U.P.lineTo(a,y,x)}else if(z=="o8"||z=="o24"){V=u.length;for(var ne=0;ne+6<=V;)v=y+u.shift(),_=x+u.shift(),b=v+u.shift(),S=_+u.shift(),y=b+u.shift(),x=S+u.shift(),e.U.P.curveTo(a,v,_,b,S,y,x),ne+=6;z=="o24"&&(y+=u.shift(),x+=u.shift(),e.U.P.lineTo(a,y,x))}else{if(z=="o11")break;if(z=="o1234"||z=="o1235"||z=="o1236"||z=="o1237")z=="o1234"&&(_=x,b=(v=y+u.shift())+u.shift(),P=S=_+u.shift(),M=S,R=x,y=(T=(E=(C=b+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(a,v,_,b,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x)),z=="o1235"&&(v=y+u.shift(),_=x+u.shift(),b=v+u.shift(),S=_+u.shift(),C=b+u.shift(),P=S+u.shift(),E=C+u.shift(),M=P+u.shift(),T=E+u.shift(),R=M+u.shift(),y=T+u.shift(),x=R+u.shift(),u.shift(),e.U.P.curveTo(a,v,_,b,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x)),z=="o1236"&&(v=y+u.shift(),_=x+u.shift(),b=v+u.shift(),P=S=_+u.shift(),M=S,T=(E=(C=b+u.shift())+u.shift())+u.shift(),R=M+u.shift(),y=T+u.shift(),e.U.P.curveTo(a,v,_,b,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x)),z=="o1237"&&(v=y+u.shift(),_=x+u.shift(),b=v+u.shift(),S=_+u.shift(),C=b+u.shift(),P=S+u.shift(),E=C+u.shift(),M=P+u.shift(),T=E+u.shift(),R=M+u.shift(),Math.abs(T-y)>Math.abs(R-x)?y=T+u.shift():x=R+u.shift(),e.U.P.curveTo(a,v,_,b,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x));else if(z=="o14"){if(u.length>0&&!f&&(d=u.shift()+s.nominalWidthX,f=!0),u.length==4){var O=u.shift(),F=u.shift(),G=u.shift(),$=u.shift(),W=e.CFF.glyphBySE(s,G),oe=e.CFF.glyphBySE(s,$);e.U._drawCFF(s.CharStrings[W],o,s,l,a),o.x=O,o.y=F,e.U._drawCFF(s.CharStrings[oe],o,s,l,a)}h&&(e.U.P.closePath(a),h=!1)}else if(z=="o19"||z=="o20")u.length%2!=0&&!f&&(d=u.shift()+l.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,m+=c+7>>3;else if(z=="o21")u.length>2&&!f&&(d=u.shift()+l.nominalWidthX,f=!0),x+=u.pop(),y+=u.pop(),h&&e.U.P.closePath(a),e.U.P.moveTo(a,y,x),h=!0;else if(z=="o22")u.length>1&&!f&&(d=u.shift()+l.nominalWidthX,f=!0),y+=u.pop(),h&&e.U.P.closePath(a),e.U.P.moveTo(a,y,x),h=!0;else if(z=="o25"){for(;u.length>6;)y+=u.shift(),x+=u.shift(),e.U.P.lineTo(a,y,x);v=y+u.shift(),_=x+u.shift(),b=v+u.shift(),S=_+u.shift(),y=b+u.shift(),x=S+u.shift(),e.U.P.curveTo(a,v,_,b,S,y,x)}else if(z=="o26")for(u.length%2&&(y+=u.shift());u.length>0;)v=y,_=x+u.shift(),y=b=v+u.shift(),x=(S=_+u.shift())+u.shift(),e.U.P.curveTo(a,v,_,b,S,y,x);else if(z=="o27")for(u.length%2&&(x+=u.shift());u.length>0;)_=x,b=(v=y+u.shift())+u.shift(),S=_+u.shift(),y=b+u.shift(),x=S,e.U.P.curveTo(a,v,_,b,S,y,x);else if(z=="o10"||z=="o29"){var j=z=="o10"?l:s;if(u.length==0)console.debug("error: empty stack");else{var Y=u.pop(),K=j.Subrs[Y+j.Bias];o.x=y,o.y=x,o.nStems=c,o.haveWidth=f,o.width=d,o.open=h,e.U._drawCFF(K,o,s,l,a),y=o.x,x=o.y,c=o.nStems,f=o.haveWidth,d=o.width,h=o.open}}else if(z=="o30"||z=="o31"){var fe=u.length,pe=(ne=0,z=="o31");for(ne+=fe-(V=-3&fe);ne<V;)pe?(_=x,b=(v=y+u.shift())+u.shift(),x=(S=_+u.shift())+u.shift(),V-ne==5?(y=b+u.shift(),ne++):y=b,pe=!1):(v=y,_=x+u.shift(),b=v+u.shift(),S=_+u.shift(),y=b+u.shift(),V-ne==5?(x=S+u.shift(),ne++):x=S,pe=!0),e.U.P.curveTo(a,v,_,b,S,y,x),ne+=4}else{if((z+"").charAt(0)=="o")throw console.debug("Unknown operation: "+z,i),z;u.push(z)}}}o.x=y,o.y=x,o.nStems=c,o.haveWidth=f,o.width=d,o.open=h};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function jle(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(z,V){for(var U=new n(31),q=0;q<31;++q)U[q]=V+=1<<z[q-1];var Z=new r(U[30]);for(q=1;q<30;++q)for(var ne=U[q];ne<U[q+1];++ne)Z[ne]=ne-U[q]<<5|q;return[U,Z]},a=l(i,2),u=a[0],c=a[1];u[28]=258,c[258]=28;for(var f=l(o,0)[0],d=new n(32768),h=0;h<32768;++h){var m=(43690&h)>>>1|(21845&h)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,d[h]=((65280&m)>>>8|(255&m)<<8)>>>1}var y=function(z,V,U){for(var q=z.length,Z=0,ne=new n(V);Z<q;++Z)++ne[z[Z]-1];var O,F=new n(V);for(Z=0;Z<V;++Z)F[Z]=F[Z-1]+ne[Z-1]<<1;if(U){O=new n(1<<V);var G=15-V;for(Z=0;Z<q;++Z)if(z[Z])for(var $=Z<<4|z[Z],W=V-z[Z],oe=F[z[Z]-1]++<<W,j=oe|(1<<W)-1;oe<=j;++oe)O[d[oe]>>>G]=$}else for(O=new n(q),Z=0;Z<q;++Z)z[Z]&&(O[Z]=d[F[z[Z]-1]++]>>>15-z[Z]);return O},x=new e(288);for(h=0;h<144;++h)x[h]=8;for(h=144;h<256;++h)x[h]=9;for(h=256;h<280;++h)x[h]=7;for(h=280;h<288;++h)x[h]=8;var v=new e(32);for(h=0;h<32;++h)v[h]=5;var _=y(x,9,1),b=y(v,5,1),S=function(z){for(var V=z[0],U=1;U<z.length;++U)z[U]>V&&(V=z[U]);return V},E=function(z,V,U){var q=V/8|0;return(z[q]|z[q+1]<<8)>>(7&V)&U},M=function(z,V){var U=V/8|0;return(z[U]|z[U+1]<<8|z[U+2]<<16)>>(7&V)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(z,V,U){var q=new Error(V||T[z]);if(q.code=z,Error.captureStackTrace&&Error.captureStackTrace(q,R),!U)throw q;return q},C=function(z,V,U){var q=z.length;if(!q||U&&!U.l&&q<5)return V||new e(0);var Z=!V||U,ne=!U||U.i;U||(U={}),V||(V=new e(3*q));var O,F=function(he){var me=V.length;if(he>me){var Ue=new e(Math.max(2*me,he));Ue.set(V),V=Ue}},G=U.f||0,$=U.p||0,W=U.b||0,oe=U.l,j=U.d,Y=U.m,K=U.n,fe=8*q;do{if(!oe){U.f=G=E(z,$,1);var pe=E(z,$+1,3);if($+=3,!pe){var xe=z[(He=((O=$)/8|0)+(7&O&&1)+4)-4]|z[He-3]<<8,Ge=He+xe;if(Ge>q){ne&&R(0);break}Z&&F(W+xe),V.set(z.subarray(He,Ge),W),U.b=W+=xe,U.p=$=8*Ge;continue}if(pe==1)oe=_,j=b,Y=9,K=5;else if(pe==2){var Ae=E(z,$,31)+257,H=E(z,$+10,15)+4,ge=Ae+E(z,$+5,31)+1;$+=14;for(var Me=new e(ge),Ie=new e(19),Re=0;Re<H;++Re)Ie[s[Re]]=E(z,$+3*Re,7);$+=3*H;var We=S(Ie),ke=(1<<We)-1,je=y(Ie,We,1);for(Re=0;Re<ge;){var He,Ne=je[E(z,$,ke)];if($+=15&Ne,(He=Ne>>>4)<16)Me[Re++]=He;else{var Ke=0,Q=0;for(He==16?(Q=3+E(z,$,3),$+=2,Ke=Me[Re-1]):He==17?(Q=3+E(z,$,7),$+=3):He==18&&(Q=11+E(z,$,127),$+=7);Q--;)Me[Re++]=Ke}}var N=Me.subarray(0,Ae),se=Me.subarray(Ae);Y=S(N),K=S(se),oe=y(N,Y,1),j=y(se,K,1)}else R(1);if($>fe){ne&&R(0);break}}Z&&F(W+131072);for(var Le=(1<<Y)-1,Te=(1<<K)-1,_e=$;;_e=$){var ye=(Ke=oe[M(z,$)&Le])>>>4;if(($+=15&Ke)>fe){ne&&R(0);break}if(Ke||R(2),ye<256)V[W++]=ye;else{if(ye==256){_e=$,oe=null;break}var we=ye-254;if(ye>264){var Se=i[Re=ye-257];we=E(z,$,(1<<Se)-1)+u[Re],$+=Se}var be=j[M(z,$)&Te],ae=be>>>4;if(be||R(3),$+=15&be,se=f[ae],ae>3&&(Se=o[ae],se+=M(z,$)&(1<<Se)-1,$+=Se),$>fe){ne&&R(0);break}Z&&F(W+131072);for(var de=W+we;W<de;W+=4)V[W]=V[W-se],V[W+1]=V[W+1-se],V[W+2]=V[W+2-se],V[W+3]=V[W+3-se];W=de}}U.l=oe,U.p=_e,U.b=W,oe&&(G=1,U.m=Y,U.d=j,U.n=K)}while(!G);return W==V.length?V:function(he,me,Ue){(me==null||me<0)&&(me=0),(Ue==null||Ue>he.length)&&(Ue=he.length);var Xe=new(he instanceof n?n:he instanceof r?r:e)(Ue-me);return Xe.set(he.subarray(me,Ue)),Xe}(V,0,W)},P=new e(0),D=typeof TextDecoder<"u"&&new TextDecoder;try{D.decode(P,{stream:!0})}catch{}return t.convert_streams=function(z){var V=new DataView(z),U=0;function q(){var Ae=V.getUint16(U);return U+=2,Ae}function Z(){var Ae=V.getUint32(U);return U+=4,Ae}function ne(Ae){xe.setUint16(Ge,Ae),Ge+=2}function O(Ae){xe.setUint32(Ge,Ae),Ge+=4}for(var F={signature:Z(),flavor:Z(),length:Z(),numTables:q(),reserved:q(),totalSfntSize:Z(),majorVersion:q(),minorVersion:q(),metaOffset:Z(),metaLength:Z(),metaOrigLength:Z(),privOffset:Z(),privLength:Z()},G=0;Math.pow(2,G)<=F.numTables;)G++;G--;for(var $=16*Math.pow(2,G),W=16*F.numTables-$,oe=12,j=[],Y=0;Y<F.numTables;Y++)j.push({tag:Z(),offset:Z(),compLength:Z(),origLength:Z(),origChecksum:Z()}),oe+=16;var K,fe=new Uint8Array(12+16*j.length+j.reduce(function(Ae,H){return Ae+H.origLength+4},0)),pe=fe.buffer,xe=new DataView(pe),Ge=0;return O(F.flavor),ne(F.numTables),ne($),ne(G),ne(W),j.forEach(function(Ae){O(Ae.tag),O(Ae.origChecksum),O(oe),O(Ae.origLength),Ae.outOffset=oe,(oe+=Ae.origLength)%4!=0&&(oe+=4-oe%4)}),j.forEach(function(Ae){var H,ge=z.slice(Ae.offset,Ae.offset+Ae.compLength);if(Ae.compLength!=Ae.origLength){var Me=new Uint8Array(Ae.origLength);H=new Uint8Array(ge,2),C(H,Me)}else Me=new Uint8Array(ge);fe.set(Me,Ae.outOffset);var Ie=0;(oe=Ae.outOffset+Ae.origLength)%4!=0&&(Ie=4-oe%4),fe.set(new Uint8Array(Ie).buffer,Ae.outOffset+Ae.origLength),K=oe+Ie}),pe.slice(0,K)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function $le(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,o=2,s=4,l=8,a=16,u=32;let c;function f(E){if(!c){const M={R:o,L:i,D:s,C:a,U:u,T:l};c=new Map;for(let T in r){let R=0;r[T].split(",").forEach(C=>{let[P,D]=C.split("+");P=parseInt(P,36),D=D?parseInt(D,36):0,c.set(R+=P,M[T]);for(let z=D;z--;)c.set(++R,M[T])})}}return c.get(E)||u}const d=1,h=2,m=3,y=4,x=[null,"isol","init","fina","medi"];function v(E){const M=new Uint8Array(E.length);let T=u,R=d,C=-1;for(let P=0;P<E.length;P++){const D=E.codePointAt(P);let z=f(D)|0,V=d;z&l||(T&(i|s|a)?z&(o|s|a)?(V=m,(R===d||R===m)&&M[C]++):z&(i|u)&&(R===h||R===y)&&M[C]--:T&(o|u)&&(R===h||R===y)&&M[C]--,R=M[P]=V,T=z,C=P,D>65535&&P++)}return M}function _(E,M){const T=[];for(let C=0;C<M.length;C++){const P=M.codePointAt(C);P>65535&&C++,T.push(t.U.codeToGlyph(E,P))}const R=E.GSUB;if(R){const{lookupList:C,featureList:P}=R;let D;const z=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,V=[];P.forEach(U=>{if(z.test(U.tag))for(let q=0;q<U.tab.length;q++){if(V[U.tab[q]])continue;V[U.tab[q]]=!0;const Z=C[U.tab[q]],ne=/^(isol|init|fina|medi)$/.test(U.tag);ne&&!D&&(D=v(M));for(let O=0;O<T.length;O++)(!D||!ne||x[D[O]]===U.tag)&&t.U._applySubs(T,O,Z,C)}})}return T}function b(...E){for(let M=0;M<E.length;M++)if(typeof E[M]=="number")return E[M]}function S(E){const M=Object.create(null),T=E["OS/2"],R=E.hhea,C=E.head.unitsPerEm,P=b(T&&T.sTypoAscender,R&&R.ascender,C),D={unitsPerEm:C,ascender:P,descender:b(T&&T.sTypoDescender,R&&R.descender,0),capHeight:b(T&&T.sCapHeight,P),xHeight:b(T&&T.sxHeight,P),lineGap:b(T&&T.sTypoLineGap,R&&R.lineGap),forEachGlyph(z,V,U,q){let Z=0;const ne=1/D.unitsPerEm*V,O=_(E,z);let F=0,G=-1;return O.forEach(($,W)=>{if($!==-1){let oe=M[$];if(!oe){const{cmds:j,crds:Y}=t.U.glyphToPath(E,$);let K="",fe=0;for(let H=0,ge=j.length;H<ge;H++){const Me=n[j[H]];K+=j[H];for(let Ie=1;Ie<=Me;Ie++)K+=(Ie>1?",":"")+Y[fe++]}let pe,xe,Ge,Ae;if(Y.length){pe=xe=1/0,Ge=Ae=-1/0;for(let H=0,ge=Y.length;H<ge;H+=2){let Me=Y[H],Ie=Y[H+1];Me<pe&&(pe=Me),Ie<xe&&(xe=Ie),Me>Ge&&(Ge=Me),Ie>Ae&&(Ae=Ie)}}else pe=Ge=xe=Ae=0;oe=M[$]={index:$,advanceWidth:E.hmtx.aWidth[$],xMin:pe,yMin:xe,xMax:Ge,yMax:Ae,path:K,pathCommandCount:j.length}}G!==-1&&(Z+=t.U.getPairAdjustment(E,G,$)*ne),q.call(null,oe,Z,F),oe.advanceWidth&&(Z+=oe.advanceWidth*ne),U&&(Z+=U*V),G=$}F+=z.codePointAt(F)>65535?2:1}),Z}};return D}return function(M){const T=new Uint8Array(M,0,4),R=t._bin.readASCII(T,0,4);if(R==="wOFF")M=e(M);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return S(t.parse(M)[0])}}const qle=ag({name:"Typr Font Parser",dependencies:[Wle,jle,$le],init(t,e,n){const r=t(),i=e();return n(r,i)}}),id={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Xle=new yt;function Rf(){return(self.performance||Date).now()}const lL=Object.create(null);function S5(t,e){t=Qle({},t);const n=Rf();if(t.font=Jle(t.font||id.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||id.sdfGlyphSize,t.colorRanges!=null){let f={};for(let d in t.colorRanges)if(t.colorRanges.hasOwnProperty(d)){let h=t.colorRanges[d];typeof h!="number"&&(h=Xle.set(h).getHex()),f[d]=h}t.colorRanges=f}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=id,{sdfGlyphSize:o}=t,s=r/o*4;let l=lL[o];if(!l){const f=document.createElement("canvas");f.width=r,f.height=o*256/s,l=lL[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:f,sdfTexture:new wr(f,void 0,void 0,void 0,br,br),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,Yle(l)}const{sdfTexture:a,sdfCanvas:u}=l;let c=l.glyphsByFont.get(t.font);c||l.glyphsByFont.set(t.font,c=new Map),eue(t).then(f=>{const{glyphIds:d,glyphPositions:h,fontSize:m,unitsPerEm:y,timings:x}=f,v=[],_=new Float32Array(d.length*4),b=m/y;let S=0,E=0;const M=Rf();d.forEach((D,z)=>{let V=c.get(D);if(!V){const{path:ne,pathBounds:O}=f.glyphData[D],F=Math.max(O[2]-O[0],O[3]-O[1])/o*(id.sdfMargin*o+.5),G=l.glyphCount++,$=[O[0]-F,O[1]-F,O[2]+F,O[3]+F];c.set(D,V={path:ne,atlasIndex:G,sdfViewBox:$}),v.push(V)}const{sdfViewBox:U}=V,q=h[E++],Z=h[E++];_[S++]=q+U[0]*b,_[S++]=Z+U[1]*b,_[S++]=q+U[2]*b,_[S++]=Z+U[3]*b,d[z]=V.atlasIndex}),x.quads=(x.quads||0)+(Rf()-M);const T=Rf();x.sdf={};const R=u.height,C=Math.ceil(l.glyphCount/s),P=Math.pow(2,Math.ceil(Math.log2(C*o)));P>R&&(console.info(`Increasing SDF texture size ${R}->${P}`),Vle(u,r,P),a.dispose()),Promise.all(v.map(D=>w5(D,l,t.gpuAccelerateSDF).then(({timing:z})=>{x.sdf[D.atlasIndex]=z}))).then(()=>{v.length&&!l.contextLost&&(E5(l),a.needsUpdate=!0),x.sdfTotal=Rf()-T,x.total=Rf()-n,e(Object.freeze({parameters:t,sdfTexture:a,sdfGlyphSize:o,sdfExponent:i,glyphBounds:_,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{l.contextLost||Hle(u)})}function w5({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},s){if(o)return Promise.resolve({timing:-1});const{textureWidth:l,sdfExponent:a}=id,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(l/r)*r,d=Math.floor(c/(l/r))*r,h=e%4;return Fle(r,r,t,n,u,a,i,f,d,h,s)}function Yle(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(o=>{r.push(w5(o,t,!0))})}),Promise.all(r).then(()=>{E5(t),t.sdfTexture.needsUpdate=!0})})}function Kle({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;S5({font:t,sdfGlyphSize:n,text:i},r)}function Qle(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let uv;function Jle(t){return uv||(uv=typeof document>"u"?{}:document.createElement("a")),uv.href=t,uv.href}function E5(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,o=t.sdfCanvas.getContext("webgl");let s=n.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),n.image={width:r,height:i,data:s},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s)}}const Zle=ag({name:"Typesetter",dependencies:[id,qle,Ole,Ale],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),eue=ag({name:"Typesetter",dependencies:[Zle],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),uL={};function tue(t){let e=uL[t];if(!e){const n=new al(1,1,t,t),r=n.clone(),i=n.attributes,o=r.attributes,s=new nn,l=i.uv.count;for(let a=0;a<l;a++)o.position.array[a*3]*=-1,o.normal.array[a*3+2]*=-1;["position","normal","uv"].forEach(a=>{s.setAttribute(a,new Ct([...i[a].array,...o[a].array],i[a].itemSize))}),s.setIndex([...n.index.array,...r.index.array.map(a=>a+l)]),s.translate(.5,.5,0),e=uL[t]=s}return e}const nue="aTroikaGlyphBounds",cL="aTroikaGlyphIndex",rue="aTroikaGlyphColor";class iue extends uT{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new fs,this.boundingBox=new Gs}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===xi?n/2:0,e===Ao?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=tue(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,o){_S(this,nue,e,4),_S(this,cL,n,1),_S(this,rue,o,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:o,min:s,max:l,sin:a,cos:u}=Math,c=i/2,f=i*2,d=Math.abs(n),h=e[0]/d,m=e[2]/d,y=o((h+c)/f)!==o((m+c)/f)?-d:s(a(h)*d,a(m)*d),x=o((h-c)/f)!==o((m-c)/f)?d:l(a(h)*d,a(m)*d),v=o((h+i)/f)!==o((m+i)/f)?d*2:l(d-u(h)*d,d-u(m)*d);r.min.set(y,e[1],n<0?-v:0),r.max.set(x,e[3],n<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(cL).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=n}}function _S(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new Ec(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const oue=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,sue=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,aue=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,lue=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function uue(t){const e=BE(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new it},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Un(0,0,0,0)},uTroikaClipRect:{value:new Un(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new it},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new yt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new tn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:oue,vertexTransform:sue,fragmentDefs:aue,fragmentColorTransform:lue,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(b5,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const bT=new _a({color:16777215,side:Ao,transparent:!0}),fL=8421504,dL=new Xt,cv=new ue,SS=new ue,qh=[],cue=new ue,wS="+x+y";function hL(t){return Array.isArray(t)?t[0]:t}let M5=()=>{const t=new mr(new al(1,1),bT);return M5=()=>t,t},T5=()=>{const t=new mr(new al(1,1,32,1),bT);return T5=()=>t,t};const fue={type:"syncstart"},due={type:"synccomplete"},A5=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],hue=A5.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let C5=class extends mr{constructor(){const e=new iue;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=fL,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=wS,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(fue),S5({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(due),e&&e()})))}onBeforeRender(e,n,r,i,o,s){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o),o._hadOwnSide=o.hasOwnProperty("side"),this.geometry.setSide(o._actualSide=o.side),o.side=xa}onAfterRender(e,n,r,i,o,s){o._hadOwnSide?o.side=o._actualSide:delete o.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=bT.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=uue(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return hL(this.material).getDepthMaterial()}get customDistanceMaterial(){return hL(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:l,blockBounds:a}=i;r.uTroikaSDFTexture.value=l,r.uTroikaSDFTextureSize.value.set(l.image.width,l.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(a),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,d,h,m,y=0,x=0;if(n){let{outlineWidth:_,outlineOffsetX:b,outlineOffsetY:S,outlineBlur:E,outlineOpacity:M}=this;u=this._parsePercent(_)||0,c=Math.max(0,this._parsePercent(E)||0),d=M,y=this._parsePercent(b)||0,x=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(m=this.strokeColor,r.uTroikaStrokeColor.value.set(m??fL),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=u,r.uTroikaPositionOffset.value.set(y,x),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=h,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)r.uTroikaClipRect.value.fromArray(v);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(a[0]-_,a[1]-_,a[2]+_,a[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=n?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const l=e.hasOwnProperty("color")?e.color:e.color=new yt;(o!==l._input||typeof o=="object")&&l.set(l._input=o)}let s=this.orientation||wS;if(s!==e._orientation){let l=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let a=s!==wS&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,u,c,f,d]=a;cv.set(0,0,0)[c]=u==="-"?1:-1,SS.set(0,0,0)[d]=f==="-"?-1:1,dL.lookAt(cue,cv.cross(SS),SS),l.setFromMatrix4(dL)}else l.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new it){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new it){return cv.copy(e),this.localPositionToTextCoords(this.worldToLocal(cv),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const o=r.blockBounds,s=i?T5():M5(),l=s.geometry,{position:a,uv:u}=l.attributes;for(let c=0;c<u.count;c++){let f=o[0]+u.getX(c)*(o[2]-o[0]);const d=o[1]+u.getY(c)*(o[3]-o[1]);let h=0;i&&(h=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),a.setXYZ(c,f,d,h)}l.boundingSphere=this.geometry.boundingSphere,l.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,qh.length=0,s.raycast(e,qh);for(let c=0;c<qh.length;c++)qh[c].object=this,n.push(qh[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,hue.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};A5.forEach(t=>{const e="_private_"+t;Object.defineProperty(C5.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const Ac=L.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:o,characters:s,onSync:l,...a},u)=>{const c=Rae(({invalidate:m})=>m),[f]=L.useState(()=>new C5),[d,h]=L.useMemo(()=>{const m=[];let y="";return L.Children.forEach(o,x=>{typeof x=="string"||typeof x=="number"?y+=x:m.push(x)}),[m,y]},[o]);return pae(()=>new Promise(m=>Kle({font:r,characters:s},m)),["troika-text",r,s]),L.useLayoutEffect(()=>void f.sync(()=>{c(),l&&l(f)})),L.useEffect(()=>()=>f.dispose(),[f]),L.createElement("primitive",te({object:f,ref:u,font:r,text:h,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},a),d)});function pue(t,e,n=new ue){const r=Math.PI*(t-.5),i=2*Math.PI*(e-.5);return n.x=Math.cos(i),n.y=Math.sin(r),n.z=Math.sin(i),n}const mue=L.forwardRef(({inclination:t=.6,azimuth:e=.1,distance:n=1e3,mieCoefficient:r=.005,mieDirectionalG:i=.8,rayleigh:o=.5,turbidity:s=10,sunPosition:l=pue(t,e),...a},u)=>{const c=L.useMemo(()=>new ue().setScalar(n),[n]),[f]=L.useState(()=>new xT);return L.createElement("primitive",te({object:f,ref:u,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":i,"material-uniforms-rayleigh-value":o,"material-uniforms-sunPosition-value":l,"material-uniforms-turbidity-value":s,scale:c},a))});class gue extends ls{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const vue=t=>new ue().setFromSpherical(new G4(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),yue=L.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:o=!1,speed:s=1},l)=>{const a=L.useRef(),[u,c,f]=L.useMemo(()=>{const h=[],m=[],y=Array.from({length:n},()=>(.5+.5*Math.random())*i),x=new yt;let v=t+e;const _=e/n;for(let b=0;b<n;b++)v-=_*Math.random(),h.push(...vue(v).toArray()),x.setHSL(b/n,r,.9),m.push(x.r,x.g,x.b);return[new Float32Array(h),new Float32Array(m),new Float32Array(y)]},[n,e,i,t,r]);Ws(h=>a.current&&(a.current.uniforms.time.value=h.clock.getElapsedTime()*s));const[d]=L.useState(()=>new gue);return L.createElement("points",{ref:l},L.createElement("bufferGeometry",null,L.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),L.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),L.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),L.createElement("primitive",{ref:a,object:d,attach:"material",blending:By,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))}),xue=-1.2,R5=L.createContext(null),Dc=()=>L.useContext(R5),_T=t=>{const[e,n]=L.useState("stopped"),[r,i]=L.useState("preview"),[o,s]=L.useState(xue);return X.jsx(R5.Provider,{value:{playingState:e,setPlayingState:n,playingMode:r,setPlayingMode:i,railAngle:o,setRailAngle:s},children:t.children})},pL={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,q:60,2:61,w:62,3:63,e:64,r:65,5:66,t:67,6:68,y:69,7:70,u:71},bue=new AudioContext,up=new gle(bue,{decayTime:1.2});up.loaded().then(()=>{console.log("--- virtual piano player is ready")});let P5=0;const mL=.5,gL=1.3,vL=.3,yL=.9,_ue=.03,Tm={};for(let t=0,e=0;e<Ps.length;e++){const n=Ps[e],[r,i,o]=n.isWhiteKey()?[mL,gL,.2]:[vL,yL,.25],s=n.isWhiteKey()?[t,-gL*.5,-.1]:[t-vL*.8,-yL*.5,1e-4];Tm[n.midiNumber]={x:s[0],y:s[1],z:s[2],w:r,h:i,d:o,name:n.keyName,color:n.isWhiteKey()?"white":"black"},t=t+(n.isWhiteKey()?mL+_ue:0),e<Ps.length-1&&(P5=t)}Object.keys(Tm).forEach(t=>{Tm[t].x-=P5*.5});const ST=t=>{const e=L.useRef([]),{refHandleMidiNoteDown:n,refHandleMidiNoteUp:r,setHandlePreviewNoteDown:i,setHandlePreviewNoteUp:o}=Fx(),{playingState:s}=Dc(),[l,a]=L.useState(0),u=m=>{m.pressed=!1,e.current[m.midiNumber-Cs].color.set(Ps[m.midiNumber-Cs].isWhiteKey()?"white":"black")},c=L.useCallback(()=>{Ps.forEach(m=>u(m))},[]);L.useEffect(()=>{s==="stopped"&&c()},[c,s]);const f=L.useCallback(m=>{if(m.code==="ArrowLeft")a(-1);else if(m.code==="ArrowRight")a(1);else{const y=pL[m.key]+12*l,x=Ps.find(v=>v.midiNumber===y);x&&x.pressed===!1&&(x.pressed=!0,e.current[y-Cs].color.set("blue"),up.start({note:y,velocity:80}),n.current&&n.current(x.midiNumber,80))}},[l,n]),d=L.useCallback(m=>{if(m.code==="ArrowLeft"||m.code==="ArrowRight")a(0);else{const y=pL[m.key]+12*l,x=Ps.find(v=>v.midiNumber===y);x&&(x.pressed=!1,e.current[y-Cs].color.set(Ps[y-Cs].isWhiteKey()?"white":"black"),up.stop(y),r.current&&r.current(x.midiNumber,80))}},[r,l]);L.useEffect(()=>{i((m,y,x)=>{e.current[m-Cs].color.set("blue"),x&&up.start({note:m,velocity:y})}),o((m,y,x)=>{e.current[m-Cs].color.set(Ps[m-Cs].isWhiteKey()?"white":"black"),x&&up.stop(m)})},[i,o]),L.useEffect(()=>(document.addEventListener("keydown",f),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",d)}),[f,d]);const h=L.useRef();return X.jsxs("group",{ref:h,position:t.position,children:[Ps.map((m,y)=>{const x=Tm[m.midiNumber];return X.jsxs("mesh",{position:[x.x,x.y,x.z],children:[X.jsx("boxGeometry",{args:[x.w,x.h,x.d]}),X.jsx("meshStandardMaterial",{ref:v=>{e.current[y]=v},color:m.isWhiteKey()?"white":"black"}),X.jsx(Ac,{scale:[.1,.1,.1],position:m.isWhiteKey()?[0,-.4,.33]:[0,-.2,.23],color:m.isWhiteKey()?"black":"white",anchorX:"center",anchorY:"middle"})]},y)})," "]})};var I5={exports:{}};/*! For license information please see midicube.js.LICENSE.txt */(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={9662:(s,l,a)=>{var u=a(614),c=a(6330),f=TypeError;s.exports=function(d){if(u(d))return d;throw f(c(d)+" is not a function")}},9483:(s,l,a)=>{var u=a(4411),c=a(6330),f=TypeError;s.exports=function(d){if(u(d))return d;throw f(c(d)+" is not a constructor")}},6077:(s,l,a)=>{var u=a(614),c=String,f=TypeError;s.exports=function(d){if(typeof d=="object"||u(d))return d;throw f("Can't set "+c(d)+" as a prototype")}},1223:(s,l,a)=>{var u=a(5112),c=a(30),f=a(3070).f,d=u("unscopables"),h=Array.prototype;h[d]==null&&f(h,d,{configurable:!0,value:c(null)}),s.exports=function(m){h[d][m]=!0}},1530:(s,l,a)=>{var u=a(8710).charAt;s.exports=function(c,f,d){return f+(d?u(c,f).length:1)}},5787:(s,l,a)=>{var u=a(7976),c=TypeError;s.exports=function(f,d){if(u(d,f))return f;throw c("Incorrect invocation")}},9670:(s,l,a)=>{var u=a(111),c=String,f=TypeError;s.exports=function(d){if(u(d))return d;throw f(c(d)+" is not an object")}},3013:s=>{s.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},260:(s,l,a)=>{var u,c,f,d=a(3013),h=a(9781),m=a(7854),y=a(614),x=a(111),v=a(2597),_=a(648),b=a(6330),S=a(8880),E=a(8052),M=a(3070).f,T=a(7976),R=a(9518),C=a(7674),P=a(5112),D=a(9711),z=a(9909),V=z.enforce,U=z.get,q=m.Int8Array,Z=q&&q.prototype,ne=m.Uint8ClampedArray,O=ne&&ne.prototype,F=q&&R(q),G=Z&&R(Z),$=Object.prototype,W=m.TypeError,oe=P("toStringTag"),j=D("TYPED_ARRAY_TAG"),Y="TypedArrayConstructor",K=d&&!!C&&_(m.opera)!=="Opera",fe=!1,pe={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},xe={BigInt64Array:8,BigUint64Array:8},Ge=function(H){var ge=R(H);if(x(ge)){var Me=U(ge);return Me&&v(Me,Y)?Me[Y]:Ge(ge)}},Ae=function(H){if(!x(H))return!1;var ge=_(H);return v(pe,ge)||v(xe,ge)};for(u in pe)(f=(c=m[u])&&c.prototype)?V(f)[Y]=c:K=!1;for(u in xe)(f=(c=m[u])&&c.prototype)&&(V(f)[Y]=c);if((!K||!y(F)||F===Function.prototype)&&(F=function(){throw W("Incorrect invocation")},K))for(u in pe)m[u]&&C(m[u],F);if((!K||!G||G===$)&&(G=F.prototype,K))for(u in pe)m[u]&&C(m[u].prototype,G);if(K&&R(O)!==G&&C(O,G),h&&!v(G,oe))for(u in fe=!0,M(G,oe,{get:function(){return x(this)?this[j]:void 0}}),pe)m[u]&&S(m[u],j,u);s.exports={NATIVE_ARRAY_BUFFER_VIEWS:K,TYPED_ARRAY_TAG:fe&&j,aTypedArray:function(H){if(Ae(H))return H;throw W("Target is not a typed array")},aTypedArrayConstructor:function(H){if(y(H)&&(!C||T(F,H)))return H;throw W(b(H)+" is not a typed array constructor")},exportTypedArrayMethod:function(H,ge,Me,Ie){if(h){if(Me)for(var Re in pe){var We=m[Re];if(We&&v(We.prototype,H))try{delete We.prototype[H]}catch{try{We.prototype[H]=ge}catch{}}}G[H]&&!Me||E(G,H,Me?ge:K&&Z[H]||ge,Ie)}},exportTypedArrayStaticMethod:function(H,ge,Me){var Ie,Re;if(h){if(C){if(Me){for(Ie in pe)if((Re=m[Ie])&&v(Re,H))try{delete Re[H]}catch{}}if(F[H]&&!Me)return;try{return E(F,H,Me?ge:K&&F[H]||ge)}catch{}}for(Ie in pe)!(Re=m[Ie])||Re[H]&&!Me||E(Re,H,ge)}},getTypedArrayConstructor:Ge,isView:function(H){if(!x(H))return!1;var ge=_(H);return ge==="DataView"||v(pe,ge)||v(xe,ge)},isTypedArray:Ae,TypedArray:F,TypedArrayPrototype:G}},3331:(s,l,a)=>{var u=a(7854),c=a(1702),f=a(9781),d=a(3013),h=a(6530),m=a(8880),y=a(9190),x=a(7293),v=a(5787),_=a(9303),b=a(7466),S=a(7067),E=a(1179),M=a(9518),T=a(7674),R=a(8006).f,C=a(3070).f,P=a(1285),D=a(1589),z=a(8003),V=a(9909),U=h.PROPER,q=h.CONFIGURABLE,Z=V.get,ne=V.set,O="ArrayBuffer",F="DataView",G="prototype",$="Wrong index",W=u[O],oe=W,j=oe&&oe[G],Y=u[F],K=Y&&Y[G],fe=Object.prototype,pe=u.Array,xe=u.RangeError,Ge=c(P),Ae=c([].reverse),H=E.pack,ge=E.unpack,Me=function(ye){return[255&ye]},Ie=function(ye){return[255&ye,ye>>8&255]},Re=function(ye){return[255&ye,ye>>8&255,ye>>16&255,ye>>24&255]},We=function(ye){return ye[3]<<24|ye[2]<<16|ye[1]<<8|ye[0]},ke=function(ye){return H(ye,23,4)},je=function(ye){return H(ye,52,8)},He=function(ye,we){C(ye[G],we,{get:function(){return Z(this)[we]}})},Ne=function(ye,we,Se,be){var ae=S(Se),de=Z(ye);if(ae+we>de.byteLength)throw xe($);var he=Z(de.buffer).bytes,me=ae+de.byteOffset,Ue=D(he,me,me+we);return be?Ue:Ae(Ue)},Ke=function(ye,we,Se,be,ae,de){var he=S(Se),me=Z(ye);if(he+we>me.byteLength)throw xe($);for(var Ue=Z(me.buffer).bytes,Xe=he+me.byteOffset,ie=be(+ae),Be=0;Be<we;Be++)Ue[Xe+Be]=ie[de?Be:we-Be-1]};if(d){var Q=U&&W.name!==O;if(x(function(){W(1)})&&x(function(){new W(-1)})&&!x(function(){return new W,new W(1.5),new W(NaN),W.length!=1||Q&&!q}))Q&&q&&m(W,"name",O);else{(oe=function(ye){return v(this,j),new W(S(ye))})[G]=j;for(var N,se=R(W),Le=0;se.length>Le;)(N=se[Le++])in oe||m(oe,N,W[N]);j.constructor=oe}T&&M(K)!==fe&&T(K,fe);var Te=new Y(new oe(2)),_e=c(K.setInt8);Te.setInt8(0,2147483648),Te.setInt8(1,2147483649),!Te.getInt8(0)&&Te.getInt8(1)||y(K,{setInt8:function(ye,we){_e(this,ye,we<<24>>24)},setUint8:function(ye,we){_e(this,ye,we<<24>>24)}},{unsafe:!0})}else j=(oe=function(ye){v(this,j);var we=S(ye);ne(this,{bytes:Ge(pe(we),0),byteLength:we}),f||(this.byteLength=we)})[G],K=(Y=function(ye,we,Se){v(this,K),v(ye,j);var be=Z(ye).byteLength,ae=_(we);if(ae<0||ae>be)throw xe("Wrong offset");if(ae+(Se=Se===void 0?be-ae:b(Se))>be)throw xe("Wrong length");ne(this,{buffer:ye,byteLength:Se,byteOffset:ae}),f||(this.buffer=ye,this.byteLength=Se,this.byteOffset=ae)})[G],f&&(He(oe,"byteLength"),He(Y,"buffer"),He(Y,"byteLength"),He(Y,"byteOffset")),y(K,{getInt8:function(ye){return Ne(this,1,ye)[0]<<24>>24},getUint8:function(ye){return Ne(this,1,ye)[0]},getInt16:function(ye){var we=Ne(this,2,ye,arguments.length>1?arguments[1]:void 0);return(we[1]<<8|we[0])<<16>>16},getUint16:function(ye){var we=Ne(this,2,ye,arguments.length>1?arguments[1]:void 0);return we[1]<<8|we[0]},getInt32:function(ye){return We(Ne(this,4,ye,arguments.length>1?arguments[1]:void 0))},getUint32:function(ye){return We(Ne(this,4,ye,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(ye){return ge(Ne(this,4,ye,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(ye){return ge(Ne(this,8,ye,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(ye,we){Ke(this,1,ye,Me,we)},setUint8:function(ye,we){Ke(this,1,ye,Me,we)},setInt16:function(ye,we){Ke(this,2,ye,Ie,we,arguments.length>2?arguments[2]:void 0)},setUint16:function(ye,we){Ke(this,2,ye,Ie,we,arguments.length>2?arguments[2]:void 0)},setInt32:function(ye,we){Ke(this,4,ye,Re,we,arguments.length>2?arguments[2]:void 0)},setUint32:function(ye,we){Ke(this,4,ye,Re,we,arguments.length>2?arguments[2]:void 0)},setFloat32:function(ye,we){Ke(this,4,ye,ke,we,arguments.length>2?arguments[2]:void 0)},setFloat64:function(ye,we){Ke(this,8,ye,je,we,arguments.length>2?arguments[2]:void 0)}});z(oe,O),z(Y,F),s.exports={ArrayBuffer:oe,DataView:Y}},1048:(s,l,a)=>{var u=a(7908),c=a(1400),f=a(6244),d=a(5117),h=Math.min;s.exports=[].copyWithin||function(m,y){var x=u(this),v=f(x),_=c(m,v),b=c(y,v),S=arguments.length>2?arguments[2]:void 0,E=h((S===void 0?v:c(S,v))-b,v-_),M=1;for(b<_&&_<b+E&&(M=-1,b+=E-1,_+=E-1);E-- >0;)b in x?x[_]=x[b]:d(x,_),_+=M,b+=M;return x}},1285:(s,l,a)=>{var u=a(7908),c=a(1400),f=a(6244);s.exports=function(d){for(var h=u(this),m=f(h),y=arguments.length,x=c(y>1?arguments[1]:void 0,m),v=y>2?arguments[2]:void 0,_=v===void 0?m:c(v,m);_>x;)h[x++]=d;return h}},7745:(s,l,a)=>{var u=a(6244);s.exports=function(c,f){for(var d=0,h=u(f),m=new c(h);h>d;)m[d]=f[d++];return m}},8457:(s,l,a)=>{var u=a(9974),c=a(6916),f=a(7908),d=a(3411),h=a(7659),m=a(4411),y=a(6244),x=a(6135),v=a(4121),_=a(1246),b=Array;s.exports=function(S){var E=f(S),M=m(this),T=arguments.length,R=T>1?arguments[1]:void 0,C=R!==void 0;C&&(R=u(R,T>2?arguments[2]:void 0));var P,D,z,V,U,q,Z=_(E),ne=0;if(!Z||this===b&&h(Z))for(P=y(E),D=M?new this(P):b(P);P>ne;ne++)q=C?R(E[ne],ne):E[ne],x(D,ne,q);else for(U=(V=v(E,Z)).next,D=M?new this:[];!(z=c(U,V)).done;ne++)q=C?d(V,R,[z.value,ne],!0):z.value,x(D,ne,q);return D.length=ne,D}},1318:(s,l,a)=>{var u=a(5656),c=a(1400),f=a(6244),d=function(h){return function(m,y,x){var v,_=u(m),b=f(_),S=c(x,b);if(h&&y!=y){for(;b>S;)if((v=_[S++])!=v)return!0}else for(;b>S;S++)if((h||S in _)&&_[S]===y)return h||S||0;return!h&&-1}};s.exports={includes:d(!0),indexOf:d(!1)}},2092:(s,l,a)=>{var u=a(9974),c=a(1702),f=a(8361),d=a(7908),h=a(6244),m=a(5417),y=c([].push),x=function(v){var _=v==1,b=v==2,S=v==3,E=v==4,M=v==6,T=v==7,R=v==5||M;return function(C,P,D,z){for(var V,U,q=d(C),Z=f(q),ne=u(P,D),O=h(Z),F=0,G=z||m,$=_?G(C,O):b||T?G(C,0):void 0;O>F;F++)if((R||F in Z)&&(U=ne(V=Z[F],F,q),v))if(_)$[F]=U;else if(U)switch(v){case 3:return!0;case 5:return V;case 6:return F;case 2:y($,V)}else switch(v){case 4:return!1;case 7:y($,V)}return M?-1:S||E?E:$}};s.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},6583:(s,l,a)=>{var u=a(2104),c=a(5656),f=a(9303),d=a(6244),h=a(9341),m=Math.min,y=[].lastIndexOf,x=!!y&&1/[1].lastIndexOf(1,-0)<0,v=h("lastIndexOf"),_=x||!v;s.exports=_?function(b){if(x)return u(y,this,arguments)||0;var S=c(this),E=d(S),M=E-1;for(arguments.length>1&&(M=m(M,f(arguments[1]))),M<0&&(M=E+M);M>=0;M--)if(M in S&&S[M]===b)return M||0;return-1}:y},1194:(s,l,a)=>{var u=a(7293),c=a(5112),f=a(7392),d=c("species");s.exports=function(h){return f>=51||!u(function(){var m=[];return(m.constructor={})[d]=function(){return{foo:1}},m[h](Boolean).foo!==1})}},9341:(s,l,a)=>{var u=a(7293);s.exports=function(c,f){var d=[][c];return!!d&&u(function(){d.call(null,f||function(){return 1},1)})}},3671:(s,l,a)=>{var u=a(9662),c=a(7908),f=a(8361),d=a(6244),h=TypeError,m=function(y){return function(x,v,_,b){u(v);var S=c(x),E=f(S),M=d(S),T=y?M-1:0,R=y?-1:1;if(_<2)for(;;){if(T in E){b=E[T],T+=R;break}if(T+=R,y?T<0:M<=T)throw h("Reduce of empty array with no initial value")}for(;y?T>=0:M>T;T+=R)T in E&&(b=v(b,E[T],T,S));return b}};s.exports={left:m(!1),right:m(!0)}},1589:(s,l,a)=>{var u=a(1400),c=a(6244),f=a(6135),d=Array,h=Math.max;s.exports=function(m,y,x){for(var v=c(m),_=u(y,v),b=u(x===void 0?v:x,v),S=d(h(b-_,0)),E=0;_<b;_++,E++)f(S,E,m[_]);return S.length=E,S}},206:(s,l,a)=>{var u=a(1702);s.exports=u([].slice)},4362:(s,l,a)=>{var u=a(1589),c=Math.floor,f=function(m,y){var x=m.length,v=c(x/2);return x<8?d(m,y):h(m,f(u(m,0,v),y),f(u(m,v),y),y)},d=function(m,y){for(var x,v,_=m.length,b=1;b<_;){for(v=b,x=m[b];v&&y(m[v-1],x)>0;)m[v]=m[--v];v!==b++&&(m[v]=x)}return m},h=function(m,y,x,v){for(var _=y.length,b=x.length,S=0,E=0;S<_||E<b;)m[S+E]=S<_&&E<b?v(y[S],x[E])<=0?y[S++]:x[E++]:S<_?y[S++]:x[E++];return m};s.exports=f},7475:(s,l,a)=>{var u=a(3157),c=a(4411),f=a(111),d=a(5112)("species"),h=Array;s.exports=function(m){var y;return u(m)&&(y=m.constructor,(c(y)&&(y===h||u(y.prototype))||f(y)&&(y=y[d])===null)&&(y=void 0)),y===void 0?h:y}},5417:(s,l,a)=>{var u=a(7475);s.exports=function(c,f){return new(u(c))(f===0?0:f)}},3411:(s,l,a)=>{var u=a(9670),c=a(9212);s.exports=function(f,d,h,m){try{return m?d(u(h)[0],h[1]):d(h)}catch(y){c(f,"throw",y)}}},7072:(s,l,a)=>{var u=a(5112)("iterator"),c=!1;try{var f=0,d={next:function(){return{done:!!f++}},return:function(){c=!0}};d[u]=function(){return this},Array.from(d,function(){throw 2})}catch{}s.exports=function(h,m){if(!m&&!c)return!1;var y=!1;try{var x={};x[u]=function(){return{next:function(){return{done:y=!0}}}},h(x)}catch{}return y}},4326:(s,l,a)=>{var u=a(1702),c=u({}.toString),f=u("".slice);s.exports=function(d){return f(c(d),8,-1)}},648:(s,l,a)=>{var u=a(1694),c=a(614),f=a(4326),d=a(5112)("toStringTag"),h=Object,m=f(function(){return arguments}())=="Arguments";s.exports=u?f:function(y){var x,v,_;return y===void 0?"Undefined":y===null?"Null":typeof(v=function(b,S){try{return b[S]}catch{}}(x=h(y),d))=="string"?v:m?f(x):(_=f(x))=="Object"&&c(x.callee)?"Arguments":_}},9920:(s,l,a)=>{var u=a(2597),c=a(3887),f=a(1236),d=a(3070);s.exports=function(h,m,y){for(var x=c(m),v=d.f,_=f.f,b=0;b<x.length;b++){var S=x[b];u(h,S)||y&&u(y,S)||v(h,S,_(m,S))}}},8544:(s,l,a)=>{var u=a(7293);s.exports=!u(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},6178:s=>{s.exports=function(l,a){return{value:l,done:a}}},8880:(s,l,a)=>{var u=a(9781),c=a(3070),f=a(9114);s.exports=u?function(d,h,m){return c.f(d,h,f(1,m))}:function(d,h,m){return d[h]=m,d}},9114:s=>{s.exports=function(l,a){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:a}}},6135:(s,l,a)=>{var u=a(4948),c=a(3070),f=a(9114);s.exports=function(d,h,m){var y=u(h);y in d?c.f(d,y,f(0,m)):d[y]=m}},8709:(s,l,a)=>{var u=a(9670),c=a(2140),f=TypeError;s.exports=function(d){if(u(this),d==="string"||d==="default")d="string";else if(d!=="number")throw f("Incorrect hint");return c(this,d)}},8052:(s,l,a)=>{var u=a(614),c=a(3070),f=a(6339),d=a(3072);s.exports=function(h,m,y,x){x||(x={});var v=x.enumerable,_=x.name!==void 0?x.name:m;if(u(y)&&f(y,_,x),x.global)v?h[m]=y:d(m,y);else{try{x.unsafe?h[m]&&(v=!0):delete h[m]}catch{}v?h[m]=y:c.f(h,m,{value:y,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return h}},9190:(s,l,a)=>{var u=a(8052);s.exports=function(c,f,d){for(var h in f)u(c,h,f[h],d);return c}},3072:(s,l,a)=>{var u=a(7854),c=Object.defineProperty;s.exports=function(f,d){try{c(u,f,{value:d,configurable:!0,writable:!0})}catch{u[f]=d}return d}},5117:(s,l,a)=>{var u=a(6330),c=TypeError;s.exports=function(f,d){if(!delete f[d])throw c("Cannot delete property "+u(d)+" of "+u(f))}},9781:(s,l,a)=>{var u=a(7293);s.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:s=>{var l=typeof document=="object"&&document.all,a=l===void 0&&l!==void 0;s.exports={all:l,IS_HTMLDDA:a}},317:(s,l,a)=>{var u=a(7854),c=a(111),f=u.document,d=c(f)&&c(f.createElement);s.exports=function(h){return d?f.createElement(h):{}}},8324:s=>{s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(s,l,a)=>{var u=a(317)("span").classList,c=u&&u.constructor&&u.constructor.prototype;s.exports=c===Object.prototype?void 0:c},8886:(s,l,a)=>{var u=a(8113).match(/firefox\/(\d+)/i);s.exports=!!u&&+u[1]},9363:s=>{s.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},256:(s,l,a)=>{var u=a(8113);s.exports=/MSIE|Trident/.test(u)},8113:(s,l,a)=>{var u=a(5005);s.exports=u("navigator","userAgent")||""},7392:(s,l,a)=>{var u,c,f=a(7854),d=a(8113),h=f.process,m=f.Deno,y=h&&h.versions||m&&m.version,x=y&&y.v8;x&&(c=(u=x.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!c&&d&&(!(u=d.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=d.match(/Chrome\/(\d+)/))&&(c=+u[1]),s.exports=c},8008:(s,l,a)=>{var u=a(8113).match(/AppleWebKit\/(\d+)\./);s.exports=!!u&&+u[1]},748:s=>{s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(s,l,a)=>{var u=a(7854),c=a(1236).f,f=a(8880),d=a(8052),h=a(3072),m=a(9920),y=a(4705);s.exports=function(x,v){var _,b,S,E,M,T=x.target,R=x.global,C=x.stat;if(_=R?u:C?u[T]||h(T,{}):(u[T]||{}).prototype)for(b in v){if(E=v[b],S=x.dontCallGetSet?(M=c(_,b))&&M.value:_[b],!y(R?b:T+(C?".":"#")+b,x.forced)&&S!==void 0){if(typeof E==typeof S)continue;m(E,S)}(x.sham||S&&S.sham)&&f(E,"sham",!0),d(_,b,E,x)}}},7293:s=>{s.exports=function(l){try{return!!l()}catch{return!0}}},7007:(s,l,a)=>{a(4916);var u=a(1470),c=a(8052),f=a(2261),d=a(7293),h=a(5112),m=a(8880),y=h("species"),x=RegExp.prototype;s.exports=function(v,_,b,S){var E=h(v),M=!d(function(){var P={};return P[E]=function(){return 7},""[v](P)!=7}),T=M&&!d(function(){var P=!1,D=/a/;return v==="split"&&((D={}).constructor={},D.constructor[y]=function(){return D},D.flags="",D[E]=/./[E]),D.exec=function(){return P=!0,null},D[E](""),!P});if(!M||!T||b){var R=u(/./[E]),C=_(E,""[v],function(P,D,z,V,U){var q=u(P),Z=D.exec;return Z===f||Z===x.exec?M&&!U?{done:!0,value:R(D,z,V)}:{done:!0,value:q(z,D,V)}:{done:!1}});c(String.prototype,v,C[0]),c(x,E,C[1])}S&&m(x[E],"sham",!0)}},2104:(s,l,a)=>{var u=a(4374),c=Function.prototype,f=c.apply,d=c.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(u?d.bind(f):function(){return d.apply(f,arguments)})},9974:(s,l,a)=>{var u=a(1470),c=a(9662),f=a(4374),d=u(u.bind);s.exports=function(h,m){return c(h),m===void 0?h:f?d(h,m):function(){return h.apply(m,arguments)}}},4374:(s,l,a)=>{var u=a(7293);s.exports=!u(function(){var c=function(){}.bind();return typeof c!="function"||c.hasOwnProperty("prototype")})},7065:(s,l,a)=>{var u=a(1702),c=a(9662),f=a(111),d=a(2597),h=a(206),m=a(4374),y=Function,x=u([].concat),v=u([].join),_={},b=function(S,E,M){if(!d(_,E)){for(var T=[],R=0;R<E;R++)T[R]="a["+R+"]";_[E]=y("C,a","return new C("+v(T,",")+")")}return _[E](S,M)};s.exports=m?y.bind:function(S){var E=c(this),M=E.prototype,T=h(arguments,1),R=function(){var C=x(T,h(arguments));return this instanceof R?b(E,C.length,C):E.apply(S,C)};return f(M)&&(R.prototype=M),R}},6916:(s,l,a)=>{var u=a(4374),c=Function.prototype.call;s.exports=u?c.bind(c):function(){return c.apply(c,arguments)}},6530:(s,l,a)=>{var u=a(9781),c=a(2597),f=Function.prototype,d=u&&Object.getOwnPropertyDescriptor,h=c(f,"name"),m=h&&function(){}.name==="something",y=h&&(!u||u&&d(f,"name").configurable);s.exports={EXISTS:h,PROPER:m,CONFIGURABLE:y}},1470:(s,l,a)=>{var u=a(4326),c=a(1702);s.exports=function(f){if(u(f)==="Function")return c(f)}},1702:(s,l,a)=>{var u=a(4374),c=Function.prototype,f=c.call,d=u&&c.bind.bind(f,f);s.exports=u?d:function(h){return function(){return f.apply(h,arguments)}}},5005:(s,l,a)=>{var u=a(7854),c=a(614),f=function(d){return c(d)?d:void 0};s.exports=function(d,h){return arguments.length<2?f(u[d]):u[d]&&u[d][h]}},1246:(s,l,a)=>{var u=a(648),c=a(8173),f=a(8554),d=a(7497),h=a(5112)("iterator");s.exports=function(m){if(!f(m))return c(m,h)||c(m,"@@iterator")||d[u(m)]}},4121:(s,l,a)=>{var u=a(6916),c=a(9662),f=a(9670),d=a(6330),h=a(1246),m=TypeError;s.exports=function(y,x){var v=arguments.length<2?h(y):x;if(c(v))return f(u(v,y));throw m(d(y)+" is not iterable")}},8173:(s,l,a)=>{var u=a(9662),c=a(8554);s.exports=function(f,d){var h=f[d];return c(h)?void 0:u(h)}},647:(s,l,a)=>{var u=a(1702),c=a(7908),f=Math.floor,d=u("".charAt),h=u("".replace),m=u("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,x=/\$([$&'`]|\d{1,2})/g;s.exports=function(v,_,b,S,E,M){var T=b+v.length,R=S.length,C=x;return E!==void 0&&(E=c(E),C=y),h(M,C,function(P,D){var z;switch(d(D,0)){case"$":return"$";case"&":return v;case"`":return m(_,0,b);case"'":return m(_,T);case"<":z=E[m(D,1,-1)];break;default:var V=+D;if(V===0)return P;if(V>R){var U=f(V/10);return U===0?P:U<=R?S[U-1]===void 0?d(D,1):S[U-1]+d(D,1):P}z=S[V-1]}return z===void 0?"":z})}},7854:(s,l,a)=>{var u=function(c){return c&&c.Math==Math&&c};s.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof a.g=="object"&&a.g)||function(){return this}()||Function("return this")()},2597:(s,l,a)=>{var u=a(1702),c=a(7908),f=u({}.hasOwnProperty);s.exports=Object.hasOwn||function(d,h){return f(c(d),h)}},3501:s=>{s.exports={}},490:(s,l,a)=>{var u=a(5005);s.exports=u("document","documentElement")},4664:(s,l,a)=>{var u=a(9781),c=a(7293),f=a(317);s.exports=!u&&!c(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},1179:s=>{var l=Array,a=Math.abs,u=Math.pow,c=Math.floor,f=Math.log,d=Math.LN2;s.exports={pack:function(h,m,y){var x,v,_,b=l(y),S=8*y-m-1,E=(1<<S)-1,M=E>>1,T=m===23?u(2,-24)-u(2,-77):0,R=h<0||h===0&&1/h<0?1:0,C=0;for((h=a(h))!=h||h===1/0?(v=h!=h?1:0,x=E):(x=c(f(h)/d),h*(_=u(2,-x))<1&&(x--,_*=2),(h+=x+M>=1?T/_:T*u(2,1-M))*_>=2&&(x++,_/=2),x+M>=E?(v=0,x=E):x+M>=1?(v=(h*_-1)*u(2,m),x+=M):(v=h*u(2,M-1)*u(2,m),x=0));m>=8;)b[C++]=255&v,v/=256,m-=8;for(x=x<<m|v,S+=m;S>0;)b[C++]=255&x,x/=256,S-=8;return b[--C]|=128*R,b},unpack:function(h,m){var y,x=h.length,v=8*x-m-1,_=(1<<v)-1,b=_>>1,S=v-7,E=x-1,M=h[E--],T=127&M;for(M>>=7;S>0;)T=256*T+h[E--],S-=8;for(y=T&(1<<-S)-1,T>>=-S,S+=m;S>0;)y=256*y+h[E--],S-=8;if(T===0)T=1-b;else{if(T===_)return y?NaN:M?-1/0:1/0;y+=u(2,m),T-=b}return(M?-1:1)*y*u(2,T-m)}}},8361:(s,l,a)=>{var u=a(1702),c=a(7293),f=a(4326),d=Object,h=u("".split);s.exports=c(function(){return!d("z").propertyIsEnumerable(0)})?function(m){return f(m)=="String"?h(m,""):d(m)}:d},9587:(s,l,a)=>{var u=a(614),c=a(111),f=a(7674);s.exports=function(d,h,m){var y,x;return f&&u(y=h.constructor)&&y!==m&&c(x=y.prototype)&&x!==m.prototype&&f(d,x),d}},2788:(s,l,a)=>{var u=a(1702),c=a(614),f=a(5465),d=u(Function.toString);c(f.inspectSource)||(f.inspectSource=function(h){return d(h)}),s.exports=f.inspectSource},9909:(s,l,a)=>{var u,c,f,d=a(4811),h=a(7854),m=a(111),y=a(8880),x=a(2597),v=a(5465),_=a(6200),b=a(3501),S="Object already initialized",E=h.TypeError,M=h.WeakMap;if(d||v.state){var T=v.state||(v.state=new M);T.get=T.get,T.has=T.has,T.set=T.set,u=function(C,P){if(T.has(C))throw E(S);return P.facade=C,T.set(C,P),P},c=function(C){return T.get(C)||{}},f=function(C){return T.has(C)}}else{var R=_("state");b[R]=!0,u=function(C,P){if(x(C,R))throw E(S);return P.facade=C,y(C,R,P),P},c=function(C){return x(C,R)?C[R]:{}},f=function(C){return x(C,R)}}s.exports={set:u,get:c,has:f,enforce:function(C){return f(C)?c(C):u(C,{})},getterFor:function(C){return function(P){var D;if(!m(P)||(D=c(P)).type!==C)throw E("Incompatible receiver, "+C+" required");return D}}}},7659:(s,l,a)=>{var u=a(5112),c=a(7497),f=u("iterator"),d=Array.prototype;s.exports=function(h){return h!==void 0&&(c.Array===h||d[f]===h)}},3157:(s,l,a)=>{var u=a(4326);s.exports=Array.isArray||function(c){return u(c)=="Array"}},4067:(s,l,a)=>{var u=a(648),c=a(1702)("".slice);s.exports=function(f){return c(u(f),0,3)==="Big"}},614:(s,l,a)=>{var u=a(4154),c=u.all;s.exports=u.IS_HTMLDDA?function(f){return typeof f=="function"||f===c}:function(f){return typeof f=="function"}},4411:(s,l,a)=>{var u=a(1702),c=a(7293),f=a(614),d=a(648),h=a(5005),m=a(2788),y=function(){},x=[],v=h("Reflect","construct"),_=/^\s*(?:class|function)\b/,b=u(_.exec),S=!_.exec(y),E=function(T){if(!f(T))return!1;try{return v(y,x,T),!0}catch{return!1}},M=function(T){if(!f(T))return!1;switch(d(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!b(_,m(T))}catch{return!0}};M.sham=!0,s.exports=!v||c(function(){var T;return E(E.call)||!E(Object)||!E(function(){T=!0})||T})?M:E},4705:(s,l,a)=>{var u=a(7293),c=a(614),f=/#|\.prototype\./,d=function(v,_){var b=m[h(v)];return b==x||b!=y&&(c(_)?u(_):!!_)},h=d.normalize=function(v){return String(v).replace(f,".").toLowerCase()},m=d.data={},y=d.NATIVE="N",x=d.POLYFILL="P";s.exports=d},5988:(s,l,a)=>{var u=a(111),c=Math.floor;s.exports=Number.isInteger||function(f){return!u(f)&&isFinite(f)&&c(f)===f}},8554:s=>{s.exports=function(l){return l==null}},111:(s,l,a)=>{var u=a(614),c=a(4154),f=c.all;s.exports=c.IS_HTMLDDA?function(d){return typeof d=="object"?d!==null:u(d)||d===f}:function(d){return typeof d=="object"?d!==null:u(d)}},1913:s=>{s.exports=!1},2190:(s,l,a)=>{var u=a(5005),c=a(614),f=a(7976),d=a(3307),h=Object;s.exports=d?function(m){return typeof m=="symbol"}:function(m){var y=u("Symbol");return c(y)&&f(y.prototype,h(m))}},9212:(s,l,a)=>{var u=a(6916),c=a(9670),f=a(8173);s.exports=function(d,h,m){var y,x;c(d);try{if(!(y=f(d,"return"))){if(h==="throw")throw m;return m}y=u(y,d)}catch(v){x=!0,y=v}if(h==="throw")throw m;if(x)throw y;return c(y),m}},3061:(s,l,a)=>{var u=a(3383).IteratorPrototype,c=a(30),f=a(9114),d=a(8003),h=a(7497),m=function(){return this};s.exports=function(y,x,v,_){var b=x+" Iterator";return y.prototype=c(u,{next:f(+!_,v)}),d(y,b,!1,!0),h[b]=m,y}},1656:(s,l,a)=>{var u=a(2109),c=a(6916),f=a(1913),d=a(6530),h=a(614),m=a(3061),y=a(9518),x=a(7674),v=a(8003),_=a(8880),b=a(8052),S=a(5112),E=a(7497),M=a(3383),T=d.PROPER,R=d.CONFIGURABLE,C=M.IteratorPrototype,P=M.BUGGY_SAFARI_ITERATORS,D=S("iterator"),z="keys",V="values",U="entries",q=function(){return this};s.exports=function(Z,ne,O,F,G,$,W){m(O,ne,F);var oe,j,Y,K=function(ge){if(ge===G&&Ae)return Ae;if(!P&&ge in xe)return xe[ge];switch(ge){case z:case V:case U:return function(){return new O(this,ge)}}return function(){return new O(this)}},fe=ne+" Iterator",pe=!1,xe=Z.prototype,Ge=xe[D]||xe["@@iterator"]||G&&xe[G],Ae=!P&&Ge||K(G),H=ne=="Array"&&xe.entries||Ge;if(H&&(oe=y(H.call(new Z)))!==Object.prototype&&oe.next&&(f||y(oe)===C||(x?x(oe,C):h(oe[D])||b(oe,D,q)),v(oe,fe,!0,!0),f&&(E[fe]=q)),T&&G==V&&Ge&&Ge.name!==V&&(!f&&R?_(xe,"name",V):(pe=!0,Ae=function(){return c(Ge,this)})),G)if(j={values:K(V),keys:$?Ae:K(z),entries:K(U)},W)for(Y in j)(P||pe||!(Y in xe))&&b(xe,Y,j[Y]);else u({target:ne,proto:!0,forced:P||pe},j);return f&&!W||xe[D]===Ae||b(xe,D,Ae,{name:G}),E[ne]=Ae,j}},3383:(s,l,a)=>{var u,c,f,d=a(7293),h=a(614),m=a(111),y=a(30),x=a(9518),v=a(8052),_=a(5112),b=a(1913),S=_("iterator"),E=!1;[].keys&&("next"in(f=[].keys())?(c=x(x(f)))!==Object.prototype&&(u=c):E=!0),!m(u)||d(function(){var M={};return u[S].call(M)!==M})?u={}:b&&(u=y(u)),h(u[S])||v(u,S,function(){return this}),s.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:E}},7497:s=>{s.exports={}},6244:(s,l,a)=>{var u=a(7466);s.exports=function(c){return u(c.length)}},6339:(s,l,a)=>{var u=a(7293),c=a(614),f=a(2597),d=a(9781),h=a(6530).CONFIGURABLE,m=a(2788),y=a(9909),x=y.enforce,v=y.get,_=Object.defineProperty,b=d&&!u(function(){return _(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),E=s.exports=function(M,T,R){String(T).slice(0,7)==="Symbol("&&(T="["+String(T).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),R&&R.getter&&(T="get "+T),R&&R.setter&&(T="set "+T),(!f(M,"name")||h&&M.name!==T)&&(d?_(M,"name",{value:T,configurable:!0}):M.name=T),b&&R&&f(R,"arity")&&M.length!==R.arity&&_(M,"length",{value:R.arity});try{R&&f(R,"constructor")&&R.constructor?d&&_(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch{}var C=x(M);return f(C,"source")||(C.source=S.join(typeof T=="string"?T:"")),M};Function.prototype.toString=E(function(){return c(this)&&v(this).source||m(this)},"toString")},4758:s=>{var l=Math.ceil,a=Math.floor;s.exports=Math.trunc||function(u){var c=+u;return(c>0?a:l)(c)}},2814:(s,l,a)=>{var u=a(7854),c=a(7293),f=a(1702),d=a(1340),h=a(3111).trim,m=a(1361),y=f("".charAt),x=u.parseFloat,v=u.Symbol,_=v&&v.iterator,b=1/x(m+"-0")!=-1/0||_&&!c(function(){x(Object(_))});s.exports=b?function(S){var E=h(d(S)),M=x(E);return M===0&&y(E,0)=="-"?-0:M}:x},3009:(s,l,a)=>{var u=a(7854),c=a(7293),f=a(1702),d=a(1340),h=a(3111).trim,m=a(1361),y=u.parseInt,x=u.Symbol,v=x&&x.iterator,_=/^[+-]?0x/i,b=f(_.exec),S=y(m+"08")!==8||y(m+"0x16")!==22||v&&!c(function(){y(Object(v))});s.exports=S?function(E,M){var T=h(d(E));return y(T,M>>>0||(b(_,T)?16:10))}:y},30:(s,l,a)=>{var u,c=a(9670),f=a(6048),d=a(748),h=a(3501),m=a(490),y=a(317),x=a(6200),v="prototype",_="script",b=x("IE_PROTO"),S=function(){},E=function(R){return"<"+_+">"+R+"</"+_+">"},M=function(R){R.write(E("")),R.close();var C=R.parentWindow.Object;return R=null,C},T=function(){try{u=new ActiveXObject("htmlfile")}catch{}var R,C,P;T=typeof document<"u"?document.domain&&u?M(u):(C=y("iframe"),P="java"+_+":",C.style.display="none",m.appendChild(C),C.src=String(P),(R=C.contentWindow.document).open(),R.write(E("document.F=Object")),R.close(),R.F):M(u);for(var D=d.length;D--;)delete T[v][d[D]];return T()};h[b]=!0,s.exports=Object.create||function(R,C){var P;return R!==null?(S[v]=c(R),P=new S,S[v]=null,P[b]=R):P=T(),C===void 0?P:f.f(P,C)}},6048:(s,l,a)=>{var u=a(9781),c=a(3353),f=a(3070),d=a(9670),h=a(5656),m=a(1956);l.f=u&&!c?Object.defineProperties:function(y,x){d(y);for(var v,_=h(x),b=m(x),S=b.length,E=0;S>E;)f.f(y,v=b[E++],_[v]);return y}},3070:(s,l,a)=>{var u=a(9781),c=a(4664),f=a(3353),d=a(9670),h=a(4948),m=TypeError,y=Object.defineProperty,x=Object.getOwnPropertyDescriptor,v="enumerable",_="configurable",b="writable";l.f=u?f?function(S,E,M){if(d(S),E=h(E),d(M),typeof S=="function"&&E==="prototype"&&"value"in M&&b in M&&!M[b]){var T=x(S,E);T&&T[b]&&(S[E]=M.value,M={configurable:_ in M?M[_]:T[_],enumerable:v in M?M[v]:T[v],writable:!1})}return y(S,E,M)}:y:function(S,E,M){if(d(S),E=h(E),d(M),c)try{return y(S,E,M)}catch{}if("get"in M||"set"in M)throw m("Accessors not supported");return"value"in M&&(S[E]=M.value),S}},1236:(s,l,a)=>{var u=a(9781),c=a(6916),f=a(5296),d=a(9114),h=a(5656),m=a(4948),y=a(2597),x=a(4664),v=Object.getOwnPropertyDescriptor;l.f=u?v:function(_,b){if(_=h(_),b=m(b),x)try{return v(_,b)}catch{}if(y(_,b))return d(!c(f.f,_,b),_[b])}},1156:(s,l,a)=>{var u=a(4326),c=a(5656),f=a(8006).f,d=a(1589),h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(m){return h&&u(m)=="Window"?function(y){try{return f(y)}catch{return d(h)}}(m):f(c(m))}},8006:(s,l,a)=>{var u=a(6324),c=a(748).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(f){return u(f,c)}},5181:(s,l)=>{l.f=Object.getOwnPropertySymbols},9518:(s,l,a)=>{var u=a(2597),c=a(614),f=a(7908),d=a(6200),h=a(8544),m=d("IE_PROTO"),y=Object,x=y.prototype;s.exports=h?y.getPrototypeOf:function(v){var _=f(v);if(u(_,m))return _[m];var b=_.constructor;return c(b)&&_ instanceof b?b.prototype:_ instanceof y?x:null}},7976:(s,l,a)=>{var u=a(1702);s.exports=u({}.isPrototypeOf)},6324:(s,l,a)=>{var u=a(1702),c=a(2597),f=a(5656),d=a(1318).indexOf,h=a(3501),m=u([].push);s.exports=function(y,x){var v,_=f(y),b=0,S=[];for(v in _)!c(h,v)&&c(_,v)&&m(S,v);for(;x.length>b;)c(_,v=x[b++])&&(~d(S,v)||m(S,v));return S}},1956:(s,l,a)=>{var u=a(6324),c=a(748);s.exports=Object.keys||function(f){return u(f,c)}},5296:(s,l)=>{var a={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c=u&&!a.call({1:2},1);l.f=c?function(f){var d=u(this,f);return!!d&&d.enumerable}:a},7674:(s,l,a)=>{var u=a(1702),c=a(9670),f=a(6077);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d,h=!1,m={};try{(d=u(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(m,[]),h=m instanceof Array}catch{}return function(y,x){return c(y),f(x),h?d(y,x):y.__proto__=x,y}}():void 0)},4699:(s,l,a)=>{var u=a(9781),c=a(1702),f=a(1956),d=a(5656),h=c(a(5296).f),m=c([].push),y=function(x){return function(v){for(var _,b=d(v),S=f(b),E=S.length,M=0,T=[];E>M;)_=S[M++],u&&!h(b,_)||m(T,x?[_,b[_]]:b[_]);return T}};s.exports={entries:y(!0),values:y(!1)}},288:(s,l,a)=>{var u=a(1694),c=a(648);s.exports=u?{}.toString:function(){return"[object "+c(this)+"]"}},2140:(s,l,a)=>{var u=a(6916),c=a(614),f=a(111),d=TypeError;s.exports=function(h,m){var y,x;if(m==="string"&&c(y=h.toString)&&!f(x=u(y,h))||c(y=h.valueOf)&&!f(x=u(y,h))||m!=="string"&&c(y=h.toString)&&!f(x=u(y,h)))return x;throw d("Can't convert object to primitive value")}},3887:(s,l,a)=>{var u=a(5005),c=a(1702),f=a(8006),d=a(5181),h=a(9670),m=c([].concat);s.exports=u("Reflect","ownKeys")||function(y){var x=f.f(h(y)),v=d.f;return v?m(x,v(y)):x}},857:(s,l,a)=>{var u=a(7854);s.exports=u},7651:(s,l,a)=>{var u=a(6916),c=a(9670),f=a(614),d=a(4326),h=a(2261),m=TypeError;s.exports=function(y,x){var v=y.exec;if(f(v)){var _=u(v,y,x);return _!==null&&c(_),_}if(d(y)==="RegExp")return u(h,y,x);throw m("RegExp#exec called on incompatible receiver")}},2261:(s,l,a)=>{var u,c,f=a(6916),d=a(1702),h=a(1340),m=a(7066),y=a(2999),x=a(2309),v=a(30),_=a(9909).get,b=a(9441),S=a(7168),E=x("native-string-replace",String.prototype.replace),M=RegExp.prototype.exec,T=M,R=d("".charAt),C=d("".indexOf),P=d("".replace),D=d("".slice),z=(c=/b*/g,f(M,u=/a/,"a"),f(M,c,"a"),u.lastIndex!==0||c.lastIndex!==0),V=y.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0;(z||U||V||b||S)&&(T=function(q){var Z,ne,O,F,G,$,W,oe=this,j=_(oe),Y=h(q),K=j.raw;if(K)return K.lastIndex=oe.lastIndex,Z=f(T,K,Y),oe.lastIndex=K.lastIndex,Z;var fe=j.groups,pe=V&&oe.sticky,xe=f(m,oe),Ge=oe.source,Ae=0,H=Y;if(pe&&(xe=P(xe,"y",""),C(xe,"g")===-1&&(xe+="g"),H=D(Y,oe.lastIndex),oe.lastIndex>0&&(!oe.multiline||oe.multiline&&R(Y,oe.lastIndex-1)!==`
`)&&(Ge="(?: "+Ge+")",H=" "+H,Ae++),ne=new RegExp("^(?:"+Ge+")",xe)),U&&(ne=new RegExp("^"+Ge+"$(?!\\s)",xe)),z&&(O=oe.lastIndex),F=f(M,pe?ne:oe,H),pe?F?(F.input=D(F.input,Ae),F[0]=D(F[0],Ae),F.index=oe.lastIndex,oe.lastIndex+=F[0].length):oe.lastIndex=0:z&&F&&(oe.lastIndex=oe.global?F.index+F[0].length:O),U&&F&&F.length>1&&f(E,F[0],ne,function(){for(G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(F[G]=void 0)}),F&&fe)for(F.groups=$=v(null),G=0;G<fe.length;G++)$[(W=fe[G])[0]]=F[W[1]];return F}),s.exports=T},7066:(s,l,a)=>{var u=a(9670);s.exports=function(){var c=u(this),f="";return c.hasIndices&&(f+="d"),c.global&&(f+="g"),c.ignoreCase&&(f+="i"),c.multiline&&(f+="m"),c.dotAll&&(f+="s"),c.unicode&&(f+="u"),c.unicodeSets&&(f+="v"),c.sticky&&(f+="y"),f}},4706:(s,l,a)=>{var u=a(6916),c=a(2597),f=a(7976),d=a(7066),h=RegExp.prototype;s.exports=function(m){var y=m.flags;return y!==void 0||"flags"in h||c(m,"flags")||!f(h,m)?y:u(d,m)}},2999:(s,l,a)=>{var u=a(7293),c=a(7854).RegExp,f=u(function(){var m=c("a","y");return m.lastIndex=2,m.exec("abcd")!=null}),d=f||u(function(){return!c("a","y").sticky}),h=f||u(function(){var m=c("^r","gy");return m.lastIndex=2,m.exec("str")!=null});s.exports={BROKEN_CARET:h,MISSED_STICKY:d,UNSUPPORTED_Y:f}},9441:(s,l,a)=>{var u=a(7293),c=a(7854).RegExp;s.exports=u(function(){var f=c(".","s");return!(f.dotAll&&f.exec(`
`)&&f.flags==="s")})},7168:(s,l,a)=>{var u=a(7293),c=a(7854).RegExp;s.exports=u(function(){var f=c("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})},4488:(s,l,a)=>{var u=a(8554),c=TypeError;s.exports=function(f){if(u(f))throw c("Can't call method on "+f);return f}},7152:(s,l,a)=>{var u,c=a(7854),f=a(2104),d=a(614),h=a(9363),m=a(8113),y=a(206),x=a(8053),v=c.Function,_=/MSIE .\./.test(m)||h&&((u=c.Bun.version.split(".")).length<3||u[0]==0&&(u[1]<3||u[1]==3&&u[2]==0));s.exports=function(b,S){var E=S?2:1;return _?function(M,T){var R=x(arguments.length,1)>E,C=d(M)?M:v(M),P=R?y(arguments,E):[],D=R?function(){f(C,this,P)}:C;return S?b(D,T):b(D)}:b}},6340:(s,l,a)=>{var u=a(5005),c=a(3070),f=a(5112),d=a(9781),h=f("species");s.exports=function(m){var y=u(m),x=c.f;d&&y&&!y[h]&&x(y,h,{configurable:!0,get:function(){return this}})}},8003:(s,l,a)=>{var u=a(3070).f,c=a(2597),f=a(5112)("toStringTag");s.exports=function(d,h,m){d&&!m&&(d=d.prototype),d&&!c(d,f)&&u(d,f,{configurable:!0,value:h})}},6200:(s,l,a)=>{var u=a(2309),c=a(9711),f=u("keys");s.exports=function(d){return f[d]||(f[d]=c(d))}},5465:(s,l,a)=>{var u=a(7854),c=a(3072),f="__core-js_shared__",d=u[f]||c(f,{});s.exports=d},2309:(s,l,a)=>{var u=a(1913),c=a(5465);(s.exports=function(f,d){return c[f]||(c[f]=d!==void 0?d:{})})("versions",[]).push({version:"3.27.1",mode:u?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(s,l,a)=>{var u=a(9670),c=a(9483),f=a(8554),d=a(5112)("species");s.exports=function(h,m){var y,x=u(h).constructor;return x===void 0||f(y=u(x)[d])?m:c(y)}},8710:(s,l,a)=>{var u=a(1702),c=a(9303),f=a(1340),d=a(4488),h=u("".charAt),m=u("".charCodeAt),y=u("".slice),x=function(v){return function(_,b){var S,E,M=f(d(_)),T=c(b),R=M.length;return T<0||T>=R?v?"":void 0:(S=m(M,T))<55296||S>56319||T+1===R||(E=m(M,T+1))<56320||E>57343?v?h(M,T):S:v?y(M,T,T+2):E-56320+(S-55296<<10)+65536}};s.exports={codeAt:x(!1),charAt:x(!0)}},3111:(s,l,a)=>{var u=a(1702),c=a(4488),f=a(1340),d=a(1361),h=u("".replace),m="["+d+"]",y=RegExp("^"+m+m+"*"),x=RegExp(m+m+"*$"),v=function(_){return function(b){var S=f(c(b));return 1&_&&(S=h(S,y,"")),2&_&&(S=h(S,x,"")),S}};s.exports={start:v(1),end:v(2),trim:v(3)}},6293:(s,l,a)=>{var u=a(7392),c=a(7293);s.exports=!!Object.getOwnPropertySymbols&&!c(function(){var f=Symbol();return!String(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&u&&u<41})},6532:(s,l,a)=>{var u=a(6916),c=a(5005),f=a(5112),d=a(8052);s.exports=function(){var h=c("Symbol"),m=h&&h.prototype,y=m&&m.valueOf,x=f("toPrimitive");m&&!m[x]&&d(m,x,function(v){return u(y,this)},{arity:1})}},2015:(s,l,a)=>{var u=a(6293);s.exports=u&&!!Symbol.for&&!!Symbol.keyFor},863:(s,l,a)=>{var u=a(1702);s.exports=u(1 .valueOf)},1400:(s,l,a)=>{var u=a(9303),c=Math.max,f=Math.min;s.exports=function(d,h){var m=u(d);return m<0?c(m+h,0):f(m,h)}},4599:(s,l,a)=>{var u=a(7593),c=TypeError;s.exports=function(f){var d=u(f,"number");if(typeof d=="number")throw c("Can't convert number to bigint");return BigInt(d)}},7067:(s,l,a)=>{var u=a(9303),c=a(7466),f=RangeError;s.exports=function(d){if(d===void 0)return 0;var h=u(d),m=c(h);if(h!==m)throw f("Wrong length or index");return m}},5656:(s,l,a)=>{var u=a(8361),c=a(4488);s.exports=function(f){return u(c(f))}},9303:(s,l,a)=>{var u=a(4758);s.exports=function(c){var f=+c;return f!=f||f===0?0:u(f)}},7466:(s,l,a)=>{var u=a(9303),c=Math.min;s.exports=function(f){return f>0?c(u(f),9007199254740991):0}},7908:(s,l,a)=>{var u=a(4488),c=Object;s.exports=function(f){return c(u(f))}},4590:(s,l,a)=>{var u=a(3002),c=RangeError;s.exports=function(f,d){var h=u(f);if(h%d)throw c("Wrong offset");return h}},3002:(s,l,a)=>{var u=a(9303),c=RangeError;s.exports=function(f){var d=u(f);if(d<0)throw c("The argument can't be less than 0");return d}},7593:(s,l,a)=>{var u=a(6916),c=a(111),f=a(2190),d=a(8173),h=a(2140),m=a(5112),y=TypeError,x=m("toPrimitive");s.exports=function(v,_){if(!c(v)||f(v))return v;var b,S=d(v,x);if(S){if(_===void 0&&(_="default"),b=u(S,v,_),!c(b)||f(b))return b;throw y("Can't convert object to primitive value")}return _===void 0&&(_="number"),h(v,_)}},4948:(s,l,a)=>{var u=a(7593),c=a(2190);s.exports=function(f){var d=u(f,"string");return c(d)?d:d+""}},1694:(s,l,a)=>{var u={};u[a(5112)("toStringTag")]="z",s.exports=String(u)==="[object z]"},1340:(s,l,a)=>{var u=a(648),c=String;s.exports=function(f){if(u(f)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return c(f)}},6330:s=>{var l=String;s.exports=function(a){try{return l(a)}catch{return"Object"}}},9843:(s,l,a)=>{var u=a(2109),c=a(7854),f=a(6916),d=a(9781),h=a(3832),m=a(260),y=a(3331),x=a(5787),v=a(9114),_=a(8880),b=a(5988),S=a(7466),E=a(7067),M=a(4590),T=a(4948),R=a(2597),C=a(648),P=a(111),D=a(2190),z=a(30),V=a(7976),U=a(7674),q=a(8006).f,Z=a(7321),ne=a(2092).forEach,O=a(6340),F=a(3070),G=a(1236),$=a(9909),W=a(9587),oe=$.get,j=$.set,Y=$.enforce,K=F.f,fe=G.f,pe=Math.round,xe=c.RangeError,Ge=y.ArrayBuffer,Ae=Ge.prototype,H=y.DataView,ge=m.NATIVE_ARRAY_BUFFER_VIEWS,Me=m.TYPED_ARRAY_TAG,Ie=m.TypedArray,Re=m.TypedArrayPrototype,We=m.aTypedArrayConstructor,ke=m.isTypedArray,je="BYTES_PER_ELEMENT",He="Wrong length",Ne=function(Te,_e){We(Te);for(var ye=0,we=_e.length,Se=new Te(we);we>ye;)Se[ye]=_e[ye++];return Se},Ke=function(Te,_e){K(Te,_e,{get:function(){return oe(this)[_e]}})},Q=function(Te){var _e;return V(Ae,Te)||(_e=C(Te))=="ArrayBuffer"||_e=="SharedArrayBuffer"},N=function(Te,_e){return ke(Te)&&!D(_e)&&_e in Te&&b(+_e)&&_e>=0},se=function(Te,_e){return _e=T(_e),N(Te,_e)?v(2,Te[_e]):fe(Te,_e)},Le=function(Te,_e,ye){return _e=T(_e),!(N(Te,_e)&&P(ye)&&R(ye,"value"))||R(ye,"get")||R(ye,"set")||ye.configurable||R(ye,"writable")&&!ye.writable||R(ye,"enumerable")&&!ye.enumerable?K(Te,_e,ye):(Te[_e]=ye.value,Te)};d?(ge||(G.f=se,F.f=Le,Ke(Re,"buffer"),Ke(Re,"byteOffset"),Ke(Re,"byteLength"),Ke(Re,"length")),u({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:se,defineProperty:Le}),s.exports=function(Te,_e,ye){var we=Te.match(/\d+$/)[0]/8,Se=Te+(ye?"Clamped":"")+"Array",be="get"+Te,ae="set"+Te,de=c[Se],he=de,me=he&&he.prototype,Ue={},Xe=function(Be,Ee){K(Be,Ee,{get:function(){return function(Ye,tt){var vt=oe(Ye);return vt.view[be](tt*we+vt.byteOffset,!0)}(this,Ee)},set:function(Ye){return function(tt,vt,xt){var Et=oe(tt);ye&&(xt=(xt=pe(xt))<0?0:xt>255?255:255&xt),Et.view[ae](vt*we+Et.byteOffset,xt,!0)}(this,Ee,Ye)},enumerable:!0})};ge?h&&(he=_e(function(Be,Ee,Ye,tt){return x(Be,me),W(P(Ee)?Q(Ee)?tt!==void 0?new de(Ee,M(Ye,we),tt):Ye!==void 0?new de(Ee,M(Ye,we)):new de(Ee):ke(Ee)?Ne(he,Ee):f(Z,he,Ee):new de(E(Ee)),Be,he)}),U&&U(he,Ie),ne(q(de),function(Be){Be in he||_(he,Be,de[Be])}),he.prototype=me):(he=_e(function(Be,Ee,Ye,tt){x(Be,me);var vt,xt,Et,Gt=0,qt=0;if(P(Ee)){if(!Q(Ee))return ke(Ee)?Ne(he,Ee):f(Z,he,Ee);vt=Ee,qt=M(Ye,we);var jt=Ee.byteLength;if(tt===void 0){if(jt%we||(xt=jt-qt)<0)throw xe(He)}else if((xt=S(tt)*we)+qt>jt)throw xe(He);Et=xt/we}else Et=E(Ee),vt=new Ge(xt=Et*we);for(j(Be,{buffer:vt,byteOffset:qt,byteLength:xt,length:Et,view:new H(vt)});Gt<Et;)Xe(Be,Gt++)}),U&&U(he,Ie),me=he.prototype=z(Re)),me.constructor!==he&&_(me,"constructor",he),Y(me).TypedArrayConstructor=he,Me&&_(me,Me,Se);var ie=he!=de;Ue[Se]=he,u({global:!0,constructor:!0,forced:ie,sham:!ge},Ue),je in he||_(he,je,we),je in me||_(me,je,we),O(Se)}):s.exports=function(){}},3832:(s,l,a)=>{var u=a(7854),c=a(7293),f=a(7072),d=a(260).NATIVE_ARRAY_BUFFER_VIEWS,h=u.ArrayBuffer,m=u.Int8Array;s.exports=!d||!c(function(){m(1)})||!c(function(){new m(-1)})||!f(function(y){new m,new m(null),new m(1.5),new m(y)},!0)||c(function(){return new m(new h(2),1,void 0).length!==1})},3074:(s,l,a)=>{var u=a(7745),c=a(6304);s.exports=function(f,d){return u(c(f),d)}},7321:(s,l,a)=>{var u=a(9974),c=a(6916),f=a(9483),d=a(7908),h=a(6244),m=a(4121),y=a(1246),x=a(7659),v=a(4067),_=a(260).aTypedArrayConstructor,b=a(4599);s.exports=function(S){var E,M,T,R,C,P,D,z,V=f(this),U=d(S),q=arguments.length,Z=q>1?arguments[1]:void 0,ne=Z!==void 0,O=y(U);if(O&&!x(O))for(z=(D=m(U,O)).next,U=[];!(P=c(z,D)).done;)U.push(P.value);for(ne&&q>2&&(Z=u(Z,arguments[2])),M=h(U),T=new(_(V))(M),R=v(T),E=0;M>E;E++)C=ne?Z(U[E],E):U[E],T[E]=R?b(C):+C;return T}},6304:(s,l,a)=>{var u=a(260),c=a(6707),f=u.aTypedArrayConstructor,d=u.getTypedArrayConstructor;s.exports=function(h){return f(c(h,d(h)))}},9711:(s,l,a)=>{var u=a(1702),c=0,f=Math.random(),d=u(1 .toString);s.exports=function(h){return"Symbol("+(h===void 0?"":h)+")_"+d(++c+f,36)}},3307:(s,l,a)=>{var u=a(6293);s.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(s,l,a)=>{var u=a(9781),c=a(7293);s.exports=u&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:s=>{var l=TypeError;s.exports=function(a,u){if(a<u)throw l("Not enough arguments");return a}},4811:(s,l,a)=>{var u=a(7854),c=a(614),f=u.WeakMap;s.exports=c(f)&&/native code/.test(String(f))},6800:(s,l,a)=>{var u=a(857),c=a(2597),f=a(6061),d=a(3070).f;s.exports=function(h){var m=u.Symbol||(u.Symbol={});c(m,h)||d(m,h,{value:f.f(h)})}},6061:(s,l,a)=>{var u=a(5112);l.f=u},5112:(s,l,a)=>{var u=a(7854),c=a(2309),f=a(2597),d=a(9711),h=a(6293),m=a(3307),y=c("wks"),x=u.Symbol,v=x&&x.for,_=m?x:x&&x.withoutSetter||d;s.exports=function(b){if(!f(y,b)||!h&&typeof y[b]!="string"){var S="Symbol."+b;h&&f(x,b)?y[b]=x[b]:y[b]=m&&v?v(S):_(S)}return y[b]}},1361:s=>{s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8264:(s,l,a)=>{var u=a(2109),c=a(7854),f=a(3331),d=a(6340),h="ArrayBuffer",m=f[h];u({global:!0,constructor:!0,forced:c[h]!==m},{ArrayBuffer:m}),d(h)},9575:(s,l,a)=>{var u=a(2109),c=a(1470),f=a(7293),d=a(3331),h=a(9670),m=a(1400),y=a(7466),x=a(6707),v=d.ArrayBuffer,_=d.DataView,b=_.prototype,S=c(v.prototype.slice),E=c(b.getUint8),M=c(b.setUint8);u({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f(function(){return!new v(2).slice(1,void 0).byteLength})},{slice:function(T,R){if(S&&R===void 0)return S(h(this),T);for(var C=h(this).byteLength,P=m(T,C),D=m(R===void 0?C:R,C),z=new(x(this,v))(y(D-P)),V=new _(this),U=new _(z),q=0;P<D;)M(U,q++,E(V,P++));return z}})},1038:(s,l,a)=>{var u=a(2109),c=a(8457);u({target:"Array",stat:!0,forced:!a(7072)(function(f){Array.from(f)})},{from:c})},2772:(s,l,a)=>{var u=a(2109),c=a(1470),f=a(1318).indexOf,d=a(9341),h=c([].indexOf),m=!!h&&1/h([1],1,-0)<0,y=d("indexOf");u({target:"Array",proto:!0,forced:m||!y},{indexOf:function(x){var v=arguments.length>1?arguments[1]:void 0;return m?h(this,x,v)||0:f(this,x,v)}})},9753:(s,l,a)=>{a(2109)({target:"Array",stat:!0},{isArray:a(3157)})},6992:(s,l,a)=>{var u=a(5656),c=a(1223),f=a(7497),d=a(9909),h=a(3070).f,m=a(1656),y=a(6178),x=a(1913),v=a(9781),_="Array Iterator",b=d.set,S=d.getterFor(_);s.exports=m(Array,"Array",function(M,T){b(this,{type:_,target:u(M),index:0,kind:T})},function(){var M=S(this),T=M.target,R=M.kind,C=M.index++;return!T||C>=T.length?(M.target=void 0,y(void 0,!0)):y(R=="keys"?C:R=="values"?T[C]:[C,T[C]],!1)},"values");var E=f.Arguments=f.Array;if(c("keys"),c("values"),c("entries"),!x&&v&&E.name!=="values")try{h(E,"name",{value:"values"})}catch{}},9600:(s,l,a)=>{var u=a(2109),c=a(1702),f=a(8361),d=a(5656),h=a(9341),m=c([].join),y=f!=Object,x=h("join",",");u({target:"Array",proto:!0,forced:y||!x},{join:function(v){return m(d(this),v===void 0?",":v)}})},7042:(s,l,a)=>{var u=a(2109),c=a(3157),f=a(4411),d=a(111),h=a(1400),m=a(6244),y=a(5656),x=a(6135),v=a(5112),_=a(1194),b=a(206),S=_("slice"),E=v("species"),M=Array,T=Math.max;u({target:"Array",proto:!0,forced:!S},{slice:function(R,C){var P,D,z,V=y(this),U=m(V),q=h(R,U),Z=h(C===void 0?U:C,U);if(c(V)&&(P=V.constructor,(f(P)&&(P===M||c(P.prototype))||d(P)&&(P=P[E])===null)&&(P=void 0),P===M||P===void 0))return b(V,q,Z);for(D=new(P===void 0?M:P)(T(Z-q,0)),z=0;q<Z;q++,z++)q in V&&x(D,z,V[q]);return D.length=z,D}})},3843:(s,l,a)=>{var u=a(2109),c=a(1702),f=Date,d=c(f.prototype.getTime);u({target:"Date",stat:!0},{now:function(){return d(new f)}})},6078:(s,l,a)=>{var u=a(2597),c=a(8052),f=a(8709),d=a(5112)("toPrimitive"),h=Date.prototype;u(h,d)||c(h,d,f)},3710:(s,l,a)=>{var u=a(1702),c=a(8052),f=Date.prototype,d="Invalid Date",h="toString",m=u(f[h]),y=u(f.getTime);String(new Date(NaN))!=d&&c(f,h,function(){var x=y(this);return x==x?m(this):d})},4812:(s,l,a)=>{var u=a(2109),c=a(7065);u({target:"Function",proto:!0,forced:Function.bind!==c},{bind:c})},8309:(s,l,a)=>{var u=a(9781),c=a(6530).EXISTS,f=a(1702),d=a(3070).f,h=Function.prototype,m=f(h.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,x=f(y.exec);u&&!c&&d(h,"name",{configurable:!0,get:function(){try{return x(y,m(this))[1]}catch{return""}}})},8862:(s,l,a)=>{var u=a(2109),c=a(5005),f=a(2104),d=a(6916),h=a(1702),m=a(7293),y=a(3157),x=a(614),v=a(111),_=a(2190),b=a(206),S=a(6293),E=c("JSON","stringify"),M=h(/./.exec),T=h("".charAt),R=h("".charCodeAt),C=h("".replace),P=h(1 .toString),D=/[\uD800-\uDFFF]/g,z=/^[\uD800-\uDBFF]$/,V=/^[\uDC00-\uDFFF]$/,U=!S||m(function(){var O=c("Symbol")();return E([O])!="[null]"||E({a:O})!="{}"||E(Object(O))!="{}"}),q=m(function(){return E("\uDF06\uD834")!=='"\\udf06\\ud834"'||E("\uDEAD")!=='"\\udead"'}),Z=function(O,F){var G=b(arguments),$=F;if((v(F)||O!==void 0)&&!_(O))return y(F)||(F=function(W,oe){if(x($)&&(oe=d($,this,W,oe)),!_(oe))return oe}),G[1]=F,f(E,null,G)},ne=function(O,F,G){var $=T(G,F-1),W=T(G,F+1);return M(z,O)&&!M(V,W)||M(V,O)&&!M(z,$)?"\\u"+P(R(O,0),16):O};E&&u({target:"JSON",stat:!0,arity:3,forced:U||q},{stringify:function(O,F,G){var $=b(arguments),W=f(U?Z:E,null,$);return q&&typeof W=="string"?C(W,D,ne):W}})},9653:(s,l,a)=>{var u=a(2109),c=a(1913),f=a(9781),d=a(7854),h=a(857),m=a(1702),y=a(4705),x=a(2597),v=a(9587),_=a(7976),b=a(2190),S=a(7593),E=a(7293),M=a(8006).f,T=a(1236).f,R=a(3070).f,C=a(863),P=a(3111).trim,D="Number",z=d[D],V=h[D],U=z.prototype,q=d.TypeError,Z=m("".slice),ne=m("".charCodeAt),O=function(j){var Y=S(j,"number");return typeof Y=="bigint"?Y:F(Y)},F=function(j){var Y,K,fe,pe,xe,Ge,Ae,H,ge=S(j,"number");if(b(ge))throw q("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=P(ge),(Y=ne(ge,0))===43||Y===45){if((K=ne(ge,2))===88||K===120)return NaN}else if(Y===48){switch(ne(ge,1)){case 66:case 98:fe=2,pe=49;break;case 79:case 111:fe=8,pe=55;break;default:return+ge}for(Ge=(xe=Z(ge,2)).length,Ae=0;Ae<Ge;Ae++)if((H=ne(xe,Ae))<48||H>pe)return NaN;return parseInt(xe,fe)}}return+ge},G=y(D,!z(" 0o1")||!z("0b1")||z("+0x1")),$=function(j){return _(U,j)&&E(function(){C(j)})},W=function(j){var Y=arguments.length<1?0:z(O(j));return $(this)?v(Object(Y),this,W):Y};W.prototype=U,G&&!c&&(U.constructor=W),u({global:!0,constructor:!0,wrap:!0,forced:G},{Number:W});var oe=function(j,Y){for(var K,fe=f?M(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),pe=0;fe.length>pe;pe++)x(Y,K=fe[pe])&&!x(j,K)&&R(j,K,T(Y,K))};c&&V&&oe(h[D],V),(G||c)&&oe(h[D],z)},4048:(s,l,a)=>{a(2109)({target:"Number",stat:!0},{isNaN:function(u){return u!=u}})},8011:(s,l,a)=>{a(2109)({target:"Object",stat:!0,sham:!a(9781)},{create:a(30)})},9070:(s,l,a)=>{var u=a(2109),c=a(9781),f=a(3070).f;u({target:"Object",stat:!0,forced:Object.defineProperty!==f,sham:!c},{defineProperty:f})},9720:(s,l,a)=>{var u=a(2109),c=a(4699).entries;u({target:"Object",stat:!0},{entries:function(f){return c(f)}})},9660:(s,l,a)=>{var u=a(2109),c=a(6293),f=a(7293),d=a(5181),h=a(7908);u({target:"Object",stat:!0,forced:!c||f(function(){d.f(1)})},{getOwnPropertySymbols:function(m){var y=d.f;return y?y(h(m)):[]}})},489:(s,l,a)=>{var u=a(2109),c=a(7293),f=a(7908),d=a(9518),h=a(8544);u({target:"Object",stat:!0,forced:c(function(){d(1)}),sham:!h},{getPrototypeOf:function(m){return d(f(m))}})},7941:(s,l,a)=>{var u=a(2109),c=a(7908),f=a(1956);u({target:"Object",stat:!0,forced:a(7293)(function(){f(1)})},{keys:function(d){return f(c(d))}})},8304:(s,l,a)=>{a(2109)({target:"Object",stat:!0},{setPrototypeOf:a(7674)})},1539:(s,l,a)=>{var u=a(1694),c=a(8052),f=a(288);u||c(Object.prototype,"toString",f,{unsafe:!0})},4678:(s,l,a)=>{var u=a(2109),c=a(2814);u({global:!0,forced:parseFloat!=c},{parseFloat:c})},1058:(s,l,a)=>{var u=a(2109),c=a(3009);u({global:!0,forced:parseInt!=c},{parseInt:c})},2419:(s,l,a)=>{var u=a(2109),c=a(5005),f=a(2104),d=a(7065),h=a(9483),m=a(9670),y=a(111),x=a(30),v=a(7293),_=c("Reflect","construct"),b=Object.prototype,S=[].push,E=v(function(){function R(){}return!(_(function(){},[],R)instanceof R)}),M=!v(function(){_(function(){})}),T=E||M;u({target:"Reflect",stat:!0,forced:T,sham:T},{construct:function(R,C){h(R),m(C);var P=arguments.length<3?R:h(arguments[2]);if(M&&!E)return _(R,C,P);if(R==P){switch(C.length){case 0:return new R;case 1:return new R(C[0]);case 2:return new R(C[0],C[1]);case 3:return new R(C[0],C[1],C[2]);case 4:return new R(C[0],C[1],C[2],C[3])}var D=[null];return f(S,D,C),new(f(d,R,D))}var z=P.prototype,V=x(y(z)?z:b),U=f(R,V,C);return y(U)?U:V}})},4916:(s,l,a)=>{var u=a(2109),c=a(2261);u({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},9714:(s,l,a)=>{var u=a(6530).PROPER,c=a(8052),f=a(9670),d=a(1340),h=a(7293),m=a(4706),y="toString",x=RegExp.prototype[y],v=h(function(){return x.call({source:"a",flags:"b"})!="/a/b"}),_=u&&x.name!=y;(v||_)&&c(RegExp.prototype,y,function(){var b=f(this);return"/"+d(b.source)+"/"+d(m(b))},{unsafe:!0})},8783:(s,l,a)=>{var u=a(8710).charAt,c=a(1340),f=a(9909),d=a(1656),h=a(6178),m="String Iterator",y=f.set,x=f.getterFor(m);d(String,"String",function(v){y(this,{type:m,string:c(v),index:0})},function(){var v,_=x(this),b=_.string,S=_.index;return S>=b.length?h(void 0,!0):(v=u(b,S),_.index+=v.length,h(v,!1))})},5306:(s,l,a)=>{var u=a(2104),c=a(6916),f=a(1702),d=a(7007),h=a(7293),m=a(9670),y=a(614),x=a(8554),v=a(9303),_=a(7466),b=a(1340),S=a(4488),E=a(1530),M=a(8173),T=a(647),R=a(7651),C=a(5112)("replace"),P=Math.max,D=Math.min,z=f([].concat),V=f([].push),U=f("".indexOf),q=f("".slice),Z="a".replace(/./,"$0")==="$0",ne=!!/./[C]&&/./[C]("a","$0")==="";d("replace",function(O,F,G){var $=ne?"$":"$0";return[function(W,oe){var j=S(this),Y=x(W)?void 0:M(W,C);return Y?c(Y,W,j,oe):c(F,b(j),W,oe)},function(W,oe){var j=m(this),Y=b(W);if(typeof oe=="string"&&U(oe,$)===-1&&U(oe,"$<")===-1){var K=G(F,j,Y,oe);if(K.done)return K.value}var fe=y(oe);fe||(oe=b(oe));var pe=j.global;if(pe){var xe=j.unicode;j.lastIndex=0}for(var Ge=[];;){var Ae=R(j,Y);if(Ae===null||(V(Ge,Ae),!pe))break;b(Ae[0])===""&&(j.lastIndex=E(Y,_(j.lastIndex),xe))}for(var H,ge="",Me=0,Ie=0;Ie<Ge.length;Ie++){for(var Re=b((Ae=Ge[Ie])[0]),We=P(D(v(Ae.index),Y.length),0),ke=[],je=1;je<Ae.length;je++)V(ke,(H=Ae[je])===void 0?H:String(H));var He=Ae.groups;if(fe){var Ne=z([Re],ke,We,Y);He!==void 0&&V(Ne,He);var Ke=b(u(oe,void 0,Ne))}else Ke=T(Re,Y,We,ke,He,oe);We>=Me&&(ge+=q(Y,Me,We)+Ke,Me=We+Re.length)}return ge+q(Y,Me)}]},!!h(function(){var O=/./;return O.exec=function(){var F=[];return F.groups={a:"7"},F},"".replace(O,"$<a>")!=="7"})||!Z||ne)},4032:(s,l,a)=>{var u=a(2109),c=a(7854),f=a(6916),d=a(1702),h=a(1913),m=a(9781),y=a(6293),x=a(7293),v=a(2597),_=a(7976),b=a(9670),S=a(5656),E=a(4948),M=a(1340),T=a(9114),R=a(30),C=a(1956),P=a(8006),D=a(1156),z=a(5181),V=a(1236),U=a(3070),q=a(6048),Z=a(5296),ne=a(8052),O=a(2309),F=a(6200),G=a(3501),$=a(9711),W=a(5112),oe=a(6061),j=a(6800),Y=a(6532),K=a(8003),fe=a(9909),pe=a(2092).forEach,xe=F("hidden"),Ge="Symbol",Ae="prototype",H=fe.set,ge=fe.getterFor(Ge),Me=Object[Ae],Ie=c.Symbol,Re=Ie&&Ie[Ae],We=c.TypeError,ke=c.QObject,je=V.f,He=U.f,Ne=D.f,Ke=Z.f,Q=d([].push),N=O("symbols"),se=O("op-symbols"),Le=O("wks"),Te=!ke||!ke[Ae]||!ke[Ae].findChild,_e=m&&x(function(){return R(He({},"a",{get:function(){return He(this,"a",{value:7}).a}})).a!=7})?function(me,Ue,Xe){var ie=je(Me,Ue);ie&&delete Me[Ue],He(me,Ue,Xe),ie&&me!==Me&&He(Me,Ue,ie)}:He,ye=function(me,Ue){var Xe=N[me]=R(Re);return H(Xe,{type:Ge,tag:me,description:Ue}),m||(Xe.description=Ue),Xe},we=function(me,Ue,Xe){me===Me&&we(se,Ue,Xe),b(me);var ie=E(Ue);return b(Xe),v(N,ie)?(Xe.enumerable?(v(me,xe)&&me[xe][ie]&&(me[xe][ie]=!1),Xe=R(Xe,{enumerable:T(0,!1)})):(v(me,xe)||He(me,xe,T(1,{})),me[xe][ie]=!0),_e(me,ie,Xe)):He(me,ie,Xe)},Se=function(me,Ue){b(me);var Xe=S(Ue),ie=C(Xe).concat(he(Xe));return pe(ie,function(Be){m&&!f(be,Xe,Be)||we(me,Be,Xe[Be])}),me},be=function(me){var Ue=E(me),Xe=f(Ke,this,Ue);return!(this===Me&&v(N,Ue)&&!v(se,Ue))&&(!(Xe||!v(this,Ue)||!v(N,Ue)||v(this,xe)&&this[xe][Ue])||Xe)},ae=function(me,Ue){var Xe=S(me),ie=E(Ue);if(Xe!==Me||!v(N,ie)||v(se,ie)){var Be=je(Xe,ie);return!Be||!v(N,ie)||v(Xe,xe)&&Xe[xe][ie]||(Be.enumerable=!0),Be}},de=function(me){var Ue=Ne(S(me)),Xe=[];return pe(Ue,function(ie){v(N,ie)||v(G,ie)||Q(Xe,ie)}),Xe},he=function(me){var Ue=me===Me,Xe=Ne(Ue?se:S(me)),ie=[];return pe(Xe,function(Be){!v(N,Be)||Ue&&!v(Me,Be)||Q(ie,N[Be])}),ie};y||(ne(Re=(Ie=function(){if(_(Re,this))throw We("Symbol is not a constructor");var me=arguments.length&&arguments[0]!==void 0?M(arguments[0]):void 0,Ue=$(me),Xe=function(ie){this===Me&&f(Xe,se,ie),v(this,xe)&&v(this[xe],Ue)&&(this[xe][Ue]=!1),_e(this,Ue,T(1,ie))};return m&&Te&&_e(Me,Ue,{configurable:!0,set:Xe}),ye(Ue,me)})[Ae],"toString",function(){return ge(this).tag}),ne(Ie,"withoutSetter",function(me){return ye($(me),me)}),Z.f=be,U.f=we,q.f=Se,V.f=ae,P.f=D.f=de,z.f=he,oe.f=function(me){return ye(W(me),me)},m&&(He(Re,"description",{configurable:!0,get:function(){return ge(this).description}}),h||ne(Me,"propertyIsEnumerable",be,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:Ie}),pe(C(Le),function(me){j(me)}),u({target:Ge,stat:!0,forced:!y},{useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),u({target:"Object",stat:!0,forced:!y,sham:!m},{create:function(me,Ue){return Ue===void 0?R(me):Se(R(me),Ue)},defineProperty:we,defineProperties:Se,getOwnPropertyDescriptor:ae}),u({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:de}),Y(),K(Ie,Ge),G[xe]=!0},1817:(s,l,a)=>{var u=a(2109),c=a(9781),f=a(7854),d=a(1702),h=a(2597),m=a(614),y=a(7976),x=a(1340),v=a(3070).f,_=a(9920),b=f.Symbol,S=b&&b.prototype;if(c&&m(b)&&(!("description"in S)||b().description!==void 0)){var E={},M=function(){var V=arguments.length<1||arguments[0]===void 0?void 0:x(arguments[0]),U=y(S,this)?new b(V):V===void 0?b():b(V);return V===""&&(E[U]=!0),U};_(M,b),M.prototype=S,S.constructor=M;var T=String(b("test"))=="Symbol(test)",R=d(S.valueOf),C=d(S.toString),P=/^Symbol\((.*)\)[^)]+$/,D=d("".replace),z=d("".slice);v(S,"description",{configurable:!0,get:function(){var V=R(this);if(h(E,V))return"";var U=C(V),q=T?z(U,7,-1):D(U,P,"$1");return q===""?void 0:q}}),u({global:!0,constructor:!0,forced:!0},{Symbol:M})}},763:(s,l,a)=>{var u=a(2109),c=a(5005),f=a(2597),d=a(1340),h=a(2309),m=a(2015),y=h("string-to-symbol-registry"),x=h("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!m},{for:function(v){var _=d(v);if(f(y,_))return y[_];var b=c("Symbol")(_);return y[_]=b,x[b]=_,b}})},2165:(s,l,a)=>{a(6800)("iterator")},2526:(s,l,a)=>{a(4032),a(763),a(6620),a(8862),a(9660)},6620:(s,l,a)=>{var u=a(2109),c=a(2597),f=a(2190),d=a(6330),h=a(2309),m=a(2015),y=h("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!m},{keyFor:function(x){if(!f(x))throw TypeError(d(x)+" is not a symbol");if(c(y,x))return y[x]}})},6649:(s,l,a)=>{var u=a(6800),c=a(6532);u("toPrimitive"),c()},2990:(s,l,a)=>{var u=a(1702),c=a(260),f=u(a(1048)),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("copyWithin",function(h,m){return f(d(this),h,m,arguments.length>2?arguments[2]:void 0)})},8927:(s,l,a)=>{var u=a(260),c=a(2092).every,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("every",function(d){return c(f(this),d,arguments.length>1?arguments[1]:void 0)})},3105:(s,l,a)=>{var u=a(260),c=a(1285),f=a(4599),d=a(648),h=a(6916),m=a(1702),y=a(7293),x=u.aTypedArray,v=u.exportTypedArrayMethod,_=m("".slice);v("fill",function(b){var S=arguments.length;x(this);var E=_(d(this),0,3)==="Big"?f(b):+b;return h(c,this,E,S>1?arguments[1]:void 0,S>2?arguments[2]:void 0)},y(function(){var b=0;return new Int8Array(2).fill({valueOf:function(){return b++}}),b!==1}))},5035:(s,l,a)=>{var u=a(260),c=a(2092).filter,f=a(3074),d=u.aTypedArray;(0,u.exportTypedArrayMethod)("filter",function(h){var m=c(d(this),h,arguments.length>1?arguments[1]:void 0);return f(this,m)})},7174:(s,l,a)=>{var u=a(260),c=a(2092).findIndex,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("findIndex",function(d){return c(f(this),d,arguments.length>1?arguments[1]:void 0)})},4345:(s,l,a)=>{var u=a(260),c=a(2092).find,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("find",function(d){return c(f(this),d,arguments.length>1?arguments[1]:void 0)})},2846:(s,l,a)=>{var u=a(260),c=a(2092).forEach,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("forEach",function(d){c(f(this),d,arguments.length>1?arguments[1]:void 0)})},4731:(s,l,a)=>{var u=a(260),c=a(1318).includes,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("includes",function(d){return c(f(this),d,arguments.length>1?arguments[1]:void 0)})},7209:(s,l,a)=>{var u=a(260),c=a(1318).indexOf,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("indexOf",function(d){return c(f(this),d,arguments.length>1?arguments[1]:void 0)})},6319:(s,l,a)=>{var u=a(7854),c=a(7293),f=a(1702),d=a(260),h=a(6992),m=a(5112)("iterator"),y=u.Uint8Array,x=f(h.values),v=f(h.keys),_=f(h.entries),b=d.aTypedArray,S=d.exportTypedArrayMethod,E=y&&y.prototype,M=!c(function(){E[m].call([1])}),T=!!E&&E.values&&E[m]===E.values&&E.values.name==="values",R=function(){return x(b(this))};S("entries",function(){return _(b(this))},M),S("keys",function(){return v(b(this))},M),S("values",R,M||!T,{name:"values"}),S(m,R,M||!T,{name:"values"})},8867:(s,l,a)=>{var u=a(260),c=a(1702),f=u.aTypedArray,d=u.exportTypedArrayMethod,h=c([].join);d("join",function(m){return h(f(this),m)})},7789:(s,l,a)=>{var u=a(260),c=a(2104),f=a(6583),d=u.aTypedArray;(0,u.exportTypedArrayMethod)("lastIndexOf",function(h){var m=arguments.length;return c(f,d(this),m>1?[h,arguments[1]]:[h])})},3739:(s,l,a)=>{var u=a(260),c=a(2092).map,f=a(6304),d=u.aTypedArray;(0,u.exportTypedArrayMethod)("map",function(h){return c(d(this),h,arguments.length>1?arguments[1]:void 0,function(m,y){return new(f(m))(y)})})},4483:(s,l,a)=>{var u=a(260),c=a(3671).right,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("reduceRight",function(d){var h=arguments.length;return c(f(this),d,h,h>1?arguments[1]:void 0)})},9368:(s,l,a)=>{var u=a(260),c=a(3671).left,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("reduce",function(d){var h=arguments.length;return c(f(this),d,h,h>1?arguments[1]:void 0)})},2056:(s,l,a)=>{var u=a(260),c=u.aTypedArray,f=u.exportTypedArrayMethod,d=Math.floor;f("reverse",function(){for(var h,m=this,y=c(m).length,x=d(y/2),v=0;v<x;)h=m[v],m[v++]=m[--y],m[y]=h;return m})},3462:(s,l,a)=>{var u=a(7854),c=a(6916),f=a(260),d=a(6244),h=a(4590),m=a(7908),y=a(7293),x=u.RangeError,v=u.Int8Array,_=v&&v.prototype,b=_&&_.set,S=f.aTypedArray,E=f.exportTypedArrayMethod,M=!y(function(){var R=new Uint8ClampedArray(2);return c(b,R,{length:1,0:3},1),R[1]!==3}),T=M&&f.NATIVE_ARRAY_BUFFER_VIEWS&&y(function(){var R=new v(2);return R.set(1),R.set("2",1),R[0]!==0||R[1]!==2});E("set",function(R){S(this);var C=h(arguments.length>1?arguments[1]:void 0,1),P=m(R);if(M)return c(b,this,P,C);var D=this.length,z=d(P),V=0;if(z+C>D)throw x("Wrong length");for(;V<z;)this[C+V]=P[V++]},!M||T)},678:(s,l,a)=>{var u=a(260),c=a(6304),f=a(7293),d=a(206),h=u.aTypedArray;(0,u.exportTypedArrayMethod)("slice",function(m,y){for(var x=d(h(this),m,y),v=c(this),_=0,b=x.length,S=new v(b);b>_;)S[_]=x[_++];return S},f(function(){new Int8Array(1).slice()}))},7462:(s,l,a)=>{var u=a(260),c=a(2092).some,f=u.aTypedArray;(0,u.exportTypedArrayMethod)("some",function(d){return c(f(this),d,arguments.length>1?arguments[1]:void 0)})},3824:(s,l,a)=>{var u=a(7854),c=a(1470),f=a(7293),d=a(9662),h=a(4362),m=a(260),y=a(8886),x=a(256),v=a(7392),_=a(8008),b=m.aTypedArray,S=m.exportTypedArrayMethod,E=u.Uint16Array,M=E&&c(E.prototype.sort),T=!(!M||f(function(){M(new E(2),null)})&&f(function(){M(new E(2),{})})),R=!!M&&!f(function(){if(v)return v<74;if(y)return y<67;if(x)return!0;if(_)return _<602;var C,P,D=new E(516),z=Array(516);for(C=0;C<516;C++)P=C%4,D[C]=515-C,z[C]=C-2*P+3;for(M(D,function(V,U){return(V/4|0)-(U/4|0)}),C=0;C<516;C++)if(D[C]!==z[C])return!0});S("sort",function(C){return C!==void 0&&d(C),R?M(this,C):h(b(this),function(P){return function(D,z){return P!==void 0?+P(D,z)||0:z!=z?-1:D!=D?1:D===0&&z===0?1/D>0&&1/z<0?1:-1:D>z}}(C))},!R||T)},5021:(s,l,a)=>{var u=a(260),c=a(7466),f=a(1400),d=a(6304),h=u.aTypedArray;(0,u.exportTypedArrayMethod)("subarray",function(m,y){var x=h(this),v=x.length,_=f(m,v);return new(d(x))(x.buffer,x.byteOffset+_*x.BYTES_PER_ELEMENT,c((y===void 0?v:f(y,v))-_))})},2974:(s,l,a)=>{var u=a(7854),c=a(2104),f=a(260),d=a(7293),h=a(206),m=u.Int8Array,y=f.aTypedArray,x=f.exportTypedArrayMethod,v=[].toLocaleString,_=!!m&&d(function(){v.call(new m(1))});x("toLocaleString",function(){return c(v,_?h(y(this)):y(this),h(arguments))},d(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!d(function(){m.prototype.toLocaleString.call([1,2])}))},5016:(s,l,a)=>{var u=a(260).exportTypedArrayMethod,c=a(7293),f=a(7854),d=a(1702),h=f.Uint8Array,m=h&&h.prototype||{},y=[].toString,x=d([].join);c(function(){y.call({})})&&(y=function(){return x(this)});var v=m.toString!=y;u("toString",y,v)},2472:(s,l,a)=>{a(9843)("Uint8",function(u){return function(c,f,d){return u(this,c,f,d)}})},3948:(s,l,a)=>{var u=a(7854),c=a(8324),f=a(8509),d=a(6992),h=a(8880),m=a(5112),y=m("iterator"),x=m("toStringTag"),v=d.values,_=function(S,E){if(S){if(S[y]!==v)try{h(S,y,v)}catch{S[y]=v}if(S[x]||h(S,x,E),c[E]){for(var M in d)if(S[M]!==d[M])try{h(S,M,d[M])}catch{S[M]=d[M]}}}};for(var b in c)_(u[b]&&u[b].prototype,b);_(f,"DOMTokenList")},6815:(s,l,a)=>{var u=a(2109),c=a(7854),f=a(7152)(c.setInterval,!0);u({global:!0,bind:!0,forced:c.setInterval!==f},{setInterval:f})},8417:(s,l,a)=>{var u=a(2109),c=a(7854),f=a(7152)(c.setTimeout,!0);u({global:!0,bind:!0,forced:c.setTimeout!==f},{setTimeout:f})},2564:(s,l,a)=>{a(6815),a(8417)},5666:s=>{var l=function(a){var u,c=Object.prototype,f=c.hasOwnProperty,d=Object.defineProperty||function(j,Y,K){j[Y]=K.value},h=typeof Symbol=="function"?Symbol:{},m=h.iterator||"@@iterator",y=h.asyncIterator||"@@asyncIterator",x=h.toStringTag||"@@toStringTag";function v(j,Y,K){return Object.defineProperty(j,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}),j[Y]}try{v({},"")}catch{v=function(Y,K,fe){return Y[K]=fe}}function _(j,Y,K,fe){var pe=Y&&Y.prototype instanceof R?Y:R,xe=Object.create(pe.prototype),Ge=new $(fe||[]);return d(xe,"_invoke",{value:ne(j,K,Ge)}),xe}function b(j,Y,K){try{return{type:"normal",arg:j.call(Y,K)}}catch(fe){return{type:"throw",arg:fe}}}a.wrap=_;var S="suspendedStart",E="executing",M="completed",T={};function R(){}function C(){}function P(){}var D={};v(D,m,function(){return this});var z=Object.getPrototypeOf,V=z&&z(z(W([])));V&&V!==c&&f.call(V,m)&&(D=V);var U=P.prototype=R.prototype=Object.create(D);function q(j){["next","throw","return"].forEach(function(Y){v(j,Y,function(K){return this._invoke(Y,K)})})}function Z(j,Y){function K(pe,xe,Ge,Ae){var H=b(j[pe],j,xe);if(H.type!=="throw"){var ge=H.arg,Me=ge.value;return Me&&typeof Me=="object"&&f.call(Me,"__await")?Y.resolve(Me.__await).then(function(Ie){K("next",Ie,Ge,Ae)},function(Ie){K("throw",Ie,Ge,Ae)}):Y.resolve(Me).then(function(Ie){ge.value=Ie,Ge(ge)},function(Ie){return K("throw",Ie,Ge,Ae)})}Ae(H.arg)}var fe;d(this,"_invoke",{value:function(pe,xe){function Ge(){return new Y(function(Ae,H){K(pe,xe,Ae,H)})}return fe=fe?fe.then(Ge,Ge):Ge()}})}function ne(j,Y,K){var fe=S;return function(pe,xe){if(fe===E)throw new Error("Generator is already running");if(fe===M){if(pe==="throw")throw xe;return oe()}for(K.method=pe,K.arg=xe;;){var Ge=K.delegate;if(Ge){var Ae=O(Ge,K);if(Ae){if(Ae===T)continue;return Ae}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(fe===S)throw fe=M,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);fe=E;var H=b(j,Y,K);if(H.type==="normal"){if(fe=K.done?M:"suspendedYield",H.arg===T)continue;return{value:H.arg,done:K.done}}H.type==="throw"&&(fe=M,K.method="throw",K.arg=H.arg)}}}function O(j,Y){var K=Y.method,fe=j.iterator[K];if(fe===u)return Y.delegate=null,K==="throw"&&j.iterator.return&&(Y.method="return",Y.arg=u,O(j,Y),Y.method==="throw")||K!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+K+"' method")),T;var pe=b(fe,j.iterator,Y.arg);if(pe.type==="throw")return Y.method="throw",Y.arg=pe.arg,Y.delegate=null,T;var xe=pe.arg;return xe?xe.done?(Y[j.resultName]=xe.value,Y.next=j.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=u),Y.delegate=null,T):xe:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,T)}function F(j){var Y={tryLoc:j[0]};1 in j&&(Y.catchLoc=j[1]),2 in j&&(Y.finallyLoc=j[2],Y.afterLoc=j[3]),this.tryEntries.push(Y)}function G(j){var Y=j.completion||{};Y.type="normal",delete Y.arg,j.completion=Y}function $(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(F,this),this.reset(!0)}function W(j){if(j){var Y=j[m];if(Y)return Y.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var K=-1,fe=function pe(){for(;++K<j.length;)if(f.call(j,K))return pe.value=j[K],pe.done=!1,pe;return pe.value=u,pe.done=!0,pe};return fe.next=fe}}return{next:oe}}function oe(){return{value:u,done:!0}}return C.prototype=P,d(U,"constructor",{value:P,configurable:!0}),d(P,"constructor",{value:C,configurable:!0}),C.displayName=v(P,x,"GeneratorFunction"),a.isGeneratorFunction=function(j){var Y=typeof j=="function"&&j.constructor;return!!Y&&(Y===C||(Y.displayName||Y.name)==="GeneratorFunction")},a.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,P):(j.__proto__=P,v(j,x,"GeneratorFunction")),j.prototype=Object.create(U),j},a.awrap=function(j){return{__await:j}},q(Z.prototype),v(Z.prototype,y,function(){return this}),a.AsyncIterator=Z,a.async=function(j,Y,K,fe,pe){pe===void 0&&(pe=Promise);var xe=new Z(_(j,Y,K,fe),pe);return a.isGeneratorFunction(Y)?xe:xe.next().then(function(Ge){return Ge.done?Ge.value:xe.next()})},q(U),v(U,x,"Generator"),v(U,m,function(){return this}),v(U,"toString",function(){return"[object Generator]"}),a.keys=function(j){var Y=Object(j),K=[];for(var fe in Y)K.push(fe);return K.reverse(),function pe(){for(;K.length;){var xe=K.pop();if(xe in Y)return pe.value=xe,pe.done=!1,pe}return pe.done=!0,pe}},a.values=W,$.prototype={constructor:$,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(G),!j)for(var Y in this)Y.charAt(0)==="t"&&f.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=u)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var Y=this;function K(H,ge){return xe.type="throw",xe.arg=j,Y.next=H,ge&&(Y.method="next",Y.arg=u),!!ge}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var pe=this.tryEntries[fe],xe=pe.completion;if(pe.tryLoc==="root")return K("end");if(pe.tryLoc<=this.prev){var Ge=f.call(pe,"catchLoc"),Ae=f.call(pe,"finallyLoc");if(Ge&&Ae){if(this.prev<pe.catchLoc)return K(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return K(pe.finallyLoc)}else if(Ge){if(this.prev<pe.catchLoc)return K(pe.catchLoc,!0)}else{if(!Ae)throw new Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return K(pe.finallyLoc)}}}},abrupt:function(j,Y){for(var K=this.tryEntries.length-1;K>=0;--K){var fe=this.tryEntries[K];if(fe.tryLoc<=this.prev&&f.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var pe=fe;break}}pe&&(j==="break"||j==="continue")&&pe.tryLoc<=Y&&Y<=pe.finallyLoc&&(pe=null);var xe=pe?pe.completion:{};return xe.type=j,xe.arg=Y,pe?(this.method="next",this.next=pe.finallyLoc,T):this.complete(xe)},complete:function(j,Y){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&Y&&(this.next=Y),T},finish:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.finallyLoc===j)return this.complete(K.completion,K.afterLoc),G(K),T}},catch:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.tryLoc===j){var fe=K.completion;if(fe.type==="throw"){var pe=fe.arg;G(K)}return pe}}throw new Error("illegal catch attempt")},delegateYield:function(j,Y,K){return this.delegate={iterator:W(j),resultName:Y,nextLoc:K},this.method==="next"&&(this.arg=u),T}},a}(s.exports);try{regeneratorRuntime=l}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var a=r[s]={exports:{}};return n[s](a,a.exports,i),a.exports}i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{AudioTag:()=>s,GM:()=>x,Player:()=>cl,Soundfont:()=>En,Synesthesia:()=>u,WebAudio:()=>l,WebMIDI:()=>a,audio_contexts:()=>zi,channels:()=>v,chordOff:()=>qs,chordOn:()=>Bo,config:()=>Mt,getContext:()=>vu,keyToNote:()=>_,loadPlugin:()=>vo,loadProgram:()=>Gi,noteOff:()=>ul,noteOn:()=>gs,noteToKey:()=>b,pitchBend:()=>gu,playChannel:()=>Uc,programChange:()=>Bc,requestQueue:()=>js,send:()=>ps,sendRequest:()=>$s,setContext:()=>vs,setController:()=>ms,setEffects:()=>sn,setVolume:()=>Ma,stopAllNotes:()=>zo,stopChannel:()=>hs});var s={};i.r(s),i.d(s,{api:()=>S,chordOff:()=>fe,chordOn:()=>K,connect:()=>V,getContext:()=>O,noteOff:()=>Y,noteOn:()=>j,pitchBend:()=>Z,playChannel:()=>G,programChange:()=>oe,send:()=>U,setContext:()=>F,setController:()=>q,setEffects:()=>ne,setVolume:()=>W,shared_root_info:()=>E,stopAllNotes:()=>pe,stopChannel:()=>$});var l={};i.r(l),i.d(l,{api:()=>Me,chordOff:()=>Se,chordOn:()=>we,connect:()=>He,createAudioContext:()=>Ue,getContext:()=>de,loadAudio:()=>me,noteOff:()=>ye,noteOn:()=>_e,pitchBend:()=>Te,playChannel:()=>Ne,programChange:()=>Le,send:()=>Q,setContext:()=>he,setController:()=>N,setEffects:()=>ae,setVolume:()=>se,shared_root_info:()=>Ie,stopAllNotes:()=>be,stopChannel:()=>Ke});var a={};i.r(a),i.d(a,{api:()=>Be,chordOff:()=>Ht,chordOn:()=>xn,connect:()=>tt,getContext:()=>Gt,noteOff:()=>gr,noteOn:()=>Pn,pitchBend:()=>fn,playChannel:()=>vt,programChange:()=>ir,send:()=>jt,setContext:()=>qt,setController:()=>Vt,setEffects:()=>Et,setVolume:()=>$n,shared_root_info:()=>Ee,stopAllNotes:()=>bn,stopChannel:()=>xt});var u={};i.r(u),i.d(u,{data:()=>vn,map:()=>zt}),i(7042),i(1539),i(8309),i(1038),i(8783),i(4916),i(2526),i(1817),i(2165),i(6992),i(3948),i(9753),i(8304),i(4812),i(489),i(2419),i(8011),i(9070),i(6649),i(6078),i(9653),i(5666),i(2772),i(3710),i(2564);var c={},f=0,d=function(B){f+=1;var J=document.body,le=new Audio,ee=B.split(";")[0];le.id="audio",le.setAttribute("preload","auto"),le.setAttribute("audiobuffer","true"),le.addEventListener("error",function(){J.removeChild(le),c[ee]=!1,f-=1},!1),le.addEventListener("canplaythrough",function(){J.removeChild(le),c[ee]=!0,f-=1},!1),le.src="data:"+B,J.appendChild(le)};i(7941);function h(B,J){var le=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!le){if(Array.isArray(B)||(le=m(B))||J&&B&&typeof B.length=="number"){le&&(B=le);var ee=0,re=function(){};return{s:re,n:function(){return ee>=B.length?{done:!0}:{done:!1,value:B[ee++]}},e:function(Pe){throw Pe},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(B)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function m(B,J){if(B){if(typeof B=="string")return y(B,J);var le=Object.prototype.toString.call(B).slice(8,-1);return le==="Object"&&B.constructor&&(le=B.constructor.name),le==="Map"||le==="Set"?Array.from(B):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?y(B,J):void 0}}function y(B,J){(J==null||J>B.length)&&(J=B.length);for(var le=0,ee=new Array(J);le<J;le++)ee[le]=B[le];return ee}i(5306),i(9720),i(1058);var x=function(B){for(var J=function(Bn){return Bn.replace(/[^a-z0-9 ]/gi,"").replace(/ /g,"_").toLowerCase()},le={byName:{},byId:{},byCategory:{}},ee=0,re=Object.entries({Piano:["1 Acoustic Grand Piano","2 Bright Acoustic Piano","3 Electric Grand Piano","4 Honky-tonk Piano","5 Electric Piano 1","6 Electric Piano 2","7 Harpsichord","8 Clavinet"],"Chromatic Percussion":["9 Celesta","10 Glockenspiel","11 Music Box","12 Vibraphone","13 Marimba","14 Xylophone","15 Tubular Bells","16 Dulcimer"],Organ:["17 Drawbar Organ","18 Percussive Organ","19 Rock Organ","20 Church Organ","21 Reed Organ","22 Accordion","23 Harmonica","24 Tango Accordion"],Guitar:["25 Acoustic Guitar (nylon)","26 Acoustic Guitar (steel)","27 Electric Guitar (jazz)","28 Electric Guitar (clean)","29 Electric Guitar (muted)","30 Overdriven Guitar","31 Distortion Guitar","32 Guitar Harmonics"],Bass:["33 Acoustic Bass","34 Electric Bass (finger)","35 Electric Bass (pick)","36 Fretless Bass","37 Slap Bass 1","38 Slap Bass 2","39 Synth Bass 1","40 Synth Bass 2"],Strings:["41 Violin","42 Viola","43 Cello","44 Contrabass","45 Tremolo Strings","46 Pizzicato Strings","47 Orchestral Harp","48 Timpani"],Ensemble:["49 String Ensemble 1","50 String Ensemble 2","51 Synth Strings 1","52 Synth Strings 2","53 Choir Aahs","54 Voice Oohs","55 Synth Choir","56 Orchestra Hit"],Brass:["57 Trumpet","58 Trombone","59 Tuba","60 Muted Trumpet","61 French Horn","62 Brass Section","63 Synth Brass 1","64 Synth Brass 2"],Reed:["65 Soprano Sax","66 Alto Sax","67 Tenor Sax","68 Baritone Sax","69 Oboe","70 English Horn","71 Bassoon","72 Clarinet"],Pipe:["73 Piccolo","74 Flute","75 Recorder","76 Pan Flute","77 Blown Bottle","78 Shakuhachi","79 Whistle","80 Ocarina"],"Synth Lead":["81 Lead 1 (square)","82 Lead 2 (sawtooth)","83 Lead 3 (calliope)","84 Lead 4 (chiff)","85 Lead 5 (charang)","86 Lead 6 (voice)","87 Lead 7 (fifths)","88 Lead 8 (bass + lead)"],"Synth Pad":["89 Pad 1 (new age)","90 Pad 2 (warm)","91 Pad 3 (polysynth)","92 Pad 4 (choir)","93 Pad 5 (bowed)","94 Pad 6 (metallic)","95 Pad 7 (halo)","96 Pad 8 (sweep)"],"Synth Effects":["97 FX 1 (rain)","98 FX 2 (soundtrack)","99 FX 3 (crystal)","100 FX 4 (atmosphere)","101 FX 5 (brightness)","102 FX 6 (goblins)","103 FX 7 (echoes)","104 FX 8 (sci-fi)"],Ethnic:["105 Sitar","106 Banjo","107 Shamisen","108 Koto","109 Kalimba","110 Bagpipe","111 Fiddle","112 Shanai"],Percussive:["113 Tinkle Bell","114 Agogo","115 Steel Drums","116 Woodblock","117 Taiko Drum","118 Melodic Tom","119 Synth Drum"],"Sound effects":["120 Reverse Cymbal","121 Guitar Fret Noise","122 Breath Noise","123 Seashore","124 Bird Tweet","125 Telephone Ring","126 Helicopter","127 Applause","128 Gunshot"]});ee<re.length;ee++){var Ce,Fe=(Mn=re[ee],wn=2,function(Bn){if(Array.isArray(Bn))return Bn}(Mn)||function(Bn,tr){var Yn=Bn==null?null:typeof Symbol<"u"&&Bn[Symbol.iterator]||Bn["@@iterator"];if(Yn!=null){var dn,Tn,Mr,ur,si=[],Yr=!0,yo=!1;try{if(Mr=(Yn=Yn.call(Bn)).next,tr===0){if(Object(Yn)!==Yn)return;Yr=!1}else for(;!(Yr=(dn=Mr.call(Yn)).done)&&(si.push(dn.value),si.length!==tr);Yr=!0);}catch(Si){yo=!0,Tn=Si}finally{try{if(!Yr&&Yn.return!=null&&(ur=Yn.return(),Object(ur)!==ur))return}finally{if(yo)throw Tn}}return si}}(Mn,wn)||m(Mn,wn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),De=Fe[0],Pe=h(Fe[1]);try{for(Pe.s();!(Ce=Pe.n()).done;){var ot=Ce.value;if(ot){var at=parseInt(ot.substr(0,ot.indexOf(" ")),10),ht=at-1,Dt=ot.replace(at+" ",""),an=J(Dt),Xn=J(De),Or={id:an,name:Dt,program:ht,category:De};le.byId[ht]=Or,le.byName[an]=Or,le.byCategory[Xn]=le.byCategory[Xn]||[],le.byCategory[Xn].push(Or)}}}catch(Bn){Pe.e(Bn)}finally{Pe.f()}}var Mn,wn;return le}(),v=function(){for(var B={},J=0;J<16;J++)B[J]={program:J,pitchBend:0,mute:!1,mono:!1,omni:!1,solo:!1};return B}(),_={},b={};(function(){for(var B=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],J=21;J<=108;J++){var le=Math.floor((J-12)/12),ee=B[J%12]+le;_[ee]=J,b[J]=ee}})();for(var S="audiotag",E={},M=[],T=0;T<16;T++)M[T]=127;for(var R=-1,C=[],P={},D=[],z=0;z<12;z++)D[z]=new Audio;var V=function(B){for(var J=0,le=Object.keys(_);J<le.length;J++){var ee=le[J];P[ee]={id:ee}}B.onsuccess&&B.onsuccess()},U=function(B,J){},q=function(B,J,le,ee){},Z=function(B,J,le){},ne=function(){},O=function(){},F=function(){},G=function(B,J){if(v[B]){var le=v[B].program,ee=x.byId[le].id,re=P[J];if(re){var Ce=ee+""+re.id,Fe=(R+1)%D.length,De=D[Fe];if(C[Fe]=Ce,!E.Soundfont[ee])return;De.src=E.Soundfont[ee][re.id],De.volume=M[B]/127,De.play(),R=Fe}}},$=function(B,J){if(v[B]){var le=v[B].program,ee=x.byId[le].id,re=P[J];if(re)for(var Ce=ee+""+re.id,Fe=0,De=D.length;Fe<De;Fe++){var Pe=(Fe+R+1)%De,ot=C[Pe];if(ot&&ot===Ce)return D[Pe].pause(),void(C[Pe]=null)}}},W=function(B,J){M[B]=J},oe=function(B,J){v[B].instrument=J},j=function(B,J,le,ee){var re=b[J];return!!P[re]&&(ee?setTimeout(function(){M[B]=le,G(B,re)},1e3*ee):(M[B]=le,G(B,re),!0))},Y=function(B,J,le){},K=function(B,J,le,ee){for(var re=function(){var Fe=J[Ce],De=b[Fe];if(!P[De])return"continue";ee?setTimeout(function(){G(B,De)},1e3*ee):G(B,De)},Ce=0;Ce<J.length;Ce++)re()},fe=function(B,J,le){for(var ee=function(){var Ce=J[re],Fe=b[Ce];if(!P[Fe])return"continue";le?setTimeout(function(){$(B,Fe)},1e3*le):$(B,Fe)},re=0;re<J.length;re++)ee()},pe=function(){for(var B=0,J=D.length;B<J;B++)D[B].pause()},xe=(i(8264),i(9575),i(2472),i(2990),i(8927),i(3105),i(5035),i(4345),i(7174),i(2846),i(4731),i(7209),i(6319),i(8867),i(7789),i(3739),i(9368),i(4483),i(2056),i(3462),i(678),i(7462),i(3824),i(5021),i(2974),i(5016),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");function Ge(B,J){var le=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!le){if(Array.isArray(B)||(le=Ae(B))||J&&B&&typeof B.length=="number"){le&&(B=le);var ee=0,re=function(){};return{s:re,n:function(){return ee>=B.length?{done:!0}:{done:!1,value:B[ee++]}},e:function(Pe){throw Pe},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(B)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function Ae(B,J){if(B){if(typeof B=="string")return H(B,J);var le=Object.prototype.toString.call(B).slice(8,-1);return le==="Object"&&B.constructor&&(le=B.constructor.name),le==="Map"||le==="Set"?Array.from(B):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?H(B,J):void 0}}function H(B,J){(J==null||J>B.length)&&(J=B.length);for(var le=0,ee=new Array(J);le<J;le++)ee[le]=B[le];return ee}var ge,Me="webaudio",Ie={},Re={},We={},ke=127,je={},He=function(B){he(ge||Ue(),B.onsuccess)},Ne=function(){},Ke=function(){},Q=function(B,J){},N=function(B,J,le,ee){},se=function(B,J,le){le?setTimeout(function(){ke=J},1e3*le):ke=J},Le=function(B,J,le){var ee=v[B];ee&&(ee.program=J)},Te=function(B,J,le){var ee=v[B];ee&&(le?setTimeout(function(){ee.pitchBend=J},le):ee.pitchBend=J)},_e=function(B,J,le){var ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,re=v[B],Ce=re.program,Fe=Ce+"x"+J,De=je[Fe];if(De&&ge){var Pe;if(ee<ge.currentTime&&(ee+=ge.currentTime),(Pe=ge.createBufferSource()).buffer=De,We)for(var ot=Pe,at=0,ht=Object.keys(We);at<ht.length;at++){var Dt=ht[at];ot.connect(We[Dt].input),ot=We[Dt]}var an=le/127*(ke/127)*2-1;return Pe.connect(ge.destination),Pe.playbackRate.value=1,Pe.gainNode=ge.createGain(),Pe.gainNode.connect(ge.destination),Pe.gainNode.gain.value=Math.min(1,Math.max(-1,an)),Pe.connect(Pe.gainNode),Pe.start(ee||0),Re[B+"x"+J]=Pe,Pe}},ye=function(B,J){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ee=v[B],re=ee.program,Ce=re+"x"+J,Fe=je[Ce];if(ge&&Fe){le<ge.currentTime&&(le+=ge.currentTime);var De=Re[B+"x"+J];if(De){if(De.gainNode){var Pe=De.gainNode.gain;Pe.linearRampToValueAtTime(Pe.value,le),Pe.linearRampToValueAtTime(-1,le+.3)}return De.noteOff?De.noteOff(le+.5):De.stop(le+.5),delete Re[B+"x"+J],De}}},we=function(B,J,le,ee){var re,Ce={},Fe=Ge(J);try{for(Fe.s();!(re=Fe.n()).done;){var De=re.value;Ce[De]=_e(B,De,le,ee)}}catch(Pe){Fe.e(Pe)}finally{Fe.f()}return Ce},Se=function(B,J,le){var ee,re={},Ce=Ge(J);try{for(Ce.s();!(ee=Ce.n()).done;){var Fe=ee.value;re[Fe]=ye(B,Fe,le)}}catch(De){Ce.e(De)}finally{Ce.f()}return re},be=function(){if(ge)for(var B=0,J=Object.keys(Re);B<J.length;B++){var le=J[B],ee=0;ee<ge.currentTime&&(ee+=ge.currentTime);var re=Re[le];re.gain.linearRampToValueAtTime(1,ee),re.gain.linearRampToValueAtTime(0,ee+.3),re.noteOff?re.noteOff(ee+.3):re.stop(ee+.3),delete Re[le]}},ae=function(B){if(ge&&ge.tunajs){var J,le=Ge(B);try{for(le.s();!(J=le.n()).done;){var ee=J.value,re=new ge.tunajs[ee.type](ee);re.connect(ge.destination),We[ee.type]=re}}catch(Ce){le.e(Ce)}finally{le.f()}}else console.log("Effects module not installed.")},de=function(){return ge},he=function(B,J,le,ee){ge=B,typeof Tuna>"u"||ge.tunajs instanceof Tuna||(ge.tunajs=new Tuna(ge));for(var re=[],Ce=0,Fe=Object.keys(_);Ce<Fe.length;Ce++){var De=Fe[Ce];re.push(De)}for(var Pe=function(dn){for(var Tn=0,Mr=Object.keys(at);Tn<Mr.length;Tn++){var ur=Mr[Tn];if(at[ur])return}J&&(J(),J=null)},ot=function(dn,Tn,Mr,ur){var si=dn[ur];si&&(at[Tn]+=1,me(si,function(Yr){Yr.id=ur;var yo=_[ur];je[Tn+"x"+yo]=Yr,at[Tn]-=1,at[Tn]===0&&(dn.isLoaded=!0,Pe())},function(Yr){console.log(Yr)}))},at={},ht=0,Dt=Object.entries(Ie.Soundfont);ht<Dt.length;ht++){var an=(tr=Dt[ht],Yn=2,function(dn){if(Array.isArray(dn))return dn}(tr)||function(dn,Tn){var Mr=dn==null?null:typeof Symbol<"u"&&dn[Symbol.iterator]||dn["@@iterator"];if(Mr!=null){var ur,si,Yr,yo,Si=[],sr=!0,Fr=!1;try{if(Yr=(Mr=Mr.call(dn)).next,Tn===0){if(Object(Mr)!==Mr)return;sr=!1}else for(;!(sr=(ur=Yr.call(Mr)).done)&&(Si.push(ur.value),Si.length!==Tn);sr=!0);}catch(Vn){Fr=!0,si=Vn}finally{try{if(!sr&&Mr.return!=null&&(yo=Mr.return(),Object(yo)!==yo))return}finally{if(Fr)throw si}}return Si}}(tr,Yn)||Ae(tr,Yn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),Xn=an[0],Or=an[1];if(!Or.isLoaded){var Mn=x.byName[Xn];if(Mn){var wn=Mn.program;at[wn]=0;for(var Bn=0;Bn<re.length;Bn++)ot(Or,wn,0,re[Bn])}}}var tr,Yn;setTimeout(Pe,1)},me=function(B,J,le){if(B.indexOf("data:audio")===0){var ee=(re=B.split(",")[1],Ce=Math.ceil(3*re.length/4),Fe=new ArrayBuffer(Ce),function(Pe,ot){var at,ht,Dt,an,Xn,Or,Mn,wn=xe.indexOf(Pe.charAt(Pe.length-1)),Bn=xe.indexOf(Pe.charAt(Pe.length-1)),tr=Math.ceil(3*Pe.length/4);wn===64&&(tr-=1),Bn===64&&(tr-=1);var Yn=0;at=ot?new Uint8Array(ot):new Uint8Array(tr),Pe=Pe.replace(/[^A-Za-z0-9+/=]/g,"");for(var dn=0;dn<tr;dn+=3)ht=xe.indexOf(Pe.charAt(Yn++))<<2|(Xn=xe.indexOf(Pe.charAt(Yn++)))>>4,Dt=(15&Xn)<<4|(Or=xe.indexOf(Pe.charAt(Yn++)))>>2,an=(3&Or)<<6|(Mn=xe.indexOf(Pe.charAt(Yn++))),at[dn]=ht,Or!==64&&(at[dn+1]=Dt),Mn!==64&&(at[dn+2]=an)}(re,Fe),Fe);return ge.decodeAudioData(ee,J,le)}var re,Ce,Fe,De=new XMLHttpRequest;return De.open("GET",B,!0),De.responseType="arraybuffer",De.onsuccess=function(){return ge.decodeAudioData(De.response,J,le)},void De.send()},Ue=function(){return new(window.AudioContext||window.webkitAudioContext)};function Xe(B,J){var le=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!le){if(Array.isArray(B)||(le=function(Pe,ot){if(Pe){if(typeof Pe=="string")return ie(Pe,ot);var at=Object.prototype.toString.call(Pe).slice(8,-1);return at==="Object"&&Pe.constructor&&(at=Pe.constructor.name),at==="Map"||at==="Set"?Array.from(Pe):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?ie(Pe,ot):void 0}}(B))||J&&B&&typeof B.length=="number"){le&&(B=le);var ee=0,re=function(){};return{s:re,n:function(){return ee>=B.length?{done:!0}:{done:!1,value:B[ee++]}},e:function(Pe){throw Pe},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(B)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function ie(B,J){(J==null||J>B.length)&&(J=B.length);for(var le=0,ee=new Array(J);le<J;le++)ee[le]=B[le];return ee}var Be="webmidi",Ee={},Ye=null,tt=function(B){var J=function(le){console.error("Could not connect to web midi! Falling back to WebAudio:",le),Ee.webaudio_backup_connect&&(Ee.config.api="webaudio",Ee.webaudio_backup_connect(B))};navigator.requestMIDIAccess().then(function(le){var ee=le.outputs;return(Ye=typeof ee=="function"?ee()[0]:ee[0])===void 0?J("No outputs defined"):B.onsuccess&&B.onsuccess()},J)},vt=function(){},xt=function(){},Et=function(){},Gt=function(){},qt=function(){},jt=function(B,J){Ye.send(B,1e3*J)},Vt=function(B,J,le,ee){Ye.send([B,J,le],1e3*ee)},$n=function(B,J,le){Ye.send([176+B,7,J],1e3*le)},ir=function(B,J,le){Ye.send([192+B,J],1e3*le)},fn=function(B,J,le){Ye.send([224+B,J],1e3*le)},Pn=function(B,J,le,ee){Ye.send([144+B,J,le],1e3*ee)},gr=function(B,J,le){Ye.send([128+B,J,0],1e3*le)},xn=function(B,J,le,ee){var re,Ce=Xe(J);try{for(Ce.s();!(re=Ce.n()).done;){var Fe=re.value;Ye.send([144+B,Fe,le],1e3*ee)}}catch(De){Ce.e(De)}finally{Ce.f()}},Ht=function(B,J,le){var ee,re=Xe(J);try{for(re.s();!(ee=re.n()).done;){var Ce=ee.value;Ye.send([128+B,Ce,0],1e3*le)}}catch(Fe){re.e(Fe)}finally{re.f()}},bn=function(){Ye.cancel();for(var B=0;B<16;B++)Ye.send([176+B,123,0])};function or(B){return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},or(B)}function mn(B,J){for(var le=0;le<J.length;le++){var ee=J[le];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(B,(re=function(Ce,Fe){if(or(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(or(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ee.key),or(re)==="symbol"?re:String(re)),ee)}var re}i(3843),i(9600),i(4048);var ce=function(){function B(ee){(function(re,Ce){if(!(re instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,B),this.str=ee,this.position=0}var J,le;return J=B,(le=[{key:"read",value:function(ee){var re=this.str.substr(this.position,ee);return this.position+=ee,re}},{key:"readInt32",value:function(){var ee=(this.str.charCodeAt(this.position)<<24)+(this.str.charCodeAt(this.position+1)<<16)+(this.str.charCodeAt(this.position+2)<<8)+this.str.charCodeAt(this.position+3);return this.position+=4,ee}},{key:"readInt16",value:function(){var ee=(this.str.charCodeAt(this.position)<<8)+this.str.charCodeAt(this.position+1);return this.position+=2,ee}},{key:"readInt8",value:function(ee){var re=this.str.charCodeAt(this.position);return ee&&re>127&&(re-=256),this.position+=1,re}},{key:"eof",value:function(){return this.position>=this.str.length}},{key:"readVarInt",value:function(){for(var ee=0;;){var re=this.readInt8();if(!(128&re))return ee+re;ee+=127&re,ee<<=7}}}])&&mn(J.prototype,le),Object.defineProperty(J,"prototype",{writable:!1}),B}();function $e(B){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},$e(B)}function Je(B,J){for(var le=0;le<J.length;le++){var ee=J[le];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(B,(re=function(Ce,Fe){if($e(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if($e(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ee.key),$e(re)==="symbol"?re:String(re)),ee)}var re}var Ve=function(){function B(ee){(function(re,Ce){if(!(re instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,B),this.data=ee,this.stream=new ce(ee),this.lastEventTypeByte=void 0}var J,le;return J=B,(le=[{key:"readChunk",value:function(ee){var re=ee.read(4),Ce=ee.readInt32();return{id:re,length:Ce,data:ee.read(Ce)}}},{key:"readEvent",value:function(ee){var re={};re.deltaTime=ee.readVarInt();var Ce=ee.readInt8();if((240&Ce)==240){if(Ce!==255){if(Ce===240){re.type="sysEx";var Fe=ee.readVarInt();return re.data=ee.read(Fe),re}if(Ce===247){re.type="dividedSysEx";var De=ee.readVarInt();return re.data=ee.read(De),re}throw new Error("Unrecognised MIDI event type byte: "+Ce)}re.type="meta";var Pe=ee.readInt8(),ot=ee.readVarInt();switch(Pe){case 0:if(re.subtype="sequenceNumber",ot!==2)throw new Error("Expected length for sequenceNumber event is 2, got "+ot);return re.number=ee.readInt16(),re;case 1:return re.subtype="text",re.text=ee.read(ot),re;case 2:return re.subtype="copyrightNotice",re.text=ee.read(ot),re;case 3:return re.subtype="trackName",re.text=ee.read(ot),re;case 4:return re.subtype="instrumentName",re.text=ee.read(ot),re;case 5:return re.subtype="lyrics",re.text=ee.read(ot),re;case 6:return re.subtype="marker",re.text=ee.read(ot),re;case 7:return re.subtype="cuePoint",re.text=ee.read(ot),re;case 32:if(re.subtype="midiChannelPrefix",ot!==1)throw new Error("Expected length for midiChannelPrefix event is 1, got "+ot);return re.channel=ee.readInt8(),re;case 47:if(re.subtype="endOfTrack",ot!==0)throw new Error("Expected length for endOfTrack event is 0, got "+ot);return re;case 81:if(re.subtype="setTempo",ot!==3)throw new Error("Expected length for setTempo event is 3, got "+ot);return re.microsecondsPerBeat=(ee.readInt8()<<16)+(ee.readInt8()<<8)+ee.readInt8(),re;case 84:if(re.subtype="smpteOffset",ot!==5)throw new Error("Expected length for smpteOffset event is 5, got "+ot);var at=ee.readInt8();return re.frameRate={0:24,32:25,64:29,96:30}[96&at],re.hour=31&at,re.min=ee.readInt8(),re.sec=ee.readInt8(),re.frame=ee.readInt8(),re.subframe=ee.readInt8(),re;case 88:if(re.subtype="timeSignature",ot!==4)throw new Error("Expected length for timeSignature event is 4, got "+ot);return re.numerator=ee.readInt8(),re.denominator=Math.pow(2,ee.readInt8()),re.metronome=ee.readInt8(),re.thirtyseconds=ee.readInt8(),re;case 89:if(re.subtype="keySignature",ot!==2)throw new Error("Expected length for keySignature event is 2, got "+ot);return re.key=ee.readInt8(!0),re.scale=ee.readInt8(),re;case 127:return re.subtype="sequencerSpecific",re.data=ee.read(ot),re;default:return re.subtype="unknown",re.data=ee.read(ot),re}}else{var ht;128&Ce?(ht=ee.readInt8(),this.lastEventTypeByte=Ce):(ht=Ce,Ce=this.lastEventTypeByte);var Dt=Ce>>4;switch(re.channel=15&Ce,re.type="channel",Dt){case 8:return re.subtype="noteOff",re.noteNumber=ht,re.velocity=ee.readInt8(),re;case 9:return re.noteNumber=ht,re.velocity=ee.readInt8(),re.velocity===0?re.subtype="noteOff":re.subtype="noteOn",re;case 10:return re.subtype="noteAftertouch",re.noteNumber=ht,re.amount=ee.readInt8(),re;case 11:return re.subtype="controller",re.controllerType=ht,re.value=ee.readInt8(),re;case 12:return re.subtype="programChange",re.programNumber=ht,re;case 13:return re.subtype="channelAftertouch",re.amount=ht,re;case 14:return re.subtype="pitchBend",re.value=ht+(ee.readInt8()<<7),re;default:throw new Error("Unrecognised MIDI event type: "+Dt)}}}},{key:"parseAndReturn",value:function(){var ee=this.stream,re=this.readChunk(ee);if(re.id!=="MThd"||re.length!==6)throw new Error("Bad .mid file - header not found");var Ce=new ce(re.data),Fe=Ce.readInt16(),De=Ce.readInt16(),Pe=Ce.readInt16();if(32768&Pe)throw new Error("Expressing time division in SMTPE frames is not supported yet");for(var ot={formatType:Fe,trackCount:De,ticksPerBeat:Pe},at=[],ht=0;ht<ot.trackCount;ht++){at[ht]=[];var Dt=this.readChunk(ee);if(Dt.id!=="MTrk")throw new Error("Unexpected chunk - expected MTrk, got "+Dt.id);for(var an=new ce(Dt.data);!an.eof();){var Xn=this.readEvent(an);at[ht].push(Xn)}}return{header:ot,tracks:at}}}])&&Je(J.prototype,le),Object.defineProperty(J,"prototype",{writable:!1}),B}();function et(B,J){for(var le=0;le<J.length;le++){var ee=J[le];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(B,(re=function(Ce,Fe){if(mt(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(mt(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ee.key),mt(re)==="symbol"?re:String(re)),ee)}var re}function mt(B){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},mt(B)}var Pt=function B(J){if(mt(J)!=="object"||J==null)return J;var le=typeof J.length=="number"?[]:{};for(var ee in J)le[ee]=B(J[ee]);return le},Ot=function(){function B(ee,re,Ce,Fe){(function(Pe,ot){if(!(Pe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,B),this.midiFile=ee,this.timeWarp=re,this.eventProcessor=Ce,this.trackStates=[],this.beatsPerMinute=Fe||120,this.bpmOverride=!!Fe,this.ticksPerBeat=ee.header.ticksPerBeat;for(var De=0;De<ee.tracks.length;De++)this.trackStates[De]={nextEventIndex:0,ticksToNextEvent:ee.tracks[De].length?ee.tracks[De][0].deltaTime:null};this.temporal=[],this.processEvents()}var J,le;return J=B,(le=[{key:"getNextEvent",value:function(){for(var ee=null,re=null,Ce=null,Fe=0;Fe<this.trackStates.length;Fe++)this.trackStates[Fe].ticksToNextEvent!=null&&(ee==null||this.trackStates[Fe].ticksToNextEvent<ee)&&(ee=this.trackStates[Fe].ticksToNextEvent,re=Fe,Ce=this.trackStates[Fe].nextEventIndex);if(re!=null){var De=this.midiFile.tracks[re][Ce];this.midiFile.tracks[re][Ce+1]?this.trackStates[re].ticksToNextEvent+=this.midiFile.tracks[re][Ce+1].deltaTime:this.trackStates[re].ticksToNextEvent=null,this.trackStates[re].nextEventIndex+=1;for(var Pe=0;Pe<this.trackStates.length;Pe++)this.trackStates[Pe].ticksToNextEvent!=null&&(this.trackStates[Pe].ticksToNextEvent-=ee);return{ticksToEvent:ee,event:De,track:re}}return null}},{key:"processEvents",value:function(){for(var ee=this.getNextEvent();ee;){this.bpmOverride||ee.event.type!=="meta"||ee.event.subtype!=="setTempo"||(this.beatsPerMinute=6e7/ee.event.microsecondsPerBeat);var re=0;ee.ticksToEvent>0&&(re=ee.ticksToEvent/this.ticksPerBeat/(this.beatsPerMinute/60));var Ce=1e3*re*this.timeWarp||0;this.temporal.push([ee,Ce]),ee=this.getNextEvent()}}},{key:"getData",value:function(){return Pt(this.temporal)}}])&&et(J.prototype,le),Object.defineProperty(J,"prototype",{writable:!1}),B}();function kt(B){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},kt(B)}function $t(B,J){for(var le=0;le<J.length;le++){var ee=J[le];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(B,(re=function(Ce,Fe){if(kt(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(kt(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ee.key),kt(re)==="symbol"?re:String(re)),ee)}var re}var st=function(){function B(ee){(function(re,Ce){if(!(re instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,B),this.plugin=ee,this.currentTime=0,this.endTime=0,this.restart=0,this.playing=!1,this.timeWarp=1,this.startDelay=0,this.BPM=void 0,this.data=[],this.eventQueue=[],this.queuedTime=0,this.startTime=0,this.noteRegistrar={},this.onMidiEvent=void 0,this.MIDIOffset=0,this.frame=void 0,this.__now=void 0}var J,le;return J=B,le=[{key:"start",value:function(ee){this.currentTime<-1&&(this.currentTime=-1),this.startAudio(this.currentTime,null,ee)}},{key:"resume",value:function(ee){return this.start(ee)}},{key:"pause",value:function(){var ee=this.restart;this.stopAudio(),this.restart=ee}},{key:"stop",value:function(){this.stopAudio(),this.restart=0,this.currentTime=0}},{key:"addListener",value:function(ee){this.onMidiEvent=ee}},{key:"removeListener",value:function(){this.onMidiEvent=void 0}},{key:"clearAnimation",value:function(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}},{key:"setAnimation",value:function(ee){var re=this,Ce=0,Fe=0,De=0;this.clearAnimation(),this.frame=function(){if(re.animationFrameId=requestAnimationFrame(re.frame),re.endTime!==0){re.playing?(Ce=De===re.currentTime?Fe-Date.now():0,Ce=re.currentTime===0?0:re.currentTime-Ce,De!==re.currentTime&&(Fe=Date.now(),De=re.currentTime)):Ce=re.currentTime;var Pe=re.endTime,ot=Ce/1e3,at=ot/60,ht=60*at+(ot-60*at),Dt=Pe/1e3;Dt-ht<-1||ee({now:ht,end:Dt,events:re.noteRegistrar})}},requestAnimationFrame(this.frame)}},{key:"loadMidiFile",value:function(ee,re,Ce){try{this.replayer=new Ot(function(Fe){return new Ve(Fe).parseAndReturn()}(this.currentData),this.timeWarp,null,this.BPM),this.data=this.replayer.getData(),this.endTime=this.getLength(),this.loadPlugin({onsuccess:ee,onprogress:re,onerror:Ce})}catch(Fe){Ce&&Ce(Fe)}}},{key:"loadPlugin",value:function(){}},{key:"loadFile",value:function(ee,re,Ce,Fe){var De=this;if(this.stop(),ee.indexOf("base64,")!==-1)this.currentData=atob(ee.split(",")[1]),this.loadMidiFile(re,Ce,Fe);else{var Pe=new XMLHttpRequest;Pe.open("GET",ee),Pe.overrideMimeType("text/plain; charset=x-user-defined"),Pe.onreadystatechange=function(){if(Pe.readyState===4)if(Pe.status===200){for(var ot=Pe.responseText||"",at=[],ht=ot.length,Dt=String.fromCharCode,an=0;an<ht;an++)at[an]=Dt(255&ot.charCodeAt(an));De.currentData=at.join(""),De.loadMidiFile(re,Ce,Fe)}else Fe&&Fe("Unable to load MIDI file")},Pe.send()}}},{key:"getFileInstruments",value:function(){for(var ee={},re={},Ce=0;Ce<this.data.length;Ce++){var Fe=this.data[Ce][0].event;if(Fe.type==="channel"){var De=Fe.channel;switch(Fe.subtype){case"controller":default:break;case"programChange":re[De]=Fe.programNumber;break;case"noteOn":var Pe=re[De],ot=Number.isNaN(parseInt(Pe))?De:Pe;ee[x.byId[ot].id]=!0}}}for(var at=[],ht=0,Dt=Object.keys(ee);ht<Dt.length;ht++){var an=Dt[ht];at.push(an)}return at}},{key:"scheduleTracking",value:function(ee,re,Ce,Fe,De,Pe,ot){var at=this;return setTimeout(function(){var ht={channel:ee,note:re,now:Ce,end:at.endTime,message:De,velocity:Pe};De===128?delete at.noteRegistrar[re]:at.noteRegistrar[re]=ht,at.onMidiEvent&&at.onMidiEvent(ht),at.currentTime=Ce,at.eventQueue.shift(),(at.eventQueue.length<1e3||at.currentTime===at.queuedTime&&at.queuedTime<at.endTime)&&at.startAudio(at.queuedTime,!0)},Ce-Fe)}},{key:"getContext",value:function(){return this.plugin.api==="webaudio"?this.plugin.getContext():(this.ctx={currentTime:0},this.ctx)}},{key:"getLength",value:function(){for(var ee=this.data,re=ee.length,Ce=.5,Fe=0;Fe<re;Fe++)Ce+=ee[Fe][1];return Ce}},{key:"getNow",value:function(){return window.performance&&window.performance.now?window.performance.now():Date.now()}},{key:"startAudio",value:function(ee,re,Ce){if(this.replayer){var Fe;re||(ee===void 0&&(ee=this.restart),this.playing&&this.stopAudio(),this.playing=!0,this.data=this.replayer.getData(),this.endTime=this.getLength());var De=0,Pe=0,ot=this.data,at=this.getContext(),ht=ot.length;this.queuedTime=.5;var Dt=ee-this.currentTime;if(this.plugin.api!=="webaudio"){var an=this.getNow();this.__now=this.__now||an,at.currentTime=(an-this.__now)/1e3}this.startTime=at.currentTime;for(var Xn=0;Xn<ht&&Pe<100;Xn++){var Or=ot[Xn];if(this.queuedTime+=Or[1],this.queuedTime<=ee)De=this.queuedTime;else{ee=this.queuedTime-De;var Mn=Or[0].event;if(Mn.type==="channel"){var wn=Mn.channel,Bn=v[wn],tr=at.currentTime+(ee+Dt+this.startDelay)/1e3,Yn=this.queuedTime-De+this.startDelay;switch(Mn.subtype){case"controller":this.plugin.setController(wn,Mn.controllerType,Mn.value,tr);break;case"programChange":this.plugin.programChange(wn,Mn.programNumber,tr);break;case"pitchBend":this.plugin.pitchBend(wn,Mn.value,tr);break;case"noteOn":if(Bn.mute)break;Fe=Mn.noteNumber-(this.MIDIOffset||0),this.eventQueue.push({event:Mn,time:Yn,source:this.plugin.noteOn(wn,Mn.noteNumber,Mn.velocity,tr),interval:this.scheduleTracking(wn,Fe,this.queuedTime+this.startDelay,De-Dt,144,Mn.velocity)}),Pe+=1;break;case"noteOff":if(Bn.mute)break;Fe=Mn.noteNumber-(this.MIDIOffset||0),this.eventQueue.push({event:Mn,time:Yn,source:this.plugin.noteOff(wn,Mn.noteNumber,tr),interval:this.scheduleTracking(wn,Fe,this.queuedTime,De-Dt,128,0)})}}}}Ce&&Ce(this.eventQueue)}}},{key:"stopAudio",value:function(){var ee=this.getContext();for(this.playing=!1,this.restart+=1e3*(ee.currentTime-this.startTime);this.eventQueue.length;){var re=this.eventQueue.pop();window.clearInterval(re.interval),re.source&&(typeof re.source=="number"?window.clearTimeout(re.source):re.source.disconnect(0))}for(var Ce=0,Fe=Object.keys(this.noteRegistrar);Ce<Fe.length;Ce++){var De=Fe[Ce],Pe=this.noteRegistrar[De];this.noteRegistrar[De].message===144&&this.onMidiEvent&&this.onMidiEvent({channel:Pe.channel,note:Pe.note,now:Pe.now,end:Pe.end,message:128,velocity:Pe.velocity})}this.noteRegistrar={}}}],le&&$t(J.prototype,le),Object.defineProperty(J,"prototype",{writable:!1}),B}();function Nt(B){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},Nt(B)}i(4678),i(9714);var gn,_n,Bt,kr={Space:{}};gn={},_n={"HEX24>HSL":"HEX24>RGB>HSL","HEX32>HSLA":"HEX32>RGBA>HSLA","HEX24>CMYK":"HEX24>RGB>CMY>CMYK","RGB>CMYK":"RGB>CMY>CMYK"},(Bt=kr.Space=function(B,J){_n[J]&&(J=_n[J]);var le=J.split(">");if(Nt(B)==="object"&&B[0]>=0){for(var ee=le[0],re={},Ce=0;Ce<ee.length;Ce++)re[ee.substr(Ce,1)]=B[Ce];B=re}if(gn[J])return gn[J](B);for(var Fe=1,De=le[0];Fe<le.length;Fe++)Fe>1&&(De=De.substr(De.indexOf("_")+1)),De+=(Fe===0?"":"_")+le[Fe],B=Bt[De](B);return B}).RGB_W3=function(B){return"rgb("+(B.R>>0)+","+(B.G>>0)+","+(B.B>>0)+")"},Bt.RGBA_W3=function(B){var J=typeof B.A=="number"?B.A/255:1;return"rgba("+(B.R>>0)+","+(B.G>>0)+","+(B.B>>0)+","+J+")"},Bt.W3_RGB=function(B){var J=B.substr(4,B.length-5).split(",");return{R:parseInt(J[0]),G:parseInt(J[1]),B:parseInt(J[2])}},Bt.W3_RGBA=function(B){var J=B.substr(5,B.length-6).split(",");return{R:parseInt(J[0]),G:parseInt(J[1]),B:parseInt(J[2]),A:255*parseFloat(J[3])}},Bt.HSL_W3=function(B){return"hsl("+(B.H+.5>>0)+","+(B.S+.5>>0)+"%,"+(B.L+.5>>0)+"%)"},Bt.HSLA_W3=function(B){var J=typeof B.A=="number"?B.A/255:1;return"hsla("+(B.H+.5>>0)+","+(B.S+.5>>0)+"%,"+(B.L+.5>>0)+"%,"+J+")"},Bt.W3_HSL=function(B){var J=B.substr(4,B.length-5).split(",");return{H:parseInt(J[0]),S:parseInt(J[1]),L:parseInt(J[2])}},Bt.W3_HSLA=function(B){var J=B.substr(5,B.length-6).split(",");return{H:parseInt(J[0]),S:parseInt(J[1]),L:parseInt(J[2]),A:255*parseFloat(J[3])}},Bt.W3_HEX=Bt.W3_HEX24=function(B){return B.substr(0,1)==="#"&&(B=B.substr(1)),B.length===3&&(B=B[0]+B[0]+B[1]+B[1]+B[2]+B[2]),parseInt("0x"+B)},Bt.W3_HEX32=function(B){return B.substr(0,1)==="#"&&(B=B.substr(1)),B.length===6?parseInt("0xFF"+B):parseInt("0x"+B)},Bt.HEX_W3=Bt.HEX24_W3=function(B,J){J||(J=6),B||(B=0);for(var le=B.toString(16),ee=le.length;ee<J;)le="0"+le,ee+=1;for(ee=le.length;ee>J;)le=le.substring(1),ee-=1;return"#"+le},Bt.HEX32_W3=function(B){return Bt.HEX_W3(B,8)},Bt.HEX_RGB=Bt.HEX24_RGB=function(B){return{R:B>>16,G:B>>8&255,B:255&B}},Bt.HEX32_RGBA=function(B){return{R:B>>>16&255,G:B>>>8&255,B:255&B,A:B>>>24}},Bt.RGBA_HEX32=function(B){return(B.A<<24|B.R<<16|B.G<<8|B.B)>>>0},Bt.RGB_HEX24=Bt.RGB_HEX=function(B){return B.R<0&&(B.R=0),B.G<0&&(B.G=0),B.B<0&&(B.B=0),B.R>255&&(B.R=255),B.G>255&&(B.G=255),B.B>255&&(B.B=255),B.R<<16|B.G<<8|B.B},Bt.RGB_CMY=function(B){return{C:1-B.R/255,M:1-B.G/255,Y:1-B.B/255}},Bt.RGBA_HSLA=Bt.RGB_HSL=function(B){var J,le,ee=B.R/255,re=B.G/255,Ce=B.B/255,Fe=Math.min(ee,re,Ce),De=Math.max(ee,re,Ce),Pe=De-Fe,ot=(De+Fe)/2;if(Pe===0)J=0,le=0;else{le=ot<.5?Pe/(De+Fe):Pe/(2-De-Fe);var at=((De-ee)/6+Pe/2)/Pe,ht=((De-re)/6+Pe/2)/Pe,Dt=((De-Ce)/6+Pe/2)/Pe;ee===De?J=Dt-ht:re===De?J=1/3+at-Dt:Ce===De&&(J=2/3+ht-at),J<0&&(J+=1),J>1&&(J-=1)}return{H:360*J,S:100*le,L:100*ot,A:B.A}},Bt.RGBA_HSVA=Bt.RGB_HSV=function(B){var J,le,ee=B.R/255,re=B.G/255,Ce=B.B/255,Fe=Math.min(ee,re,Ce),De=Math.max(ee,re,Ce),Pe=De-Fe;if(Pe===0)J=0,le=0;else{le=Pe/De;var ot=((De-ee)/6+Pe/2)/Pe,at=((De-re)/6+Pe/2)/Pe,ht=((De-Ce)/6+Pe/2)/Pe;ee===De?J=ht-at:re===De?J=1/3+ot-ht:Ce===De&&(J=2/3+at-ot),J<0&&(J+=1),J>1&&(J-=1)}return{H:360*J,S:100*le,V:100*De,A:B.A}},Bt.CMY_RGB=function(B){return{R:Math.max(0,255*(1-B.C)),G:Math.max(0,255*(1-B.M)),B:Math.max(0,255*(1-B.Y))}},Bt.CMY_CMYK=function(B){var J=B.C,le=B.M,ee=B.Y,re=Math.min(ee,Math.min(le,Math.min(J,1)));return{C:J=Math.round((J-re)/(1-re)*100),M:le=Math.round((le-re)/(1-re)*100),Y:ee=Math.round((ee-re)/(1-re)*100),K:re=Math.round(100*re)}},Bt.CMYK_CMY=function(B){return{C:B.C*(1-B.K)+B.K,M:B.M*(1-B.K)+B.K,Y:B.Y*(1-B.K)+B.K}},Bt.HSLA_RGBA=Bt.HSL_RGB=function(B){var J,le,ee,re,Ce,Fe,De=B.H/360,Pe=B.S/100,ot=B.L/100;return Pe===0?J=le=ee=ot:(re=2*ot-(Ce=ot<.5?ot*(1+Pe):ot+Pe-Pe*ot),(Fe=De+1/3)<0&&(Fe+=1),Fe>1&&(Fe-=1),J=6*Fe<1?re+6*(Ce-re)*Fe:2*Fe<1?Ce:3*Fe<2?re+(Ce-re)*(2/3-Fe)*6:re,(Fe=De)<0&&(Fe+=1),Fe>1&&(Fe-=1),le=6*Fe<1?re+6*(Ce-re)*Fe:2*Fe<1?Ce:3*Fe<2?re+(Ce-re)*(2/3-Fe)*6:re,(Fe=De-1/3)<0&&(Fe+=1),Fe>1&&(Fe-=1),ee=6*Fe<1?re+6*(Ce-re)*Fe:2*Fe<1?Ce:3*Fe<2?re+(Ce-re)*(2/3-Fe)*6:re),{R:255*J,G:255*le,B:255*ee,A:B.A}},Bt.HSVA_RGBA=Bt.HSV_RGB=function(B){var J,le,ee,re,Ce,Fe,De=B.H/360,Pe=B.S/100,ot=B.V/100;if(Pe===0)J=le=ee=Math.round(255*ot);else switch(De>=1&&(De=0),re=(De*=6)-Math.floor(De),Ce=Math.round(255*ot*(1-Pe)),ee=Math.round(255*ot*(1-Pe*re)),Fe=Math.round(255*ot*(1-Pe*(1-re))),ot=Math.round(255*ot),Math.floor(De)){case 0:J=ot,le=Fe,ee=Ce;break;case 1:J=ee,le=ot,ee=Ce;break;case 2:J=Ce,le=ot,ee=Fe;break;case 3:J=Ce,le=ee,ee=ot;break;case 4:J=Fe,le=Ce,ee=ot;break;case 5:J=ot,le=Ce}return{R:J,G:le,B:ee,A:B.A}};var vn={"Isaac Newton (1704)":{format:"HSL",ref:"Gerstner, p.167",english:["red",null,"orange",null,"yellow","green",null,"blue",null,"indigo",null,"violet"],0:[0,96,51],1:[0,0,0],2:[29,94,52],3:[0,0,0],4:[60,90,60],5:[135,76,32],6:[0,0,0],7:[248,82,28],8:[0,0,0],9:[302,88,26],10:[0,0,0],11:[325,84,46]},"Louis Bertrand Castel (1734)":{format:"HSL",ref:"Peacock, p.400",english:["blue","blue-green","green","olive green","yellow","yellow-orange","orange","red","crimson","violet","agate","indigo"],0:[248,82,28],1:[172,68,34],2:[135,76,32],3:[79,59,36],4:[60,90,60],5:[49,90,60],6:[29,94,52],7:[360,96,51],8:[1,89,33],9:[325,84,46],10:[273,80,27],11:[302,88,26]},"George Field (1816)":{format:"HSL",ref:"Klein, p.69",english:["blue",null,"purple",null,"red","orange",null,"yellow",null,"yellow green",null,"green"],0:[248,82,28],1:[0,0,0],2:[302,88,26],3:[0,0,0],4:[360,96,51],5:[29,94,52],6:[0,0,0],7:[60,90,60],8:[0,0,0],9:[79,59,36],10:[0,0,0],11:[135,76,32]},"D. D. Jameson (1844)":{format:"HSL",ref:"Jameson, p.12",english:["red","red-orange","orange","orange-yellow","yellow","green","green-blue","blue","blue-purple","purple","purple-violet","violet"],0:[360,96,51],1:[14,91,51],2:[29,94,52],3:[49,90,60],4:[60,90,60],5:[135,76,32],6:[172,68,34],7:[248,82,28],8:[273,80,27],9:[302,88,26],10:[313,78,37],11:[325,84,46]},"Theodor Seemann (1881)":{format:"HSL",ref:"Klein, p.86",english:["carmine","scarlet","orange","yellow-orange","yellow","green","green blue","blue","indigo","violet","brown","black"],0:[0,58,26],1:[360,96,51],2:[29,94,52],3:[49,90,60],4:[60,90,60],5:[135,76,32],6:[172,68,34],7:[248,82,28],8:[302,88,26],9:[325,84,46],10:[0,58,26],11:[0,0,3]},"A. Wallace Rimington (1893)":{format:"HSL",ref:"Peacock, p.402",english:["deep red","crimson","orange-crimson","orange","yellow","yellow-green","green","blueish green","blue-green","indigo","deep blue","violet"],0:[360,96,51],1:[1,89,33],2:[14,91,51],3:[29,94,52],4:[60,90,60],5:[79,59,36],6:[135,76,32],7:[163,62,40],8:[172,68,34],9:[302,88,26],10:[248,82,28],11:[325,84,46]},"Bainbridge Bishop (1893)":{format:"HSL",ref:"Bishop, p.11",english:["red","orange-red or scarlet","orange","gold or yellow-orange","yellow or green-gold","yellow-green","green","greenish-blue or aquamarine","blue","indigo or violet-blue","violet","violet-red","red"],0:[360,96,51],1:[1,89,33],2:[29,94,52],3:[50,93,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[163,62,40],8:[302,88,26],9:[325,84,46],10:[343,79,47],11:[360,96,51]},"H. von Helmholtz (1910)":{format:"HSL",ref:"Helmholtz, p.22",english:["yellow","green","greenish blue","cyan-blue","indigo blue","violet","end of red","red","red","red","red orange","orange"],0:[60,90,60],1:[135,76,32],2:[172,68,34],3:[211,70,37],4:[302,88,26],5:[325,84,46],6:[330,84,34],7:[360,96,51],8:[10,91,43],9:[10,91,43],10:[8,93,51],11:[28,89,50]},"Alexander Scriabin (1911)":{format:"HSL",ref:"Jones, p.104",english:["red","violet","yellow","steely with the glint of metal","pearly blue the shimmer of moonshine","dark red","bright blue","rosy orange","purple","green","steely with a glint of metal","pearly blue the shimmer of moonshine"],0:[360,96,51],1:[325,84,46],2:[60,90,60],3:[245,21,43],4:[211,70,37],5:[1,89,33],6:[248,82,28],7:[29,94,52],8:[302,88,26],9:[135,76,32],10:[245,21,43],11:[211,70,37]},"Adrian Bernard Klein (1930)":{format:"HSL",ref:"Klein, p.209",english:["dark red","red","red orange","orange","yellow","yellow green","green","blue-green","blue","blue violet","violet","dark violet"],0:[0,91,40],1:[360,96,51],2:[14,91,51],3:[29,94,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[172,68,34],8:[248,82,28],9:[292,70,31],10:[325,84,46],11:[330,84,34]},"August Aeppli (1940)":{format:"HSL",ref:"Gerstner, p.169",english:["red",null,"orange",null,"yellow",null,"green","blue-green",null,"ultramarine blue","violet","purple"],0:[0,96,51],1:[0,0,0],2:[29,94,52],3:[0,0,0],4:[60,90,60],5:[0,0,0],6:[135,76,32],7:[172,68,34],8:[0,0,0],9:[211,70,37],10:[273,80,27],11:[302,88,26]},"I. J. Belmont (1944)":{ref:"Belmont, p.226",english:["red","red-orange","orange","yellow-orange","yellow","yellow-green","green","blue-green","blue","blue-violet","violet","red-violet"],0:[360,96,51],1:[14,91,51],2:[29,94,52],3:[50,93,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[172,68,34],8:[248,82,28],9:[313,78,37],10:[325,84,46],11:[338,85,37]},"Steve Zieverink (2004)":{format:"HSL",ref:"Cincinnati Contemporary Art Center",english:["yellow-green","green","blue-green","blue","indigo","violet","ultra violet","infra red","red","orange","yellow-white","yellow"],0:[73,73,55],1:[135,76,32],2:[172,68,34],3:[248,82,28],4:[302,88,26],5:[325,84,46],6:[326,79,24],7:[1,89,33],8:[360,96,51],9:[29,94,52],10:[62,78,74],11:[60,90,60]},"Circle of Fifths (Johnston 2003)":{format:"RGB",ref:"Joseph Johnston",english:["yellow","blue","orange","teal","red","green","purple","light orange","light blue","dark orange","dark green","violet"],0:[255,255,0],1:[50,0,255],2:[255,150,0],3:[0,210,180],4:[255,0,0],5:[130,255,0],6:[150,0,200],7:[255,195,0],8:[30,130,255],9:[255,100,0],10:[0,200,0],11:[225,0,225]},"Circle of Fifths (Wheatman 2002)":{format:"HEX",ref:"Stuart Wheatman",english:[],data:["#122400","#2E002E","#002914","#470000","#002142","#2E2E00","#290052","#003D00","#520029","#003D3D","#522900","#000080","#244700","#570057","#004D26","#7A0000","#003B75","#4C4D00","#47008F","#006100","#850042","#005C5C","#804000","#0000C7","#366B00","#80007F","#00753B","#B80000","#0057AD","#6B6B00","#6600CC","#008A00","#B8005C","#007F80","#B35900","#2424FF","#478F00","#AD00AD","#00994D","#F00000","#0073E6","#8F8F00","#8A14FF","#00AD00","#EB0075","#00A3A3","#E07000","#6B6BFF","#5CB800","#DB00DB","#00C261","#FF5757","#3399FF","#ADAD00","#B56BFF","#00D600","#FF57AB","#00C7C7","#FF9124","#9999FF","#6EDB00","#FF29FF","#00E070","#FF9999","#7ABDFF","#D1D100","#D1A3FF","#00FA00","#FFA3D1","#00E5E6","#FFC285","#C2C2FF","#80FF00","#FFA8FF","#00E070","#FFCCCC","#C2E0FF","#F0F000","#EBD6FF","#ADFFAD","#FFD6EB","#8AFFFF","#FFEBD6","#EBEBFF","#E0FFC2","#FFEBFF","#E5FFF2","#FFF5F5"]}},zt=function(B){for(var J,le,ee,re,Ce,Fe={},De=vn,Pe=De[B]||De["D. D. Jameson (1844)"],ot=Pe[3],at=0;at<=88;at++)if(Pe.data)Fe[at]={hsl:Pe.data[at],hex:Pe.data[at]};else{var ht=Pe[(at+9)%12];Pe.format==="RGB"?(ht=kr.Space(ht,"RGB>HSL"),J=Math.floor(ht.H),le=Math.floor(ht.S),ee=Math.floor(ht.L)):(J=ht[0],le=ht[1],ee=ht[2]),J===le&&le===ee&&(re=ot,Ce=Pe[(at+10)%12],ht=[Math.floor(.5*re[0]+.5*Ce[0]+.5),Math.floor(.5*re[1]+.5*Ce[1]+.5),Math.floor(.5*re[2]+.5*Ce[2]+.5)]),Fe[at]={hsl:"hsla("+J+","+le+"%,"+ee+"%, 1)",hex:kr.Space({H:J,S:le,L:ee},"HSL>RGB>HEX>W3")},ot=ht}return Fe};function Sn(B,J){for(var le=0;le<J.length;le++){var ee=J[le];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(B,(re=function(Ce,Fe){if(Nn(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(Nn(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(ee.key),Nn(re)==="symbol"?re:String(re)),ee)}var re}function Ft(B,J){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,ee){return le.__proto__=ee,le},Ft(B,J)}function Nr(B,J){if(J&&(Nn(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}(B)}function qn(B){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},qn(B)}function Nn(B){return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},Nn(B)}function Gr(B,J){var le=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!le){if(Array.isArray(B)||(le=function(Pe,ot){if(Pe){if(typeof Pe=="string")return Hn(Pe,ot);var at=Object.prototype.toString.call(Pe).slice(8,-1);return at==="Object"&&Pe.constructor&&(at=Pe.constructor.name),at==="Map"||at==="Set"?Array.from(Pe):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?Hn(Pe,ot):void 0}}(B))||J&&B&&typeof B.length=="number"){le&&(B=le);var ee=0,re=function(){};return{s:re,n:function(){return ee>=B.length?{done:!0}:{done:!1,value:B[ee++]}},e:function(Pe){throw Pe},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(B)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function Hn(B,J){(J==null||J>B.length)&&(J=B.length);for(var le=0,ee=new Array(J);le<J;le++)ee[le]=B[le];return ee}var En={},zi={AudioTag:s,WebAudio:l,WebMIDI:a},Mt={soundfontUrl:"./soundfont/",api:"",audioFormat:"",supports:{},connected_plugin:l,is_connected:!1},vo=function(B){typeof B=="function"&&(B={onsuccess:B}),B.onprogress=B.onprogress||void 0,B.api=B.api||"",B.targetFormat=B.targetFormat||"",B.instrument=B.instrument||"acoustic_grand_piano",B.instruments=B.instruments||void 0,B.apiPrecedence=B.apiPrecedence||["webaudio","webmidi","audiotag"],Mt.soundfontUrl=B.soundfontUrl||Mt.soundfontUrl,function(J){if(typeof navigator<"u"&&navigator.requestMIDIAccess){if(Function.prototype.toString.call(navigator.requestMIDIAccess).indexOf("[native code]"))c.webmidi=!0;else if(typeof navigator<"u"&&navigator.plugins!==void 0)for(var le=0,ee=Array.from(navigator.plugins);le<ee.length;le++)ee[le].name.indexOf("Jazz-Plugin")>=0&&(c.webmidi=!0)}if(typeof Audio>"u")return J({});c.audiotag=!0;var re=window.AudioContext||window.webkitAudioContext;re&&re.prototype.createGain&&(c.webaudio=!0);var Ce=new Audio;if(Ce.canPlayType===void 0)return J(c);var Fe=Ce.canPlayType('audio/ogg; codecs="vorbis"'),De=Fe==="probably"||Fe==="maybe",Pe=Ce.canPlayType("audio/mpeg"),ot=Pe==="probably"||Pe==="maybe";if(c.ogg_mp3_precedence=Fe==="probably"?"ogg":Pe==="probably"?"mp3":"ogg",!De&&!ot)return J(c);De&&d("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA="),ot&&d("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var at=new Date().getTime(),ht=window.setInterval(function(){var Dt=new Date().getTime();f&&!(Dt-at>5e3)||(window.clearInterval(ht),J(c))},1)}(function(J){var le=window.location.hash,ee="";if(J[B.api])ee=B.api;else if(J[le.substring(1)])ee=le.substring(1);else{var re,Ce=Gr(B.apiPrecedence);try{for(Ce.s();!(re=Ce.n()).done;){var Fe=re.value;if(J[Fe]){ee=Fe;break}}}catch(ht){Ce.e(ht)}finally{Ce.f()}}if(ds[ee]){var De="",Pe=J["audio/ogg"],ot=J["audio/mpeg"],at=J.ogg_mp3_precedence;B.targetFormat?De=B.targetFormat:Pe&&at==="ogg"?De="ogg":ot&&at==="mp3"?De="mp3":Pe?De="ogg":ot?De="mp3":ee!=="webmidi"&&(console.warn("no supporting playback formats...will try mp3 but unlikely"),De="mp3"),Mt.api=ee,Mt.audioFormat=De,Mt.supports=J,Gi(B)}})},Gi=function(B){var J=B.instruments||B.instrument||"acoustic_grand_piano";Nn(J)!=="object"&&(J=J||J===0?[J]:[]);for(var le=0;le<J.length;le++){var ee=J[le];ee===ee+0&&x.byId[ee]&&(J[le]=x.byId[ee].id)}B.format=Mt.audioFormat,B.instruments=J,ds[Mt.api](B)},ds={webmidi:function(B){Hr(a),tt(B),Mt.is_connected=!0},audiotag:function(B){Hr(s),js(B,"AudioTag")},webaudio:function(B){Hr(l),js(B,"WebAudio")}},Hr=function(B,J){Mt.connected_plugin=B,B.shared_root_info.Soundfont=En,B.shared_root_info.config=Mt,B.shared_root_info.webaudio_backup_connect=function(le){return ds.webaudio(le)}},js=function(B,J){var le,ee=B.format,re=B.instruments,Ce=B.onprogress,Fe=B.onerror,De=zi[J]||J.WebAudio,Pe=re.length,ot=Pe,at=function(){(ot-=1)||(De.connect(B),Mt.is_connected=!0,Ce&&Ce("load",1))},ht=Gr(re);try{var Dt=function(){var an=le.value;En[an]?at():$s(an,ee,function(Xn,Or){return function(Mn,wn,Bn){Ce&&Ce("load",wn/Pe+(Pe-ot)/Pe,Bn)}(0,Or,an)},function(){return at()},Fe)};for(ht.s();!(le=ht.n()).done;)Dt()}catch(an){ht.e(an)}finally{ht.f()}},$s=function(B,J,le,ee,re){var Ce=Mt.soundfontUrl+B+"-"+J+".js",Fe=new XMLHttpRequest;Fe.open("GET",Ce),Fe.setRequestHeader("Content-Type","text/plain"),Fe.onload=function(){if(Fe.status===200){var De=document.createElement("script");De.language="javascript",De.type="text/javascript",De.text=Fe.responseText,document.body.appendChild(De),ee()}else re?re():console.error("Could not load soundfont; path was ".concat(Ce))},Fe.send()},Uc=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).playChannel.apply(B,arguments);console.error("Connect before calling")},hs=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).stopChannel.apply(B,arguments);console.error("Connect before calling")},ps=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).send.apply(B,arguments);console.error("Connect before calling")},ms=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).setController.apply(B,arguments);console.error("Connect before calling")},Ma=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).setVolume.apply(B,arguments);console.error("Connect before calling")},Bc=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).programChange.apply(B,arguments);console.error("Connect before calling")},gu=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).pitchBend.apply(B,arguments);console.error("Connect before calling")},gs=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).noteOn.apply(B,arguments);console.error("Connect before calling")},ul=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).noteOff.apply(B,arguments);console.error("Connect before calling")},Bo=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).chordOn.apply(B,arguments);console.error("Connect before calling")},qs=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).chordOff.apply(B,arguments);console.error("Connect before calling")},zo=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).stopAllNotes.apply(B,arguments);console.error("Connect before calling")},sn=function(){if(Mt.is_connected)return Mt.connected_plugin.setEffects();console.error("Connect before calling")},vu=function(){if(Mt.is_connected)return Mt.connected_plugin.getContext();console.error("Connect before calling")},vs=function(){var B;if(Mt.is_connected)return(B=Mt.connected_plugin).setContext.apply(B,arguments);console.error("Connect before calling")},cl=function(B){(function(De,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),Pe&&Ft(De,Pe)})(Fe,B);var J,le,ee,re,Ce=(ee=Fe,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var De,Pe=qn(ee);if(re){var ot=qn(this).constructor;De=Reflect.construct(Pe,arguments,ot)}else De=Pe.apply(this,arguments);return Nr(this,De)});function Fe(){return function(De,Pe){if(!(De instanceof Pe))throw new TypeError("Cannot call a class as a function")}(this,Fe),Ce.call(this,Mt.connected_plugin)}return J=Fe,le=[{key:"loadPlugin",value:function(){return vo.apply(void 0,arguments)}}],le&&Sn(J.prototype,le),Object.defineProperty(J,"prototype",{writable:!1}),Fe}(st)})(),o})())})(I5);var za=I5.exports;const Sue=Fd(za),L5=$L({__proto__:null,default:Sue},[za]);window.MIDI=L5;const Np={piano:0,bass:1,drums:2};za.loadPlugin({soundfontUrl:"/demo/jukebox/soundfont/FluidR3_GM/",instruments:["drums","acoustic_bass","bright_acoustic_piano"],onerror:t=>{console.log(t)},onsuccess:()=>{za.programChange(Np.piano,za.GM.byName.bright_acoustic_piano.program),za.programChange(Np.drums,za.GM.byName.acoustic_grand_piano.program),za.programChange(Np.bass,za.GM.byName.acoustic_bass.program)}});class wue{constructor(){bs(this,"midiPlayer");this.midiPlayer=L5}noteOn(e,n,r,i){this.midiPlayer.noteOn(Np[e],n,r*(e==="piano"?1:.6),i)}noteOff(e,n,r){this.midiPlayer.noteOff(Np[e],n,r)}}const xL=new wue;class k5{constructor(e){bs(this,"notes");bs(this,"cursor");this.cursor=0,this.notes=e}getNotesByTime(e){const n=[];for(;this.cursor<this.notes.length;){const r=this.notes[this.cursor];if(r.start_s<=e)r.end_s>=e&&n.push(r),this.cursor+=1;else break}return n}init(){this.cursor=0}}const qi={start:null,timer:0,last:0},Xh=1,bL={.1:{score:1,name:"perfect"},.3:{score:.8,name:"nice"},.5:{score:.5,name:"good"},.9:{score:.1,name:"poor"}},N5=t=>{const e=L.useRef(null),n=L.useRef({}),r=L.useRef({}),{setHandleMidiNoteDown:i,setHandleMidiNoteUp:o,refHandlePreviewNoteDown:s,refHandlePreviewNoteUp:l}=Fx(),{playingState:a,playingMode:u,railAngle:c}=Dc(),f=L.useRef(null),d=L.useRef({timer:0,indexFrom:0,blockRail:{},status:"INIT",pressedMidiKeys:[]}),h=(v,_)=>{const b=Math.abs(v.noteEvent.start_s-_),S=Object.keys(bL).find(E=>Number(E)>=b);return S?bL[S].score:-1};L.useEffect(()=>{i(()=>v=>{if(d.current.pressedMidiKeys.includes(v)===!1&&d.current.pressedMidiKeys.push(v),!(v in d.current.blockRail)||d.current.blockRail[v].length===0)return;const _=d.current.blockRail[v][0],b=h(_,qi.timer);console.log(b),_.noteEvent.start_s<=qi.timer&&d.current.blockRail[v].shift()}),o(()=>v=>{d.current.pressedMidiKeys=d.current.pressedMidiKeys.filter(_=>_!=v),r.current[v].color.set(16777215)})},[i,o]);const m=L.useCallback(()=>{d.current.blockRail={},f.current=new k5(t.noteEvents.filter(v=>v.family==="piano")),t.noteEvents.filter(v=>v.family==="piano").forEach((v,_)=>{const b=v.pitch;v.played=!1,d.current&&(d.current.blockRail[b]=d.current.blockRail[b]||[],d.current.blockRail[b].push({noteEvent:v,idx:_}))})},[t.noteEvents]),y=L.useMemo(()=>t.noteEvents.filter(v=>v.family==="piano").map((v,_)=>{const b=v.start_s,S=v.pitch,E=v.end_s-v.start_s,M=Tm[S],T=new Ha(new ue(0,1,0).applyAxisAngle(new ue(1,0,0),c),4.2);return X.jsxs("mesh",{position:[M.x,b*Xh+E*.5*Xh,M.z],frustumCulled:!0,children:[X.jsx("boxGeometry",{args:[M.w,E*Xh,M.d]}),X.jsx("meshStandardMaterial",{ref:C=>n.current[_]=C,color:M.color,clippingPlanes:[T],side:Ao})]},_)}),[t.noteEvents,c]);L.useEffect(()=>{m(),t.noteEvents.length&&(d.current.status="LOADED")},[m,t.noteEvents]),L.useEffect(()=>{a==="stopped"&&(m(),d.current.timer=0)},[m,a]);const x=()=>{const v=Object.keys(d.current.blockRail),_=()=>{v.forEach(b=>{if(d.current.blockRail[b].length===0)return;const S=d.current.blockRail[b][0];S.noteEvent.start_s<=qi.timer&&!S.noteEvent.played&&s.current&&(S.noteEvent.family==="piano"&&(n.current[S.idx].color.set(16711680),s.current(S.noteEvent.pitch,S.noteEvent.velocity)),S.noteEvent.played=!0),S.noteEvent.end_s<=qi.timer&&(l.current&&u==="preview"&&S.noteEvent.family==="piano"&&l.current(S.noteEvent.pitch,S.noteEvent.velocity),d.current.blockRail[b].shift())})};return Ws((b,S)=>{if(!(!d.current||d.current.status!="LOADED")&&a!=="stopped"){if(a==="paused"){_(),e.current.position.setY(-Xh*qi.timer);return}_(),e.current.position.setY(-Xh*qi.timer)}}),X.jsx("group",{ref:e,children:y})};return X.jsx("group",{children:X.jsx(x,{})})};class ks{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,n,r={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==ks.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const i=new _L(e,this,n,r);return this.eventMap[e]||(this.eventMap[e]=[]),r.prepend?this.eventMap[e].unshift(i):this.eventMap[e].push(i),i}addOneTimeListener(e,n,r={}){r.remaining=1,this.addListener(e,n,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,n){return e===void 0?this.eventMap[ks.ANY_EVENT]&&this.eventMap[ks.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[e]&&this.eventMap[e].length>0?n instanceof _L?this.eventMap[e].filter(i=>i===n).length>0:typeof n=="function"?this.eventMap[e].filter(i=>i.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...n){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],i=this.eventMap[ks.ANY_EVENT]||[];return this.eventMap[e]&&(i=i.concat(this.eventMap[e])),i.forEach(o=>{if(o.suspended)return;let s=[...n];Array.isArray(o.arguments)&&(s=s.concat(o.arguments)),o.remaining>0&&(r.push(o.callback.apply(o.context,s)),o.count++),--o.remaining<1&&o.remove()}),r}removeListener(e,n,r={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let i=this.eventMap[e].filter(o=>n&&o.callback!==n||r.remaining&&r.remaining!==o.remaining||r.context&&r.context!==o.context);i.length?this.eventMap[e]=i:delete this.eventMap[e]}async waitFor(e,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((r,i)=>{let o,s=this.addListener(e,()=>{clearTimeout(o),r()},{remaining:1});n.duration!==1/0&&(o=setTimeout(()=>{s.remove(),i("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class _L{constructor(e,n,r,i={}){if(typeof e!="string"&&!(e instanceof String)&&e!==ks.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");i.arguments!==void 0&&!Array.isArray(i.arguments)&&(i.arguments=[i.arguments]),i=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},i),i.duration!==1/0&&setTimeout(()=>this.remove(),i.duration),this.arguments=i.arguments,this.callback=r,this.context=i.context,this.count=0,this.event=e,this.remaining=parseInt(i.remaining)>=1?parseInt(i.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class nt{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),nt.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),nt.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),nt.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),nt.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */let od=class{constructor(e,n={}){this.duration=ct.defaults.note.duration,this.attack=ct.defaults.note.attack,this.release=ct.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=dt.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=dt.from7bitToFloat(n.rawRelease)),Number.isInteger(e)?this.identifier=dt.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const n=dt.getNoteDetails(e);if(ct.validation&&!e)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(e){if(ct.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(ct.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(ct.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(ct.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(ct.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(ct.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return dt.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=dt.from7bitToFloat(e)}get rawRelease(){return dt.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=dt.from7bitToFloat(e)}get number(){return dt.toNoteNumber(this.identifier)}getOffsetNumber(e=0,n=0){return ct.validation&&(e=parseInt(e)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+e*12+n,0),127)}};/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class dt{static toNoteNumber(e,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const r=this.getNoteDetails(e);if(!r)throw new TypeError("Invalid note identifier");const i={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let o=(r.octave+1+n)*12;if(o+=i[r.name],r.accidental&&(r.accidental.startsWith("b")?o-=r.accidental.length:o+=r.accidental.length),o<0||o>127)throw new RangeError("Invalid octaveOffset value");return o}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const n=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const r=n[1].toUpperCase(),i=parseInt(n[3]);let o=n[2].toLowerCase();return o=o===""?void 0:o,{accidental:o,identifier:r+(o||"")+i,name:r,octave:i}}static sanitizeChannels(e){let n;if(ct.validation){if(e==="all")n=["all"];else if(e==="none")return[]}return Array.isArray(e)?n=e:n=[e],n.indexOf("all")>-1&&(n=nt.MIDI_CHANNEL_NUMBERS),n.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(e){let n=!1;const r=parseFloat(e);return isNaN(r)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?r>=0&&(n=ct.time+r):r>=0&&(n=r),n)}static guessNoteNumber(e,n){n=parseInt(n)||0;let r=!1;if(Number.isInteger(e)&&e>=0&&e<=127)r=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)r=parseInt(e);else if(typeof e=="string"||e instanceof String)try{r=this.toNoteNumber(e.trim(),n)}catch{return!1}return r}static toNoteIdentifier(e,n){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=Math.floor(e/12-1)+n;return r[e%12]+i.toString()}static buildNote(e,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,e instanceof od)return e;let r=this.guessNoteNumber(e,n.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return n.octaveOffset=void 0,new od(r,n)}static buildNoteArray(e,n={}){let r=[];return Array.isArray(e)||(e=[e]),e.forEach(i=>{r.push(this.buildNote(i,n))}),r}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,n=0){ct.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const r=((e<<7)+n)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(e){ct.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const n=Math.round(e*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(e,n=0,r=0){if(ct.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");n=parseInt(n)||0,r=parseInt(r)||0}return Math.min(Math.max(e+n*12+r,0),127)}static getPropertyByValue(e,n){return Object.keys(e).find(r=>e[r]===n)}static getCcNameByNumber(e){if(!(ct.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return nt.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let n=nt.CONTROL_CHANGE_MESSAGES.find(r=>r.name===e);return n?n.number:nt.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let n in nt.CHANNEL_MODE_MESSAGES)if(nt.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&e===nt.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Eue extends ks{constructor(e,n){super(),this._output=e,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,n={time:0}){return this.output.send(e,n),this}sendKeyAftertouch(e,n,r={}){if(ct.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(n=dt.fromFloatTo7Bit(n));const i=ct.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),dt.buildNoteArray(e).forEach(o=>{this.send([(nt.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),o.getOffsetNumber(i),n],{time:dt.toTimestamp(r.time)})}),this}sendControlChange(e,n,r={}){if(typeof e=="string"&&(e=dt.getCcNumberByName(e)),Array.isArray(n)||(n=[n]),ct.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(i=>{const o=Math.min(Math.max(parseInt(i),0),127);if(isNaN(o))throw new TypeError("Values must be integers between 0 and 127");return o}),n.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((i,o)=>{this.send([(nt.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+o*32,n[o]],{time:dt.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(e,n={}){return this.sendControlChange(99,e[0],n),this.sendControlChange(98,e[1],n),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,n={}){return this.sendControlChange(101,e[0],n),this.sendControlChange(100,e[1],n),this}_setCurrentParameter(e,n={}){return e=[].concat(e),this.sendControlChange(6,e[0],n),e.length<2?this:(this.sendControlChange(38,e[1],n),this)}sendRpnDecrement(e,n={}){if(Array.isArray(e)||(e=nt.REGISTERED_PARAMETERS[e]),ct.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(nt.REGISTERED_PARAMETERS).forEach(i=>{nt.REGISTERED_PARAMETERS[i][0]===e[0]&&nt.REGISTERED_PARAMETERS[i][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(e,n={}){if(Array.isArray(e)||(e=nt.REGISTERED_PARAMETERS[e]),ct.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(nt.REGISTERED_PARAMETERS).forEach(i=>{nt.REGISTERED_PARAMETERS[i][0]===e[0]&&nt.REGISTERED_PARAMETERS[i][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(e,n={}){this.sendNoteOn(e,n);const r=Array.isArray(e)?e:[e];for(let i of r)if(parseInt(i.duration)>0){const o={time:(dt.toTimestamp(n.time)||ct.time)+parseInt(i.duration),release:i.release,rawRelease:i.rawRelease};this.sendNoteOff(i,o)}else if(parseInt(n.duration)>0){const o={time:(dt.toTimestamp(n.time)||ct.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(i,o)}return this}sendNoteOff(e,n={}){if(ct.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawRelease!=null?r=n.rawRelease:isNaN(n.release)||(r=Math.round(n.release*127));const i=ct.octaveOffset+this.output.octaveOffset+this.octaveOffset;return dt.buildNoteArray(e,{rawRelease:parseInt(r)}).forEach(o=>{this.send([(nt.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),o.getOffsetNumber(i),o.rawRelease],{time:dt.toTimestamp(n.time)})}),this}stopNote(e,n={}){return this.sendNoteOff(e,n)}sendNoteOn(e,n={}){if(ct.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawAttack!=null?r=n.rawAttack:isNaN(n.attack)||(r=Math.round(n.attack*127));const i=ct.octaveOffset+this.output.octaveOffset+this.octaveOffset;return dt.buildNoteArray(e,{rawAttack:r}).forEach(o=>{this.send([(nt.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),o.getOffsetNumber(i),o.rawAttack],{time:dt.toTimestamp(n.time)})}),this}sendChannelMode(e,n=0,r={}){if(typeof e=="string"&&(e=nt.CHANNEL_MODE_MESSAGES[e]),ct.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(nt.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,n],{time:dt.toTimestamp(r.time)}),this}sendOmniMode(e,n={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(e,n={}){if(ct.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(nt.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e*127)],{time:dt.toTimestamp(n.time)}),this}sendMasterTuning(e,n={}){if(e=parseFloat(e)||0,ct.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(e)+64,i=e-Math.floor(e);i=Math.round((i+1)/2*16383);let o=i>>7&127,s=i&127;return this.sendRpnValue("channelcoarsetuning",r,n),this.sendRpnValue("channelfinetuning",[o,s],n),this}sendModulationRange(e,n,r={}){if(ct.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[e,n],r),this}sendNrpnValue(e,n,r={}){if(n=[].concat(n),ct.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(i=>{if(!(i>=0&&i<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(e,n={}){if(ct.validation)if(n.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,i=0;if(n.rawValue&&Array.isArray(e))r=e[0],i=e[1];else if(n.rawValue&&!Array.isArray(e))r=e;else{const o=dt.fromFloatToMsbLsb((e+1)/2);r=o.msb,i=o.lsb}return this.send([(nt.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),i,r],{time:dt.toTimestamp(n.time)}),this}sendPitchBendRange(e,n,r={}){if(ct.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,n],r),this}sendProgramChange(e,n={}){if(e=parseInt(e)||0,ct.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(nt.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:dt.toTimestamp(n.time)}),this}sendRpnValue(e,n,r={}){if(Array.isArray(e)||(e=nt.REGISTERED_PARAMETERS[e]),ct.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(i=>{if(!(i>=0&&i<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectRegisteredParameter(r),this}sendTuningBank(e,n={}){if(ct.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,n),this}sendTuningProgram(e,n={}){if(ct.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,n),this}sendLocalControl(e,n={}){return e?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,n={}){return e==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class GE extends ks{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new Eue(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let n={timestamp:ct.time};e.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,n={time:0},r=0){if(e instanceof O5&&(e=dt.isNode?e.data:e.rawData),e instanceof Uint8Array&&dt.isNode&&(e=Array.from(e)),ct.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(n)&&(e=e.concat(n)),n=isNaN(r)?{time:0}:{time:r}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(i=>{if(i=parseInt(i),!(i>=0&&i<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(e,dt.toTimestamp(n.time)),this}sendSysex(e,n=[],r={}){if(e=[].concat(e),n instanceof Uint8Array){const i=new Uint8Array(1+e.length+n.length+1);i[0]=nt.SYSTEM_MESSAGES.sysex,i.set(Uint8Array.from(e),1),i.set(n,1+e.length),i[i.length-1]=nt.SYSTEM_MESSAGES.sysexend,this.send(i,{time:r.time})}else{const i=e.concat(n,nt.SYSTEM_MESSAGES.sysexend);this.send([nt.SYSTEM_MESSAGES.sysex].concat(i),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():ct.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,n={}){if(ct.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([nt.SYSTEM_MESSAGES.timecode,e],{time:n.time}),this}sendSongPosition(e=0,n={}){e=Math.floor(e)||0;var r=e>>7&127,i=e&127;return this.send([nt.SYSTEM_MESSAGES.songposition,r,i],{time:n.time}),this}sendSongSelect(e=0,n={}){if(ct.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([nt.SYSTEM_MESSAGES.songselect,e],{time:n.time}),this}sendTuneRequest(e={}){return this.send([nt.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([nt.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([nt.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([nt.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([nt.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([nt.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([nt.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return ct.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendKeyAftertouch(e,n,r)}),this}sendControlChange(e,n,r={},i={}){if(ct.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const o=r;r=i,r.channels=o,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(o=>{this.channels[o].sendControlChange(e,n,r)}),this}sendPitchBendRange(e=0,n=0,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendPitchBendRange(e,n,r)}),this}setPitchBendRange(e=0,n=0,r="all",i={}){return ct.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,n,i)}sendRpnValue(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendRpnValue(e,n,r)}),this}setRegisteredParameter(e,n=[],r="all",i={}){return ct.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,n,i)}sendChannelAftertouch(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendChannelAftertouch(e,n)}),this}sendPitchBend(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendPitchBend(e,n)}),this}sendProgramChange(e=0,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendProgramChange(e,n)}),this}sendModulationRange(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendModulationRange(e,n,r)}),this}setModulationRange(e=0,n=0,r="all",i={}){return ct.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,n,i)}sendMasterTuning(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendMasterTuning(e,n)}),this}setMasterTuning(e,n={},r={}){return ct.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,r)}sendTuningProgram(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningProgram(e,n)}),this}setTuningProgram(e,n="all",r={}){return ct.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,r)}sendTuningBank(e=0,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningBank(e,n)}),this}setTuningBank(e,n="all",r={}){return ct.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,r)}sendChannelMode(e,n=0,r={},i={}){if(ct.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const o=r;r=i,r.channels=o,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(o=>{this.channels[o].sendChannelMode(e,n,r)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},n={}){if(ct.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const r=e;e=n,e.channels=r,e.channels==="all"&&(e.channels=nt.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(e.channels).forEach(r=>{this.channels[r].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendPolyphonicMode(e,n)}),this}sendLocalControl(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendLocalControl(e,n)}),this}sendOmniMode(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendOmniMode(e,n)}),this}sendNrpnValue(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendNrpnValue(e,n,r)}),this}setNonRegisteredParameter(e,n=[],r="all",i={}){return ct.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,n,i)}sendRpnIncrement(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnIncrement(e,n)}),this}incrementRegisteredParameter(e,n="all",r={}){return ct.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,r)}sendRpnDecrement(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnDecrement(e,n)}),this}decrementRegisteredParameter(e,n="all",r={}){return ct.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,r)}sendNoteOff(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendNoteOff(e,n)}),this}stopNote(e,n){return this.sendNoteOff(e,n)}playNote(e,n={},r={}){if(ct.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].playNote(e,n)}),this}sendNoteOn(e,n={},r={}){if(ct.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendNoteOn(e,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class SL{constructor(e=[],n={}){this.destinations=[],this.types=[...Object.keys(nt.SYSTEM_MESSAGES),...Object.keys(nt.CHANNEL_MESSAGES)],this.channels=nt.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),ct.validation&&(e.forEach(r=>{if(!(r instanceof GE))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(r=>{if(!nt.SYSTEM_MESSAGES.hasOwnProperty(r)&&!nt.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(r=>{if(!nt.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(n=>{ct.validation&&!(n instanceof GE)||n.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Mue extends ks{constructor(e,n){super(),this._input=e,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const n=Object.assign({},e);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmessage";const r=e.message.dataBytes[0],i=e.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&i===0)this.notesState[r]=!1,n.type="noteoff",n.note=new od(dt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ct.octaveOffset),{rawAttack:0,rawRelease:i}),n.value=dt.from7bitToFloat(i),n.rawValue=i,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[r]=!0,n.note=new od(dt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ct.octaveOffset),{rawAttack:i}),n.value=dt.from7bitToFloat(i),n.rawValue=i,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new od(dt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ct.octaveOffset)),n.value=dt.from7bitToFloat(i),n.rawValue=i,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=r;else if(n.type==="controlchange"){n.controller={number:r,name:nt.CONTROL_CHANGE_MESSAGES[r].name,description:nt.CONTROL_CHANGE_MESSAGES[r].description,position:nt.CONTROL_CHANGE_MESSAGES[r].position},n.subtype=n.controller.name||"controller"+r,n.value=dt.from7bitToFloat(i),n.rawValue=i;const o=Object.assign({},n);o.type=`${n.type}-controller${r}`,delete o.subtype,this.emit(o.type,o);const s=Object.assign({},n);s.type=`${n.type}-`+nt.CONTROL_CHANGE_MESSAGES[r].name,delete s.subtype,s.type.indexOf("controller")!==0&&this.emit(s.type,s),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=r,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=dt.from7bitToFloat(r),n.rawValue=r):n.type==="pitchbend"?(n.value=((i<<7)+r-8192)/8192,n.rawValue=(i<<7)+r):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(e){const n=Object.assign({},e);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(e){const n=e.message.dataBytes[0],r=e.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[e.message]:r!==127&&(this._rpnBuffer=[e.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,n,r,i){e=e==="nrpn"?"nrpn":"rpn";const o={target:i.target,timestamp:i.timestamp,message:i.message,parameterMsb:n,parameterLsb:r,value:dt.from7bitToFloat(i.message.dataBytes[1]),rawValue:i.message.dataBytes[1]};e==="rpn"?o.parameter=Object.keys(nt.REGISTERED_PARAMETERS).find(a=>nt.REGISTERED_PARAMETERS[a][0]===n&&nt.REGISTERED_PARAMETERS[a][1]===r):o.parameter=(n<<7)+r;const s=nt.CONTROL_CHANGE_MESSAGES[i.message.dataBytes[0]].name;o.type=`${e}-${s}`,this.emit(o.type,o);const l=Object.assign({},o);l.type==="nrpn-dataincrement"?l.type="nrpn-databuttonincrement":l.type==="nrpn-datadecrement"?l.type="nrpn-databuttondecrement":l.type==="rpn-dataincrement"?l.type="rpn-databuttonincrement":l.type==="rpn-datadecrement"&&(l.type="rpn-databuttondecrement"),this.emit(l.type,l),o.type=e,o.subtype=s,this.emit(o.type,o)}getChannelModeByNumber(e){return ct.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),dt.getChannelModeByNumber(e)}getCcNameByNumber(e){if(ct.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return dt.getCcNameByNumber(e)}getNoteState(e){e instanceof od&&(e=e.identifier);const n=dt.guessNoteNumber(e,ct.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class O5{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=dt.getPropertyByValue(nt.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=dt.getPropertyByValue(nt.SYSTEM_MESSAGES,this.command)),this.statusByte===nt.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Tue extends ks{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new Mue(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let n={timestamp:ct.time,target:this,port:this};e.port.connection==="open"?(n.type="opened",this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const n=new O5(e.data),r={port:this,target:this,message:n,timestamp:e.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",r),n.isSystemMessage?this._parseEvent(r):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(r),this._forwarders.forEach(i=>i.forward(n))}_parseEvent(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=e.data[1]+1,n.value=e.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){ct.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,n,r={}){if(ct.validation&&typeof r=="function"){let i=n!=null?[].concat(n):void 0;n=r,r={channels:i}}if(nt.CHANNEL_EVENTS.includes(e)){r.channels===void 0&&(r.channels=nt.MIDI_CHANNEL_NUMBERS);let i=[];return dt.sanitizeChannels(r.channels).forEach(o=>{i.push(this.channels[o].addListener(e,n,r))}),i}else return super.addListener(e,n,r)}addOneTimeListener(e,n,r={}){return r.remaining=1,this.addListener(e,n,r)}on(e,n,r,i){return this.addListener(e,n,r,i)}hasListener(e,n,r={}){if(ct.validation&&typeof r=="function"){let i=[].concat(n);n=r,r={channels:i}}return nt.CHANNEL_EVENTS.includes(e)?(r.channels===void 0&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).every(i=>this.channels[i].hasListener(e,n))):super.hasListener(e,n)}removeListener(e,n,r={}){if(ct.validation&&typeof r=="function"){let i=[].concat(n);n=r,r={channels:i}}if(r.channels===void 0&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),e==null)return dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i]&&this.channels[i].removeListener()}),super.removeListener();nt.CHANNEL_EVENTS.includes(e)?dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].removeListener(e,n,r)}):super.removeListener(e,n,r)}addForwarder(e,n={}){let r;return e instanceof SL?r=e:r=new SL(e,n),this._forwarders.push(r),r}removeForwarder(e){this._forwarders=this._forwarders.filter(n=>n!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return ct.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Aue extends ks{constructor(){super(),this.defaults={note:{attack:dt.from7bitToFloat(64),release:dt.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},n=!1){if(dt.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:n}),n&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},i={timestamp:this.time,target:this,type:"midiaccessgranted"},o={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(s){return r.error=s,this.emit("error",r),typeof e.callback=="function"&&e.callback(s),Promise.reject(s)}this.emit("midiaccessgranted",i),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(s){return r.error=s,this.emit("error",r),typeof e.callback=="function"&&e.callback(s),Promise.reject(s)}return this.emit("enabled",o),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===e.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===e.toString())return this.inputs[r]}getInputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(e))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(e))return this.inputs[r]}getOutputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(e))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(e))return this.outputs[r]}getOutputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===e.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===e.toString())return this.outputs[r]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),dt.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?dt.getNoteDetails(dt.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),dt.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),dt.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),dt.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),dt.buildNoteArray(e,n)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),dt.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(n=>e.push(n.destroy())),this.outputs.forEach(n=>e.push(n.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let n={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?n.port=this.getOutputById(e.port.id):e.port.type==="input"&&(n.port=this.getInputById(e.port.id)),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?n.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(n.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const r=this._inputs[n];Array.from(this.interface.inputs.values()).find(o=>o===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(n,1))}let e=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(r=>r._midiInput===n)){let r=this._disconnectedInputs.find(i=>i._midiInput===n);r||(r=new Tue(n)),this._inputs.push(r),e.push(r.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const r=this._outputs[n];Array.from(this.interface.outputs.values()).find(o=>o===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(n,1))}let e=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(r=>r._midiOutput===n)){let r=this._disconnectedOutputs.find(i=>i._midiOutput===n);r||(r=new GE(n)),this._outputs.push(r),e.push(r.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),dt.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),dt.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.6"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),nt.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),nt.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),nt.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),nt.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),nt.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const ct=new Aue;ct.constructor=null;const wT=()=>{const{refHandleMidiNoteDown:t,refHandleMidiNoteUp:e,refHandlePreviewNoteDown:n,refHandlePreviewNoteUp:r}=Fx();return L.useEffect(()=>(ct.enable({callback:i=>{i?console.error("WebMidi could not be enabled.",i):console.log("WebMidi enabled!")}}).then(()=>{ct.addListener("connected",function(){ct.inputs.forEach(i=>{i.removeListener("noteon"),i.addListener("noteon",o=>{const s=o.data[1],l=o.data[2];t.current&&t.current(s,l),n.current&&n.current(s,l)}),i.removeListener("noteoff"),i.addListener("noteoff",o=>{const s=o.data[1],l=o.data[2];e.current&&e.current(s,l),r.current&&r.current(s,l)})})})}),()=>{ct.inputs.forEach(i=>{i.removeListener("noteon"),i.removeListener("noteoff")}),ct.disable().then()}),[t,e,n,r]),X.jsx(X.Fragment,{})},Cue=["piano","drums","bass"];function F5(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rue}=Object.prototype,{getPrototypeOf:ET}=Object,Ux=(t=>e=>{const n=Rue.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ea=t=>(t=t.toLowerCase(),e=>Ux(e)===t),Bx=t=>e=>typeof e===t,{isArray:th}=Array,Am=Bx("undefined");function Pue(t){return t!==null&&!Am(t)&&t.constructor!==null&&!Am(t.constructor)&&os(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const D5=Ea("ArrayBuffer");function Iue(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&D5(t.buffer),e}const Lue=Bx("string"),os=Bx("function"),U5=Bx("number"),zx=t=>t!==null&&typeof t=="object",kue=t=>t===!0||t===!1,Xv=t=>{if(Ux(t)!=="object")return!1;const e=ET(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Nue=Ea("Date"),Oue=Ea("File"),Fue=Ea("Blob"),Due=Ea("FileList"),Uue=t=>zx(t)&&os(t.pipe),Bue=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||os(t.append)&&((e=Ux(t))==="formdata"||e==="object"&&os(t.toString)&&t.toString()==="[object FormData]"))},zue=Ea("URLSearchParams"),Gue=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),th(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function B5(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const z5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),G5=t=>!Am(t)&&t!==z5;function HE(){const{caseless:t}=G5(this)&&this||{},e={},n=(r,i)=>{const o=t&&B5(e,i)||i;Xv(e[o])&&Xv(r)?e[o]=HE(e[o],r):Xv(r)?e[o]=HE({},r):th(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&lg(arguments[r],n);return e}const Hue=(t,e,n,{allOwnKeys:r}={})=>(lg(e,(i,o)=>{n&&os(i)?t[o]=F5(i,n):t[o]=i},{allOwnKeys:r}),t),Vue=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Wue=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},jue=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&ET(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$ue=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},que=t=>{if(!t)return null;if(th(t))return t;let e=t.length;if(!U5(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Xue=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ET(Uint8Array)),Yue=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Kue=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Que=Ea("HTMLFormElement"),Jue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),wL=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Zue=Ea("RegExp"),H5=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};lg(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},ece=t=>{H5(t,(e,n)=>{if(os(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(os(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tce=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return th(t)?r(t):r(String(t).split(e)),n},nce=()=>{},rce=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ES="abcdefghijklmnopqrstuvwxyz",EL="0123456789",V5={DIGIT:EL,ALPHA:ES,ALPHA_DIGIT:ES+ES.toUpperCase()+EL},ice=(t=16,e=V5.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function oce(t){return!!(t&&os(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sce=t=>{const e=new Array(10),n=(r,i)=>{if(zx(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=th(r)?[]:{};return lg(r,(s,l)=>{const a=n(s,i+1);!Am(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return n(t,0)},ace=Ea("AsyncFunction"),lce=t=>t&&(zx(t)||os(t))&&os(t.then)&&os(t.catch),rt={isArray:th,isArrayBuffer:D5,isBuffer:Pue,isFormData:Bue,isArrayBufferView:Iue,isString:Lue,isNumber:U5,isBoolean:kue,isObject:zx,isPlainObject:Xv,isUndefined:Am,isDate:Nue,isFile:Oue,isBlob:Fue,isRegExp:Zue,isFunction:os,isStream:Uue,isURLSearchParams:zue,isTypedArray:Xue,isFileList:Due,forEach:lg,merge:HE,extend:Hue,trim:Gue,stripBOM:Vue,inherits:Wue,toFlatObject:jue,kindOf:Ux,kindOfTest:Ea,endsWith:$ue,toArray:que,forEachEntry:Yue,matchAll:Kue,isHTMLForm:Que,hasOwnProperty:wL,hasOwnProp:wL,reduceDescriptors:H5,freezeMethods:ece,toObjectSet:tce,toCamelCase:Jue,noop:nce,toFiniteNumber:rce,findKey:B5,global:z5,isContextDefined:G5,ALPHABET:V5,generateString:ice,isSpecCompliantForm:oce,toJSONObject:sce,isAsyncFn:ace,isThenable:lce};function Cn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}rt.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const W5=Cn.prototype,j5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{j5[t]={value:t}});Object.defineProperties(Cn,j5);Object.defineProperty(W5,"isAxiosError",{value:!0});Cn.from=(t,e,n,r,i,o)=>{const s=Object.create(W5);return rt.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),Cn.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const uce=null;function VE(t){return rt.isPlainObject(t)||rt.isArray(t)}function $5(t){return rt.endsWith(t,"[]")?t.slice(0,-2):t}function ML(t,e,n){return t?t.concat(e).map(function(i,o){return i=$5(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function cce(t){return rt.isArray(t)&&!t.some(VE)}const fce=rt.toFlatObject(rt,{},null,function(e){return/^is[A-Z]/.test(e)});function Gx(t,e,n){if(!rt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=rt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!rt.isUndefined(x[y])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(e);if(!rt.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(rt.isDate(m))return m.toISOString();if(!a&&rt.isBlob(m))throw new Cn("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(m)||rt.isTypedArray(m)?a&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,y,x){let v=m;if(m&&!x&&typeof m=="object"){if(rt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(rt.isArray(m)&&cce(m)||(rt.isFileList(m)||rt.endsWith(y,"[]"))&&(v=rt.toArray(m)))return y=$5(y),v.forEach(function(b,S){!(rt.isUndefined(b)||b===null)&&e.append(s===!0?ML([y],S,o):s===null?y:y+"[]",u(b))}),!1}return VE(m)?!0:(e.append(ML(x,y,o),u(m)),!1)}const f=[],d=Object.assign(fce,{defaultVisitor:c,convertValue:u,isVisitable:VE});function h(m,y){if(!rt.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),rt.forEach(m,function(v,_){(!(rt.isUndefined(v)||v===null)&&i.call(e,v,rt.isString(_)?_.trim():_,y,d))===!0&&h(v,y?y.concat(_):[_])}),f.pop()}}if(!rt.isObject(t))throw new TypeError("data must be an object");return h(t),e}function TL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function MT(t,e){this._pairs=[],t&&Gx(t,this,e)}const q5=MT.prototype;q5.append=function(e,n){this._pairs.push([e,n])};q5.toString=function(e){const n=e?function(r){return e.call(this,r,TL)}:TL;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function dce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X5(t,e,n){if(!e)return t;const r=n&&n.encode||dce,i=n&&n.serialize;let o;if(i?o=i(e,n):o=rt.isURLSearchParams(e)?e.toString():new MT(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class hce{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const AL=hce,Y5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pce=typeof URLSearchParams<"u"?URLSearchParams:MT,mce=typeof FormData<"u"?FormData:null,gce=typeof Blob<"u"?Blob:null,vce=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),yce=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ca={isBrowser:!0,classes:{URLSearchParams:pce,FormData:mce,Blob:gce},isStandardBrowserEnv:vce,isStandardBrowserWebWorkerEnv:yce,protocols:["http","https","file","blob","url","data"]};function xce(t,e){return Gx(t,new ca.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ca.isNode&&rt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function bce(t){return rt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _ce(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function K5(t){function e(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&rt.isArray(i)?i.length:s,a?(rt.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!rt.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&rt.isArray(i[s])&&(i[s]=_ce(i[s])),!l)}if(rt.isFormData(t)&&rt.isFunction(t.entries)){const n={};return rt.forEachEntry(t,(r,i)=>{e(bce(r),i,n,0)}),n}return null}const Sce={"Content-Type":void 0};function wce(t,e,n){if(rt.isString(t))try{return(e||JSON.parse)(t),rt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Hx={transitional:Y5,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=rt.isObject(e);if(o&&rt.isHTMLForm(e)&&(e=new FormData(e)),rt.isFormData(e))return i&&i?JSON.stringify(K5(e)):e;if(rt.isArrayBuffer(e)||rt.isBuffer(e)||rt.isStream(e)||rt.isFile(e)||rt.isBlob(e))return e;if(rt.isArrayBufferView(e))return e.buffer;if(rt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xce(e,this.formSerializer).toString();if((l=rt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Gx(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),wce(e)):e}],transformResponse:[function(e){const n=this.transitional||Hx.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&rt.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?Cn.from(l,Cn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ca.classes.FormData,Blob:ca.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rt.forEach(["delete","get","head"],function(e){Hx.headers[e]={}});rt.forEach(["post","put","patch"],function(e){Hx.headers[e]=rt.merge(Sce)});const TT=Hx,Ece=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mce=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Ece[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},CL=Symbol("internals");function Yh(t){return t&&String(t).trim().toLowerCase()}function Yv(t){return t===!1||t==null?t:rt.isArray(t)?t.map(Yv):String(t)}function Tce(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ace=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function MS(t,e,n,r,i){if(rt.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!rt.isString(e)){if(rt.isString(r))return e.indexOf(r)!==-1;if(rt.isRegExp(r))return r.test(e)}}function Cce(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Rce(t,e){const n=rt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Vx{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,a,u){const c=Yh(a);if(!c)throw new Error("header name must be a non-empty string");const f=rt.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||a]=Yv(l))}const s=(l,a)=>rt.forEach(l,(u,c)=>o(u,c,a));return rt.isPlainObject(e)||e instanceof this.constructor?s(e,n):rt.isString(e)&&(e=e.trim())&&!Ace(e)?s(Mce(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Yh(e),e){const r=rt.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Tce(i);if(rt.isFunction(n))return n.call(this,i,r);if(rt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yh(e),e){const r=rt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||MS(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Yh(s),s){const l=rt.findKey(r,s);l&&(!n||MS(r,r[l],l,n))&&(delete r[l],i=!0)}}return rt.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||MS(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return rt.forEach(this,(i,o)=>{const s=rt.findKey(r,o);if(s){n[s]=Yv(i),delete n[o];return}const l=e?Cce(o):String(o).trim();l!==o&&delete n[o],n[l]=Yv(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return rt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&rt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[CL]=this[CL]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=Yh(s);r[l]||(Rce(i,s),r[l]=!0)}return rt.isArray(e)?e.forEach(o):o(e),this}}Vx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.freezeMethods(Vx.prototype);rt.freezeMethods(Vx);const Ya=Vx;function TS(t,e){const n=this||TT,r=e||n,i=Ya.from(r.headers);let o=r.data;return rt.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Q5(t){return!!(t&&t.__CANCEL__)}function ug(t,e,n){Cn.call(this,t??"canceled",Cn.ERR_CANCELED,e,n),this.name="CanceledError"}rt.inherits(ug,Cn,{__CANCEL__:!0});function Pce(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Cn("Request failed with status code "+n.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ice=ca.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),rt.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),rt.isString(o)&&a.push("path="+o),rt.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Lce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kce(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function J5(t,e){return t&&!Lce(e)?kce(t,e):e}const Nce=ca.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=rt.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Oce(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Fce(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),c=r[o];s||(s=u),n[i]=a,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function RL(t,e){let n=0;const r=Fce(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),u=o<=s;n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&u?(s-o)/a:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const Dce=typeof XMLHttpRequest<"u",Uce=Dce&&function(t){return new Promise(function(n,r){let i=t.data;const o=Ya.from(t.headers).normalize(),s=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}rt.isFormData(i)&&(ca.isStandardBrowserEnv||ca.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(h+":"+m))}const c=J5(t.baseURL,t.url);u.open(t.method.toUpperCase(),X5(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const h=Ya.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:t,request:u};Pce(function(v){n(v),a()},function(v){r(v),a()},y),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new Cn("Request aborted",Cn.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Cn("Network Error",Cn.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||Y5;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Cn(m,y.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,t,u)),u=null},ca.isStandardBrowserEnv){const h=(t.withCredentials||Nce(c))&&t.xsrfCookieName&&Ice.read(t.xsrfCookieName);h&&o.set(t.xsrfHeaderName,h)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&rt.forEach(o.toJSON(),function(m,y){u.setRequestHeader(y,m)}),rt.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",RL(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",RL(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=h=>{u&&(r(!h||h.type?new ug(null,t,u):h),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const d=Oce(c);if(d&&ca.protocols.indexOf(d)===-1){r(new Cn("Unsupported protocol "+d+":",Cn.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Kv={http:uce,xhr:Uce};rt.forEach(Kv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bce={getAdapter:t=>{t=rt.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=rt.isString(n)?Kv[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Cn(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(rt.hasOwnProp(Kv,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!rt.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Kv};function AS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ug(null,t)}function PL(t){return AS(t),t.headers=Ya.from(t.headers),t.data=TS.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Bce.getAdapter(t.adapter||TT.adapter)(t).then(function(r){return AS(t),r.data=TS.call(t,t.transformResponse,r),r.headers=Ya.from(r.headers),r},function(r){return Q5(r)||(AS(t),r&&r.response&&(r.response.data=TS.call(t,t.transformResponse,r.response),r.response.headers=Ya.from(r.response.headers))),Promise.reject(r)})}const IL=t=>t instanceof Ya?t.toJSON():t;function Od(t,e){e=e||{};const n={};function r(u,c,f){return rt.isPlainObject(u)&&rt.isPlainObject(c)?rt.merge.call({caseless:f},u,c):rt.isPlainObject(c)?rt.merge({},c):rt.isArray(c)?c.slice():c}function i(u,c,f){if(rt.isUndefined(c)){if(!rt.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function o(u,c){if(!rt.isUndefined(c))return r(void 0,c)}function s(u,c){if(rt.isUndefined(c)){if(!rt.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,c)=>i(IL(u),IL(c),!0)};return rt.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=a[c]||i,d=f(t[c],e[c],c);rt.isUndefined(d)&&f!==l||(n[c]=d)}),n}const Z5="1.4.0",AT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{AT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const LL={};AT.transitional=function(e,n,r){function i(o,s){return"[Axios v"+Z5+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new Cn(i(s," has been removed"+(n?" in "+n:"")),Cn.ERR_DEPRECATED);return n&&!LL[s]&&(LL[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};function zce(t,e,n){if(typeof t!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],a=l===void 0||s(l,o,t);if(a!==!0)throw new Cn("option "+o+" must be "+a,Cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Cn("Unknown option "+o,Cn.ERR_BAD_OPTION)}}const WE={assertOptions:zce,validators:AT},Tl=WE.validators;class $y{constructor(e){this.defaults=e,this.interceptors={request:new AL,response:new AL}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Od(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&WE.assertOptions(r,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),i!=null&&(rt.isFunction(i)?n.paramsSerializer={serialize:i}:WE.assertOptions(i,{encode:Tl.function,serialize:Tl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&rt.merge(o.common,o[n.method]),s&&rt.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Ya.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(a=a&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,f=0,d;if(!a){const m=[PL.bind(this),void 0];for(m.unshift.apply(m,l),m.push.apply(m,u),d=m.length,c=Promise.resolve(n);f<d;)c=c.then(m[f++],m[f++]);return c}d=l.length;let h=n;for(f=0;f<d;){const m=l[f++],y=l[f++];try{h=m(h)}catch(x){y.call(this,x);break}}try{c=PL.call(this,h)}catch(m){return Promise.reject(m)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Od(this.defaults,e);const n=J5(e.baseURL,e.url);return X5(n,e.params,e.paramsSerializer)}}rt.forEach(["delete","get","head","options"],function(e){$y.prototype[e]=function(n,r){return this.request(Od(r||{},{method:e,url:n,data:(r||{}).data}))}});rt.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(Od(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}$y.prototype[e]=n(),$y.prototype[e+"Form"]=n(!0)});const Qv=$y;class CT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new ug(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new CT(function(i){e=i}),cancel:e}}}const Gce=CT;function Hce(t){return function(n){return t.apply(null,n)}}function Vce(t){return rt.isObject(t)&&t.isAxiosError===!0}const jE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jE).forEach(([t,e])=>{jE[e]=t});const Wce=jE;function eB(t){const e=new Qv(t),n=F5(Qv.prototype.request,e);return rt.extend(n,Qv.prototype,e,{allOwnKeys:!0}),rt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return eB(Od(t,i))},n}const ii=eB(TT);ii.Axios=Qv;ii.CanceledError=ug;ii.CancelToken=Gce;ii.isCancel=Q5;ii.VERSION=Z5;ii.toFormData=Gx;ii.AxiosError=Cn;ii.Cancel=ii.CanceledError;ii.all=function(e){return Promise.all(e)};ii.spread=Hce;ii.isAxiosError=Vce;ii.mergeConfig=Od;ii.AxiosHeaders=Ya;ii.formToJSON=t=>K5(rt.isHTMLForm(t)?new FormData(t):t);ii.HttpStatusCode=Wce;ii.default=ii;const cg=ii,jce=async t=>{const e=await cg.get("/convert/youtube/midi/",{params:t}),{data:n}=e;return n.data},$E=t=>{const e=[];return t.tracks.forEach(r=>{Cue.includes(r.instrument.family)&&r.notes.forEach(i=>{i.midi>=Cs&&i.midi<=Cs+f5-1&&e.push({family:r.instrument.family,start_s:i.time,end_s:i.time+i.duration,pitch:i.midi,velocity:i.velocity*127,played:!1})})}),e.sort((r,i)=>r.start_s>i.start_s?1:r.start_s===i.start_s?0:-1)},RT=t=>{const{railAngle:e}=Dc();return X.jsx("group",{scale:[1,1,1],rotation:[e,0,0],position:[0,-3.5,0],children:t.children})},$ce=t=>{const{playingState:e,setPlayingState:n,setPlayingMode:r,setRailAngle:i,railAngle:o}=Dc(),s=L.useCallback(()=>{n(f=>f==="playing"?"paused":"playing")},[n]),l=L.useCallback(()=>{n("stopped")},[n]),a=L.useCallback(f=>{r(f.target.value)},[r]),u=L.useCallback(()=>{const f=o+.1;i(f),t.onAngleChange&&t.onAngleChange(f)},[t,o,i]),c=L.useCallback(()=>{const f=o-.1;i(f),t.onAngleChange&&t.onAngleChange(f)},[t,o,i]);return X.jsxs(yn,{sx:{backgroundColor:"white",display:"flex"},children:[X.jsxs(yn,{flexGrow:1,children:[X.jsx(io,{onClick:s,children:e==="playing"?"Pause":"Play"}),X.jsx(io,{onClick:l,children:"Stop"}),X.jsx(io,{children:"<<"}),X.jsx(io,{children:"<"}),X.jsx(io,{children:">"}),X.jsx(io,{children:">>"})]}),X.jsxs(yn,{flexGrow:1,children:[X.jsx(io,{onClick:c,children:"Up"}),X.jsx(io,{onClick:u,children:"Down"})]}),X.jsx(yn,{children:X.jsx(mF,{children:X.jsxs(bY,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"preview",name:"radio-buttons-group",onChange:a,row:!0,children:[X.jsx(w_,{value:"preview",control:X.jsx(A_,{}),label:"Preview"}),X.jsx(w_,{value:"standard",control:X.jsx(A_,{}),label:"Standard"}),X.jsx(w_,{value:"step",control:X.jsx(A_,{}),label:"Step"})]})})})]})};var qy={},Wx={};function qce(t){var e=new Zi(t),n=e.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=Xce(n.data),i=[],o=0;!e.eof()&&o<r.numTracks;o++){var s=e.readChunk();if(s.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+s.id+"'";var l=Yce(s.data);i.push(l)}return{header:r,tracks:i}}function Xce(t){var e=new Zi(t),n=e.readUInt16(),r=e.readUInt16(),i={format:n,numTracks:r},o=e.readUInt16();return o&32768?(i.framesPerSecond=256-(o>>8),i.ticksPerFrame=o&255):i.ticksPerBeat=o,i}function Yce(t){for(var e=new Zi(t),n=[];!e.eof();){var r=o();n.push(r)}return n;var i;function o(){var s={};s.deltaTime=e.readVarInt();var l=e.readUInt8();if((l&240)===240)if(l===255){s.meta=!0;var a=e.readUInt8(),u=e.readVarInt();switch(a){case 0:if(s.type="sequenceNumber",u!==2)throw"Expected length for sequenceNumber event is 2, got "+u;return s.number=e.readUInt16(),s;case 1:return s.type="text",s.text=e.readString(u),s;case 2:return s.type="copyrightNotice",s.text=e.readString(u),s;case 3:return s.type="trackName",s.text=e.readString(u),s;case 4:return s.type="instrumentName",s.text=e.readString(u),s;case 5:return s.type="lyrics",s.text=e.readString(u),s;case 6:return s.type="marker",s.text=e.readString(u),s;case 7:return s.type="cuePoint",s.text=e.readString(u),s;case 32:if(s.type="channelPrefix",u!=1)throw"Expected length for channelPrefix event is 1, got "+u;return s.channel=e.readUInt8(),s;case 33:if(s.type="portPrefix",u!=1)throw"Expected length for portPrefix event is 1, got "+u;return s.port=e.readUInt8(),s;case 47:if(s.type="endOfTrack",u!=0)throw"Expected length for endOfTrack event is 0, got "+u;return s;case 81:if(s.type="setTempo",u!=3)throw"Expected length for setTempo event is 3, got "+u;return s.microsecondsPerBeat=e.readUInt24(),s;case 84:if(s.type="smpteOffset",u!=5)throw"Expected length for smpteOffset event is 5, got "+u;var c=e.readUInt8(),f={0:24,32:25,64:29,96:30};return s.frameRate=f[c&96],s.hour=c&31,s.min=e.readUInt8(),s.sec=e.readUInt8(),s.frame=e.readUInt8(),s.subFrame=e.readUInt8(),s;case 88:if(s.type="timeSignature",u!=2&&u!=4)throw"Expected length for timeSignature event is 4 or 2, got "+u;return s.numerator=e.readUInt8(),s.denominator=1<<e.readUInt8(),u===4?(s.metronome=e.readUInt8(),s.thirtyseconds=e.readUInt8()):(s.metronome=36,s.thirtyseconds=8),s;case 89:if(s.type="keySignature",u!=2)throw"Expected length for keySignature event is 2, got "+u;return s.key=e.readInt8(),s.scale=e.readUInt8(),s;case 127:return s.type="sequencerSpecific",s.data=e.readBytes(u),s;default:return s.type="unknownMeta",s.data=e.readBytes(u),s.metatypeByte=a,s}}else if(l==240){s.type="sysEx";var u=e.readVarInt();return s.data=e.readBytes(u),s}else if(l==247){s.type="endSysEx";var u=e.readVarInt();return s.data=e.readBytes(u),s}else throw"Unrecognised MIDI event type byte: "+l;else{var d;if(l&128)d=e.readUInt8(),i=l;else{if(i===null)throw"Running status byte encountered before status byte";d=l,l=i,s.running=!0}var h=l>>4;switch(s.channel=l&15,h){case 8:return s.type="noteOff",s.noteNumber=d,s.velocity=e.readUInt8(),s;case 9:var m=e.readUInt8();return s.type=m===0?"noteOff":"noteOn",s.noteNumber=d,s.velocity=m,m===0&&(s.byte9=!0),s;case 10:return s.type="noteAftertouch",s.noteNumber=d,s.amount=e.readUInt8(),s;case 11:return s.type="controller",s.controllerType=d,s.value=e.readUInt8(),s;case 12:return s.type="programChange",s.programNumber=d,s;case 13:return s.type="channelAftertouch",s.amount=d,s;case 14:return s.type="pitchBend",s.value=d+(e.readUInt8()<<7)-8192,s;default:throw"Unrecognised MIDI event type: "+h}}}}function Zi(t){this.buffer=t,this.bufferLen=this.buffer.length,this.pos=0}Zi.prototype.eof=function(){return this.pos>=this.bufferLen};Zi.prototype.readUInt8=function(){var t=this.buffer[this.pos];return this.pos+=1,t};Zi.prototype.readInt8=function(){var t=this.readUInt8();return t&128?t-256:t};Zi.prototype.readUInt16=function(){var t=this.readUInt8(),e=this.readUInt8();return(t<<8)+e};Zi.prototype.readInt16=function(){var t=this.readUInt16();return t&32768?t-65536:t};Zi.prototype.readUInt24=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8();return(t<<16)+(e<<8)+n};Zi.prototype.readInt24=function(){var t=this.readUInt24();return t&8388608?t-16777216:t};Zi.prototype.readUInt32=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8(),r=this.readUInt8();return(t<<24)+(e<<16)+(n<<8)+r};Zi.prototype.readBytes=function(t){var e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e};Zi.prototype.readString=function(t){var e=this.readBytes(t);return String.fromCharCode.apply(null,e)};Zi.prototype.readVarInt=function(){for(var t=0;!this.eof();){var e=this.readUInt8();if(e&128)t+=e&127,t<<=7;else return t+e}return t};Zi.prototype.readChunk=function(){var t=this.readString(4),e=this.readUInt32(),n=this.readBytes(e);return{id:t,length:e,data:n}};var Kce=qce;function Qce(t,e){if(typeof t!="object")throw"Invalid MIDI data";e=e||{};var n=t.header||{},r=t.tracks||[],i,o=r.length,s=new oi;for(Jce(s,n,o),i=0;i<o;i++)Zce(s,r[i],e);return s.buffer}function Jce(t,e,n){var r=e.format==null?1:e.format,i=128;e.timeDivision?i=e.timeDivision:e.ticksPerFrame&&e.framesPerSecond?i=-(e.framesPerSecond&255)<<8|e.ticksPerFrame&255:e.ticksPerBeat&&(i=e.ticksPerBeat&32767);var o=new oi;o.writeUInt16(r),o.writeUInt16(n),o.writeUInt16(i),t.writeChunk("MThd",o.buffer)}function Zce(t,e,n){var r=new oi,i,o=e.length,s=null;for(i=0;i<o;i++)(n.running===!1||!n.running&&!e[i].running)&&(s=null),s=efe(r,e[i],s,n.useByte9ForNoteOff);t.writeChunk("MTrk",r.buffer)}function efe(t,e,n,r){var i=e.type,o=e.deltaTime,s=e.text||"",l=e.data||[],a=null;switch(t.writeVarInt(o),i){case"sequenceNumber":t.writeUInt8(255),t.writeUInt8(0),t.writeVarInt(2),t.writeUInt16(e.number);break;case"text":t.writeUInt8(255),t.writeUInt8(1),t.writeVarInt(s.length),t.writeString(s);break;case"copyrightNotice":t.writeUInt8(255),t.writeUInt8(2),t.writeVarInt(s.length),t.writeString(s);break;case"trackName":t.writeUInt8(255),t.writeUInt8(3),t.writeVarInt(s.length),t.writeString(s);break;case"instrumentName":t.writeUInt8(255),t.writeUInt8(4),t.writeVarInt(s.length),t.writeString(s);break;case"lyrics":t.writeUInt8(255),t.writeUInt8(5),t.writeVarInt(s.length),t.writeString(s);break;case"marker":t.writeUInt8(255),t.writeUInt8(6),t.writeVarInt(s.length),t.writeString(s);break;case"cuePoint":t.writeUInt8(255),t.writeUInt8(7),t.writeVarInt(s.length),t.writeString(s);break;case"channelPrefix":t.writeUInt8(255),t.writeUInt8(32),t.writeVarInt(1),t.writeUInt8(e.channel);break;case"portPrefix":t.writeUInt8(255),t.writeUInt8(33),t.writeVarInt(1),t.writeUInt8(e.port);break;case"endOfTrack":t.writeUInt8(255),t.writeUInt8(47),t.writeVarInt(0);break;case"setTempo":t.writeUInt8(255),t.writeUInt8(81),t.writeVarInt(3),t.writeUInt24(e.microsecondsPerBeat);break;case"smpteOffset":t.writeUInt8(255),t.writeUInt8(84),t.writeVarInt(5);var u={24:0,25:32,29:64,30:96},c=e.hour&31|u[e.frameRate];t.writeUInt8(c),t.writeUInt8(e.min),t.writeUInt8(e.sec),t.writeUInt8(e.frame),t.writeUInt8(e.subFrame);break;case"timeSignature":t.writeUInt8(255),t.writeUInt8(88),t.writeVarInt(4),t.writeUInt8(e.numerator);var f=Math.floor(Math.log(e.denominator)/Math.LN2)&255;t.writeUInt8(f),t.writeUInt8(e.metronome),t.writeUInt8(e.thirtyseconds||8);break;case"keySignature":t.writeUInt8(255),t.writeUInt8(89),t.writeVarInt(2),t.writeInt8(e.key),t.writeUInt8(e.scale);break;case"sequencerSpecific":t.writeUInt8(255),t.writeUInt8(127),t.writeVarInt(l.length),t.writeBytes(l);break;case"unknownMeta":e.metatypeByte!=null&&(t.writeUInt8(255),t.writeUInt8(e.metatypeByte),t.writeVarInt(l.length),t.writeBytes(l));break;case"sysEx":t.writeUInt8(240),t.writeVarInt(l.length),t.writeBytes(l);break;case"endSysEx":t.writeUInt8(247),t.writeVarInt(l.length),t.writeBytes(l);break;case"noteOff":var d=r!==!1&&e.byte9||r&&e.velocity==0?144:128;a=d|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteOn":a=144|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteAftertouch":a=160|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.noteNumber),t.writeUInt8(e.amount);break;case"controller":a=176|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.controllerType),t.writeUInt8(e.value);break;case"programChange":a=192|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.programNumber);break;case"channelAftertouch":a=208|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.amount);break;case"pitchBend":a=224|e.channel,a!==n&&t.writeUInt8(a);var h=8192+e.value,m=h&127,y=h>>7&127;t.writeUInt8(m),t.writeUInt8(y);break;default:throw"Unrecognized event type: "+i}return a}function oi(){this.buffer=[]}oi.prototype.writeUInt8=function(t){this.buffer.push(t&255)};oi.prototype.writeInt8=oi.prototype.writeUInt8;oi.prototype.writeUInt16=function(t){var e=t>>8&255,n=t&255;this.writeUInt8(e),this.writeUInt8(n)};oi.prototype.writeInt16=oi.prototype.writeUInt16;oi.prototype.writeUInt24=function(t){var e=t>>16&255,n=t>>8&255,r=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r)};oi.prototype.writeInt24=oi.prototype.writeUInt24;oi.prototype.writeUInt32=function(t){var e=t>>24&255,n=t>>16&255,r=t>>8&255,i=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(i)};oi.prototype.writeInt32=oi.prototype.writeUInt32;oi.prototype.writeBytes=function(t){this.buffer=this.buffer.concat(Array.prototype.slice.call(t,0))};oi.prototype.writeString=function(t){var e,n=t.length,r=[];for(e=0;e<n;e++)r.push(t.codePointAt(e));this.writeBytes(r)};oi.prototype.writeVarInt=function(t){if(t<0)throw"Cannot write negative variable-length integer";if(t<=127)this.writeUInt8(t);else{var e=t,n=[];for(n.push(e&127),e>>=7;e;){var r=e&127|128;n.push(r),e>>=7}this.writeBytes(n.reverse())}};oi.prototype.writeChunk=function(t,e){this.writeString(t),this.writeUInt32(e.length),this.writeBytes(e)};var tfe=Qce;Wx.parseMidi=Kce;Wx.writeMidi=tfe;var Xy={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.insert=Cc.search=void 0;function tB(t,e,n){n===void 0&&(n="ticks");var r=0,i=t.length,o=i;if(i>0&&t[i-1][n]<=e)return i-1;for(;r<o;){var s=Math.floor(r+(o-r)/2),l=t[s],a=t[s+1];if(l[n]===e){for(var u=s;u<t.length;u++){var c=t[u];c[n]===e&&(s=u)}return s}else{if(l[n]<e&&a[n]>e)return s;l[n]>e?o=s:l[n]<e&&(r=s+1)}}return-1}Cc.search=tB;function nfe(t,e,n){if(n===void 0&&(n="ticks"),t.length){var r=tB(t,e[n],n);t.splice(r+1,0,e)}else t.push(e)}Cc.insert=nfe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var e=Cc,n=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function i(o){var s=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),o){n.set(this,o.header.ticksPerBeat),o.tracks.forEach(function(a){a.forEach(function(u){u.meta&&(u.type==="timeSignature"?s.timeSignatures.push({ticks:u.absoluteTime,timeSignature:[u.numerator,u.denominator]}):u.type==="setTempo"?s.tempos.push({bpm:6e7/u.microsecondsPerBeat,ticks:u.absoluteTime}):u.type==="keySignature"&&s.keySignatures.push({key:t.keySignatureKeys[u.key+7],scale:u.scale===0?"major":"minor",ticks:u.absoluteTime}))})});var l=0;o.tracks[0].forEach(function(a){l+=a.deltaTime,a.meta&&(a.type==="trackName"?s.name=a.text:(a.type==="text"||a.type==="cuePoint"||a.type==="marker"||a.type==="lyrics")&&s.meta.push({text:a.text,ticks:l,type:a.type}))}),this.update()}}return i.prototype.update=function(){var o=this,s=0,l=0;this.tempos.sort(function(a,u){return a.ticks-u.ticks}),this.tempos.forEach(function(a,u){var c=u>0?o.tempos[u-1].bpm:o.tempos[0].bpm,f=a.ticks/o.ppq-l,d=60/c*f;a.time=d+s,s=a.time,l+=f}),this.timeSignatures.sort(function(a,u){return a.ticks-u.ticks}),this.timeSignatures.forEach(function(a,u){var c=u>0?o.timeSignatures[u-1]:o.timeSignatures[0],f=(a.ticks-c.ticks)/o.ppq,d=f/c.timeSignature[0]/(c.timeSignature[1]/4);c.measures=c.measures||0,a.measures=d+c.measures})},i.prototype.ticksToSeconds=function(o){var s=(0,e.search)(this.tempos,o);if(s!==-1){var l=this.tempos[s],a=l.time,u=(o-l.ticks)/this.ppq;return a+60/l.bpm*u}else{var c=o/this.ppq;return 60/120*c}},i.prototype.ticksToMeasures=function(o){var s=(0,e.search)(this.timeSignatures,o);if(s!==-1){var l=this.timeSignatures[s],a=(o-l.ticks)/this.ppq;return l.measures+a/(l.timeSignature[0]/l.timeSignature[1])/4}else return o/this.ppq/4},Object.defineProperty(i.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),i.prototype.secondsToTicks=function(o){var s=(0,e.search)(this.tempos,o,"time");if(s!==-1){var l=this.tempos[s],a=l.time,u=o-a,c=u/(60/l.bpm);return Math.round(l.ticks+c*this.ppq)}else{var f=o/.5;return Math.round(f*this.ppq)}},i.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(o){return{bpm:o.bpm,ticks:o.ticks}}),timeSignatures:this.timeSignatures}},i.prototype.fromJSON=function(o){this.name=o.name,this.tempos=o.tempos.map(function(s){return Object.assign({},s)}),this.timeSignatures=o.timeSignatures.map(function(s){return Object.assign({},s)}),this.keySignatures=o.keySignatures.map(function(s){return Object.assign({},s)}),this.meta=o.meta.map(function(s){return Object.assign({},s)}),n.set(this,o.ppq),this.update()},i.prototype.setTempo=function(o){this.tempos=[{bpm:o,ticks:0}],this.update()},i}();t.Header=r})(Xy);var Cm={},PT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(i,o){return i[t.controlChangeNames[o]]=o,i},{});var e=new WeakMap,n=new WeakMap,r=function(){function i(o,s){e.set(this,s),n.set(this,o.controllerType),this.ticks=o.absoluteTime,this.value=o.value}return Object.defineProperty(i.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"time",{get:function(){var o=e.get(this);return o.ticksToSeconds(this.ticks)},set:function(o){var s=e.get(this);this.ticks=s.secondsToTicks(o)},enumerable:!1,configurable:!0}),i.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},i}();t.ControlChange=r})(PT);var jx={};Object.defineProperty(jx,"__esModule",{value:!0});jx.createControlChanges=void 0;var fv=PT;function rfe(){return new Proxy({},{get:function(t,e){if(t[e])return t[e];if(fv.controlChangeIds.hasOwnProperty(e))return t[fv.controlChangeIds[e]]},set:function(t,e,n){return fv.controlChangeIds.hasOwnProperty(e)?t[fv.controlChangeIds[e]]=n:t[e]=n,!0}})}jx.createControlChanges=rfe;var $x={};Object.defineProperty($x,"__esModule",{value:!0});$x.PitchBend=void 0;var CS=new WeakMap,ife=function(){function t(e,n){CS.set(this,n),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(t.prototype,"time",{get:function(){var e=CS.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=CS.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},t}();$x.PitchBend=ife;var qx={},Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.DrumKitByPatchID=Ql.InstrumentFamilyByID=Ql.instrumentByPatchID=void 0;Ql.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];Ql.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];Ql.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(qx,"__esModule",{value:!0});qx.Instrument=void 0;var dv=Ql,kL=new WeakMap,ofe=function(){function t(e,n){if(this.number=0,kL.set(this,n),this.number=0,e){var r=e.find(function(i){return i.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.percussion?dv.DrumKitByPatchID[this.number]:dv.instrumentByPatchID[this.number]},set:function(e){var n=dv.instrumentByPatchID.indexOf(e);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"family",{get:function(){return this.percussion?"drums":dv.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"percussion",{get:function(){var e=kL.get(this);return e.channel===9},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},t.prototype.fromJSON=function(e){this.number=e.number},t}();qx.Instrument=ofe;var Xx={};Object.defineProperty(Xx,"__esModule",{value:!0});Xx.Note=void 0;function sfe(t){var e=Math.floor(t/12)-1;return nB(t)+e.toString()}function nB(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=t%12;return e[n]}function afe(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return e.indexOf(t)}var lfe=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=t.exec(n),i=r[1],o=r[2],s=e[i.toLowerCase()];return s+(parseInt(o,10)+1)*12}}(),Pf=new WeakMap,ufe=function(){function t(e,n,r){Pf.set(this,r),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=n.velocity,this.ticks=e.ticks,this.durationTicks=n.ticks-e.ticks}return Object.defineProperty(t.prototype,"name",{get:function(){return sfe(this.midi)},set:function(e){this.midi=lfe(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var n=e-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pitch",{get:function(){return nB(this.midi)},set:function(e){this.midi=12*(this.octave+1)+afe(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=Pf.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var n=Pf.get(this),r=n.secondsToTicks(this.time+e);this.durationTicks=r-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){var e=Pf.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=Pf.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){var e=Pf.get(this);return e.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},t}();Xx.Note=ufe;Object.defineProperty(Cm,"__esModule",{value:!0});Cm.Track=void 0;var RS=Cc,cfe=PT,ffe=jx,dfe=$x,NL=qx,hfe=Xx,hv=new WeakMap,pfe=function(){function t(e,n){var r=this;if(this.name="",this.notes=[],this.controlChanges=(0,ffe.createControlChanges)(),this.pitchBends=[],hv.set(this,n),e){var i=e.find(function(d){return d.type==="trackName"});this.name=i?i.text:""}if(this.instrument=new NL.Instrument(e,this),this.channel=0,e){for(var o=e.filter(function(d){return d.type==="noteOn"}),s=e.filter(function(d){return d.type==="noteOff"}),l=function(){var d=o.shift();a.channel=d.channel;var h=s.findIndex(function(y){return y.noteNumber===d.noteNumber&&y.absoluteTime>=d.absoluteTime});if(h!==-1){var m=s.splice(h,1)[0];a.addNote({durationTicks:m.absoluteTime-d.absoluteTime,midi:d.noteNumber,noteOffVelocity:m.velocity/127,ticks:d.absoluteTime,velocity:d.velocity/127})}},a=this;o.length;)l();var u=e.filter(function(d){return d.type==="controller"});u.forEach(function(d){r.addCC({number:d.controllerType,ticks:d.absoluteTime,value:d.value/127})});var c=e.filter(function(d){return d.type==="pitchBend"});c.forEach(function(d){r.addPitchBend({ticks:d.absoluteTime,value:d.value/Math.pow(2,13)})});var f=e.find(function(d){return d.type==="endOfTrack"});this.endOfTrackTicks=f!==void 0?f.absoluteTime:void 0}}return t.prototype.addNote=function(e){var n=hv.get(this),r=new hfe.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(r,e),(0,RS.insert)(this.notes,r,"ticks"),this},t.prototype.addCC=function(e){var n=hv.get(this),r=new cfe.ControlChange({controllerType:e.number},n);return delete e.number,Object.assign(r,e),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),(0,RS.insert)(this.controlChanges[r.number],r,"ticks"),this},t.prototype.addPitchBend=function(e){var n=hv.get(this),r=new dfe.PitchBend({},n);return Object.assign(r,e),(0,RS.insert)(this.pitchBends,r,"ticks"),this},Object.defineProperty(t.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var r=this.notes[n].time+this.notes[n].duration;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var r=this.notes[n].ticks+this.notes[n].durationTicks;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),t.prototype.fromJSON=function(e){var n=this;this.name=e.name,this.channel=e.channel,this.instrument=new NL.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),e.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=e.endOfTrackTicks);for(var r in e.controlChanges)e.controlChanges[r]&&e.controlChanges[r].forEach(function(i){n.addCC({number:i.number,ticks:i.ticks,value:i.value})});e.notes.forEach(function(i){n.addNote({durationTicks:i.durationTicks,midi:i.midi,ticks:i.ticks,velocity:i.velocity})})},t.prototype.toJSON=function(){for(var e={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(e[n]=this.controlChanges[n].map(function(i){return i.toJSON()}));var r={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map(function(i){return i.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(i){return i.toJSON()})};return this.endOfTrackTicks!==void 0&&(r.endOfTrackTicks=this.endOfTrackTicks),r},t}();Cm.Track=pfe;var Yx={};function mfe(t){var e=[];return rB(t,e),e}function rB(t,e){for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?rB(r,e):e.push(r)}}const gfe=Object.freeze(Object.defineProperty({__proto__:null,flatten:mfe},Symbol.toStringTag,{value:"Module"})),vfe=qL(gfe);var Al=Ku&&Ku.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Yx,"__esModule",{value:!0});Yx.encode=void 0;var yfe=Wx,xfe=Xy,bfe=vfe;function _fe(t,e){return[{absoluteTime:t.ticks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(t.velocity*127)},{absoluteTime:t.ticks+t.durationTicks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(t.noteOffVelocity*127)}]}function Sfe(t){return(0,bfe.flatten)(t.notes.map(function(e){return _fe(e,t.channel)}))}function wfe(t,e){return{absoluteTime:t.ticks,channel:e,controllerType:t.number,deltaTime:0,type:"controller",value:Math.floor(t.value*127)}}function Efe(t){for(var e=[],n=0;n<127;n++)t.controlChanges.hasOwnProperty(n)&&t.controlChanges[n].forEach(function(r){e.push(wfe(r,t.channel))});return e}function Mfe(t,e){return{absoluteTime:t.ticks,channel:e,deltaTime:0,type:"pitchBend",value:t.value}}function Tfe(t){var e=[];return t.pitchBends.forEach(function(n){e.push(Mfe(n,t.channel))}),e}function Afe(t){return{absoluteTime:0,channel:t.channel,deltaTime:0,programNumber:t.instrument.number,type:"programChange"}}function Cfe(t){return{absoluteTime:0,deltaTime:0,meta:!0,text:t,type:"trackName"}}function Rfe(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/t.bpm),type:"setTempo"}}function Pfe(t){return{absoluteTime:t.ticks,deltaTime:0,denominator:t.timeSignature[1],meta:!0,metronome:24,numerator:t.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function Ife(t){var e=xfe.keySignatureKeys.indexOf(t.key);return{absoluteTime:t.ticks,deltaTime:0,key:e+7,meta:!0,scale:t.scale==="major"?0:1,type:"keySignature"}}function Lfe(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,text:t.text,type:t.type}}function kfe(t){var e={header:{format:1,numTracks:t.tracks.length+1,ticksPerBeat:t.header.ppq},tracks:Al([Al(Al(Al(Al([{absoluteTime:0,deltaTime:0,meta:!0,text:t.header.name,type:"trackName"}],t.header.keySignatures.map(function(n){return Ife(n)}),!0),t.header.meta.map(function(n){return Lfe(n)}),!0),t.header.tempos.map(function(n){return Rfe(n)}),!0),t.header.timeSignatures.map(function(n){return Pfe(n)}),!0)],t.tracks.map(function(n){return Al(Al(Al([Cfe(n.name),Afe(n)],Sfe(n),!0),Efe(n),!0),Tfe(n),!0)}),!0)};return e.tracks=e.tracks.map(function(n){n=n.sort(function(i,o){return i.absoluteTime-o.absoluteTime});var r=0;return n.forEach(function(i){i.deltaTime=i.absoluteTime-r,r=i.absoluteTime,delete i.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,yfe.writeMidi)(e))}Yx.encode=kfe;(function(t){var e=Ku&&Ku.__awaiter||function(f,d,h,m){function y(x){return x instanceof h?x:new h(function(v){v(x)})}return new(h||(h=Promise))(function(x,v){function _(E){try{S(m.next(E))}catch(M){v(M)}}function b(E){try{S(m.throw(E))}catch(M){v(M)}}function S(E){E.done?x(E.value):y(E.value).then(_,b)}S((m=m.apply(f,d||[])).next())})},n=Ku&&Ku.__generator||function(f,d){var h={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},m,y,x,v;return v={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function _(S){return function(E){return b([S,E])}}function b(S){if(m)throw new TypeError("Generator is already executing.");for(;h;)try{if(m=1,y&&(x=S[0]&2?y.return:S[0]?y.throw||((x=y.return)&&x.call(y),0):y.next)&&!(x=x.call(y,S[1])).done)return x;switch(y=0,x&&(S=[S[0]&2,x.value]),S[0]){case 0:case 1:x=S;break;case 4:return h.label++,{value:S[1],done:!1};case 5:h.label++,y=S[1],S=[0];continue;case 7:S=h.ops.pop(),h.trys.pop();continue;default:if(x=h.trys,!(x=x.length>0&&x[x.length-1])&&(S[0]===6||S[0]===2)){h=0;continue}if(S[0]===3&&(!x||S[1]>x[0]&&S[1]<x[3])){h.label=S[1];break}if(S[0]===6&&h.label<x[1]){h.label=x[1],x=S;break}if(x&&h.label<x[2]){h.label=x[2],h.ops.push(S);break}x[2]&&h.ops.pop(),h.trys.pop();continue}S=d.call(f,h)}catch(E){S=[6,E],y=0}finally{m=x=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var r=Wx,i=Xy,o=Cm,s=Yx,l=function(){function f(d){var h=this,m=null;if(d){var y=d instanceof ArrayBuffer?new Uint8Array(d):d;m=(0,r.parseMidi)(y),m.tracks.forEach(function(x){var v=0;x.forEach(function(_){v+=_.deltaTime,_.absoluteTime=v})}),m.tracks=c(m.tracks)}this.header=new i.Header(m),this.tracks=[],d&&(this.tracks=m.tracks.map(function(x){return new o.Track(x,h.header)}),m.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return f.fromUrl=function(d){return e(this,void 0,void 0,function(){var h,m;return n(this,function(y){switch(y.label){case 0:return[4,fetch(d)];case 1:return h=y.sent(),h.ok?[4,h.arrayBuffer()]:[3,3];case 2:return m=y.sent(),[2,new f(m)];case 3:throw new Error("Could not load '".concat(d,"'"))}})})},Object.defineProperty(f.prototype,"name",{get:function(){return this.header.name},set:function(d){this.header.name=d},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"duration",{get:function(){var d=this.tracks.map(function(h){return h.duration});return Math.max.apply(Math,d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"durationTicks",{get:function(){var d=this.tracks.map(function(h){return h.durationTicks});return Math.max.apply(Math,d)},enumerable:!1,configurable:!0}),f.prototype.addTrack=function(){var d=new o.Track(void 0,this.header);return this.tracks.push(d),d},f.prototype.toArray=function(){return(0,s.encode)(this)},f.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(d){return d.toJSON()})}},f.prototype.fromJSON=function(d){var h=this;this.header=new i.Header,this.header.fromJSON(d.header),this.tracks=d.tracks.map(function(m){var y=new o.Track(void 0,h.header);return y.fromJSON(m),y})},f.prototype.clone=function(){var d=new f;return d.fromJSON(this.toJSON()),d},f}();t.Midi=l;var a=Cm;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return a.Track}});var u=Xy;Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return u.Header}});function c(f){for(var d=[],h=0;h<f.length;h++)for(var m=d.length,y=new Map,x=Array(16).fill(0),v=0,_=f[h];v<_.length;v++){var b=_[v],S=m,E=b.channel;if(E!==void 0){b.type==="programChange"&&(x[E]=b.programNumber);var M=x[E],T="".concat(M," ").concat(E);y.has(T)?S=y.get(T):(S=m+y.size,y.set(T,S))}d[S]||d.push([]),d[S].push(b)}return d}})(qy);function iB(t,e){return Math.random()*(e-t)+t}function Nfe(t,e){return Math.floor(Math.random()*(e-t)+t)}function Yy(t){const e=Math.floor(Math.random()*t.length);return t[e]}function IT(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function pv(t,e){return t.filter(n=>e.includes(n)).length}const Ofe=({position:t,speed:e,removeStar:n,uuid:r})=>{const i=L.useRef();return Ws(()=>{i.current&&(i.current.position.y-=e,i.current.position.y<-10&&n(r))}),X.jsxs("mesh",{scale:.1,ref:i,position:t,children:[X.jsx("sphereGeometry",{args:[1,16,16]}),X.jsx("meshBasicMaterial",{color:"white"})]})},LT=()=>{const[t,e]=L.useState([]),n=L.useCallback(()=>{const i={position:[Math.random()*100-50,50,0],speed:Math.random()*3.5+.1,uuid:IT()};e(o=>[...o,i])},[]);L.useEffect(()=>{n()},[n]);const r=L.useCallback(i=>{e(o=>o.filter(l=>l.uuid!==i))},[]);return X.jsxs("group",{children:[X.jsx(mue,{distance:95e4,sunPosition:[1,0,1],inclination:9,azimuth:.95,rayleigh:90}),X.jsx(yue,{radius:.2,depth:50,count:5e3,factor:2,saturation:0,fade:!0,speed:1}),t.map((i,o)=>X.jsx(Ofe,{position:i.position,speed:i.speed,removeStar:r,uuid:i.uuid},o))]})},Ffe=new ue(0,-3,0),Dfe=()=>{const[t,e]=L.useState(null),n=()=>{const o=L.useRef(0);return Ws(({clock:s})=>{o.current=s.getElapsedTime()}),X.jsx("mesh",{children:X.jsx(LT,{})})},r=L.useCallback(async o=>{try{const s=await jce({link:o});if(s.note_events){const a=s.note_events.sort((u,c)=>u[0]>c[0]?1:u[0]===c[0]?0:-1).filter(u=>u[2]>=40);e(a)}}catch(s){alert(s)}},[]),i=L.useCallback(o=>{const s=new FileReader;s.onload=function(l){const a=l.target.result,u=new qy.Midi(a),c=$E(u);e(c)},o.length>0&&s.readAsArrayBuffer(o[0])},[]);return X.jsx(yn,{display:"flex",flexDirection:"column",children:X.jsxs(yn,{flexGrow:1,minHeight:"100%",children:[X.jsx(zD,{onDrop:i,onYoutubeLink:r}),X.jsxs(_T,{children:[X.jsx("div",{style:{width:"100%",justifyContent:"center",display:"flex"},children:X.jsx("div",{style:{width:"100vw",height:"calc(100vh - 100px)",backgroundColor:"white"},children:X.jsxs(vT,{onCreated:({gl:o})=>{o.localClippingEnabled=!0},camera:{position:[0,0,15],fov:55,near:.1,far:400},children:[X.jsx("ambientLight",{position:[-3,0,-3],intensity:.9}),X.jsx("pointLight",{position:[-13,10,0],intensity:.9}),X.jsx(yT,{children:X.jsxs(RT,{children:[X.jsx(n,{}),X.jsx(N5,{noteEvents:t||[]}),X.jsx(ST,{position:Ffe}),X.jsx(wT,{})]})})]})})}),X.jsx($ce,{})]})]})})};class qE extends Qd{constructor(e,n={}){const r=n.font;if(r===void 0)super();else{const i=r.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(i,n)}this.type="TextGeometry"}}const oB=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb"],sB=Object.keys(Ox),Ufe=t=>({id:IT(),key:Yy(oB),scaleType:Yy(sB),startNoteIndex:0,endAt:15+t,positionX:iB(-13,13),noteNumToHit:8,type:"SCALENORMAL"}),Bfe=t=>{const e=Yy(sB);return{id:IT(),key:Yy(oB),scaleType:e,startNoteIndex:Nfe(0,Ox[e].length),endAt:2+t,positionX:iB(-13,13),noteNumToHit:8,type:"SCALE_WITH_ENTRYNOTE"}},aB=L.createContext(null),Kx=()=>L.useContext(aB),zfe=t=>{const[e,n]=L.useState("INIT"),r=L.useRef([]),i=L.useRef(100),o=L.useRef(0),s=L.useRef(0),l=L.useRef(0),a=L.useRef([]),u=L.useRef([]),[c,f]=L.useState(!1),[d,h]=L.useState(!1);L.useEffect(()=>{e==="GAMEOVER"&&(r.current=[])},[e]),L.useEffect(()=>{const E=setInterval(()=>{o.current-l.current>3.5&&(u.current=[],a.current=[],v.current(u.current))},1e3);return()=>clearInterval(E)},[]);const m=E=>E.score>=Ox[E.scale].length&&E.matchCountInScale>=8,y=L.useCallback(E=>{let M=0,T=0;if(E.type==="SCALENORMAL"){const R=Gv(E.key,E.scaleType),C=a.current.map(P=>P.slice(0,-1));M=pv(R,C),T=pv(C,R)}else if(E.type==="SCALE_WITH_ENTRYNOTE"&&a.current.length>=E.noteNumToHit){const R=a.current.slice(-E.noteNumToHit),C=Gv(E.key,E.scaleType)[E.startNoteIndex];if(R[0].slice(0,-1)===C){const P=Gv(E.key,E.scaleType),D=a.current.map(z=>z.slice(0,-1));M=pv(P,D),T=pv(D,P)}}return{matches:M,matchesWithDups:T}},[]),x=L.useCallback(E=>{a.current.push(E),a.current=a.current.slice(-8),u.current=[];const M=[];r.current.forEach(T=>{const{matches:R,matchesWithDups:C}=y(T);if(R>=5){const P={score:R,key:T.key,scale:T.scaleType,matchCountInScale:C};u.current.push(P),m(P)&&M.push(P)}}),l.current=o.current,u.current.sort((T,R)=>R.score-T.score),M.length&&(b.current(M),u.current=[],a.current=[]),v.current(u.current)},[r,y]),v=L.useRef(),_=L.useCallback(E=>{v.current=E},[]),b=L.useRef(),S=L.useCallback(E=>{b.current=E},[]);return X.jsx(aB.Provider,{value:{playState:e,setPlayState:n,blocks:r,refScore:i,timer:o,lastBlockDropTime:s,judgeWithNewNote:x,candidateScales:u,compositionNotes:a,setHandleCandidateChange:_,setHandleCandidateHit:S,showLeaderBoard:c,showScoreInput:d,setShowLeaderBoard:f,setShowScoreInput:h},children:t.children})};class Gfe extends go{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ba(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){const a=o.parse(JSON.parse(l));n&&n(a)},r,i)}parse(e){return new Hfe(e)}}class Hfe{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const r=[],i=Vfe(e,n,this.data);for(let o=0,s=i.length;o<s;o++)r.push(...i[o].toShapes());return r}}function Vfe(t,e,n){const r=Array.from(t),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[];let l=0,a=0;for(let u=0;u<r.length;u++){const c=r[u];if(c===`
`)l=0,a-=o;else{const f=Wfe(c,i,l,a,n);l+=f.offsetX,s.push(f.path)}}return s}function Wfe(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const s=new V4;let l,a,u,c,f,d,h,m;if(o.o){const y=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let x=0,v=y.length;x<v;)switch(y[x++]){case"m":l=y[x++]*e+n,a=y[x++]*e+r,s.moveTo(l,a);break;case"l":l=y[x++]*e+n,a=y[x++]*e+r,s.lineTo(l,a);break;case"q":u=y[x++]*e+n,c=y[x++]*e+r,f=y[x++]*e+n,d=y[x++]*e+r,s.quadraticCurveTo(f,d,u,c);break;case"b":u=y[x++]*e+n,c=y[x++]*e+r,f=y[x++]*e+n,d=y[x++]*e+r,h=y[x++]*e+n,m=y[x++]*e+r,s.bezierCurveTo(f,d,h,m,u,c);break}}return{offsetX:o.ha*e,path:s}}const hr={score:0,hp:100,combo:0,blockGenerators:[]},jfe=t=>{const e=L.useRef(),n=L.useRef([]);return L.useEffect(()=>{for(let i=0;i<300;i++)if(e.current){const o=new mr(new Sa(1,1,1),new _a({color:t.color||16777215}));o.position.set(Math.random()*60-30,Math.random()*2-1,0),e.current.add(o),n.current.push({mesh:o,velocity:new ue(Math.random()*.5-.25,Math.random()*.5-.25,Math.random()*.5-.25),lifetime:Math.random()*60+30})}},[]),Ws((r,i)=>{n.current.forEach(o=>{o.mesh.position.add(o.velocity.clone().multiplyScalar(i*30)),o.lifetime-=1,o.lifetime<=0&&(o.mesh.visible=!1)})}),X.jsx("group",{scale:.1,ref:e,...t})},$fe=({open:t,ranks:e,onClose:n})=>{const[r,i]=L.useState(0),o=(s,l)=>{i(l)};return t?X.jsxs(yn,{sx:{top:"25%",left:"calc(50vw - 200px)",width:400,position:"absolute",bgcolor:"white",borderRadius:2},children:[X.jsxs(yn,{display:"flex",children:[X.jsx(Ro,{p:1}),X.jsx(io,{color:"inherit",onClick:n,sx:{marginLeft:"auto"},children:"X"})]}),X.jsx(yn,{paddingLeft:3,children:X.jsxs(bK,{value:r,onChange:o,children:[X.jsx(C_,{label:"Scale"}),X.jsx(C_,{label:"Chord",disabled:!0}),X.jsx(C_,{label:"Mixed",disabled:!0})]})}),X.jsx(yn,{sx:{p:3},children:e.map((s,l)=>X.jsxs(yn,{display:"flex",children:[X.jsx(Ro,{flexGrow:1,variant:"body1",children:s.name},l),X.jsxs(Ro,{children:[" ",s.score]})]},l))})]}):X.jsx(X.Fragment,{})},Kh=2,OL=.06,mv=-7,qfe=.1,Xfe=t=>{const[e,n]=L.useState(1),[r,i]=L.useState(0),o=L.useRef("INIT"),s=L.useRef(0),[l,a]=L.useState(new ue(mv,0,0));return Ws((u,c)=>{if(hr.combo!=r&&(s.current=0,hr.combo===0?(o.current="INIT",a(new ue(mv,0,0))):o.current=o.current==="INIT"?"MOVING_IN":"SCALING_UP",i(hr.combo)),o.current==="MOVING_IN"){const f=mv+-mv*(s.current/qfe);f>=0?(s.current=0,o.current="WAITING",a(new ue(0,0,0))):a(new ue(f,0,0))}else if(o.current==="SCALING_UP"){const f=1+(Kh-1)*(s.current/OL);f>=Kh?(o.current="SCALING_DOWN",s.current=0,n(Kh)):(a(new ue(0,0,0)),n(f))}else if(o.current==="SCALING_DOWN"){const f=Kh-(Kh-1)*(s.current/OL);f<=1?(o.current="WAITING",n(1)):n(f)}s.current+=c}),hr.combo===0?X.jsx(X.Fragment,{}):X.jsx("mesh",{...t,children:X.jsxs("group",{position:l,children:[X.jsx(Ac,{letterSpacing:.2,outlineWidth:.1,outlineColor:"black",strokeWidth:.3,strokeColor:"yellow",scale:e,color:"white",position:[0,0,0],anchorX:"center",anchorY:"middle",rotation:[0,.9,.1],children:r}),X.jsx(Ac,{scale:[1,1,1],outlineWidth:.1,outlineColor:"black",color:"white",position:[.8,0,0],rotation:[0,.9,.1],anchorX:"left",anchorY:"middle",children:"Combo"})]})})},lB=L.createContext(null),uB=()=>L.useContext(lB),Yfe=t=>{const[e,n]=L.useState([]),r=L.useCallback(async()=>{const i=await cg.get("/ranks/");return console.log(i),n(i.data),i.data},[]);return X.jsx(lB.Provider,{value:{ranks:e,getRanks:r},children:t.children})},Kfe=({open:t})=>{const e=L.useCallback(()=>{cg.post("/put_score/",{name:"tiofjaiow",score:213128}).then(n=>console.log(n))},[]);return t?X.jsxs(yn,{sx:{top:"25%",left:"calc(50vw - 200px)",width:400,position:"absolute",bgcolor:"white",borderRadius:2,padding:2},children:[X.jsx(AK,{id:"standard-basic",label:"Name",variant:"standard"}),X.jsx(io,{onClick:e,children:"Submit"})]}):X.jsx(X.Fragment,{})};X4({TextGeometry:qE});const gv=5,Qfe=new Gfe,cB=new ue(0,-3,0);let XE=null;hr.blockGenerators.push(Ufe,Bfe);Qfe.load("fonts/helvetiker_bold.typeface.json",function(t){XE=t},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("An error happened",t)});const Jfe=()=>{const{playState:t,setPlayState:e,setShowLeaderBoard:n}=Kx(),r=L.useCallback(()=>{hr.score=0,hr.hp=10,e("PLAYING")},[e]);return X.jsx(yn,{sx:{backgroundColor:"white",display:"flex",position:"fixed",background:"transparent",left:"25%",right:"25%",top:"50vh",justifyContent:"center"},children:t!="PLAYING"&&X.jsxs(yn,{display:"flex",flexDirection:"column",children:[X.jsx(io,{onClick:r,sx:{fontSize:50,color:"white"},children:"START"}),X.jsx(io,{sx:{color:"white"},onClick:()=>n(!0),children:"view ranking"})]})})},Zfe=()=>{const[t,e]=L.useState(hr.score);return Ws(()=>{t!==hr.score&&e(hr.score)}),X.jsx("mesh",{position:[0,2,0],children:X.jsx(Ac,{letterSpacing:.2,outlineWidth:.1,outlineColor:"white",strokeWidth:.2,strokeColor:"black",scale:[1,1,1],color:"white",position:[0,4.5,0],anchorX:"center",anchorY:"middle",children:t})})},Bu=7,ede=t=>{const e=L.useRef(hr.score),n=L.useRef(),[r,i]=L.useState(1),[o,s]=L.useState(1),l=.5,a=L.useRef(0);return Ws((u,c)=>{if(e.current!=hr.hp&&(e.current=hr.hp,a.current=0,s(hr.hp/100)),r!=o){const f=(r-o)*(1-a.current/l);a.current>=l?i(o):i(o+f)}a.current+=c}),X.jsxs("group",{...t,children:[X.jsx(Ac,{scale:.5,position:[-4,-.05,0],color:"white",children:"HP"}),X.jsxs("mesh",{children:[X.jsx("planeGeometry",{args:[Bu,.3]}),X.jsx("meshBasicMaterial",{color:255,transparent:!0})]}),X.jsxs("mesh",{ref:n,position:[(Bu-Bu*r)*-.5,0,0],children:[X.jsx("planeGeometry",{args:[Bu*r,.3]}),X.jsx("meshBasicMaterial",{color:267386880,transparent:!0})]}),X.jsxs("mesh",{ref:n,position:[(Bu-Bu*o)*-.5,0,0],children:[X.jsx("planeGeometry",{args:[Bu*o,.3]}),X.jsx("meshBasicMaterial",{color:268431360,transparent:!0})]})]})},tde=()=>{const[t,e]=L.useState([]),{setHandleCandidateChange:n,compositionNotes:r}=Kx(),i=L.useCallback(o=>{e([...o])},[]);return L.useEffect(()=>{n(i)},[i,n]),X.jsxs("mesh",{position:[-9,.5,0],children:[r.current.map((o,s)=>X.jsx(Ac,{scale:.2,color:"black",position:[-1+.2*s,1.5,0],anchorX:"center",anchorY:"middle",children:o},s)),t.map((o,s)=>{const l=`${o.key} ${o.scale} ${o.score}`,a=.3;return X.jsx(Ac,{scale:a,color:"black",position:[0,-.5*s,0],anchorX:"center",anchorY:"middle",children:l},s)})]})},Zs={},nde=()=>{const{playState:t,setPlayState:e,blocks:n,timer:r,lastBlockDropTime:i,setHandleCandidateHit:o,setShowLeaderBoard:s,setShowScoreInput:l}=Kx(),a=L.useRef(null),{railAngle:u}=Dc(),[c,f]=L.useState([]),d=L.useRef(0),{getRanks:h}=uB(),m=L.useCallback(b=>{b.forEach(S=>{const E=n.current.filter(T=>T.key!==S.key||T.scaleType!==S.scale);n.current.reduce((T,R)=>(R.key===S.key&&R.scaleType===S.scale&&T.push(R.id),T),[]).forEach(T=>{hr.combo+=1,d.current=r.current,f(R=>{Zs[T].geometry.computeBoundingBox();const C=Zs[T].geometry.boundingBox.getCenter(new ue);return[...R,{position:[Zs[T].position.x+C.x,Zs[T].position.y-gv*r.current,Zs[T].position.z]}]}),a.current.remove(Zs[T])}),n.current=E,hr.score+=hr.combo*5})},[n,r]);L.useEffect(()=>{o(m)},[m,o]);const y=L.useCallback(b=>{let S=null;return b<30,S=hr.blockGenerators[1],S(b)},[]),x=L.useCallback(b=>{const S=[new nd({color:16711680}),new nd({color:16776960})],E=new qE(`${b.key} ${b.scaleType}`,{size:1,height:.2,curveSegments:2,font:XE,bevelEnabled:!0,bevelSize:.2,bevelThickness:.1}),M=new mr(E,S);if(M.position.x=b.positionX,M.position.y=cB.y+b.endAt*gv,M.position.z=0,b.type==="SCALE_WITH_ENTRYNOTE"){const T=[new nd({color:16711680}),new nd({color:16711680})],R=Gv(b.key,b.scaleType)[b.startNoteIndex],C=new qE(`from ${R}`,{size:.7,height:.2,curveSegments:2,font:XE}),P=new mr(C,T);P.position.set(0,-1,0),M.add(P)}return M.rotateX(-u),M},[u]),v=1,_=()=>{Object.keys(Zs).forEach(S=>{a.current.remove(Zs[S])}),e("GAMEOVER");let b=!1;h().then(S=>{hr.score=0,S.forEach(E=>{E.score>=hr.score&&(b=!0)}),b?l(!0):s(!0)})};return Ws((b,S)=>{if(t==="PLAYING"){const E=n.current.filter(T=>T.endAt<=r.current),M=n.current.filter(T=>T.endAt>r.current);if(hr.hp-=E.length*5,E.forEach(T=>{const R=Zs[T.id];a.current.remove(R),hr.combo=0,f(C=>{R.geometry.computeBoundingBox();const P=R.geometry.boundingBox.getCenter(new ue);return[...C,{position:[R.position.x+P.x,R.position.y-gv*r.current,R.position.z],color:"red"}]})}),n.current=M,S*=v,r.current+=S,i.current===0||r.current-i.current>=3){const T=y(r.current);if(T){n.current.push(T);const R=x(T);Zs[T.id]=R,a.current.add(R),i.current=r.current}}hr.hp<=0&&_(),a.current.position.setY(-gv*r.current)}}),X.jsxs("group",{children:[X.jsx("group",{ref:a}),c.map((b,S)=>X.jsx(jfe,{position:b.position,color:b.color},S))]})},rde=()=>{const t=L.useRef(0);return Ws(({clock:e})=>{t.current=e.getElapsedTime()}),X.jsx("mesh",{children:X.jsx(LT,{})})},ide=()=>{const{setHandleMidiNoteDown:t}=Fx(),{judgeWithNewNote:e,showLeaderBoard:n,setShowLeaderBoard:r,showScoreInput:i}=Kx();L.useEffect(()=>{t(s=>{e(Ol.getNoteNameFromMidiNumber(s))})},[e,t]);const{ranks:o}=uB();return X.jsx(yn,{display:"flex",flexDirection:"column",minHeight:"100%",children:X.jsx(yn,{flexGrow:1,minHeight:"100%",children:X.jsxs(_T,{children:[X.jsx("div",{style:{width:"100%",justifyContent:"center",display:"flex"},children:X.jsx("div",{style:{width:"100vw",height:"calc(100vh - 100px)",backgroundColor:"white"},children:X.jsxs(vT,{onCreated:({gl:s})=>{s.localClippingEnabled=!0},camera:{position:[0,0,15],fov:55,near:.1,far:400},children:[X.jsx("ambientLight",{position:[-3,0,-3],intensity:.9}),X.jsx("pointLight",{position:[-13,10,0],intensity:.9}),X.jsx(ede,{position:[-11,6.5,0]}),X.jsxs(RT,{children:[X.jsx(rde,{}),X.jsx(nde,{}),X.jsx(ST,{position:cB})]}),X.jsx(tde,{}),X.jsx(Zfe,{}),X.jsx(Xfe,{position:[-16,2,0]})]})})}),X.jsx(Jfe,{}),X.jsx($fe,{open:n,ranks:o,onClose:()=>r(!1)}),X.jsx(Kfe,{open:i})]})})})},ode=({playItems:t=[],onSelect:e})=>{const n=Y1({components:{MuiListItemButton:{styleOverrides:{root:{"&.Mui-selected":{backgroundColor:"#FF000088"}}}}}}),[r,i]=L.useState(0);return X.jsx(oF,{theme:n,children:X.jsx(yn,{sx:{background:"transparent"},children:X.jsx(x2,{sx:{width:"100%",maxWidth:360,bgcolor:"transparent"},children:t.map((o,s)=>X.jsxs("div",{children:[X.jsxs(Uw,{alignItems:"flex-start",selected:s===r,onClick:()=>{i(s),e(o)},onKeyDown:l=>{l.code==="Space"&&l.preventDefault()},onKeyUp:l=>{l.code==="Space"&&l.preventDefault()},children:[X.jsx(sX,{children:X.jsx(vj,{alt:"Remy Sharp",src:"/demo/jukebox"+o.avatarPath})}),X.jsx(bF,{primary:X.jsx(Ro,{color:"white",children:o.title}),secondary:X.jsx(Zn.Fragment,{children:X.jsx(Ro,{sx:{display:"inline"},component:"span",variant:"body2",color:"grey",children:o.artist})})})]},s),X.jsx(y$,{variant:"inset",component:"li"})]},s))})})})};var kT={},fB={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(fB);var dB=fB.exports,PS={};const sde=qL(qV);var FL;function hB(){return FL||(FL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=sde}(PS)),PS}var ade=dB;Object.defineProperty(kT,"__esModule",{value:!0});var pB=kT.default=void 0,lde=ade(hB()),ude=X,cde=(0,lde.default)((0,ude.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause");pB=kT.default=cde;var NT={},fde=dB;Object.defineProperty(NT,"__esModule",{value:!0});var mB=NT.default=void 0,dde=fde(hB()),hde=X,pde=(0,dde.default)((0,hde.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");mB=NT.default=pde;var fg=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),Ky=typeof window>"u";function Li(){}function mde(t,e){return typeof t=="function"?t(e):t}function YE(t){return typeof t=="number"&&t>=0&&t!==1/0}function Qy(t){return Array.isArray(t)?t:[t]}function gB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jv(t,e,n){return Qx(t)?typeof e=="function"?te({},n,{queryKey:t,queryFn:e}):te({},e,{queryKey:t}):t}function Ll(t,e,n){return Qx(t)?[te({},e,{queryKey:t}),n]:[t||{},e]}function gde(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function DL(t,e){var n=t.active,r=t.exact,i=t.fetching,o=t.inactive,s=t.predicate,l=t.queryKey,a=t.stale;if(Qx(l)){if(r){if(e.queryHash!==OT(l,e.options))return!1}else if(!Jy(e.queryKey,l))return!1}var u=gde(n,o);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function UL(t,e){var n=t.exact,r=t.fetching,i=t.predicate,o=t.mutationKey;if(Qx(o)){if(!e.options.mutationKey)return!1;if(n){if(sc(e.options.mutationKey)!==sc(o))return!1}else if(!Jy(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function OT(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||sc;return n(t)}function sc(t){var e=Qy(t);return vde(e)}function vde(t){return JSON.stringify(t,function(e,n){return KE(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Jy(t,e){return vB(Qy(t),Qy(e))}function vB(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!vB(t[n],e[n])}):!1}function Zy(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||KE(t)&&KE(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),o=i.length,s=n?[]:{},l=0,a=0;a<o;a++){var u=n?a:i[a];s[u]=Zy(t[u],e[u]),s[u]===t[u]&&l++}return r===o&&l===r?t:s}return e}function yde(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function KE(t){if(!BL(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!BL(n)||!n.hasOwnProperty("isPrototypeOf"))}function BL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Qx(t){return typeof t=="string"||Array.isArray(t)}function xde(t){return new Promise(function(e){setTimeout(e,t)})}function zL(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function yB(){if(typeof AbortController=="function")return new AbortController}var bde=function(t){Lc(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!Ky&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(l){typeof l=="boolean"?s.setFocused(l):s.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(fg),Op=new bde,_de=function(t){Lc(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!Ky&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(l){typeof l=="boolean"?s.setOnline(l):s.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(fg),Zv=new _de;function Sde(t){return Math.min(1e3*Math.pow(2,t),3e4)}function e1(t){return typeof(t==null?void 0:t.cancel)=="function"}var xB=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function ey(t){return t instanceof xB}var bB=function(e){var n=this,r=!1,i,o,s,l;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,h){s=d,l=h});var a=function(h){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(h),o==null||o(),s(h))},u=function(h){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(h),o==null||o(),l(h))},c=function(){return new Promise(function(h){o=h,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function d(){if(!n.isResolved){var h;try{h=e.fn()}catch(m){h=Promise.reject(m)}i=function(y){if(!n.isResolved&&(u(new xB(y)),n.abort==null||n.abort(),e1(h)))try{h.cancel()}catch{}},n.isTransportCancelable=e1(h),Promise.resolve(h).then(a).catch(function(m){var y,x;if(!n.isResolved){var v=(y=e.retry)!=null?y:3,_=(x=e.retryDelay)!=null?x:Sde,b=typeof _=="function"?_(n.failureCount,m):_,S=v===!0||typeof v=="number"&&n.failureCount<v||typeof v=="function"&&v(n.failureCount,m);if(r||!S){u(m);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,m),xde(b).then(function(){if(!Op.isFocused()||!Zv.isOnline())return c()}).then(function(){r?u(m):d()})}})}};f()},wde=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):zL(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];i.schedule(function(){r.apply(void 0,s)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&zL(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Ir=new wde,_B=console;function t1(){return _B}function Ede(t){_B=t}var Mde=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=te({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),YE(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var o,s,l=this.state.data,a=mde(r,l);return(o=(s=this.options).isDataEqual)!=null&&o.call(s,l,a)?a=l:this.options.structuralSharing!==!1&&(a=Zy(l,a)),this.dispatch({data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),a},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(Li).catch(Li):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!gB(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var o=this,s,l,a;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(_){return _.options.queryFn});c&&this.setOptions(c.options)}var f=Qy(this.queryKey),d=yB(),h={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(d)return o.abortSignalConsumed=!0,d.signal}});var m=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(h)):Promise.reject("Missing queryFn")},y={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:m,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(y)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=y.fetchOptions)==null?void 0:l.meta)){var v;this.dispatch({type:"fetch",meta:(v=y.fetchOptions)==null?void 0:v.meta})}return this.retryer=new bB({fn:y.fetchFn,abort:d==null||(a=d.abort)==null?void 0:a.bind(d),onSuccess:function(b){o.setData(b),o.cache.config.onSuccess==null||o.cache.config.onSuccess(b,o),o.cacheTime===0&&o.optionalRemove()},onError:function(b){ey(b)&&b.silent||o.dispatch({type:"error",error:b}),ey(b)||(o.cache.config.onError==null||o.cache.config.onError(b,o),t1().error(b)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Ir.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",s=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:l?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(r,i){var o,s;switch(i.type){case"failed":return te({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return te({},r,{isPaused:!0});case"continue":return te({},r,{isPaused:!1});case"fetch":return te({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return te({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=i.error;return ey(l)&&l.revert&&this.revertState?te({},this.revertState):te({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return te({},r,{isInvalidated:!0});case"setState":return te({},r,i.state);default:return r}},t}(),Tde=function(t){Lc(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,o,s){var l,a=o.queryKey,u=(l=o.queryHash)!=null?l:OT(a,o),c=this.get(u);return c||(c=new Mde({cache:this,queryKey:a,queryHash:u,options:i.defaultQueryOptions(o),state:s,defaultOptions:i.getQueryDefaults(a),meta:o.meta}),this.add(c)),c},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Ir.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,o){var s=Ll(i,o),l=s[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(a){return DL(l,a)})},n.findAll=function(i,o){var s=Ll(i,o),l=s[0];return Object.keys(l).length>0?this.queries.filter(function(a){return DL(l,a)}):this.queries},n.notify=function(i){var o=this;Ir.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){var i=this;Ir.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},n.onOnline=function(){var i=this;Ir.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},e}(fg),Ade=function(){function t(n){this.options=te({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||Cde(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Li).catch(Li)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,o=this.state.status==="loading",s=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),s.then(function(){return r.executeMutation()}).then(function(l){i=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),t1().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var r=this,i;return this.retryer=new bB({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=Rde(this.state,r),Ir.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function Cde(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Rde(t,e){switch(e.type){case"failed":return te({},t,{failureCount:t.failureCount+1});case"pause":return te({},t,{isPaused:!0});case"continue":return te({},t,{isPaused:!1});case"loading":return te({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return te({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return te({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return te({},t,e.state);default:return t}}var Pde=function(t){Lc(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,o,s){var l=new Ade({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:s,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(l),l},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Ir.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return UL(i,o)})},n.findAll=function(i){return this.mutations.filter(function(o){return UL(i,o)})},n.notify=function(i){var o=this;Ir.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return Ir.batch(function(){return i.reduce(function(o,s){return o.then(function(){return s.continue().catch(Li)})},Promise.resolve())})},e}(fg);function Ide(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,o,s,l,a=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,c=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",d=(u==null?void 0:u.direction)==="backward",h=((s=e.state.data)==null?void 0:s.pages)||[],m=((l=e.state.data)==null?void 0:l.pageParams)||[],y=yB(),x=y==null?void 0:y.signal,v=m,_=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(U,q,Z,ne){return v=ne?[q].concat(v):[].concat(v,[q]),ne?[Z].concat(U):[].concat(U,[Z])},E=function(U,q,Z,ne){if(_)return Promise.reject("Cancelled");if(typeof Z>"u"&&!q&&U.length)return Promise.resolve(U);var O={queryKey:e.queryKey,signal:x,pageParam:Z,meta:e.meta},F=b(O),G=Promise.resolve(F).then(function(W){return S(U,Z,W,ne)});if(e1(F)){var $=G;$.cancel=F.cancel}return G},M;if(!h.length)M=E([]);else if(f){var T=typeof c<"u",R=T?c:GL(e.options,h);M=E(h,T,R)}else if(d){var C=typeof c<"u",P=C?c:Lde(e.options,h);M=E(h,C,P,!0)}else(function(){v=[];var V=typeof e.options.getNextPageParam>"u",U=a&&h[0]?a(h[0],0,h):!0;M=U?E([],V,m[0]):Promise.resolve(S([],m[0],h[0]));for(var q=function(O){M=M.then(function(F){var G=a&&h[O]?a(h[O],O,h):!0;if(G){var $=V?m[O]:GL(e.options,F);return E(F,V,$)}return Promise.resolve(S(F,m[O],h[O]))})},Z=1;Z<h.length;Z++)q(Z)})();var D=M.then(function(V){return{pages:V,pageParams:v}}),z=D;return z.cancel=function(){_=!0,y==null||y.abort(),e1(M)&&M.cancel()},D}}}}function GL(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Lde(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var kde=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new Tde,this.mutationCache=n.mutationCache||new Pde,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Op.subscribe(function(){Op.isFocused()&&Zv.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Zv.subscribe(function(){Op.isFocused()&&Zv.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var o=Ll(r,i),s=o[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(r){return this.mutationCache.findAll(te({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,s=i.state,l=s.data;return[o,l]})},e.setQueryData=function(r,i,o){var s=Jv(r),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(i,o)},e.setQueriesData=function(r,i,o){var s=this;return Ir.batch(function(){return s.getQueryCache().findAll(r).map(function(l){var a=l.queryKey;return[a,s.setQueryData(a,i,o)]})})},e.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},e.removeQueries=function(r,i){var o=Ll(r,i),s=o[0],l=this.queryCache;Ir.batch(function(){l.findAll(s).forEach(function(a){l.remove(a)})})},e.resetQueries=function(r,i,o){var s=this,l=Ll(r,i,o),a=l[0],u=l[1],c=this.queryCache,f=te({},a,{active:!0});return Ir.batch(function(){return c.findAll(a).forEach(function(d){d.reset()}),s.refetchQueries(f,u)})},e.cancelQueries=function(r,i,o){var s=this,l=Ll(r,i,o),a=l[0],u=l[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var f=Ir.batch(function(){return s.queryCache.findAll(a).map(function(d){return d.cancel(c)})});return Promise.all(f).then(Li).catch(Li)},e.invalidateQueries=function(r,i,o){var s,l,a,u=this,c=Ll(r,i,o),f=c[0],d=c[1],h=te({},f,{active:(s=(l=f.refetchActive)!=null?l:f.active)!=null?s:!0,inactive:(a=f.refetchInactive)!=null?a:!1});return Ir.batch(function(){return u.queryCache.findAll(f).forEach(function(m){m.invalidate()}),u.refetchQueries(h,d)})},e.refetchQueries=function(r,i,o){var s=this,l=Ll(r,i,o),a=l[0],u=l[1],c=Ir.batch(function(){return s.queryCache.findAll(a).map(function(d){return d.fetch(void 0,te({},u,{meta:{refetchPage:a==null?void 0:a.refetchPage}}))})}),f=Promise.all(c).then(Li);return u!=null&&u.throwOnError||(f=f.catch(Li)),f},e.fetchQuery=function(r,i,o){var s=Jv(r,i,o),l=this.defaultQueryOptions(s);typeof l.retry>"u"&&(l.retry=!1);var a=this.queryCache.build(this,l);return a.isStaleByTime(l.staleTime)?a.fetch(l):Promise.resolve(a.state.data)},e.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(Li).catch(Li)},e.fetchInfiniteQuery=function(r,i,o){var s=Jv(r,i,o);return s.behavior=Ide(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(Li).catch(Li)},e.cancelMutations=function(){var r=this,i=Ir.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(Li).catch(Li)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(s){return sc(r)===sc(s.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return Jy(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(s){return sc(r)===sc(s.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return Jy(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=te({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=OT(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:te({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),Nde=function(t){Lc(e,t);function e(r,i){var o;return o=t.call(this)||this,o.client=r,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),HL(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return QE(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return QE(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,o){var s=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();var a=this.hasListeners();a&&VL(this.currentQuery,l,this.options,s)&&this.executeFetch(),this.updateResult(o),a&&(this.currentQuery!==l||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();a&&(this.currentQuery!==l||this.options.enabled!==s.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,o);return this.createResult(s,o)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,o){var s=this,l={},a=function(c){s.trackedProps.includes(c)||s.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return a(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&a("error"),l},n.getNextResult=function(i){var o=this;return new Promise(function(s,l){var a=o.subscribe(function(u){u.isFetching||(a(),u.isError&&(i!=null&&i.throwOnError)?l(u.error):s(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(te({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var o=this,s=this.client.defaultQueryObserverOptions(i),l=this.client.getQueryCache().build(this.client,s);return l.fetch().then(function(){return o.createResult(l,s)})},n.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},n.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(o=o.catch(Li)),o},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Ky||this.currentResult.isStale||!YE(this.options.staleTime))){var o=gB(this.currentResult.dataUpdatedAt,this.options.staleTime),s=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},s)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Ky||this.options.enabled===!1||!YE(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||Op.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,o){var s=this.currentQuery,l=this.options,a=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,f=i!==s,d=f?i.state:this.currentQueryInitialState,h=f?this.currentResult:this.previousQueryResult,m=i.state,y=m.dataUpdatedAt,x=m.error,v=m.errorUpdatedAt,_=m.isFetching,b=m.status,S=!1,E=!1,M;if(o.optimisticResults){var T=this.hasListeners(),R=!T&&HL(i,o),C=T&&VL(i,s,o,l);(R||C)&&(_=!0,y||(b="loading"))}if(o.keepPreviousData&&!m.dataUpdateCount&&(h!=null&&h.isSuccess)&&b!=="error")M=h.data,y=h.dataUpdatedAt,b=h.status,S=!0;else if(o.select&&typeof m.data<"u")if(a&&m.data===(u==null?void 0:u.data)&&o.select===this.selectFn)M=this.selectResult;else try{this.selectFn=o.select,M=o.select(m.data),o.structuralSharing!==!1&&(M=Zy(a==null?void 0:a.data,M)),this.selectResult=M,this.selectError=null}catch(z){t1().error(z),this.selectError=z}else M=m.data;if(typeof o.placeholderData<"u"&&typeof M>"u"&&(b==="loading"||b==="idle")){var P;if(a!=null&&a.isPlaceholderData&&o.placeholderData===(c==null?void 0:c.placeholderData))P=a.data;else if(P=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof P<"u")try{P=o.select(P),o.structuralSharing!==!1&&(P=Zy(a==null?void 0:a.data,P)),this.selectError=null}catch(z){t1().error(z),this.selectError=z}typeof P<"u"&&(b="success",M=P,E=!0)}this.selectError&&(x=this.selectError,M=this.selectResult,v=Date.now(),b="error");var D={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:M,dataUpdatedAt:y,error:x,errorUpdatedAt:v,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&b!=="loading",isLoadingError:b==="error"&&m.dataUpdatedAt===0,isPlaceholderData:E,isPreviousData:S,isRefetchError:b==="error"&&m.dataUpdatedAt!==0,isStale:FT(i,o),refetch:this.refetch,remove:this.remove};return D},n.shouldNotifyListeners=function(i,o){if(!o)return!0;var s=this.options,l=s.notifyOnChangeProps,a=s.notifyOnChangePropsExclusions;if(!l&&!a||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(i).some(function(c){var f=c,d=i[f]!==o[f],h=u==null?void 0:u.some(function(y){return y===c}),m=a==null?void 0:a.some(function(y){return y===c});return d&&!m&&(!u||h)})},n.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!yde(this.currentResult,o)){var s={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(s.listeners=!0),this.notify(te({},s,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o==null||o.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!ey(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var o=this;Ir.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(s){s(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},e}(fg);function Ode(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function HL(t,e){return Ode(t,e)||t.state.dataUpdatedAt>0&&QE(t,e,e.refetchOnMount)}function QE(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&FT(t,e)}return!1}function VL(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&FT(t,n)}function FT(t,e){return t.isStaleByTime(e.staleTime)}var Fde=tp.unstable_batchedUpdates;Ir.setBatchNotifyFunction(Fde);var Dde=console;Ede(Dde);var WL=Zn.createContext(void 0),SB=Zn.createContext(!1);function wB(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=WL),window.ReactQueryClientContext):WL}var Ude=function(){var e=Zn.useContext(wB(Zn.useContext(SB)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bde=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,o=e.children;Zn.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var s=wB(i);return Zn.createElement(SB.Provider,{value:i},Zn.createElement(s.Provider,{value:n},o))};function zde(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var Gde=Zn.createContext(zde()),Hde=function(){return Zn.useContext(Gde)};function Vde(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function Wde(t,e){var n=Zn.useRef(!1),r=Zn.useState(0),i=r[1],o=Ude(),s=Hde(),l=o.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=Ir.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=Ir.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=Ir.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(s.isReset()||(l.retryOnMount=!1));var a=Zn.useState(function(){return new e(o,l)}),u=a[0],c=u.getOptimisticResult(l);if(Zn.useEffect(function(){n.current=!0,s.clearReset();var f=u.subscribe(Ir.batchCalls(function(){n.current&&i(function(d){return d+1})}));return u.updateResult(),function(){n.current=!1,f()}},[s,u]),Zn.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&c.isLoading)throw u.fetchOptimistic(l).then(function(f){var d=f.data;l.onSuccess==null||l.onSuccess(d),l.onSettled==null||l.onSettled(d,null)}).catch(function(f){s.clearReset(),l.onError==null||l.onError(f),l.onSettled==null||l.onSettled(void 0,f)});if(c.isError&&!s.isReset()&&!c.isFetching&&Vde(l.suspense,l.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return l.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,l)),c}function jde(t,e,n){var r=Jv(t,e,n);return Wde(r,Nde)}const $de=new ue(0,-3,0),qde=()=>{const{playingState:t,setPlayingState:e}=Dc(),n=L.useCallback(()=>{e(o=>o==="playing"?"paused":"playing")},[e]),r=L.useCallback(o=>{o.code==="Space"&&(o.preventDefault(),o.stopPropagation(),n())},[n]);L.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const i={fontSize:120,stroke:"#55555555",strokeWidth:.1,color:"white"};return X.jsx(yn,{sx:{backgroundColor:"transparent",display:"flex"},children:X.jsx(yn,{flexGrow:1,children:X.jsx(io,{onClick:n,sx:{width:200,height:200},children:t==="playing"?X.jsx(pB,{sx:{...i,color:"#ffffff33"}}):X.jsx(mB,{sx:i})})})})},jL=[{title:"I thought about you",artist:"Miles davis",avatarPath:"/avatar/miles.jpeg",midiPath:"/midi_files/ithoughaboutyou.mid"},{title:"All the things you are",artist:"Bill evans",avatarPath:"/avatar/bill.jpeg",midiPath:"/midi_files/Allthethingsyouare.mid"},{title:"Prelude",artist:"Debussy",avatarPath:"/avatar/debussy.jpeg",midiPath:"/midi_files/deb_prel.mid"},{title:"Sonata No. 14 C# minor (Moonlight) , Opus 27/2 (1801)",artist:"Beethoven",avatarPath:"/avatar/beethoven.jpeg",midiPath:"/midi_files/mond_2_format0.mid"}],Xde=()=>{const[t,e]=L.useState(null),{playingState:n,setPlayingState:r}=Dc(),i=L.useRef(null),o=L.useRef(0),[s,l]=L.useState("INIT"),a=()=>{const h=L.useRef(0);return Ws(({clock:m})=>{h.current=m.getElapsedTime()}),X.jsx("mesh",{children:X.jsx(LT,{})})},u=L.useCallback(h=>{const m=new FileReader;m.onload=function(y){const x=y.target.result,v=new qy.Midi(x),_=$E(v);e(_),r("stopped")},h.length>0&&m.readAsArrayBuffer(h[0])},[r]),c=()=>{qi.start=null,qi.timer=0};jde("TMP",()=>{s==="INIT"&&f(jL[0])});const f=L.useCallback(h=>{c(),l("LOADING"),fetch("/demo/jukebox/"+h.midiPath).then(async m=>{if(m.ok){const y=new qy.Midi(await m.arrayBuffer()),x=$E(y);e(x),r("stopped"),l("DONE")}})},[r]),d=L.useCallback(h=>{const m=h/1e3;qi.start===null&&(qi.start=m,qi.last=m),n==="playing"&&(qi.timer+=m-qi.last,i.current.getNotesByTime(qi.timer).forEach(x=>{xL.noteOn(x.family,x.pitch,x.velocity,0),xL.noteOff(x.family,x.pitch,x.end_s-x.start_s)})),qi.last=m,o.current=requestAnimationFrame(d)},[n]);return L.useEffect(()=>(n==="playing"||n==="paused"?o.current=requestAnimationFrame(d):n==="stopped"&&(c(),cancelAnimationFrame(o.current)),()=>cancelAnimationFrame(o.current)),[n,d]),L.useEffect(()=>{i.current=new k5(t)},[t]),X.jsxs(yn,{display:"flex",flexDirection:"column",padding:0,children:[X.jsxs(yn,{flexGrow:1,minHeight:"100%",padding:0,children:[X.jsx(yn,{position:"absolute",paddingTop:5,left:["calc(100% - 100px)","calc(50% - 240px)"],width:["60px","480px"],top:["calc(100% - 120px)",0],zIndex:9999,children:X.jsx(zD,{onDrop:u})}),X.jsx(yn,{position:"absolute",zIndex:9999,sx:{background:"transparent"},children:X.jsx(ode,{playItems:jL,onSelect:f})}),X.jsxs("div",{style:{width:"100%",justifyContent:"center",display:"flex"},children:[X.jsx("div",{style:{width:"100vw",height:"100vh"},children:X.jsxs(vT,{onCreated:({gl:h})=>{h.localClippingEnabled=!0},camera:{position:[0,0,15],fov:55,near:.1,far:400},children:[X.jsx("ambientLight",{position:[-3,0,-3],intensity:.9}),X.jsx("pointLight",{position:[-13,10,0],intensity:.9}),X.jsx(yT,{children:X.jsxs(RT,{children:[X.jsx(a,{}),X.jsxs("group",{position:$de,children:[X.jsx(N5,{noteEvents:t||[]}),X.jsx(ST,{})]}),X.jsx(wT,{})]})})]})}),s==="DONE"&&X.jsx(yn,{position:"absolute",zIndex:9999,top:"calc(50vh - 120px)",bottom:"25%",children:X.jsx(qde,{})})]})]}),X.jsx(PF,{loading:s==="LOADING"})]})};cg.defaults.headers.common.Authorization="Bearer "+{}.VITE_API_KEY;cg.defaults.withCredentials=!0;const Yde=t=>X.jsxs(yT,{children:[t,X.jsx(wT,{})]}),Kde=t=>X.jsx(zfe,{children:t}),Qde=t=>X.jsx(Yfe,{children:t}),Jde=k7([{path:"/",element:X.jsx(kK,{}),children:[{index:!0,element:X.jsx(R7,{to:"/game",replace:!0})},{path:"game",element:Kde(Qde(Yde(X.jsx(ide,{}))))},{path:"twofiveone",element:X.jsx(NK,{})},{path:"playground",element:X.jsx(Dfe,{})},{path:"scale",children:[{path:"major",element:X.jsx(OK,{})}]}]},{path:"/demo/jukebox",element:X.jsx(_T,{children:X.jsx(Xde,{})})}]);function Zde(){return X.jsx(X.Fragment,{children:X.jsx(A7,{router:Jde})})}const ehe=new kde;IS.createRoot(document.getElementById("root")).render(X.jsx(Zn.StrictMode,{children:X.jsx(Bde,{client:ehe,children:X.jsx(Zde,{})})}));
