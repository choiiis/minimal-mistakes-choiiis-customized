var vB=Object.defineProperty;var yB=(t,e,n)=>e in t?vB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ys=(t,e,n)=>(yB(t,typeof e!="symbol"?e+"":e,n),n);function gL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var yL={exports:{}},zy={},xL={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=Symbol.for("react.element"),xB=Symbol.for("react.portal"),bB=Symbol.for("react.fragment"),_B=Symbol.for("react.strict_mode"),SB=Symbol.for("react.profiler"),wB=Symbol.for("react.provider"),EB=Symbol.for("react.context"),MB=Symbol.for("react.forward_ref"),TB=Symbol.for("react.suspense"),AB=Symbol.for("react.memo"),CB=Symbol.for("react.lazy"),HA=Symbol.iterator;function RB(t){return t===null||typeof t!="object"?null:(t=HA&&t[HA]||t["@@iterator"],typeof t=="function"?t:null)}var bL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_L=Object.assign,SL={};function kd(t,e,n){this.props=t,this.context=e,this.refs=SL,this.updater=n||bL}kd.prototype.isReactComponent={};kd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wL(){}wL.prototype=kd.prototype;function LE(t,e,n){this.props=t,this.context=e,this.refs=SL,this.updater=n||bL}var kE=LE.prototype=new wL;kE.constructor=LE;_L(kE,kd.prototype);kE.isPureReactComponent=!0;var VA=Array.isArray,EL=Object.prototype.hasOwnProperty,NE={current:null},ML={key:!0,ref:!0,__self:!0,__source:!0};function TL(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)EL.call(e,r)&&!ML.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wm,type:t,key:o,ref:s,props:i,_owner:NE.current}}function PB(t,e){return{$$typeof:wm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OE(t){return typeof t=="object"&&t!==null&&t.$$typeof===wm}function IB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WA=/\/+/g;function Cb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IB(""+t.key):e.toString(36)}function uv(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case wm:case xB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Cb(s,0):r,VA(i)?(n="",t!=null&&(n=t.replace(WA,"$&/")+"/"),uv(i,e,n,"",function(c){return c})):i!=null&&(OE(i)&&(i=PB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(WA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",VA(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Cb(o,l);s+=uv(o,e,n,a,i)}else if(a=RB(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Cb(o,l++),s+=uv(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hg(t,e,n){if(t==null)return t;var r=[],i=0;return uv(t,r,"","",function(o){return e.call(n,o,i++)}),r}function LB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xi={current:null},fv={transition:null},kB={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:fv,ReactCurrentOwner:NE};pn.Children={map:Hg,forEach:function(t,e,n){Hg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hg(t,function(){e++}),e},toArray:function(t){return Hg(t,function(e){return e})||[]},only:function(t){if(!OE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pn.Component=kd;pn.Fragment=bB;pn.Profiler=SB;pn.PureComponent=LE;pn.StrictMode=_B;pn.Suspense=TB;pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kB;pn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_L({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=NE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)EL.call(e,a)&&!ML.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:wm,type:t.type,key:i,ref:o,props:r,_owner:s}};pn.createContext=function(t){return t={$$typeof:EB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wB,_context:t},t.Consumer=t};pn.createElement=TL;pn.createFactory=function(t){var e=TL.bind(null,t);return e.type=t,e};pn.createRef=function(){return{current:null}};pn.forwardRef=function(t){return{$$typeof:MB,render:t}};pn.isValidElement=OE;pn.lazy=function(t){return{$$typeof:CB,_payload:{_status:-1,_result:t},_init:LB}};pn.memo=function(t,e){return{$$typeof:AB,type:t,compare:e===void 0?null:e}};pn.startTransition=function(t){var e=fv.transition;fv.transition={};try{t()}finally{fv.transition=e}};pn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pn.useCallback=function(t,e){return Xi.current.useCallback(t,e)};pn.useContext=function(t){return Xi.current.useContext(t)};pn.useDebugValue=function(){};pn.useDeferredValue=function(t){return Xi.current.useDeferredValue(t)};pn.useEffect=function(t,e){return Xi.current.useEffect(t,e)};pn.useId=function(){return Xi.current.useId()};pn.useImperativeHandle=function(t,e,n){return Xi.current.useImperativeHandle(t,e,n)};pn.useInsertionEffect=function(t,e){return Xi.current.useInsertionEffect(t,e)};pn.useLayoutEffect=function(t,e){return Xi.current.useLayoutEffect(t,e)};pn.useMemo=function(t,e){return Xi.current.useMemo(t,e)};pn.useReducer=function(t,e,n){return Xi.current.useReducer(t,e,n)};pn.useRef=function(t){return Xi.current.useRef(t)};pn.useState=function(t){return Xi.current.useState(t)};pn.useSyncExternalStore=function(t,e,n){return Xi.current.useSyncExternalStore(t,e,n)};pn.useTransition=function(){return Xi.current.useTransition()};pn.version="18.2.0";xL.exports=pn;var L=xL.exports;const Mo=Ld(L),jv=gL({__proto__:null,default:Mo},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NB=L,OB=Symbol.for("react.element"),FB=Symbol.for("react.fragment"),DB=Object.prototype.hasOwnProperty,UB=NB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BB={key:!0,ref:!0,__self:!0,__source:!0};function AL(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)DB.call(e,r)&&!BB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OB,type:t,key:o,ref:s,props:i,_owner:UB.current}}zy.Fragment=FB;zy.jsx=AL;zy.jsxs=AL;yL.exports=zy;var q=yL.exports,pS={},CL={exports:{}},ko={},RL={exports:{}},PL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var H=O.length;O.push(D);e:for(;0<H;){var $=H-1>>>1,W=O[$];if(0<i(W,D))O[$]=D,O[H]=W,H=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],H=O.pop();if(H!==D){O[0]=H;e:for(var $=0,W=O.length,ie=W>>>1;$<ie;){var j=2*($+1)-1,Y=O[j],K=j+1,fe=O[K];if(0>i(Y,H))K<W&&0>i(fe,Y)?(O[$]=fe,O[K]=H,$=K):(O[$]=Y,O[j]=H,$=j);else if(K<W&&0>i(fe,H))O[$]=fe,O[K]=H,$=K;else break e}}return D}function i(O,D){var H=O.sortIndex-D.sortIndex;return H!==0?H:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,f=null,d=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=O)r(c),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(c)}}function S(O){if(y=!1,_(O),!g)if(n(a)!==null)g=!0,ee(E);else{var D=n(c);D!==null&&te(S,D.startTime-O)}}function E(O,D){g=!1,y&&(y=!1,v(R),R=-1),p=!0;var H=d;try{for(_(D),f=n(a);f!==null&&(!(f.expirationTime>D)||O&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var W=$(f.expirationTime<=D);D=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(a)&&r(a),_(D)}else r(a);f=n(a)}if(f!==null)var ie=!0;else{var j=n(c);j!==null&&te(S,j.startTime-D),ie=!1}return ie}finally{f=null,d=H,p=!1}}var M=!1,T=null,R=-1,C=5,P=-1;function F(){return!(t.unstable_now()-P<C)}function G(){if(T!==null){var O=t.unstable_now();P=O;var D=!0;try{D=T(!0,O)}finally{D?V():(M=!1,T=null)}}else M=!1}var V;if(typeof b=="function")V=function(){b(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=G,V=function(){X.postMessage(null)}}else V=function(){x(G,0)};function ee(O){T=O,M||(M=!0,V())}function te(O,D){R=x(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ee(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var H=d;d=D;try{return O()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return D()}finally{d=H}},t.unstable_scheduleCallback=function(O,D,H){var $=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?$+H:$):H=$,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,O={id:u++,callback:D,priorityLevel:O,startTime:H,expirationTime:W,sortIndex:-1},H>$?(O.sortIndex=H,e(c,O),n(a)===null&&O===n(c)&&(y?(v(R),R=-1):y=!0,te(S,H-$))):(O.sortIndex=W,e(a,O),g||p||(g=!0,ee(E))),O},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(O){var D=d;return function(){var H=d;d=D;try{return O.apply(this,arguments)}finally{d=H}}}})(PL);RL.exports=PL;var zB=RL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL=L,Lo=zB;function lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LL=new Set,Ip={};function Tu(t,e){pd(t,e),pd(t+"Capture",e)}function pd(t,e){for(Ip[t]=e,t=0;t<e.length;t++)LL.add(e[t])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mS=Object.prototype.hasOwnProperty,GB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jA={},$A={};function HB(t){return mS.call($A,t)?!0:mS.call(jA,t)?!1:GB.test(t)?$A[t]=!0:(jA[t]=!0,!1)}function VB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WB(t,e,n,r){if(e===null||typeof e>"u"||VB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yi[t]=new qi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yi[e]=new qi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yi[t]=new qi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yi[t]=new qi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yi[t]=new qi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yi[t]=new qi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yi[t]=new qi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yi[t]=new qi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yi[t]=new qi(t,5,!1,t.toLowerCase(),null,!1,!1)});var FE=/[\-:]([a-z])/g;function DE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FE,DE);yi[e]=new qi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FE,DE);yi[e]=new qi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FE,DE);yi[e]=new qi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yi[t]=new qi(t,1,!1,t.toLowerCase(),null,!1,!1)});yi.xlinkHref=new qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yi[t]=new qi(t,1,!1,t.toLowerCase(),null,!0,!0)});function UE(t,e,n,r){var i=yi.hasOwnProperty(e)?yi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WB(e,n,i,r)&&(n=null),r||i===null?HB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var el=IL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vg=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),BE=Symbol.for("react.strict_mode"),gS=Symbol.for("react.profiler"),kL=Symbol.for("react.provider"),NL=Symbol.for("react.context"),zE=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),yS=Symbol.for("react.suspense_list"),GE=Symbol.for("react.memo"),Rl=Symbol.for("react.lazy"),OL=Symbol.for("react.offscreen"),XA=Symbol.iterator;function mh(t){return t===null||typeof t!="object"?null:(t=XA&&t[XA]||t["@@iterator"],typeof t=="function"?t:null)}var wr=Object.assign,Rb;function Xh(t){if(Rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rb=e&&e[1]||""}return`
`+Rb+t}var Pb=!1;function Ib(t,e){if(!t||Pb)return"";Pb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Pb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xh(t):""}function jB(t){switch(t.tag){case 5:return Xh(t.type);case 16:return Xh("Lazy");case 13:return Xh("Suspense");case 19:return Xh("SuspenseList");case 0:case 2:case 15:return t=Ib(t.type,!1),t;case 11:return t=Ib(t.type.render,!1),t;case 1:return t=Ib(t.type,!0),t;default:return""}}function xS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Of:return"Fragment";case Nf:return"Portal";case gS:return"Profiler";case BE:return"StrictMode";case vS:return"Suspense";case yS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NL:return(t.displayName||"Context")+".Consumer";case kL:return(t._context.displayName||"Context")+".Provider";case zE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GE:return e=t.displayName||null,e!==null?e:xS(t.type)||"Memo";case Rl:e=t._payload,t=t._init;try{return xS(t(e))}catch{}}return null}function $B(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xS(e);case 8:return e===BE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XB(t){var e=FL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wg(t){t._valueTracker||(t._valueTracker=XB(t))}function DL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $v(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bS(t,e){var n=e.checked;return wr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UL(t,e){e=e.checked,e!=null&&UE(t,"checked",e,!1)}function _S(t,e){UL(t,e);var n=Kl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?SS(t,e.type,n):e.hasOwnProperty("defaultValue")&&SS(t,e.type,Kl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function SS(t,e,n){(e!=="number"||$v(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qh=Array.isArray;function nd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return wr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(lt(92));if(qh(n)){if(1<n.length)throw Error(lt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kl(n)}}function BL(t,e){var n=Kl(e.value),r=Kl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function JA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ES(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jg,GL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jg=jg||document.createElement("div"),jg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qB=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(t){qB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),op[e]=op[t]})});function HL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||op.hasOwnProperty(t)&&op[t]?(""+e).trim():e+"px"}function VL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YB=wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MS(t,e){if(e){if(YB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function TS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AS=null;function HE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CS=null,rd=null,id=null;function ZA(t){if(t=Tm(t)){if(typeof CS!="function")throw Error(lt(280));var e=t.stateNode;e&&(e=jy(e),CS(t.stateNode,t.type,e))}}function WL(t){rd?id?id.push(t):id=[t]:rd=t}function jL(){if(rd){var t=rd,e=id;if(id=rd=null,ZA(t),e)for(t=0;t<e.length;t++)ZA(e[t])}}function $L(t,e){return t(e)}function XL(){}var Lb=!1;function qL(t,e,n){if(Lb)return t(e,n);Lb=!0;try{return $L(t,e,n)}finally{Lb=!1,(rd!==null||id!==null)&&(XL(),jL())}}function kp(t,e){var n=t.stateNode;if(n===null)return null;var r=jy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(lt(231,e,typeof n));return n}var RS=!1;if(Ya)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){RS=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{RS=!1}function KB(t,e,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var sp=!1,Xv=null,qv=!1,PS=null,JB={onError:function(t){sp=!0,Xv=t}};function ZB(t,e,n,r,i,o,s,l,a){sp=!1,Xv=null,KB.apply(JB,arguments)}function QB(t,e,n,r,i,o,s,l,a){if(ZB.apply(this,arguments),sp){if(sp){var c=Xv;sp=!1,Xv=null}else throw Error(lt(198));qv||(qv=!0,PS=c)}}function Au(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QA(t){if(Au(t)!==t)throw Error(lt(188))}function e6(t){var e=t.alternate;if(!e){if(e=Au(t),e===null)throw Error(lt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return QA(i),t;if(o===r)return QA(i),e;o=o.sibling}throw Error(lt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(lt(189))}}if(n.alternate!==r)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?t:e}function KL(t){return t=e6(t),t!==null?JL(t):null}function JL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JL(t);if(e!==null)return e;t=t.sibling}return null}var ZL=Lo.unstable_scheduleCallback,eC=Lo.unstable_cancelCallback,t6=Lo.unstable_shouldYield,n6=Lo.unstable_requestPaint,Ur=Lo.unstable_now,r6=Lo.unstable_getCurrentPriorityLevel,VE=Lo.unstable_ImmediatePriority,QL=Lo.unstable_UserBlockingPriority,Yv=Lo.unstable_NormalPriority,i6=Lo.unstable_LowPriority,ek=Lo.unstable_IdlePriority,Gy=null,ua=null;function o6(t){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(Gy,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:l6,s6=Math.log,a6=Math.LN2;function l6(t){return t>>>=0,t===0?32:31-(s6(t)/a6|0)|0}var $g=64,Xg=4194304;function Yh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Yh(l):(o&=s,o!==0&&(r=Yh(o)))}else s=n&~i,s!==0?r=Yh(s):o!==0&&(r=Yh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ls(e),i=1<<n,r|=t[n],e&=~i;return r}function c6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ls(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=c6(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function IS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tk(){var t=$g;return $g<<=1,!($g&4194240)&&($g=64),t}function kb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Em(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=n}function f6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ls(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function WE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ls(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wn=0;function nk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rk,jE,ik,ok,sk,LS=!1,qg=[],Fl=null,Dl=null,Ul=null,Np=new Map,Op=new Map,Il=[],d6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tC(t,e){switch(t){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Dl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(e.pointerId)}}function vh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Tm(e),e!==null&&jE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function h6(t,e,n,r,i){switch(e){case"focusin":return Fl=vh(Fl,t,e,n,r,i),!0;case"dragenter":return Dl=vh(Dl,t,e,n,r,i),!0;case"mouseover":return Ul=vh(Ul,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Np.set(o,vh(Np.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Op.set(o,vh(Op.get(o)||null,t,e,n,r,i)),!0}return!1}function ak(t){var e=Yc(t.target);if(e!==null){var n=Au(e);if(n!==null){if(e=n.tag,e===13){if(e=YL(n),e!==null){t.blockedOn=e,sk(t.priority,function(){ik(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);AS=r,n.target.dispatchEvent(r),AS=null}else return e=Tm(n),e!==null&&jE(e),t.blockedOn=n,!1;e.shift()}return!0}function nC(t,e,n){dv(t)&&n.delete(e)}function p6(){LS=!1,Fl!==null&&dv(Fl)&&(Fl=null),Dl!==null&&dv(Dl)&&(Dl=null),Ul!==null&&dv(Ul)&&(Ul=null),Np.forEach(nC),Op.forEach(nC)}function yh(t,e){t.blockedOn===e&&(t.blockedOn=null,LS||(LS=!0,Lo.unstable_scheduleCallback(Lo.unstable_NormalPriority,p6)))}function Fp(t){function e(i){return yh(i,t)}if(0<qg.length){yh(qg[0],t);for(var n=1;n<qg.length;n++){var r=qg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fl!==null&&yh(Fl,t),Dl!==null&&yh(Dl,t),Ul!==null&&yh(Ul,t),Np.forEach(e),Op.forEach(e),n=0;n<Il.length;n++)r=Il[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)ak(n),n.blockedOn===null&&Il.shift()}var od=el.ReactCurrentBatchConfig,Jv=!0;function m6(t,e,n,r){var i=Wn,o=od.transition;od.transition=null;try{Wn=1,$E(t,e,n,r)}finally{Wn=i,od.transition=o}}function g6(t,e,n,r){var i=Wn,o=od.transition;od.transition=null;try{Wn=4,$E(t,e,n,r)}finally{Wn=i,od.transition=o}}function $E(t,e,n,r){if(Jv){var i=kS(t,e,n,r);if(i===null)Vb(t,e,r,Zv,n),tC(t,r);else if(h6(i,t,e,n,r))r.stopPropagation();else if(tC(t,r),e&4&&-1<d6.indexOf(t)){for(;i!==null;){var o=Tm(i);if(o!==null&&rk(o),o=kS(t,e,n,r),o===null&&Vb(t,e,r,Zv,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vb(t,e,r,null,n)}}var Zv=null;function kS(t,e,n,r){if(Zv=null,t=HE(r),t=Yc(t),t!==null)if(e=Au(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zv=t,null}function lk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r6()){case VE:return 1;case QL:return 4;case Yv:case i6:return 16;case ek:return 536870912;default:return 16}default:return 16}}var Nl=null,XE=null,hv=null;function ck(){if(hv)return hv;var t,e=XE,n=e.length,r,i="value"in Nl?Nl.value:Nl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hv=i.slice(t,1<r?1-r:void 0)}function pv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yg(){return!0}function rC(){return!1}function No(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yg:rC,this.isPropagationStopped=rC,this}return wr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),e}var Nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qE=No(Nd),Mm=wr({},Nd,{view:0,detail:0}),v6=No(Mm),Nb,Ob,xh,Hy=wr({},Mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xh&&(xh&&t.type==="mousemove"?(Nb=t.screenX-xh.screenX,Ob=t.screenY-xh.screenY):Ob=Nb=0,xh=t),Nb)},movementY:function(t){return"movementY"in t?t.movementY:Ob}}),iC=No(Hy),y6=wr({},Hy,{dataTransfer:0}),x6=No(y6),b6=wr({},Mm,{relatedTarget:0}),Fb=No(b6),_6=wr({},Nd,{animationName:0,elapsedTime:0,pseudoElement:0}),S6=No(_6),w6=wr({},Nd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E6=No(w6),M6=wr({},Nd,{data:0}),oC=No(M6),T6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C6[t])?!!e[t]:!1}function YE(){return R6}var P6=wr({},Mm,{key:function(t){if(t.key){var e=T6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YE,charCode:function(t){return t.type==="keypress"?pv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I6=No(P6),L6=wr({},Hy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sC=No(L6),k6=wr({},Mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YE}),N6=No(k6),O6=wr({},Nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),F6=No(O6),D6=wr({},Hy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=No(D6),B6=[9,13,27,32],KE=Ya&&"CompositionEvent"in window,ap=null;Ya&&"documentMode"in document&&(ap=document.documentMode);var z6=Ya&&"TextEvent"in window&&!ap,uk=Ya&&(!KE||ap&&8<ap&&11>=ap),aC=String.fromCharCode(32),lC=!1;function fk(t,e){switch(t){case"keyup":return B6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ff=!1;function G6(t,e){switch(t){case"compositionend":return dk(e);case"keypress":return e.which!==32?null:(lC=!0,aC);case"textInput":return t=e.data,t===aC&&lC?null:t;default:return null}}function H6(t,e){if(Ff)return t==="compositionend"||!KE&&fk(t,e)?(t=ck(),hv=XE=Nl=null,Ff=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uk&&e.locale!=="ko"?null:e.data;default:return null}}var V6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V6[t.type]:e==="textarea"}function hk(t,e,n,r){WL(r),e=Qv(e,"onChange"),0<e.length&&(n=new qE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lp=null,Dp=null;function W6(t){Ek(t,0)}function Vy(t){var e=Bf(t);if(DL(e))return t}function j6(t,e){if(t==="change")return e}var pk=!1;if(Ya){var Db;if(Ya){var Ub="oninput"in document;if(!Ub){var uC=document.createElement("div");uC.setAttribute("oninput","return;"),Ub=typeof uC.oninput=="function"}Db=Ub}else Db=!1;pk=Db&&(!document.documentMode||9<document.documentMode)}function fC(){lp&&(lp.detachEvent("onpropertychange",mk),Dp=lp=null)}function mk(t){if(t.propertyName==="value"&&Vy(Dp)){var e=[];hk(e,Dp,t,HE(t)),qL(W6,e)}}function $6(t,e,n){t==="focusin"?(fC(),lp=e,Dp=n,lp.attachEvent("onpropertychange",mk)):t==="focusout"&&fC()}function X6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vy(Dp)}function q6(t,e){if(t==="click")return Vy(e)}function Y6(t,e){if(t==="input"||t==="change")return Vy(e)}function K6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Os=typeof Object.is=="function"?Object.is:K6;function Up(t,e){if(Os(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mS.call(e,i)||!Os(t[i],e[i]))return!1}return!0}function dC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hC(t,e){var n=dC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dC(n)}}function gk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vk(){for(var t=window,e=$v();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$v(t.document)}return e}function JE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J6(t){var e=vk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gk(n.ownerDocument.documentElement,n)){if(r!==null&&JE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hC(n,o);var s=hC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z6=Ya&&"documentMode"in document&&11>=document.documentMode,Df=null,NS=null,cp=null,OS=!1;function pC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;OS||Df==null||Df!==$v(r)||(r=Df,"selectionStart"in r&&JE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cp&&Up(cp,r)||(cp=r,r=Qv(NS,"onSelect"),0<r.length&&(e=new qE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Df)))}function Kg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uf={animationend:Kg("Animation","AnimationEnd"),animationiteration:Kg("Animation","AnimationIteration"),animationstart:Kg("Animation","AnimationStart"),transitionend:Kg("Transition","TransitionEnd")},Bb={},yk={};Ya&&(yk=document.createElement("div").style,"AnimationEvent"in window||(delete Uf.animationend.animation,delete Uf.animationiteration.animation,delete Uf.animationstart.animation),"TransitionEvent"in window||delete Uf.transitionend.transition);function Wy(t){if(Bb[t])return Bb[t];if(!Uf[t])return t;var e=Uf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yk)return Bb[t]=e[n];return t}var xk=Wy("animationend"),bk=Wy("animationiteration"),_k=Wy("animationstart"),Sk=Wy("transitionend"),wk=new Map,mC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(t,e){wk.set(t,e),Tu(e,[t])}for(var zb=0;zb<mC.length;zb++){var Gb=mC[zb],Q6=Gb.toLowerCase(),ez=Gb[0].toUpperCase()+Gb.slice(1);ic(Q6,"on"+ez)}ic(xk,"onAnimationEnd");ic(bk,"onAnimationIteration");ic(_k,"onAnimationStart");ic("dblclick","onDoubleClick");ic("focusin","onFocus");ic("focusout","onBlur");ic(Sk,"onTransitionEnd");pd("onMouseEnter",["mouseout","mouseover"]);pd("onMouseLeave",["mouseout","mouseover"]);pd("onPointerEnter",["pointerout","pointerover"]);pd("onPointerLeave",["pointerout","pointerover"]);Tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kh));function gC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QB(r,e,void 0,t),t.currentTarget=null}function Ek(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;gC(i,l,c),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;gC(i,l,c),o=a}}}if(qv)throw t=PS,qv=!1,PS=null,t}function sr(t,e){var n=e[zS];n===void 0&&(n=e[zS]=new Set);var r=t+"__bubble";n.has(r)||(Mk(e,t,2,!1),n.add(r))}function Hb(t,e,n){var r=0;e&&(r|=4),Mk(n,t,r,e)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function Bp(t){if(!t[Jg]){t[Jg]=!0,LL.forEach(function(n){n!=="selectionchange"&&(tz.has(n)||Hb(n,!1,t),Hb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jg]||(e[Jg]=!0,Hb("selectionchange",!1,e))}}function Mk(t,e,n,r){switch(lk(e)){case 1:var i=m6;break;case 4:i=g6;break;default:i=$E}n=i.bind(null,e,n,t),i=void 0,!RS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Yc(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}qL(function(){var c=o,u=HE(n),f=[];e:{var d=wk.get(t);if(d!==void 0){var p=qE,g=t;switch(t){case"keypress":if(pv(n)===0)break e;case"keydown":case"keyup":p=I6;break;case"focusin":g="focus",p=Fb;break;case"focusout":g="blur",p=Fb;break;case"beforeblur":case"afterblur":p=Fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=x6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=N6;break;case xk:case bk:case _k:p=S6;break;case Sk:p=F6;break;case"scroll":p=v6;break;case"wheel":p=U6;break;case"copy":case"cut":case"paste":p=E6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sC}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var b=c,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=kp(b,v),S!=null&&y.push(zp(b,S,_)))),x)break;b=b.return}0<y.length&&(d=new p(d,g,null,n,u),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==AS&&(g=n.relatedTarget||n.fromElement)&&(Yc(g)||g[Ka]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Yc(g):null,g!==null&&(x=Au(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=iC,S="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=sC,S="onPointerLeave",v="onPointerEnter",b="pointer"),x=p==null?d:Bf(p),_=g==null?d:Bf(g),d=new y(S,b+"leave",p,n,u),d.target=x,d.relatedTarget=_,S=null,Yc(u)===c&&(y=new y(v,b+"enter",g,n,u),y.target=_,y.relatedTarget=x,S=y),x=S,p&&g)t:{for(y=p,v=g,b=0,_=y;_;_=$u(_))b++;for(_=0,S=v;S;S=$u(S))_++;for(;0<b-_;)y=$u(y),b--;for(;0<_-b;)v=$u(v),_--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=$u(y),v=$u(v)}y=null}else y=null;p!==null&&vC(f,d,p,y,!1),g!==null&&x!==null&&vC(f,x,g,y,!0)}}e:{if(d=c?Bf(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=j6;else if(cC(d))if(pk)E=Y6;else{E=X6;var M=$6}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=q6);if(E&&(E=E(t,c))){hk(f,E,n,u);break e}M&&M(t,d,c),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&SS(d,"number",d.value)}switch(M=c?Bf(c):window,t){case"focusin":(cC(M)||M.contentEditable==="true")&&(Df=M,NS=c,cp=null);break;case"focusout":cp=NS=Df=null;break;case"mousedown":OS=!0;break;case"contextmenu":case"mouseup":case"dragend":OS=!1,pC(f,n,u);break;case"selectionchange":if(Z6)break;case"keydown":case"keyup":pC(f,n,u)}var T;if(KE)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ff?fk(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(uk&&n.locale!=="ko"&&(Ff||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ff&&(T=ck()):(Nl=u,XE="value"in Nl?Nl.value:Nl.textContent,Ff=!0)),M=Qv(c,R),0<M.length&&(R=new oC(R,t,null,n,u),f.push({event:R,listeners:M}),T?R.data=T:(T=dk(n),T!==null&&(R.data=T)))),(T=z6?G6(t,n):H6(t,n))&&(c=Qv(c,"onBeforeInput"),0<c.length&&(u=new oC("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}Ek(f,e)})}function zp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kp(t,n),o!=null&&r.unshift(zp(t,o,i)),o=kp(t,e),o!=null&&r.push(zp(t,o,i))),t=t.return}return r}function $u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=kp(n,o),a!=null&&s.unshift(zp(n,a,l))):i||(a=kp(n,o),a!=null&&s.push(zp(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var nz=/\r\n?/g,rz=/\u0000|\uFFFD/g;function yC(t){return(typeof t=="string"?t:""+t).replace(nz,`
`).replace(rz,"")}function Zg(t,e,n){if(e=yC(e),yC(t)!==e&&n)throw Error(lt(425))}function ey(){}var FS=null,DS=null;function US(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BS=typeof setTimeout=="function"?setTimeout:void 0,iz=typeof clearTimeout=="function"?clearTimeout:void 0,xC=typeof Promise=="function"?Promise:void 0,oz=typeof queueMicrotask=="function"?queueMicrotask:typeof xC<"u"?function(t){return xC.resolve(null).then(t).catch(sz)}:BS;function sz(t){setTimeout(function(){throw t})}function Wb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fp(e)}function Bl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Od=Math.random().toString(36).slice(2),na="__reactFiber$"+Od,Gp="__reactProps$"+Od,Ka="__reactContainer$"+Od,zS="__reactEvents$"+Od,az="__reactListeners$"+Od,lz="__reactHandles$"+Od;function Yc(t){var e=t[na];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ka]||n[na]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bC(t);t!==null;){if(n=t[na])return n;t=bC(t)}return e}t=n,n=t.parentNode}return null}function Tm(t){return t=t[na]||t[Ka],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(lt(33))}function jy(t){return t[Gp]||null}var GS=[],zf=-1;function oc(t){return{current:t}}function ar(t){0>zf||(t.current=GS[zf],GS[zf]=null,zf--)}function tr(t,e){zf++,GS[zf]=t.current,t.current=e}var Jl={},Oi=oc(Jl),so=oc(!1),fu=Jl;function md(t,e){var n=t.type.contextTypes;if(!n)return Jl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ao(t){return t=t.childContextTypes,t!=null}function ty(){ar(so),ar(Oi)}function _C(t,e,n){if(Oi.current!==Jl)throw Error(lt(168));tr(Oi,e),tr(so,n)}function Tk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(lt(108,$B(t)||"Unknown",i));return wr({},n,r)}function ny(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jl,fu=Oi.current,tr(Oi,t),tr(so,so.current),!0}function SC(t,e,n){var r=t.stateNode;if(!r)throw Error(lt(169));n?(t=Tk(t,e,fu),r.__reactInternalMemoizedMergedChildContext=t,ar(so),ar(Oi),tr(Oi,t)):ar(so),tr(so,n)}var za=null,$y=!1,jb=!1;function Ak(t){za===null?za=[t]:za.push(t)}function cz(t){$y=!0,Ak(t)}function sc(){if(!jb&&za!==null){jb=!0;var t=0,e=Wn;try{var n=za;for(Wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}za=null,$y=!1}catch(i){throw za!==null&&(za=za.slice(t+1)),ZL(VE,sc),i}finally{Wn=e,jb=!1}}return null}var Gf=[],Hf=0,ry=null,iy=0,Zo=[],Qo=0,du=null,Va=1,Wa="";function Uc(t,e){Gf[Hf++]=iy,Gf[Hf++]=ry,ry=t,iy=e}function Ck(t,e,n){Zo[Qo++]=Va,Zo[Qo++]=Wa,Zo[Qo++]=du,du=t;var r=Va;t=Wa;var i=32-Ls(r)-1;r&=~(1<<i),n+=1;var o=32-Ls(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Va=1<<32-Ls(e)+i|n<<i|r,Wa=o+t}else Va=1<<o|n<<i|r,Wa=t}function ZE(t){t.return!==null&&(Uc(t,1),Ck(t,1,0))}function QE(t){for(;t===ry;)ry=Gf[--Hf],Gf[Hf]=null,iy=Gf[--Hf],Gf[Hf]=null;for(;t===du;)du=Zo[--Qo],Zo[Qo]=null,Wa=Zo[--Qo],Zo[Qo]=null,Va=Zo[--Qo],Zo[Qo]=null}var Ro=null,To=null,hr=!1,Rs=null;function Rk(t,e){var n=es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ro=t,To=Bl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ro=t,To=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=du!==null?{id:Va,overflow:Wa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ro=t,To=null,!0):!1;default:return!1}}function HS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function VS(t){if(hr){var e=To;if(e){var n=e;if(!wC(t,e)){if(HS(t))throw Error(lt(418));e=Bl(n.nextSibling);var r=Ro;e&&wC(t,e)?Rk(r,n):(t.flags=t.flags&-4097|2,hr=!1,Ro=t)}}else{if(HS(t))throw Error(lt(418));t.flags=t.flags&-4097|2,hr=!1,Ro=t}}}function EC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ro=t}function Qg(t){if(t!==Ro)return!1;if(!hr)return EC(t),hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!US(t.type,t.memoizedProps)),e&&(e=To)){if(HS(t))throw Pk(),Error(lt(418));for(;e;)Rk(t,e),e=Bl(e.nextSibling)}if(EC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(lt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){To=Bl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}To=null}}else To=Ro?Bl(t.stateNode.nextSibling):null;return!0}function Pk(){for(var t=To;t;)t=Bl(t.nextSibling)}function gd(){To=Ro=null,hr=!1}function eM(t){Rs===null?Rs=[t]:Rs.push(t)}var uz=el.ReactCurrentBatchConfig;function ws(t,e){if(t&&t.defaultProps){e=wr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var oy=oc(null),sy=null,Vf=null,tM=null;function nM(){tM=Vf=sy=null}function rM(t){var e=oy.current;ar(oy),t._currentValue=e}function WS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sd(t,e){sy=t,tM=Vf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oo=!0),t.firstContext=null)}function is(t){var e=t._currentValue;if(tM!==t)if(t={context:t,memoizedValue:e,next:null},Vf===null){if(sy===null)throw Error(lt(308));Vf=t,sy.dependencies={lanes:0,firstContext:t}}else Vf=Vf.next=t;return e}var Kc=null;function iM(t){Kc===null?Kc=[t]:Kc.push(t)}function Ik(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,iM(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ja(t,r)}function Ja(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pl=!1;function oM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $a(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ja(t,n)}return i=r.interleaved,i===null?(e.next=e,iM(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ja(t,n)}function mv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,WE(t,n)}}function MC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ay(t,e,n,r){var i=t.updateQueue;Pl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,u=c=a=null,l=o;do{var d=l.lane,p=l.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(d=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=wr({},f,d);break e;case 2:Pl=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=p,a=f):u=u.next=p,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pu|=s,t.lanes=s,t.memoizedState=f}}function TC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(lt(191,i));i.call(r)}}}var kk=new IL.Component().refs;function jS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xy={isMounted:function(t){return(t=t._reactInternals)?Au(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ji(),i=Hl(t),o=$a(r,i);o.payload=e,n!=null&&(o.callback=n),e=zl(t,o,i),e!==null&&(ks(e,t,i,r),mv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ji(),i=Hl(t),o=$a(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zl(t,o,i),e!==null&&(ks(e,t,i,r),mv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ji(),r=Hl(t),i=$a(n,r);i.tag=2,e!=null&&(i.callback=e),e=zl(t,i,r),e!==null&&(ks(e,t,r,n),mv(e,t,r))}};function AC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Up(n,r)||!Up(i,o):!0}function Nk(t,e,n){var r=!1,i=Jl,o=e.contextType;return typeof o=="object"&&o!==null?o=is(o):(i=ao(e)?fu:Oi.current,r=e.contextTypes,o=(r=r!=null)?md(t,i):Jl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function CC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xy.enqueueReplaceState(e,e.state,null)}function $S(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kk,oM(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=is(o):(o=ao(e)?fu:Oi.current,i.context=md(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(jS(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xy.enqueueReplaceState(i,i.state,null),ay(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var r=n.stateNode}if(!r)throw Error(lt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===kk&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,t))}return t}function e0(t,e){throw t=Object.prototype.toString.call(e),Error(lt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RC(t){var e=t._init;return e(t._payload)}function Ok(t){function e(v,b){if(t){var _=v.deletions;_===null?(v.deletions=[b],v.flags|=16):_.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Vl(v,b),v.index=0,v.sibling=null,v}function o(v,b,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<b?(v.flags|=2,b):_):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,b,_,S){return b===null||b.tag!==6?(b=Zb(_,v.mode,S),b.return=v,b):(b=i(b,_),b.return=v,b)}function a(v,b,_,S){var E=_.type;return E===Of?u(v,b,_.props.children,S,_.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rl&&RC(E)===b.type)?(S=i(b,_.props),S.ref=bh(v,b,_),S.return=v,S):(S=_v(_.type,_.key,_.props,null,v.mode,S),S.ref=bh(v,b,_),S.return=v,S)}function c(v,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Qb(_,v.mode,S),b.return=v,b):(b=i(b,_.children||[]),b.return=v,b)}function u(v,b,_,S,E){return b===null||b.tag!==7?(b=ou(_,v.mode,S,E),b.return=v,b):(b=i(b,_),b.return=v,b)}function f(v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zb(""+b,v.mode,_),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vg:return _=_v(b.type,b.key,b.props,null,v.mode,_),_.ref=bh(v,null,b),_.return=v,_;case Nf:return b=Qb(b,v.mode,_),b.return=v,b;case Rl:var S=b._init;return f(v,S(b._payload),_)}if(qh(b)||mh(b))return b=ou(b,v.mode,_,null),b.return=v,b;e0(v,b)}return null}function d(v,b,_,S){var E=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:l(v,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vg:return _.key===E?a(v,b,_,S):null;case Nf:return _.key===E?c(v,b,_,S):null;case Rl:return E=_._init,d(v,b,E(_._payload),S)}if(qh(_)||mh(_))return E!==null?null:u(v,b,_,S,null);e0(v,_)}return null}function p(v,b,_,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,l(b,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vg:return v=v.get(S.key===null?_:S.key)||null,a(b,v,S,E);case Nf:return v=v.get(S.key===null?_:S.key)||null,c(b,v,S,E);case Rl:var M=S._init;return p(v,b,_,M(S._payload),E)}if(qh(S)||mh(S))return v=v.get(_)||null,u(b,v,S,E,null);e0(b,S)}return null}function g(v,b,_,S){for(var E=null,M=null,T=b,R=b=0,C=null;T!==null&&R<_.length;R++){T.index>R?(C=T,T=null):C=T.sibling;var P=d(v,T,_[R],S);if(P===null){T===null&&(T=C);break}t&&T&&P.alternate===null&&e(v,T),b=o(P,b,R),M===null?E=P:M.sibling=P,M=P,T=C}if(R===_.length)return n(v,T),hr&&Uc(v,R),E;if(T===null){for(;R<_.length;R++)T=f(v,_[R],S),T!==null&&(b=o(T,b,R),M===null?E=T:M.sibling=T,M=T);return hr&&Uc(v,R),E}for(T=r(v,T);R<_.length;R++)C=p(T,v,R,_[R],S),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?R:C.key),b=o(C,b,R),M===null?E=C:M.sibling=C,M=C);return t&&T.forEach(function(F){return e(v,F)}),hr&&Uc(v,R),E}function y(v,b,_,S){var E=mh(_);if(typeof E!="function")throw Error(lt(150));if(_=E.call(_),_==null)throw Error(lt(151));for(var M=E=null,T=b,R=b=0,C=null,P=_.next();T!==null&&!P.done;R++,P=_.next()){T.index>R?(C=T,T=null):C=T.sibling;var F=d(v,T,P.value,S);if(F===null){T===null&&(T=C);break}t&&T&&F.alternate===null&&e(v,T),b=o(F,b,R),M===null?E=F:M.sibling=F,M=F,T=C}if(P.done)return n(v,T),hr&&Uc(v,R),E;if(T===null){for(;!P.done;R++,P=_.next())P=f(v,P.value,S),P!==null&&(b=o(P,b,R),M===null?E=P:M.sibling=P,M=P);return hr&&Uc(v,R),E}for(T=r(v,T);!P.done;R++,P=_.next())P=p(T,v,R,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?R:P.key),b=o(P,b,R),M===null?E=P:M.sibling=P,M=P);return t&&T.forEach(function(G){return e(v,G)}),hr&&Uc(v,R),E}function x(v,b,_,S){if(typeof _=="object"&&_!==null&&_.type===Of&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vg:e:{for(var E=_.key,M=b;M!==null;){if(M.key===E){if(E=_.type,E===Of){if(M.tag===7){n(v,M.sibling),b=i(M,_.props.children),b.return=v,v=b;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rl&&RC(E)===M.type){n(v,M.sibling),b=i(M,_.props),b.ref=bh(v,M,_),b.return=v,v=b;break e}n(v,M);break}else e(v,M);M=M.sibling}_.type===Of?(b=ou(_.props.children,v.mode,S,_.key),b.return=v,v=b):(S=_v(_.type,_.key,_.props,null,v.mode,S),S.ref=bh(v,b,_),S.return=v,v=S)}return s(v);case Nf:e:{for(M=_.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(v,b.sibling),b=i(b,_.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=Qb(_,v.mode,S),b.return=v,v=b}return s(v);case Rl:return M=_._init,x(v,b,M(_._payload),S)}if(qh(_))return g(v,b,_,S);if(mh(_))return y(v,b,_,S);e0(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,_),b.return=v,v=b):(n(v,b),b=Zb(_,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return x}var vd=Ok(!0),Fk=Ok(!1),Am={},fa=oc(Am),Hp=oc(Am),Vp=oc(Am);function Jc(t){if(t===Am)throw Error(lt(174));return t}function sM(t,e){switch(tr(Vp,e),tr(Hp,t),tr(fa,Am),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ES(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ES(e,t)}ar(fa),tr(fa,e)}function yd(){ar(fa),ar(Hp),ar(Vp)}function Dk(t){Jc(Vp.current);var e=Jc(fa.current),n=ES(e,t.type);e!==n&&(tr(Hp,t),tr(fa,n))}function aM(t){Hp.current===t&&(ar(fa),ar(Hp))}var yr=oc(0);function ly(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $b=[];function lM(){for(var t=0;t<$b.length;t++)$b[t]._workInProgressVersionPrimary=null;$b.length=0}var gv=el.ReactCurrentDispatcher,Xb=el.ReactCurrentBatchConfig,hu=0,_r=null,Jr=null,li=null,cy=!1,up=!1,Wp=0,fz=0;function Mi(){throw Error(lt(321))}function cM(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Os(t[n],e[n]))return!1;return!0}function uM(t,e,n,r,i,o){if(hu=o,_r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gv.current=t===null||t.memoizedState===null?mz:gz,t=n(r,i),up){o=0;do{if(up=!1,Wp=0,25<=o)throw Error(lt(301));o+=1,li=Jr=null,e.updateQueue=null,gv.current=vz,t=n(r,i)}while(up)}if(gv.current=uy,e=Jr!==null&&Jr.next!==null,hu=0,li=Jr=_r=null,cy=!1,e)throw Error(lt(300));return t}function fM(){var t=Wp!==0;return Wp=0,t}function Zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?_r.memoizedState=li=t:li=li.next=t,li}function os(){if(Jr===null){var t=_r.alternate;t=t!==null?t.memoizedState:null}else t=Jr.next;var e=li===null?_r.memoizedState:li.next;if(e!==null)li=e,Jr=t;else{if(t===null)throw Error(lt(310));Jr=t,t={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},li===null?_r.memoizedState=li=t:li=li.next=t}return li}function jp(t,e){return typeof e=="function"?e(t):e}function qb(t){var e=os(),n=e.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=t;var r=Jr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,c=o;do{var u=c.lane;if((hu&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,_r.lanes|=u,pu|=u}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=l,Os(r,e.memoizedState)||(oo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_r.lanes|=o,pu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yb(t){var e=os(),n=e.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Os(o,e.memoizedState)||(oo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Uk(){}function Bk(t,e){var n=_r,r=os(),i=e(),o=!Os(r.memoizedState,i);if(o&&(r.memoizedState=i,oo=!0),r=r.queue,dM(Hk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||li!==null&&li.memoizedState.tag&1){if(n.flags|=2048,$p(9,Gk.bind(null,n,r,i,e),void 0,null),ui===null)throw Error(lt(349));hu&30||zk(n,e,i)}return i}function zk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gk(t,e,n,r){e.value=n,e.getSnapshot=r,Vk(e)&&Wk(t)}function Hk(t,e,n){return n(function(){Vk(e)&&Wk(t)})}function Vk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Os(t,n)}catch{return!0}}function Wk(t){var e=Ja(t,1);e!==null&&ks(e,t,1,-1)}function PC(t){var e=Zs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:t},e.queue=t,t=t.dispatch=pz.bind(null,_r,t),[e.memoizedState,t]}function $p(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jk(){return os().memoizedState}function vv(t,e,n,r){var i=Zs();_r.flags|=t,i.memoizedState=$p(1|e,n,void 0,r===void 0?null:r)}function qy(t,e,n,r){var i=os();r=r===void 0?null:r;var o=void 0;if(Jr!==null){var s=Jr.memoizedState;if(o=s.destroy,r!==null&&cM(r,s.deps)){i.memoizedState=$p(e,n,o,r);return}}_r.flags|=t,i.memoizedState=$p(1|e,n,o,r)}function IC(t,e){return vv(8390656,8,t,e)}function dM(t,e){return qy(2048,8,t,e)}function $k(t,e){return qy(4,2,t,e)}function Xk(t,e){return qy(4,4,t,e)}function qk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yk(t,e,n){return n=n!=null?n.concat([t]):null,qy(4,4,qk.bind(null,e,t),n)}function hM(){}function Kk(t,e){var n=os();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cM(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jk(t,e){var n=os();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cM(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zk(t,e,n){return hu&21?(Os(n,e)||(n=tk(),_r.lanes|=n,pu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oo=!0),t.memoizedState=n)}function dz(t,e){var n=Wn;Wn=n!==0&&4>n?n:4,t(!0);var r=Xb.transition;Xb.transition={};try{t(!1),e()}finally{Wn=n,Xb.transition=r}}function Qk(){return os().memoizedState}function hz(t,e,n){var r=Hl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eN(t))tN(e,n);else if(n=Ik(t,e,n,r),n!==null){var i=ji();ks(n,t,r,i),nN(n,e,r)}}function pz(t,e,n){var r=Hl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eN(t))tN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Os(l,s)){var a=e.interleaved;a===null?(i.next=i,iM(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Ik(t,e,i,r),n!==null&&(i=ji(),ks(n,t,r,i),nN(n,e,r))}}function eN(t){var e=t.alternate;return t===_r||e!==null&&e===_r}function tN(t,e){up=cy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,WE(t,n)}}var uy={readContext:is,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},mz={readContext:is,useCallback:function(t,e){return Zs().memoizedState=[t,e===void 0?null:e],t},useContext:is,useEffect:IC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vv(4194308,4,qk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vv(4194308,4,t,e)},useInsertionEffect:function(t,e){return vv(4,2,t,e)},useMemo:function(t,e){var n=Zs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hz.bind(null,_r,t),[r.memoizedState,t]},useRef:function(t){var e=Zs();return t={current:t},e.memoizedState=t},useState:PC,useDebugValue:hM,useDeferredValue:function(t){return Zs().memoizedState=t},useTransition:function(){var t=PC(!1),e=t[0];return t=dz.bind(null,t[1]),Zs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_r,i=Zs();if(hr){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=e(),ui===null)throw Error(lt(349));hu&30||zk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,IC(Hk.bind(null,r,o,t),[t]),r.flags|=2048,$p(9,Gk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Zs(),e=ui.identifierPrefix;if(hr){var n=Wa,r=Va;n=(r&~(1<<32-Ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gz={readContext:is,useCallback:Kk,useContext:is,useEffect:dM,useImperativeHandle:Yk,useInsertionEffect:$k,useLayoutEffect:Xk,useMemo:Jk,useReducer:qb,useRef:jk,useState:function(){return qb(jp)},useDebugValue:hM,useDeferredValue:function(t){var e=os();return Zk(e,Jr.memoizedState,t)},useTransition:function(){var t=qb(jp)[0],e=os().memoizedState;return[t,e]},useMutableSource:Uk,useSyncExternalStore:Bk,useId:Qk,unstable_isNewReconciler:!1},vz={readContext:is,useCallback:Kk,useContext:is,useEffect:dM,useImperativeHandle:Yk,useInsertionEffect:$k,useLayoutEffect:Xk,useMemo:Jk,useReducer:Yb,useRef:jk,useState:function(){return Yb(jp)},useDebugValue:hM,useDeferredValue:function(t){var e=os();return Jr===null?e.memoizedState=t:Zk(e,Jr.memoizedState,t)},useTransition:function(){var t=Yb(jp)[0],e=os().memoizedState;return[t,e]},useMutableSource:Uk,useSyncExternalStore:Bk,useId:Qk,unstable_isNewReconciler:!1};function xd(t,e){try{var n="",r=e;do n+=jB(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Kb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function XS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yz=typeof WeakMap=="function"?WeakMap:Map;function rN(t,e,n){n=$a(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dy||(dy=!0,rw=r),XS(t,e)},n}function iN(t,e,n){n=$a(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){XS(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){XS(t,e),typeof r!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function LC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Lz.bind(null,t,e,n),e.then(t,t))}function kC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$a(-1,1),e.tag=2,zl(n,e,1))),n.lanes|=1),t)}var xz=el.ReactCurrentOwner,oo=!1;function Vi(t,e,n,r){e.child=t===null?Fk(e,null,n,r):vd(e,t.child,n,r)}function OC(t,e,n,r,i){n=n.render;var o=e.ref;return sd(e,i),r=uM(t,e,n,r,o,i),n=fM(),t!==null&&!oo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(hr&&n&&ZE(e),e.flags|=1,Vi(t,e,r,i),e.child)}function FC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_M(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,oN(t,e,o,r,i)):(t=_v(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Up,n(s,r)&&t.ref===e.ref)return Za(t,e,i)}return e.flags|=1,t=Vl(o,r),t.ref=e.ref,t.return=e,e.child=t}function oN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Up(o,r)&&t.ref===e.ref)if(oo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(oo=!0);else return e.lanes=t.lanes,Za(t,e,i)}return qS(t,e,n,r,i)}function sN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(jf,So),So|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tr(jf,So),So|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tr(jf,So),So|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tr(jf,So),So|=r;return Vi(t,e,i,n),e.child}function aN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qS(t,e,n,r,i){var o=ao(n)?fu:Oi.current;return o=md(e,o),sd(e,i),n=uM(t,e,n,r,o,i),r=fM(),t!==null&&!oo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(hr&&r&&ZE(e),e.flags|=1,Vi(t,e,n,i),e.child)}function DC(t,e,n,r,i){if(ao(n)){var o=!0;ny(e)}else o=!1;if(sd(e,i),e.stateNode===null)yv(t,e),Nk(e,n,r),$S(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=is(c):(c=ao(n)?fu:Oi.current,c=md(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&CC(e,s,r,c),Pl=!1;var d=e.memoizedState;s.state=d,ay(e,r,s,i),a=e.memoizedState,l!==r||d!==a||so.current||Pl?(typeof u=="function"&&(jS(e,n,u,r),a=e.memoizedState),(l=Pl||AC(e,n,l,r,d,a,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Lk(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ws(e.type,l),s.props=c,f=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=is(a):(a=ao(n)?fu:Oi.current,a=md(e,a));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&CC(e,s,r,a),Pl=!1,d=e.memoizedState,s.state=d,ay(e,r,s,i);var g=e.memoizedState;l!==f||d!==g||so.current||Pl?(typeof p=="function"&&(jS(e,n,p,r),g=e.memoizedState),(c=Pl||AC(e,n,c,r,d,g,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return YS(t,e,n,r,o,i)}function YS(t,e,n,r,i,o){aN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&SC(e,n,!1),Za(t,e,o);r=e.stateNode,xz.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=vd(e,t.child,null,o),e.child=vd(e,null,l,o)):Vi(t,e,l,o),e.memoizedState=r.state,i&&SC(e,n,!0),e.child}function lN(t){var e=t.stateNode;e.pendingContext?_C(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_C(t,e.context,!1),sM(t,e.containerInfo)}function UC(t,e,n,r,i){return gd(),eM(i),e.flags|=256,Vi(t,e,n,r),e.child}var KS={dehydrated:null,treeContext:null,retryLane:0};function JS(t){return{baseLanes:t,cachePool:null,transitions:null}}function cN(t,e,n){var r=e.pendingProps,i=yr.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tr(yr,i&1),t===null)return VS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Jy(s,r,0,null),t=ou(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=JS(n),e.memoizedState=KS,t):pM(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return bz(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Vl(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Vl(l,o):(o=ou(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?JS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=KS,r}return o=t.child,t=o.sibling,r=Vl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pM(t,e){return e=Jy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function t0(t,e,n,r){return r!==null&&eM(r),vd(e,t.child,null,n),t=pM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bz(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Kb(Error(lt(422))),t0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Jy({mode:"visible",children:r.children},i,0,null),o=ou(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&vd(e,t.child,null,s),e.child.memoizedState=JS(s),e.memoizedState=KS,o);if(!(e.mode&1))return t0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(lt(419)),r=Kb(o,r,void 0),t0(t,e,s,r)}if(l=(s&t.childLanes)!==0,oo||l){if(r=ui,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ja(t,i),ks(r,t,i,-1))}return bM(),r=Kb(Error(lt(421))),t0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,To=Bl(i.nextSibling),Ro=e,hr=!0,Rs=null,t!==null&&(Zo[Qo++]=Va,Zo[Qo++]=Wa,Zo[Qo++]=du,Va=t.id,Wa=t.overflow,du=e),e=pM(e,r.children),e.flags|=4096,e)}function BC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),WS(t.return,e,n)}function Jb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Vi(t,e,r.children,n),r=yr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BC(t,n,e);else if(t.tag===19)BC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tr(yr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ly(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ly(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jb(e,!0,n,null,o);break;case"together":Jb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Za(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(lt(153));if(e.child!==null){for(t=e.child,n=Vl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _z(t,e,n){switch(e.tag){case 3:lN(e),gd();break;case 5:Dk(e);break;case 1:ao(e.type)&&ny(e);break;case 4:sM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tr(oy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tr(yr,yr.current&1),e.flags|=128,null):n&e.child.childLanes?cN(t,e,n):(tr(yr,yr.current&1),t=Za(t,e,n),t!==null?t.sibling:null);tr(yr,yr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tr(yr,yr.current),r)break;return null;case 22:case 23:return e.lanes=0,sN(t,e,n)}return Za(t,e,n)}var fN,ZS,dN,hN;fN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ZS=function(){};dN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jc(fa.current);var o=null;switch(n){case"input":i=bS(t,i),r=bS(t,r),o=[];break;case"select":i=wr({},i,{value:void 0}),r=wr({},r,{value:void 0}),o=[];break;case"textarea":i=wS(t,i),r=wS(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ey)}MS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ip.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ip.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&sr("scroll",t),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};hN=function(t,e,n,r){n!==r&&(e.flags|=4)};function _h(t,e){if(!hr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ti(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sz(t,e,n){var r=e.pendingProps;switch(QE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(e),null;case 1:return ao(e.type)&&ty(),Ti(e),null;case 3:return r=e.stateNode,yd(),ar(so),ar(Oi),lM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rs!==null&&(sw(Rs),Rs=null))),ZS(t,e),Ti(e),null;case 5:aM(e);var i=Jc(Vp.current);if(n=e.type,t!==null&&e.stateNode!=null)dN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(lt(166));return Ti(e),null}if(t=Jc(fa.current),Qg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[na]=e,r[Gp]=o,t=(e.mode&1)!==0,n){case"dialog":sr("cancel",r),sr("close",r);break;case"iframe":case"object":case"embed":sr("load",r);break;case"video":case"audio":for(i=0;i<Kh.length;i++)sr(Kh[i],r);break;case"source":sr("error",r);break;case"img":case"image":case"link":sr("error",r),sr("load",r);break;case"details":sr("toggle",r);break;case"input":qA(r,o),sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},sr("invalid",r);break;case"textarea":KA(r,o),sr("invalid",r)}MS(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Zg(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Zg(r.textContent,l,t),i=["children",""+l]):Ip.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&sr("scroll",r)}switch(n){case"input":Wg(r),YA(r,o,!0);break;case"textarea":Wg(r),JA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ey)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[na]=e,t[Gp]=r,fN(t,e,!1,!1),e.stateNode=t;e:{switch(s=TS(n,r),n){case"dialog":sr("cancel",t),sr("close",t),i=r;break;case"iframe":case"object":case"embed":sr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kh.length;i++)sr(Kh[i],t);i=r;break;case"source":sr("error",t),i=r;break;case"img":case"image":case"link":sr("error",t),sr("load",t),i=r;break;case"details":sr("toggle",t),i=r;break;case"input":qA(t,r),i=bS(t,r),sr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wr({},r,{value:void 0}),sr("invalid",t);break;case"textarea":KA(t,r),i=wS(t,r),sr("invalid",t);break;default:i=r}MS(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?VL(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&GL(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Lp(t,a):typeof a=="number"&&Lp(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ip.hasOwnProperty(o)?a!=null&&o==="onScroll"&&sr("scroll",t):a!=null&&UE(t,o,a,s))}switch(n){case"input":Wg(t),YA(t,r,!1);break;case"textarea":Wg(t),JA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?nd(t,!!r.multiple,o,!1):r.defaultValue!=null&&nd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ey)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ti(e),null;case 6:if(t&&e.stateNode!=null)hN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(lt(166));if(n=Jc(Vp.current),Jc(fa.current),Qg(e)){if(r=e.stateNode,n=e.memoizedProps,r[na]=e,(o=r.nodeValue!==n)&&(t=Ro,t!==null))switch(t.tag){case 3:Zg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[na]=e,e.stateNode=r}return Ti(e),null;case 13:if(ar(yr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hr&&To!==null&&e.mode&1&&!(e.flags&128))Pk(),gd(),e.flags|=98560,o=!1;else if(o=Qg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(lt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(lt(317));o[na]=e}else gd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ti(e),o=!1}else Rs!==null&&(sw(Rs),Rs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yr.current&1?Zr===0&&(Zr=3):bM())),e.updateQueue!==null&&(e.flags|=4),Ti(e),null);case 4:return yd(),ZS(t,e),t===null&&Bp(e.stateNode.containerInfo),Ti(e),null;case 10:return rM(e.type._context),Ti(e),null;case 17:return ao(e.type)&&ty(),Ti(e),null;case 19:if(ar(yr),o=e.memoizedState,o===null)return Ti(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)_h(o,!1);else{if(Zr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ly(t),s!==null){for(e.flags|=128,_h(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tr(yr,yr.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ur()>bd&&(e.flags|=128,r=!0,_h(o,!1),e.lanes=4194304)}else{if(!r)if(t=ly(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_h(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!hr)return Ti(e),null}else 2*Ur()-o.renderingStartTime>bd&&n!==1073741824&&(e.flags|=128,r=!0,_h(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ur(),e.sibling=null,n=yr.current,tr(yr,r?n&1|2:n&1),e):(Ti(e),null);case 22:case 23:return xM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?So&1073741824&&(Ti(e),e.subtreeFlags&6&&(e.flags|=8192)):Ti(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}function wz(t,e){switch(QE(e),e.tag){case 1:return ao(e.type)&&ty(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yd(),ar(so),ar(Oi),lM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aM(e),null;case 13:if(ar(yr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));gd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ar(yr),null;case 4:return yd(),null;case 10:return rM(e.type._context),null;case 22:case 23:return xM(),null;case 24:return null;default:return null}}var n0=!1,Ii=!1,Ez=typeof WeakSet=="function"?WeakSet:Set,St=null;function Wf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rr(t,e,r)}else n.current=null}function QS(t,e,n){try{n()}catch(r){Rr(t,e,r)}}var zC=!1;function Mz(t,e){if(FS=Jv,t=vk(),JE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(l=s),d===o&&++u===r&&(a=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(DS={focusedElem:t,selectionRange:n},Jv=!1,St=e;St!==null;)if(e=St,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,St=t;else for(;St!==null;){e=St;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:ws(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(S){Rr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}return g=zC,zC=!1,g}function fp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&QS(e,n,o)}i=i.next}while(i!==r)}}function Yy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ew(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pN(t){var e=t.alternate;e!==null&&(t.alternate=null,pN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[na],delete e[Gp],delete e[zS],delete e[az],delete e[lz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mN(t){return t.tag===5||t.tag===3||t.tag===4}function GC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ey));else if(r!==4&&(t=t.child,t!==null))for(tw(t,e,n),t=t.sibling;t!==null;)tw(t,e,n),t=t.sibling}function nw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nw(t,e,n),t=t.sibling;t!==null;)nw(t,e,n),t=t.sibling}var pi=null,As=!1;function vl(t,e,n){for(n=n.child;n!==null;)gN(t,e,n),n=n.sibling}function gN(t,e,n){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(Gy,n)}catch{}switch(n.tag){case 5:Ii||Wf(n,e);case 6:var r=pi,i=As;pi=null,vl(t,e,n),pi=r,As=i,pi!==null&&(As?(t=pi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pi.removeChild(n.stateNode));break;case 18:pi!==null&&(As?(t=pi,n=n.stateNode,t.nodeType===8?Wb(t.parentNode,n):t.nodeType===1&&Wb(t,n),Fp(t)):Wb(pi,n.stateNode));break;case 4:r=pi,i=As,pi=n.stateNode.containerInfo,As=!0,vl(t,e,n),pi=r,As=i;break;case 0:case 11:case 14:case 15:if(!Ii&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&QS(n,e,s),i=i.next}while(i!==r)}vl(t,e,n);break;case 1:if(!Ii&&(Wf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Rr(n,e,l)}vl(t,e,n);break;case 21:vl(t,e,n);break;case 22:n.mode&1?(Ii=(r=Ii)||n.memoizedState!==null,vl(t,e,n),Ii=r):vl(t,e,n);break;default:vl(t,e,n)}}function HC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ez),e.forEach(function(r){var i=Nz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:pi=l.stateNode,As=!1;break e;case 3:pi=l.stateNode.containerInfo,As=!0;break e;case 4:pi=l.stateNode.containerInfo,As=!0;break e}l=l.return}if(pi===null)throw Error(lt(160));gN(o,s,i),pi=null,As=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Rr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vN(e,t),e=e.sibling}function vN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xs(e,t),Ys(t),r&4){try{fp(3,t,t.return),Yy(3,t)}catch(y){Rr(t,t.return,y)}try{fp(5,t,t.return)}catch(y){Rr(t,t.return,y)}}break;case 1:xs(e,t),Ys(t),r&512&&n!==null&&Wf(n,n.return);break;case 5:if(xs(e,t),Ys(t),r&512&&n!==null&&Wf(n,n.return),t.flags&32){var i=t.stateNode;try{Lp(i,"")}catch(y){Rr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&UL(i,o),TS(l,s);var c=TS(l,o);for(s=0;s<a.length;s+=2){var u=a[s],f=a[s+1];u==="style"?VL(i,f):u==="dangerouslySetInnerHTML"?GL(i,f):u==="children"?Lp(i,f):UE(i,u,f,c)}switch(l){case"input":_S(i,o);break;case"textarea":BL(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?nd(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?nd(i,!!o.multiple,o.defaultValue,!0):nd(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gp]=o}catch(y){Rr(t,t.return,y)}}break;case 6:if(xs(e,t),Ys(t),r&4){if(t.stateNode===null)throw Error(lt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Rr(t,t.return,y)}}break;case 3:if(xs(e,t),Ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fp(e.containerInfo)}catch(y){Rr(t,t.return,y)}break;case 4:xs(e,t),Ys(t);break;case 13:xs(e,t),Ys(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vM=Ur())),r&4&&HC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ii=(c=Ii)||u,xs(e,t),Ii=c):xs(e,t),Ys(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(St=t,u=t.child;u!==null;){for(f=St=u;St!==null;){switch(d=St,p=d.child,d.tag){case 0:case 11:case 14:case 15:fp(4,d,d.return);break;case 1:Wf(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Rr(r,n,y)}}break;case 5:Wf(d,d.return);break;case 22:if(d.memoizedState!==null){WC(f);continue}}p!==null?(p.return=d,St=p):WC(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=HL("display",s))}catch(y){Rr(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Rr(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xs(e,t),Ys(t),r&4&&HC(t);break;case 21:break;default:xs(e,t),Ys(t)}}function Ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mN(n)){var r=n;break e}n=n.return}throw Error(lt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lp(i,""),r.flags&=-33);var o=GC(t);nw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=GC(t);tw(t,l,s);break;default:throw Error(lt(161))}}catch(a){Rr(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tz(t,e,n){St=t,yN(t)}function yN(t,e,n){for(var r=(t.mode&1)!==0;St!==null;){var i=St,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||n0;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ii;l=n0;var c=Ii;if(n0=s,(Ii=a)&&!c)for(St=i;St!==null;)s=St,a=s.child,s.tag===22&&s.memoizedState!==null?jC(i):a!==null?(a.return=s,St=a):jC(i);for(;o!==null;)St=o,yN(o),o=o.sibling;St=i,n0=l,Ii=c}VC(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,St=o):VC(t)}}function VC(t){for(;St!==null;){var e=St;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ii||Yy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ii)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ws(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&TC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}TC(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Fp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Ii||e.flags&512&&ew(e)}catch(d){Rr(e,e.return,d)}}if(e===t){St=null;break}if(n=e.sibling,n!==null){n.return=e.return,St=n;break}St=e.return}}function WC(t){for(;St!==null;){var e=St;if(e===t){St=null;break}var n=e.sibling;if(n!==null){n.return=e.return,St=n;break}St=e.return}}function jC(t){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yy(4,e)}catch(a){Rr(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Rr(e,i,a)}}var o=e.return;try{ew(e)}catch(a){Rr(e,o,a)}break;case 5:var s=e.return;try{ew(e)}catch(a){Rr(e,s,a)}}}catch(a){Rr(e,e.return,a)}if(e===t){St=null;break}var l=e.sibling;if(l!==null){l.return=e.return,St=l;break}St=e.return}}var Az=Math.ceil,fy=el.ReactCurrentDispatcher,mM=el.ReactCurrentOwner,ts=el.ReactCurrentBatchConfig,Rn=0,ui=null,$r=null,gi=0,So=0,jf=oc(0),Zr=0,Xp=null,pu=0,Ky=0,gM=0,dp=null,no=null,vM=0,bd=1/0,Da=null,dy=!1,rw=null,Gl=null,r0=!1,Ol=null,hy=0,hp=0,iw=null,xv=-1,bv=0;function ji(){return Rn&6?Ur():xv!==-1?xv:xv=Ur()}function Hl(t){return t.mode&1?Rn&2&&gi!==0?gi&-gi:uz.transition!==null?(bv===0&&(bv=tk()),bv):(t=Wn,t!==0||(t=window.event,t=t===void 0?16:lk(t.type)),t):1}function ks(t,e,n,r){if(50<hp)throw hp=0,iw=null,Error(lt(185));Em(t,n,r),(!(Rn&2)||t!==ui)&&(t===ui&&(!(Rn&2)&&(Ky|=n),Zr===4&&Ll(t,gi)),lo(t,r),n===1&&Rn===0&&!(e.mode&1)&&(bd=Ur()+500,$y&&sc()))}function lo(t,e){var n=t.callbackNode;u6(t,e);var r=Kv(t,t===ui?gi:0);if(r===0)n!==null&&eC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eC(n),e===1)t.tag===0?cz($C.bind(null,t)):Ak($C.bind(null,t)),oz(function(){!(Rn&6)&&sc()}),n=null;else{switch(nk(r)){case 1:n=VE;break;case 4:n=QL;break;case 16:n=Yv;break;case 536870912:n=ek;break;default:n=Yv}n=TN(n,xN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xN(t,e){if(xv=-1,bv=0,Rn&6)throw Error(lt(327));var n=t.callbackNode;if(ad()&&t.callbackNode!==n)return null;var r=Kv(t,t===ui?gi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=py(t,r);else{e=r;var i=Rn;Rn|=2;var o=_N();(ui!==t||gi!==e)&&(Da=null,bd=Ur()+500,iu(t,e));do try{Pz();break}catch(l){bN(t,l)}while(1);nM(),fy.current=o,Rn=i,$r!==null?e=0:(ui=null,gi=0,e=Zr)}if(e!==0){if(e===2&&(i=IS(t),i!==0&&(r=i,e=ow(t,i))),e===1)throw n=Xp,iu(t,0),Ll(t,r),lo(t,Ur()),n;if(e===6)Ll(t,r);else{if(i=t.current.alternate,!(r&30)&&!Cz(i)&&(e=py(t,r),e===2&&(o=IS(t),o!==0&&(r=o,e=ow(t,o))),e===1))throw n=Xp,iu(t,0),Ll(t,r),lo(t,Ur()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(lt(345));case 2:Bc(t,no,Da);break;case 3:if(Ll(t,r),(r&130023424)===r&&(e=vM+500-Ur(),10<e)){if(Kv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ji(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=BS(Bc.bind(null,t,no,Da),e);break}Bc(t,no,Da);break;case 4:if(Ll(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ls(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Az(r/1960))-r,10<r){t.timeoutHandle=BS(Bc.bind(null,t,no,Da),r);break}Bc(t,no,Da);break;case 5:Bc(t,no,Da);break;default:throw Error(lt(329))}}}return lo(t,Ur()),t.callbackNode===n?xN.bind(null,t):null}function ow(t,e){var n=dp;return t.current.memoizedState.isDehydrated&&(iu(t,e).flags|=256),t=py(t,e),t!==2&&(e=no,no=n,e!==null&&sw(e)),t}function sw(t){no===null?no=t:no.push.apply(no,t)}function Cz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Os(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ll(t,e){for(e&=~gM,e&=~Ky,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ls(e),r=1<<n;t[n]=-1,e&=~r}}function $C(t){if(Rn&6)throw Error(lt(327));ad();var e=Kv(t,0);if(!(e&1))return lo(t,Ur()),null;var n=py(t,e);if(t.tag!==0&&n===2){var r=IS(t);r!==0&&(e=r,n=ow(t,r))}if(n===1)throw n=Xp,iu(t,0),Ll(t,e),lo(t,Ur()),n;if(n===6)throw Error(lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bc(t,no,Da),lo(t,Ur()),null}function yM(t,e){var n=Rn;Rn|=1;try{return t(e)}finally{Rn=n,Rn===0&&(bd=Ur()+500,$y&&sc())}}function mu(t){Ol!==null&&Ol.tag===0&&!(Rn&6)&&ad();var e=Rn;Rn|=1;var n=ts.transition,r=Wn;try{if(ts.transition=null,Wn=1,t)return t()}finally{Wn=r,ts.transition=n,Rn=e,!(Rn&6)&&sc()}}function xM(){So=jf.current,ar(jf)}function iu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iz(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(QE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ty();break;case 3:yd(),ar(so),ar(Oi),lM();break;case 5:aM(r);break;case 4:yd();break;case 13:ar(yr);break;case 19:ar(yr);break;case 10:rM(r.type._context);break;case 22:case 23:xM()}n=n.return}if(ui=t,$r=t=Vl(t.current,null),gi=So=e,Zr=0,Xp=null,gM=Ky=pu=0,no=dp=null,Kc!==null){for(e=0;e<Kc.length;e++)if(n=Kc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Kc=null}return t}function bN(t,e){do{var n=$r;try{if(nM(),gv.current=uy,cy){for(var r=_r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cy=!1}if(hu=0,li=Jr=_r=null,up=!1,Wp=0,mM.current=null,n===null||n.return===null){Zr=1,Xp=e,$r=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=gi,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=kC(s);if(p!==null){p.flags&=-257,NC(p,s,l,o,e),p.mode&1&&LC(o,c,e),e=p,a=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(a),e.updateQueue=y}else g.add(a);break e}else{if(!(e&1)){LC(o,c,e),bM();break e}a=Error(lt(426))}}else if(hr&&l.mode&1){var x=kC(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),NC(x,s,l,o,e),eM(xd(a,l));break e}}o=a=xd(a,l),Zr!==4&&(Zr=2),dp===null?dp=[o]:dp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=rN(o,a,e);MC(o,v);break e;case 1:l=a;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Gl===null||!Gl.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=iN(o,l,e);MC(o,S);break e}}o=o.return}while(o!==null)}wN(n)}catch(E){e=E,$r===n&&n!==null&&($r=n=n.return);continue}break}while(1)}function _N(){var t=fy.current;return fy.current=uy,t===null?uy:t}function bM(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),ui===null||!(pu&268435455)&&!(Ky&268435455)||Ll(ui,gi)}function py(t,e){var n=Rn;Rn|=2;var r=_N();(ui!==t||gi!==e)&&(Da=null,iu(t,e));do try{Rz();break}catch(i){bN(t,i)}while(1);if(nM(),Rn=n,fy.current=r,$r!==null)throw Error(lt(261));return ui=null,gi=0,Zr}function Rz(){for(;$r!==null;)SN($r)}function Pz(){for(;$r!==null&&!t6();)SN($r)}function SN(t){var e=MN(t.alternate,t,So);t.memoizedProps=t.pendingProps,e===null?wN(t):$r=e,mM.current=null}function wN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wz(n,e),n!==null){n.flags&=32767,$r=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zr=6,$r=null;return}}else if(n=Sz(n,e,So),n!==null){$r=n;return}if(e=e.sibling,e!==null){$r=e;return}$r=e=t}while(e!==null);Zr===0&&(Zr=5)}function Bc(t,e,n){var r=Wn,i=ts.transition;try{ts.transition=null,Wn=1,Iz(t,e,n,r)}finally{ts.transition=i,Wn=r}return null}function Iz(t,e,n,r){do ad();while(Ol!==null);if(Rn&6)throw Error(lt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(lt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(f6(t,o),t===ui&&($r=ui=null,gi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||r0||(r0=!0,TN(Yv,function(){return ad(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ts.transition,ts.transition=null;var s=Wn;Wn=1;var l=Rn;Rn|=4,mM.current=null,Mz(t,n),vN(n,t),J6(DS),Jv=!!FS,DS=FS=null,t.current=n,Tz(n),n6(),Rn=l,Wn=s,ts.transition=o}else t.current=n;if(r0&&(r0=!1,Ol=t,hy=i),o=t.pendingLanes,o===0&&(Gl=null),o6(n.stateNode),lo(t,Ur()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dy)throw dy=!1,t=rw,rw=null,t;return hy&1&&t.tag!==0&&ad(),o=t.pendingLanes,o&1?t===iw?hp++:(hp=0,iw=t):hp=0,sc(),null}function ad(){if(Ol!==null){var t=nk(hy),e=ts.transition,n=Wn;try{if(ts.transition=null,Wn=16>t?16:t,Ol===null)var r=!1;else{if(t=Ol,Ol=null,hy=0,Rn&6)throw Error(lt(331));var i=Rn;for(Rn|=4,St=t.current;St!==null;){var o=St,s=o.child;if(St.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(St=c;St!==null;){var u=St;switch(u.tag){case 0:case 11:case 15:fp(8,u,o)}var f=u.child;if(f!==null)f.return=u,St=f;else for(;St!==null;){u=St;var d=u.sibling,p=u.return;if(pN(u),u===c){St=null;break}if(d!==null){d.return=p,St=d;break}St=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}St=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,St=s;else e:for(;St!==null;){if(o=St,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fp(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,St=v;break e}St=o.return}}var b=t.current;for(St=b;St!==null;){s=St;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,St=_;else e:for(s=b;St!==null;){if(l=St,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yy(9,l)}}catch(E){Rr(l,l.return,E)}if(l===s){St=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,St=S;break e}St=l.return}}if(Rn=i,sc(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(Gy,t)}catch{}r=!0}return r}finally{Wn=n,ts.transition=e}}return!1}function XC(t,e,n){e=xd(n,e),e=rN(t,e,1),t=zl(t,e,1),e=ji(),t!==null&&(Em(t,1,e),lo(t,e))}function Rr(t,e,n){if(t.tag===3)XC(t,t,n);else for(;e!==null;){if(e.tag===3){XC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gl===null||!Gl.has(r))){t=xd(n,t),t=iN(e,t,1),e=zl(e,t,1),t=ji(),e!==null&&(Em(e,1,t),lo(e,t));break}}e=e.return}}function Lz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ji(),t.pingedLanes|=t.suspendedLanes&n,ui===t&&(gi&n)===n&&(Zr===4||Zr===3&&(gi&130023424)===gi&&500>Ur()-vM?iu(t,0):gM|=n),lo(t,e)}function EN(t,e){e===0&&(t.mode&1?(e=Xg,Xg<<=1,!(Xg&130023424)&&(Xg=4194304)):e=1);var n=ji();t=Ja(t,e),t!==null&&(Em(t,e,n),lo(t,n))}function kz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EN(t,n)}function Nz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(lt(314))}r!==null&&r.delete(e),EN(t,n)}var MN;MN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||so.current)oo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oo=!1,_z(t,e,n);oo=!!(t.flags&131072)}else oo=!1,hr&&e.flags&1048576&&Ck(e,iy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yv(t,e),t=e.pendingProps;var i=md(e,Oi.current);sd(e,n),i=uM(null,e,r,t,i,n);var o=fM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ao(r)?(o=!0,ny(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oM(e),i.updater=Xy,e.stateNode=i,i._reactInternals=e,$S(e,r,t,n),e=YS(null,e,r,!0,o,n)):(e.tag=0,hr&&o&&ZE(e),Vi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Fz(r),t=ws(r,t),i){case 0:e=qS(null,e,r,t,n);break e;case 1:e=DC(null,e,r,t,n);break e;case 11:e=OC(null,e,r,t,n);break e;case 14:e=FC(null,e,r,ws(r.type,t),n);break e}throw Error(lt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),qS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),DC(t,e,r,i,n);case 3:e:{if(lN(e),t===null)throw Error(lt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Lk(t,e),ay(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xd(Error(lt(423)),e),e=UC(t,e,r,n,i);break e}else if(r!==i){i=xd(Error(lt(424)),e),e=UC(t,e,r,n,i);break e}else for(To=Bl(e.stateNode.containerInfo.firstChild),Ro=e,hr=!0,Rs=null,n=Fk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gd(),r===i){e=Za(t,e,n);break e}Vi(t,e,r,n)}e=e.child}return e;case 5:return Dk(e),t===null&&VS(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,US(r,i)?s=null:o!==null&&US(r,o)&&(e.flags|=32),aN(t,e),Vi(t,e,s,n),e.child;case 6:return t===null&&VS(e),null;case 13:return cN(t,e,n);case 4:return sM(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vd(e,null,r,n):Vi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),OC(t,e,r,i,n);case 7:return Vi(t,e,e.pendingProps,n),e.child;case 8:return Vi(t,e,e.pendingProps.children,n),e.child;case 12:return Vi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tr(oy,r._currentValue),r._currentValue=s,o!==null)if(Os(o.value,s)){if(o.children===i.children&&!so.current){e=Za(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=$a(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),WS(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(lt(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),WS(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Vi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sd(e,n),i=is(i),r=r(i),e.flags|=1,Vi(t,e,r,n),e.child;case 14:return r=e.type,i=ws(r,e.pendingProps),i=ws(r.type,i),FC(t,e,r,i,n);case 15:return oN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ws(r,i),yv(t,e),e.tag=1,ao(r)?(t=!0,ny(e)):t=!1,sd(e,n),Nk(e,r,i),$S(e,r,i,n),YS(null,e,r,!0,t,n);case 19:return uN(t,e,n);case 22:return sN(t,e,n)}throw Error(lt(156,e.tag))};function TN(t,e){return ZL(t,e)}function Oz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(t,e,n,r){return new Oz(t,e,n,r)}function _M(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fz(t){if(typeof t=="function")return _M(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zE)return 11;if(t===GE)return 14}return 2}function Vl(t,e){var n=t.alternate;return n===null?(n=es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _v(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")_M(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Of:return ou(n.children,i,o,e);case BE:s=8,i|=8;break;case gS:return t=es(12,n,e,i|2),t.elementType=gS,t.lanes=o,t;case vS:return t=es(13,n,e,i),t.elementType=vS,t.lanes=o,t;case yS:return t=es(19,n,e,i),t.elementType=yS,t.lanes=o,t;case OL:return Jy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kL:s=10;break e;case NL:s=9;break e;case zE:s=11;break e;case GE:s=14;break e;case Rl:s=16,r=null;break e}throw Error(lt(130,t==null?t:typeof t,""))}return e=es(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ou(t,e,n,r){return t=es(7,t,r,e),t.lanes=n,t}function Jy(t,e,n,r){return t=es(22,t,r,e),t.elementType=OL,t.lanes=n,t.stateNode={isHidden:!1},t}function Zb(t,e,n){return t=es(6,t,null,e),t.lanes=n,t}function Qb(t,e,n){return e=es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kb(0),this.expirationTimes=kb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function SM(t,e,n,r,i,o,s,l,a){return t=new Dz(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=es(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oM(o),t}function Uz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AN(t){if(!t)return Jl;t=t._reactInternals;e:{if(Au(t)!==t||t.tag!==1)throw Error(lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ao(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(t.tag===1){var n=t.type;if(ao(n))return Tk(t,n,e)}return e}function CN(t,e,n,r,i,o,s,l,a){return t=SM(n,r,!0,t,i,o,s,l,a),t.context=AN(null),n=t.current,r=ji(),i=Hl(n),o=$a(r,i),o.callback=e??null,zl(n,o,i),t.current.lanes=i,Em(t,i,r),lo(t,r),t}function Zy(t,e,n,r){var i=e.current,o=ji(),s=Hl(i);return n=AN(n),e.context===null?e.context=n:e.pendingContext=n,e=$a(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zl(i,e,s),t!==null&&(ks(t,i,s,o),mv(t,i,s)),s}function my(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wM(t,e){qC(t,e),(t=t.alternate)&&qC(t,e)}function Bz(){return null}var RN=typeof reportError=="function"?reportError:function(t){console.error(t)};function EM(t){this._internalRoot=t}Qy.prototype.render=EM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(lt(409));Zy(t,e,null,null)};Qy.prototype.unmount=EM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mu(function(){Zy(null,t,null,null)}),e[Ka]=null}};function Qy(t){this._internalRoot=t}Qy.prototype.unstable_scheduleHydration=function(t){if(t){var e=ok();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Il.length&&e!==0&&e<Il[n].priority;n++);Il.splice(n,0,t),n===0&&ak(t)}};function MM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function e1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YC(){}function zz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=my(s);o.call(c)}}var s=CN(e,r,t,0,null,!1,!1,"",YC);return t._reactRootContainer=s,t[Ka]=s.current,Bp(t.nodeType===8?t.parentNode:t),mu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=my(a);l.call(c)}}var a=SM(t,0,!1,null,null,!1,!1,"",YC);return t._reactRootContainer=a,t[Ka]=a.current,Bp(t.nodeType===8?t.parentNode:t),mu(function(){Zy(e,a,n,r)}),a}function t1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=my(s);l.call(a)}}Zy(e,s,t,i)}else s=zz(n,e,t,i,r);return my(s)}rk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yh(e.pendingLanes);n!==0&&(WE(e,n|1),lo(e,Ur()),!(Rn&6)&&(bd=Ur()+500,sc()))}break;case 13:mu(function(){var r=Ja(t,1);if(r!==null){var i=ji();ks(r,t,1,i)}}),wM(t,1)}};jE=function(t){if(t.tag===13){var e=Ja(t,134217728);if(e!==null){var n=ji();ks(e,t,134217728,n)}wM(t,134217728)}};ik=function(t){if(t.tag===13){var e=Hl(t),n=Ja(t,e);if(n!==null){var r=ji();ks(n,t,e,r)}wM(t,e)}};ok=function(){return Wn};sk=function(t,e){var n=Wn;try{return Wn=t,e()}finally{Wn=n}};CS=function(t,e,n){switch(e){case"input":if(_S(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jy(r);if(!i)throw Error(lt(90));DL(r),_S(r,i)}}}break;case"textarea":BL(t,n);break;case"select":e=n.value,e!=null&&nd(t,!!n.multiple,e,!1)}};$L=yM;XL=mu;var Gz={usingClientEntryPoint:!1,Events:[Tm,Bf,jy,WL,jL,yM]},Sh={findFiberByHostInstance:Yc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hz={bundleType:Sh.bundleType,version:Sh.version,rendererPackageName:Sh.rendererPackageName,rendererConfig:Sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:el.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KL(t),t===null?null:t.stateNode},findFiberByHostInstance:Sh.findFiberByHostInstance||Bz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{Gy=i0.inject(Hz),ua=i0}catch{}}ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gz;ko.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MM(e))throw Error(lt(200));return Uz(t,e,null,n)};ko.createRoot=function(t,e){if(!MM(t))throw Error(lt(299));var n=!1,r="",i=RN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=SM(t,1,!1,null,null,n,!1,r,i),t[Ka]=e.current,Bp(t.nodeType===8?t.parentNode:t),new EM(e)};ko.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(lt(188)):(t=Object.keys(t).join(","),Error(lt(268,t)));return t=KL(e),t=t===null?null:t.stateNode,t};ko.flushSync=function(t){return mu(t)};ko.hydrate=function(t,e,n){if(!e1(e))throw Error(lt(200));return t1(null,t,e,!0,n)};ko.hydrateRoot=function(t,e,n){if(!MM(t))throw Error(lt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=RN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=CN(e,null,t,1,n??null,i,!1,o,s),t[Ka]=e.current,Bp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qy(e)};ko.render=function(t,e,n){if(!e1(e))throw Error(lt(200));return t1(null,t,e,!1,n)};ko.unmountComponentAtNode=function(t){if(!e1(t))throw Error(lt(40));return t._reactRootContainer?(mu(function(){t1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ka]=null})}),!0):!1};ko.unstable_batchedUpdates=yM;ko.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!e1(n))throw Error(lt(200));if(t==null||t._reactInternals===void 0)throw Error(lt(38));return t1(t,e,n,!1,r)};ko.version="18.2.0-next-9e3b772b8-20220608";function PN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PN)}catch(t){console.error(t)}}PN(),CL.exports=ko;var n1=CL.exports;const o0=Ld(n1);var KC=n1;pS.createRoot=KC.createRoot,pS.hydrateRoot=KC.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dn(){return Dn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dn.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const JC="popstate";function Vz(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return qp("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cm(i)}return jz(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _d(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wz(){return Math.random().toString(36).substr(2,8)}function ZC(t,e){return{usr:t.state,key:t.key,idx:e}}function qp(t,e,n,r){return n===void 0&&(n=null),Dn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tl(e):e,{state:n,key:e&&e.key||r||Wz()})}function Cm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Wr.Pop,a=null,c=u();c==null&&(c=0,s.replaceState(Dn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){l=Wr.Pop;let x=u(),v=x==null?null:x-c;c=x,a&&a({action:l,location:y.location,delta:v})}function d(x,v){l=Wr.Push;let b=qp(y.location,x,v);n&&n(b,x),c=u()+1;let _=ZC(b,c),S=y.createHref(b);try{s.pushState(_,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}o&&a&&a({action:l,location:y.location,delta:1})}function p(x,v){l=Wr.Replace;let b=qp(y.location,x,v);n&&n(b,x),c=u();let _=ZC(b,c),S=y.createHref(b);s.replaceState(_,"",S),o&&a&&a({action:l,location:y.location,delta:0})}function g(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:Cm(x);return hn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return l},get location(){return t(i,s)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(JC,f),a=x,()=>{i.removeEventListener(JC,f),a=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(x){return s.go(x)}};return y}var Kr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kr||(Kr={}));const $z=new Set(["lazy","caseSensitive","path","id","index","children"]);function Xz(t){return t.index===!0}function aw(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(hn(i.index!==!0||!i.children,"Cannot specify children on an index route"),hn(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Xz(i)){let a=Dn({},i,e(i),{id:l});return r[l]=a,a}else{let a=Dn({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=aw(i.children,e,s,r)),a}})}function $f(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?tl(e):e,i=Rm(r.pathname||"/",n);if(i==null)return null;let o=IN(t);qz(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=r8(o[l],s8(i));return s}function IN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(hn(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Wl([r,a.relativePath]),u=n.concat(a);o.children&&o.children.length>0&&(hn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IN(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:t8(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of LN(o.path))i(o,s,a)}),e}function LN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=LN(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function qz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Yz=/^:\w+$/,Kz=3,Jz=2,Zz=1,Qz=10,e8=-2,QC=t=>t==="*";function t8(t,e){let n=t.split("/"),r=n.length;return n.some(QC)&&(r+=e8),e&&(r+=Jz),n.filter(i=>!QC(i)).reduce((i,o)=>i+(Yz.test(o)?Kz:o===""?Zz:Qz),r)}function n8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r8(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=i8({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let f=l.route;o.push({params:r,pathname:Wl([i,u.pathname]),pathnameBase:u8(Wl([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Wl([i,u.pathnameBase]))}return o}function i8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,u,f)=>{if(u==="*"){let d=l[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=a8(l[f]||"",u),c},{}),pathname:o,pathnameBase:s,pattern:t}}function o8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_d(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s8(t){try{return decodeURI(t)}catch(e){return _d(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function a8(t,e){try{return decodeURIComponent(t)}catch(n){return _d(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Rm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function l8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tl(t):t;return{pathname:n?n.startsWith("/")?n:c8(n,e):e,search:f8(r),hash:d8(i)}}function c8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function e_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tl(t):(i=Dn({},t),hn(!i.pathname||!i.pathname.includes("?"),e_("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),e_("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),e_("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}l=f>=0?e[f]:"/"}let a=l8(i,l),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Wl=t=>t.join("/").replace(/\/\/+/g,"/"),u8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class AM{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function kN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NN=["post","put","patch","delete"],h8=new Set(NN),p8=["get",...NN],m8=new Set(p8),g8=new Set([301,302,303,307,308]),v8=new Set([307,308]),t_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},y8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},eR={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ON=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x8=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function b8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;hn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let se=t.detectErrorBoundary;i=de=>({hasErrorBoundary:se(de)})}else i=x8;let o={},s=aw(t.routes,i,void 0,o),l,a=t.basename||"/",c=Dn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),u=null,f=new Set,d=null,p=null,g=null,y=t.hydrationData!=null,x=$f(s,t.history.location,a),v=null;if(x==null){let se=Es(404,{pathname:t.history.location.pathname}),{matches:de,route:he}=aR(s);x=de,v={[he.id]:se}}let b=!x.some(se=>se.route.lazy)&&(!x.some(se=>se.route.loader)||t.hydrationData!=null),_,S={historyAction:t.history.action,location:t.history.location,matches:x,initialized:b,navigation:t_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},E=Wr.Pop,M=!1,T,R=!1,C=!1,P=[],F=[],G=new Map,V=0,B=-1,X=new Map,ee=new Set,te=new Map,O=new Map,D=new Map,H=!1;function $(){return u=t.history.listen(se=>{let{action:de,location:he,delta:me}=se;if(H){H=!1;return}_d(D.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ue=Te({currentLocation:S.location,nextLocation:he,historyAction:de});if(Ue&&me!=null){H=!0,t.history.go(me*-1),Le(Ue,{state:"blocked",location:he,proceed(){Le(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),t.history.go(me)},reset(){oe(Ue),j({blockers:new Map(_.state.blockers)})}});return}return pe(de,he)}),S.initialized||pe(Wr.Pop,S.location),_}function W(){u&&u(),f.clear(),T&&T.abort(),S.fetchers.forEach((se,de)=>je(de)),S.blockers.forEach((se,de)=>oe(de))}function ie(se){return f.add(se),()=>f.delete(se)}function j(se){S=Dn({},S,se),f.forEach(de=>de(S))}function Y(se,de){var he,me;let Ue=S.actionData!=null&&S.navigation.formMethod!=null&&Ua(S.navigation.formMethod)&&S.navigation.state==="loading"&&((he=se.state)==null?void 0:he._isRedirect)!==!0,qe;de.actionData?Object.keys(de.actionData).length>0?qe=de.actionData:qe=null:Ue?qe=S.actionData:qe=null;let re=de.loaderData?sR(S.loaderData,de.loaderData,de.matches||[],de.errors):S.loaderData;for(let[Ee]of D)oe(Ee);let Be=M===!0||S.navigation.formMethod!=null&&Ua(S.navigation.formMethod)&&((me=se.state)==null?void 0:me._isRedirect)!==!0;l&&(s=l,l=void 0),j(Dn({},de,{actionData:qe,loaderData:re,historyAction:E,location:se,initialized:!0,navigation:t_,revalidation:"idle",restoreScrollPosition:Se(se,de.matches||S.matches),preventScrollReset:Be,blockers:new Map(S.blockers)})),R||E===Wr.Pop||(E===Wr.Push?t.history.push(se,se.state):E===Wr.Replace&&t.history.replace(se,se.state)),E=Wr.Pop,M=!1,R=!1,C=!1,P=[],F=[]}async function K(se,de){if(typeof se=="number"){t.history.go(se);return}let he=lw(S.location,S.matches,a,c.v7_prependBasename,se,de==null?void 0:de.fromRouteId,de==null?void 0:de.relative),{path:me,submission:Ue,error:qe}=tR(c.v7_normalizeFormMethod,!1,he,de),re=S.location,Be=qp(S.location,me,de&&de.state);Be=Dn({},Be,t.history.encodeLocation(Be));let Ee=de&&de.replace!=null?de.replace:void 0,Ye=Wr.Push;Ee===!0?Ye=Wr.Replace:Ee===!1||Ue!=null&&Ua(Ue.formMethod)&&Ue.formAction===S.location.pathname+S.location.search&&(Ye=Wr.Replace);let tt=de&&"preventScrollReset"in de?de.preventScrollReset===!0:void 0,vt=Te({currentLocation:re,nextLocation:Be,historyAction:Ye});if(vt){Le(vt,{state:"blocked",location:Be,proceed(){Le(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Be}),K(se,de)},reset(){oe(vt),j({blockers:new Map(S.blockers)})}});return}return await pe(Ye,Be,{submission:Ue,pendingError:qe,preventScrollReset:tt,replace:de&&de.replace})}function fe(){if(We(),j({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){pe(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}pe(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function pe(se,de,he){T&&T.abort(),T=null,E=se,R=(he&&he.startUninterruptedRevalidation)===!0,we(S.location,S.matches),M=(he&&he.preventScrollReset)===!0;let me=l||s,Ue=he&&he.overrideNavigation,qe=$f(me,de,a);if(!qe){let xt=Es(404,{pathname:de.pathname}),{matches:Et,route:Gt}=aR(me);_e(),Y(de,{matches:Et,loaderData:{},errors:{[Gt.id]:xt}});return}if(S.initialized&&!C&&M8(S.location,de)&&!(he&&he.submission&&Ua(he.submission.formMethod))){Y(de,{matches:qe});return}T=new AbortController;let re=Eh(t.history,de,T.signal,he&&he.submission),Be,Ee;if(he&&he.pendingError)Ee={[Xf(qe).route.id]:he.pendingError};else if(he&&he.submission&&Ua(he.submission.formMethod)){let xt=await xe(re,de,he.submission,qe,{replace:he.replace});if(xt.shortCircuited)return;Be=xt.pendingActionData,Ee=xt.pendingActionError,Ue=Dn({state:"loading",location:de},he.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:Ye,loaderData:tt,errors:vt}=await Ge(re,de,qe,Ue,he&&he.submission,he&&he.fetcherSubmission,he&&he.replace,Be,Ee);Ye||(T=null,Y(de,Dn({matches:qe},Be?{actionData:Be}:{},{loaderData:tt,errors:vt})))}async function xe(se,de,he,me,Ue){We();let qe=Dn({state:"submitting",location:de},he);j({navigation:qe});let re,Be=cw(me,de);if(!Be.route.action&&!Be.route.lazy)re={type:Kr.error,error:Es(405,{method:se.method,pathname:de.pathname,routeId:Be.route.id})};else if(re=await wh("action",se,Be,me,o,i,a),se.signal.aborted)return{shortCircuited:!0};if(ld(re)){let Ee;return Ue&&Ue.replace!=null?Ee=Ue.replace:Ee=re.location===S.location.pathname+S.location.search,await Ie(S,re,{submission:he,replace:Ee}),{shortCircuited:!0}}if(pp(re)){let Ee=Xf(me,Be.route.id);return(Ue&&Ue.replace)!==!0&&(E=Wr.Push),{pendingActionData:{},pendingActionError:{[Ee.route.id]:re.error}}}if(Zc(re))throw Es(400,{type:"defer-action"});return{pendingActionData:{[Be.route.id]:re.data}}}async function Ge(se,de,he,me,Ue,qe,re,Be,Ee){let Ye=me;Ye||(Ye=Dn({state:"loading",location:de,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ue));let tt=Ue||qe?Ue||qe:Ye.formMethod&&Ye.formAction&&Ye.formData&&Ye.formEncType?{formMethod:Ye.formMethod,formAction:Ye.formAction,formData:Ye.formData,formEncType:Ye.formEncType}:void 0,vt=l||s,[xt,Et]=nR(t.history,S,he,tt,de,C,P,F,te,vt,a,Be,Ee);if(_e(Ht=>!(he&&he.some(bn=>bn.route.id===Ht))||xt&&xt.some(bn=>bn.route.id===Ht)),xt.length===0&&Et.length===0){let Ht=Ke();return Y(de,Dn({matches:he,loaderData:{},errors:Ee||null},Be?{actionData:Be}:{},Ht?{fetchers:new Map(S.fetchers)}:{})),{shortCircuited:!0}}if(!R){Et.forEach(bn=>{let ir=S.fetchers.get(bn.key),mn={state:"loading",data:ir&&ir.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(bn.key,mn)});let Ht=Be||S.actionData;j(Dn({navigation:Ye},Ht?Object.keys(Ht).length===0?{actionData:null}:{actionData:Ht}:{},Et.length>0?{fetchers:new Map(S.fetchers)}:{}))}B=++V,Et.forEach(Ht=>{Ht.controller&&G.set(Ht.key,Ht.controller)});let Gt=()=>Et.forEach(Ht=>He(Ht.key));T&&T.signal.addEventListener("abort",Gt);let{results:Xt,loaderResults:jt,fetcherResults:Vt}=await Re(S.matches,he,xt,Et,se);if(se.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Gt),Et.forEach(Ht=>G.delete(Ht.key));let $n=lR(Xt);if($n)return await Ie(S,$n,{replace:re}),{shortCircuited:!0};let{loaderData:rr,errors:fn}=oR(S,he,xt,jt,Ee,Et,Vt,O);O.forEach((Ht,bn)=>{Ht.subscribe(ir=>{(ir||Ht.done)&&O.delete(bn)})});let Pn=Ke(),mr=J(B),xn=Pn||mr||Et.length>0;return Dn({loaderData:rr,errors:fn},xn?{fetchers:new Map(S.fetchers)}:{})}function Ae(se){return S.fetchers.get(se)||y8}function z(se,de,he,me){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(se)&&He(se);let Ue=l||s,qe=lw(S.location,S.matches,a,c.v7_prependBasename,he,de,me==null?void 0:me.relative),re=$f(Ue,qe,a);if(!re){ke(se,de,Es(404,{pathname:qe}));return}let{path:Be,submission:Ee}=tR(c.v7_normalizeFormMethod,!0,qe,me),Ye=cw(re,Be);if(M=(me&&me.preventScrollReset)===!0,Ee&&Ua(Ee.formMethod)){ge(se,de,Be,Ye,re,Ee);return}te.set(se,{routeId:de,path:Be}),Me(se,de,Be,Ye,re,Ee)}async function ge(se,de,he,me,Ue,qe){if(We(),te.delete(se),!me.route.action&&!me.route.lazy){let mn=Es(405,{method:qe.formMethod,pathname:he,routeId:de});ke(se,de,mn);return}let re=S.fetchers.get(se),Be=Dn({state:"submitting"},qe,{data:re&&re.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(se,Be),j({fetchers:new Map(S.fetchers)});let Ee=new AbortController,Ye=Eh(t.history,he,Ee.signal,qe);G.set(se,Ee);let tt=await wh("action",Ye,me,Ue,o,i,a);if(Ye.signal.aborted){G.get(se)===Ee&&G.delete(se);return}if(ld(tt)){G.delete(se),ee.add(se);let mn=Dn({state:"loading"},qe,{data:void 0," _hasFetcherDoneAnything ":!0});return S.fetchers.set(se,mn),j({fetchers:new Map(S.fetchers)}),Ie(S,tt,{submission:qe,isFetchActionRedirect:!0})}if(pp(tt)){ke(se,de,tt.error);return}if(Zc(tt))throw Es(400,{type:"defer-action"});let vt=S.navigation.location||S.location,xt=Eh(t.history,vt,Ee.signal),Et=l||s,Gt=S.navigation.state!=="idle"?$f(Et,S.navigation.location,a):S.matches;hn(Gt,"Didn't find any matches after fetcher action");let Xt=++V;X.set(se,Xt);let jt=Dn({state:"loading",data:tt.data},qe,{" _hasFetcherDoneAnything ":!0});S.fetchers.set(se,jt);let[Vt,$n]=nR(t.history,S,Gt,qe,vt,C,P,F,te,Et,a,{[me.route.id]:tt.data},void 0);$n.filter(mn=>mn.key!==se).forEach(mn=>{let ue=mn.key,$e=S.fetchers.get(ue),Ze={state:"loading",data:$e&&$e.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(ue,Ze),mn.controller&&G.set(ue,mn.controller)}),j({fetchers:new Map(S.fetchers)});let rr=()=>$n.forEach(mn=>He(mn.key));Ee.signal.addEventListener("abort",rr);let{results:fn,loaderResults:Pn,fetcherResults:mr}=await Re(S.matches,Gt,Vt,$n,xt);if(Ee.signal.aborted)return;Ee.signal.removeEventListener("abort",rr),X.delete(se),G.delete(se),$n.forEach(mn=>G.delete(mn.key));let xn=lR(fn);if(xn)return Ie(S,xn);let{loaderData:Ht,errors:bn}=oR(S,S.matches,Vt,Pn,void 0,$n,mr,O);if(S.fetchers.has(se)){let mn={state:"idle",data:tt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(se,mn)}let ir=J(Xt);S.navigation.state==="loading"&&Xt>B?(hn(E,"Expected pending action"),T&&T.abort(),Y(S.navigation.location,{matches:Gt,loaderData:Ht,errors:bn,fetchers:new Map(S.fetchers)})):(j(Dn({errors:bn,loaderData:sR(S.loaderData,Ht,Gt,bn)},ir||$n.length>0?{fetchers:new Map(S.fetchers)}:{})),C=!1)}async function Me(se,de,he,me,Ue,qe){let re=S.fetchers.get(se),Be=Dn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},qe,{data:re&&re.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(se,Be),j({fetchers:new Map(S.fetchers)});let Ee=new AbortController,Ye=Eh(t.history,he,Ee.signal);G.set(se,Ee);let tt=await wh("loader",Ye,me,Ue,o,i,a);if(Zc(tt)&&(tt=await BN(tt,Ye.signal,!0)||tt),G.get(se)===Ee&&G.delete(se),Ye.signal.aborted)return;if(ld(tt)){ee.add(se),await Ie(S,tt);return}if(pp(tt)){let xt=Xf(S.matches,de);S.fetchers.delete(se),j({fetchers:new Map(S.fetchers),errors:{[xt.route.id]:tt.error}});return}hn(!Zc(tt),"Unhandled fetcher deferred data");let vt={state:"idle",data:tt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(se,vt),j({fetchers:new Map(S.fetchers)})}async function Ie(se,de,he){let{submission:me,replace:Ue,isFetchActionRedirect:qe}=he===void 0?{}:he;de.revalidate&&(C=!0);let re=qp(se.location,de.location,Dn({_isRedirect:!0},qe?{_isFetchActionRedirect:!0}:{}));if(hn(re,"Expected a location on the redirect navigation"),ON.test(de.location)&&n){let xt=t.history.createURL(de.location),Et=Rm(xt.pathname,a)==null;if(e.location.origin!==xt.origin||Et){Ue?e.location.replace(de.location):e.location.assign(de.location);return}}T=null;let Be=Ue===!0?Wr.Replace:Wr.Push,{formMethod:Ee,formAction:Ye,formEncType:tt,formData:vt}=se.navigation;!me&&Ee&&Ye&&vt&&tt&&(me={formMethod:Ee,formAction:Ye,formEncType:tt,formData:vt}),v8.has(de.status)&&me&&Ua(me.formMethod)?await pe(Be,re,{submission:Dn({},me,{formAction:de.location}),preventScrollReset:M}):qe?await pe(Be,re,{overrideNavigation:{state:"loading",location:re,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:me,preventScrollReset:M}):await pe(Be,re,{overrideNavigation:{state:"loading",location:re,formMethod:me?me.formMethod:void 0,formAction:me?me.formAction:void 0,formEncType:me?me.formEncType:void 0,formData:me?me.formData:void 0},preventScrollReset:M})}async function Re(se,de,he,me,Ue){let qe=await Promise.all([...he.map(Ee=>wh("loader",Ue,Ee,de,o,i,a)),...me.map(Ee=>Ee.matches&&Ee.match&&Ee.controller?wh("loader",Eh(t.history,Ee.path,Ee.controller.signal),Ee.match,Ee.matches,o,i,a):{type:Kr.error,error:Es(404,{pathname:Ee.path})})]),re=qe.slice(0,he.length),Be=qe.slice(he.length);return await Promise.all([cR(se,he,re,re.map(()=>Ue.signal),!1,S.loaderData),cR(se,me.map(Ee=>Ee.match),Be,me.map(Ee=>Ee.controller?Ee.controller.signal:null),!0)]),{results:qe,loaderResults:re,fetcherResults:Be}}function We(){C=!0,P.push(..._e()),te.forEach((se,de)=>{G.has(de)&&(F.push(de),He(de))})}function ke(se,de,he){let me=Xf(S.matches,de);je(se),j({errors:{[me.route.id]:he},fetchers:new Map(S.fetchers)})}function je(se){let de=S.fetchers.get(se);G.has(se)&&!(de&&de.state==="loading"&&X.has(se))&&He(se),te.delete(se),X.delete(se),ee.delete(se),S.fetchers.delete(se)}function He(se){let de=G.get(se);hn(de,"Expected fetch controller: "+se),de.abort(),G.delete(se)}function Ne(se){for(let de of se){let me={state:"idle",data:Ae(de).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(de,me)}}function Ke(){let se=[],de=!1;for(let he of ee){let me=S.fetchers.get(he);hn(me,"Expected fetcher: "+he),me.state==="loading"&&(ee.delete(he),se.push(he),de=!0)}return Ne(se),de}function J(se){let de=[];for(let[he,me]of X)if(me<se){let Ue=S.fetchers.get(he);hn(Ue,"Expected fetcher: "+he),Ue.state==="loading"&&(He(he),X.delete(he),de.push(he))}return Ne(de),de.length>0}function N(se,de){let he=S.blockers.get(se)||eR;return D.get(se)!==de&&D.set(se,de),he}function oe(se){S.blockers.delete(se),D.delete(se)}function Le(se,de){let he=S.blockers.get(se)||eR;hn(he.state==="unblocked"&&de.state==="blocked"||he.state==="blocked"&&de.state==="blocked"||he.state==="blocked"&&de.state==="proceeding"||he.state==="blocked"&&de.state==="unblocked"||he.state==="proceeding"&&de.state==="unblocked","Invalid blocker state transition: "+he.state+" -> "+de.state),S.blockers.set(se,de),j({blockers:new Map(S.blockers)})}function Te(se){let{currentLocation:de,nextLocation:he,historyAction:me}=se;if(D.size===0)return;D.size>1&&_d(!1,"A router only supports one blocker at a time");let Ue=Array.from(D.entries()),[qe,re]=Ue[Ue.length-1],Be=S.blockers.get(qe);if(!(Be&&Be.state==="proceeding")&&re({currentLocation:de,nextLocation:he,historyAction:me}))return qe}function _e(se){let de=[];return O.forEach((he,me)=>{(!se||se(me))&&(he.cancel(),de.push(me),O.delete(me))}),de}function ye(se,de,he){if(d=se,g=de,p=he||(me=>me.key),!y&&S.navigation===t_){y=!0;let me=Se(S.location,S.matches);me!=null&&j({restoreScrollPosition:me})}return()=>{d=null,g=null,p=null}}function we(se,de){if(d&&p&&g){let he=de.map(Ue=>uR(Ue,S.loaderData)),me=p(se,he)||se.key;d[me]=g()}}function Se(se,de){if(d&&p&&g){let he=de.map(qe=>uR(qe,S.loaderData)),me=p(se,he)||se.key,Ue=d[me];if(typeof Ue=="number")return Ue}return null}function be(se){o={},l=aw(se,i,void 0,o)}return _={get basename(){return a},get state(){return S},get routes(){return s},initialize:$,subscribe:ie,enableScrollRestoration:ye,navigate:K,fetch:z,revalidate:fe,createHref:se=>t.history.createHref(se),encodeLocation:se=>t.history.encodeLocation(se),getFetcher:Ae,deleteFetcher:je,dispose:W,getBlocker:N,deleteBlocker:oe,_internalFetchControllers:G,_internalActiveDeferreds:O,_internalSetRoutes:be},_}function _8(t){return t!=null&&"formData"in t}function lw(t,e,n,r,i,o,s){let l,a;if(o!=null&&s!=="path"){l=[];for(let u of e)if(l.push(u),u.route.id===o){a=u;break}}else l=e,a=e[e.length-1];let c=TM(i||".",r1(l).map(u=>u.pathnameBase),Rm(t.pathname,n)||t.pathname,s==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!CM(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Wl([n,c.pathname])),Cm(c)}function tR(t,e,n,r){if(!r||!_8(r))return{path:n};if(r.formMethod&&!C8(r.formMethod))return{path:n,error:Es(405,{method:r.formMethod})};let i;if(r.formData){let l=r.formMethod||"get";if(i={formMethod:t?l.toUpperCase():l.toLowerCase(),formAction:UN(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},Ua(i.formMethod))return{path:n,submission:i}}let o=tl(n),s=DN(r.formData);return e&&o.search&&CM(o.search)&&s.append("index",""),o.search="?"+s,{path:Cm(o),submission:i}}function S8(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function nR(t,e,n,r,i,o,s,l,a,c,u,f,d){let p=d?Object.values(d)[0]:f?Object.values(f)[0]:void 0,g=t.createURL(e.location),y=t.createURL(i),x=d?Object.keys(d)[0]:void 0,b=S8(n,x).filter((S,E)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(w8(e.loaderData,e.matches[E],S)||s.some(R=>R===S.route.id))return!0;let M=e.matches[E],T=S;return rR(S,Dn({currentUrl:g,currentParams:M.params,nextUrl:y,nextParams:T.params},r,{actionResult:p,defaultShouldRevalidate:o||g.pathname+g.search===y.pathname+y.search||g.search!==y.search||FN(M,T)}))}),_=[];return a.forEach((S,E)=>{if(!n.some(C=>C.route.id===S.routeId))return;let M=$f(c,S.path,u);if(!M){_.push({key:E,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let T=cw(M,S.path);if(l.includes(E)){_.push({key:E,routeId:S.routeId,path:S.path,matches:M,match:T,controller:new AbortController});return}rR(T,Dn({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:o}))&&_.push({key:E,routeId:S.routeId,path:S.path,matches:M,match:T,controller:new AbortController})}),[b,_]}function w8(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function FN(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function rR(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function iR(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];hn(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";_d(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!$z.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Dn({},e(i),{lazy:void 0}))}async function wh(t,e,n,r,i,o,s,l,a,c){l===void 0&&(l=!1),a===void 0&&(a=!1);let u,f,d,p=x=>{let v,b=new Promise((_,S)=>v=S);return d=()=>v(),e.signal.addEventListener("abort",d),Promise.race([x({request:e,params:n.params,context:c}),b])};try{let x=n.route[t];if(n.route.lazy)if(x)f=(await Promise.all([p(x),iR(n.route,o,i)]))[0];else if(await iR(n.route,o,i),x=n.route[t],x)f=await p(x);else if(t==="action"){let v=new URL(e.url),b=v.pathname+v.search;throw Es(405,{method:e.method,pathname:b,routeId:n.route.id})}else return{type:Kr.data,data:void 0};else if(x)f=await p(x);else{let v=new URL(e.url),b=v.pathname+v.search;throw Es(404,{pathname:b})}hn(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(x){u=Kr.error,f=x}finally{d&&e.signal.removeEventListener("abort",d)}if(A8(f)){let x=f.status;if(g8.has(x)){let _=f.headers.get("Location");if(hn(_,"Redirects returned/thrown from loaders/actions must have a Location header"),!ON.test(_))_=lw(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,_);else if(!l){let S=new URL(e.url),E=_.startsWith("//")?new URL(S.protocol+_):new URL(_),M=Rm(E.pathname,s)!=null;E.origin===S.origin&&M&&(_=E.pathname+E.search+E.hash)}if(l)throw f.headers.set("Location",_),f;return{type:Kr.redirect,status:x,location:_,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(a)throw{type:u||Kr.data,response:f};let v,b=f.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?v=await f.json():v=await f.text(),u===Kr.error?{type:u,error:new AM(x,f.statusText,v),headers:f.headers}:{type:Kr.data,data:v,statusCode:f.status,headers:f.headers}}if(u===Kr.error)return{type:u,error:f};if(T8(f)){var g,y;return{type:Kr.deferred,deferredData:f,statusCode:(g=f.init)==null?void 0:g.status,headers:((y=f.init)==null?void 0:y.headers)&&new Headers(f.init.headers)}}return{type:Kr.data,data:f}}function Eh(t,e,n,r){let i=t.createURL(UN(e)).toString(),o={signal:n};if(r&&Ua(r.formMethod)){let{formMethod:s,formEncType:l,formData:a}=r;o.method=s.toUpperCase(),o.body=l==="application/x-www-form-urlencoded"?DN(a):a}return new Request(i,o)}function DN(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function E8(t,e,n,r,i){let o={},s=null,l,a=!1,c={};return n.forEach((u,f)=>{let d=e[f].route.id;if(hn(!ld(u),"Cannot handle redirect results in processLoaderData"),pp(u)){let p=Xf(t,d),g=u.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=g),o[d]=void 0,a||(a=!0,l=kN(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else Zc(u)?(i.set(d,u.deferredData),o[d]=u.deferredData.data):o[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!a&&(l=u.statusCode),u.headers&&(c[d]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:c}}function oR(t,e,n,r,i,o,s,l){let{loaderData:a,errors:c}=E8(e,n,r,i,l);for(let u=0;u<o.length;u++){let{key:f,match:d,controller:p}=o[u];hn(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let g=s[u];if(!(p&&p.signal.aborted))if(pp(g)){let y=Xf(t.matches,d==null?void 0:d.route.id);c&&c[y.route.id]||(c=Dn({},c,{[y.route.id]:g.error})),t.fetchers.delete(f)}else if(ld(g))hn(!1,"Unhandled fetcher revalidation redirect");else if(Zc(g))hn(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,y)}}return{loaderData:a,errors:c}}function sR(t,e,n,r){let i=Dn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Xf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function aR(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Es(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(l="defer() is not supported in actions")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new AM(t||500,s,new Error(l),!0)}function lR(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ld(n))return n}}function UN(t){let e=typeof t=="string"?tl(t):t;return Cm(Dn({},e,{hash:""}))}function M8(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Zc(t){return t.type===Kr.deferred}function pp(t){return t.type===Kr.error}function ld(t){return(t&&t.type)===Kr.redirect}function T8(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function A8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function C8(t){return m8.has(t.toLowerCase())}function Ua(t){return h8.has(t.toLowerCase())}async function cR(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=e[s];if(!a)continue;let c=t.find(f=>f.route.id===a.route.id),u=c!=null&&!FN(c,a)&&(o&&o[a.route.id])!==void 0;if(Zc(l)&&(i||u)){let f=r[s];hn(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await BN(l,f,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function BN(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Kr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Kr.error,error:i}}return{type:Kr.data,data:t.deferredData.data}}}function CM(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function cw(t,e){let n=typeof e=="string"?tl(e).search:e.search;if(t[t.length-1].route.index&&CM(n||""))return t[t.length-1];let r=r1(t);return r[r.length-1]}/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}const R8="startTransition";var fR=jv[R8];const i1=L.createContext(null),zN=L.createContext(null),o1=L.createContext(null),s1=L.createContext(null),ac=L.createContext({outlet:null,matches:[],isDataRoute:!1}),GN=L.createContext(null);function Pm(){return L.useContext(s1)!=null}function a1(){return Pm()||hn(!1),L.useContext(s1).location}function HN(t){L.useContext(o1).static||L.useLayoutEffect(t)}function VN(){let{isDataRoute:t}=L.useContext(ac);return t?V8():P8()}function P8(){Pm()||hn(!1);let t=L.useContext(i1),{basename:e,navigator:n}=L.useContext(o1),{matches:r}=L.useContext(ac),{pathname:i}=a1(),o=JSON.stringify(r1(r).map(a=>a.pathnameBase)),s=L.useRef(!1);return HN(()=>{s.current=!0}),L.useCallback(function(a,c){if(c===void 0&&(c={}),!s.current)return;if(typeof a=="number"){n.go(a);return}let u=TM(a,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Wl([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}const I8=L.createContext(null);function L8(t){let e=L.useContext(ac).outlet;return e&&L.createElement(I8.Provider,{value:t},e)}function k8(t,e,n){Pm()||hn(!1);let{navigator:r}=L.useContext(o1),{matches:i}=L.useContext(ac),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=a1(),c;if(e){var u;let y=typeof e=="string"?tl(e):e;l==="/"||(u=y.pathname)!=null&&u.startsWith(l)||hn(!1),c=y}else c=a;let f=c.pathname||"/",d=l==="/"?f:f.slice(l.length)||"/",p=$f(t,{pathname:d}),g=U8(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Wl([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Wl([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&g?L.createElement(s1.Provider,{value:{location:gy({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wr.Pop}},g):g}function N8(){let t=H8(),e=kN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,o)}const O8=L.createElement(N8,null);class F8 extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?L.createElement(ac.Provider,{value:this.props.routeContext},L.createElement(GN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D8(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(i1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(ac.Provider,{value:e},r)}function U8(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let l=o.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));l>=0||hn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,a,c)=>{let u=a.route.id?s==null?void 0:s[a.route.id]:null,f=null;n&&(f=a.route.errorElement||O8);let d=e.concat(o.slice(0,c+1)),p=()=>{let g;return u?g=f:a.route.Component?g=L.createElement(a.route.Component,null):a.route.element?g=a.route.element:g=l,L.createElement(D8,{match:a,routeContext:{outlet:l,matches:d,isDataRoute:n!=null},children:g})};return n&&(a.route.ErrorBoundary||a.route.errorElement||c===0)?L.createElement(F8,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var uw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(uw||(uw={}));var Yp;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Yp||(Yp={}));function B8(t){let e=L.useContext(i1);return e||hn(!1),e}function z8(t){let e=L.useContext(zN);return e||hn(!1),e}function G8(t){let e=L.useContext(ac);return e||hn(!1),e}function WN(t){let e=G8(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function H8(){var t;let e=L.useContext(GN),n=z8(Yp.UseRouteError),r=WN(Yp.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function V8(){let{router:t}=B8(uw.UseNavigateStable),e=WN(Yp.UseNavigateStable),n=L.useRef(!1);return HN(()=>{n.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gy({fromRouteId:e},o)))},[t,e])}function W8(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=L.useState(n.state),{v7_startTransition:s}=r||{},l=L.useCallback(f=>{s&&fR?fR(()=>o(f)):o(f)},[o,s]);L.useLayoutEffect(()=>n.subscribe(l),[n,l]);let a=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:f=>n.navigate(f),push:(f,d,p)=>n.navigate(f,{state:d,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(f,d,p)=>n.navigate(f,{replace:!0,state:d,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[n]),c=n.basename||"/",u=L.useMemo(()=>({router:n,navigator:a,static:!1,basename:c}),[n,a,c]);return L.createElement(L.Fragment,null,L.createElement(i1.Provider,{value:u},L.createElement(zN.Provider,{value:i},L.createElement(q8,{basename:c,location:i.location,navigationType:i.historyAction,navigator:a},i.initialized?L.createElement(j8,{routes:n.routes,state:i}):e))),null)}function j8(t){let{routes:e,state:n}=t;return k8(e,void 0,n)}function $8(t){let{to:e,replace:n,state:r,relative:i}=t;Pm()||hn(!1);let{matches:o}=L.useContext(ac),{pathname:s}=a1(),l=VN(),a=TM(e,r1(o).map(u=>u.pathnameBase),s,i==="path"),c=JSON.stringify(a);return L.useEffect(()=>l(JSON.parse(c),{replace:n,state:r,relative:i}),[l,c,i,n,r]),null}function X8(t){return L8(t.context)}function q8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wr.Pop,navigator:o,static:s=!1}=t;Pm()&&hn(!1);let l=e.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=tl(r));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:p="default"}=r,g=L.useMemo(()=>{let y=Rm(c,l);return y==null?null:{location:{pathname:y,search:u,hash:f,state:d,key:p},navigationType:i}},[l,c,u,f,d,p,i]);return g==null?null:L.createElement(o1.Provider,{value:a},L.createElement(s1.Provider,{children:n,value:g}))}var dR;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(dR||(dR={}));new Promise(()=>{});function Y8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(this,arguments)}function K8(t,e){return b8({basename:e==null?void 0:e.basename,future:vy({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Vz({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||J8(),routes:t,mapRouteProperties:Y8}).initialize()}function J8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=vy({},e,{errors:Z8(e.errors)})),e}function Z8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new AM(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}var hR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(hR||(hR={}));var pR;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pR||(pR={}));const Q8={black:"#000",white:"#fff"},Kp=Q8,e7={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xu=e7,t7={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qu=t7,n7={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Yu=n7,r7={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ku=r7,i7={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ju=i7,o7={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Mh=o7,s7={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},a7=s7;function Wc(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function jN(t){if(!Wc(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=jN(t[n])}),e}function ns(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Wc(t)&&Wc(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Wc(e[i])&&i in t&&Wc(t[i])?r[i]=ns(t[i],e[i],n):n.clone?r[i]=Wc(e[i])?jN(e[i]):e[i]:r[i]=e[i])}),r}var $N={exports:{}},l7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",c7=l7,u7=c7;function XN(){}function qN(){}qN.resetWarningCache=XN;var f7=function(){function t(r,i,o,s,l,a){if(a!==u7){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qN,resetWarningCache:XN};return n.PropTypes=n,n};$N.exports=f7();var d7=$N.exports;const Zn=Ld(d7);function Zl(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Lt(t){if(typeof t!="string")throw new Error(Zl(7));return t.charAt(0).toUpperCase()+t.slice(1)}function yy(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Sd(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function h7(t,e){return()=>null}function mp(t,e){return L.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function $i(t){return t&&t.ownerDocument||document}function ga(t){return $i(t).defaultView||window}function p7(t,e){return()=>null}function xy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const m7=typeof window<"u"?L.useLayoutEffect:L.useEffect,va=m7;let mR=0;function g7(t){const[e,n]=L.useState(t),r=t||e;return L.useEffect(()=>{e==null&&(mR+=1,n(`mui-${mR}`))},[e]),r}const gR=jv["useId".toString()];function RM(t){if(gR!==void 0){const e=gR();return t??e}return g7(t)}function v7(t,e,n,r,i){return null}function Jp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=L.useRef(t!==void 0),[o,s]=L.useState(e),l=i?t:o,a=L.useCallback(c=>{i||s(c)},[]);return[l,a]}function oa(t){const e=L.useRef(t);return va(()=>{e.current=t}),L.useCallback((...n)=>(0,e.current)(...n),[])}function Qr(...t){return L.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{xy(n,e)})},t)}let l1=!0,fw=!1,vR;const y7={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function x7(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&y7[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function b7(t){t.metaKey||t.altKey||t.ctrlKey||(l1=!0)}function n_(){l1=!1}function _7(){this.visibilityState==="hidden"&&fw&&(l1=!0)}function S7(t){t.addEventListener("keydown",b7,!0),t.addEventListener("mousedown",n_,!0),t.addEventListener("pointerdown",n_,!0),t.addEventListener("touchstart",n_,!0),t.addEventListener("visibilitychange",_7,!0)}function w7(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return l1||x7(e)}function YN(){const t=L.useCallback(i=>{i!=null&&S7(i.ownerDocument)},[]),e=L.useRef(!1);function n(){return e.current?(fw=!0,window.clearTimeout(vR),vR=window.setTimeout(()=>{fw=!1},100),e.current=!1,!0):!1}function r(i){return w7(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function KN(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let Zu;function JN(){if(Zu)return Zu;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),Zu="reverse",t.scrollLeft>0?Zu="default":(t.scrollLeft=1,t.scrollLeft===0&&(Zu="negative")),document.body.removeChild(t),Zu}function yR(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(JN()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}function PM(t,e){const n={...e};return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]={...t[r],...n[r]};else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]={...o},Object.keys(i).forEach(s=>{n[r][s]=PM(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function rn(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const l=e(s);l!==""&&o.push(l),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const xR=t=>t,E7=()=>{let t=xR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=xR}}},M7=E7(),IM=M7,T7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Zt(t,e,n="Mui"){const r=T7[e];return r?`${n}-${r}`:`${IM.generate(t)}-${e}`}function Qt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Zt(t,i,n)}),r}const gu="$$material";function ae(){return ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ae.apply(this,arguments)}function _t(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var A7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,C7=ZN(function(t){return A7.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function R7(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function P7(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var I7=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(P7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=R7(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ri="-ms-",by="-moz-",On="-webkit-",QN="comm",LM="rule",kM="decl",L7="@import",eO="@keyframes",k7="@layer",N7=Math.abs,c1=String.fromCharCode,O7=Object.assign;function F7(t,e){return mi(t,0)^45?(((e<<2^mi(t,0))<<2^mi(t,1))<<2^mi(t,2))<<2^mi(t,3):0}function tO(t){return t.trim()}function D7(t,e){return(t=e.exec(t))?t[0]:t}function Fn(t,e,n){return t.replace(e,n)}function dw(t,e){return t.indexOf(e)}function mi(t,e){return t.charCodeAt(e)|0}function Zp(t,e,n){return t.slice(e,n)}function Qs(t){return t.length}function NM(t){return t.length}function s0(t,e){return e.push(t),t}function U7(t,e){return t.map(e).join("")}var u1=1,wd=1,nO=0,uo=0,jr=0,Fd="";function f1(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:u1,column:wd,length:s,return:""}}function Th(t,e){return O7(f1("",null,null,"",null,null,0),t,{length:-t.length},e)}function B7(){return jr}function z7(){return jr=uo>0?mi(Fd,--uo):0,wd--,jr===10&&(wd=1,u1--),jr}function Po(){return jr=uo<nO?mi(Fd,uo++):0,wd++,jr===10&&(wd=1,u1++),jr}function da(){return mi(Fd,uo)}function Sv(){return uo}function Im(t,e){return Zp(Fd,t,e)}function Qp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rO(t){return u1=wd=1,nO=Qs(Fd=t),uo=0,[]}function iO(t){return Fd="",t}function wv(t){return tO(Im(uo-1,hw(t===91?t+2:t===40?t+1:t)))}function G7(t){for(;(jr=da())&&jr<33;)Po();return Qp(t)>2||Qp(jr)>3?"":" "}function H7(t,e){for(;--e&&Po()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return Im(t,Sv()+(e<6&&da()==32&&Po()==32))}function hw(t){for(;Po();)switch(jr){case t:return uo;case 34:case 39:t!==34&&t!==39&&hw(jr);break;case 40:t===41&&hw(t);break;case 92:Po();break}return uo}function V7(t,e){for(;Po()&&t+jr!==47+10;)if(t+jr===42+42&&da()===47)break;return"/*"+Im(e,uo-1)+"*"+c1(t===47?t:Po())}function W7(t){for(;!Qp(da());)Po();return Im(t,uo)}function j7(t){return iO(Ev("",null,null,null,[""],t=rO(t),0,[0],t))}function Ev(t,e,n,r,i,o,s,l,a){for(var c=0,u=0,f=s,d=0,p=0,g=0,y=1,x=1,v=1,b=0,_="",S=i,E=o,M=r,T=_;x;)switch(g=b,b=Po()){case 40:if(g!=108&&mi(T,f-1)==58){dw(T+=Fn(wv(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=wv(b);break;case 9:case 10:case 13:case 32:T+=G7(g);break;case 92:T+=H7(Sv()-1,7);continue;case 47:switch(da()){case 42:case 47:s0($7(V7(Po(),Sv()),e,n),a);break;default:T+="/"}break;case 123*y:l[c++]=Qs(T)*v;case 125*y:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+u:v==-1&&(T=Fn(T,/\f/g,"")),p>0&&Qs(T)-f&&s0(p>32?_R(T+";",r,n,f-1):_R(Fn(T," ","")+";",r,n,f-2),a);break;case 59:T+=";";default:if(s0(M=bR(T,e,n,c,u,i,l,_,S=[],E=[],f),o),b===123)if(u===0)Ev(T,e,M,M,S,o,f,l,E);else switch(d===99&&mi(T,3)===110?100:d){case 100:case 108:case 109:case 115:Ev(t,M,M,r&&s0(bR(t,M,M,0,0,i,l,_,i,S=[],f),E),i,E,f,l,r?S:E);break;default:Ev(T,M,M,M,[""],E,0,l,E)}}c=u=p=0,y=v=1,_=T="",f=s;break;case 58:f=1+Qs(T),p=g;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&z7()==125)continue}switch(T+=c1(b),b*y){case 38:v=u>0?1:(T+="\f",-1);break;case 44:l[c++]=(Qs(T)-1)*v,v=1;break;case 64:da()===45&&(T+=wv(Po())),d=da(),u=f=Qs(_=T+=W7(Sv())),b++;break;case 45:g===45&&Qs(T)==2&&(y=0)}}return o}function bR(t,e,n,r,i,o,s,l,a,c,u){for(var f=i-1,d=i===0?o:[""],p=NM(d),g=0,y=0,x=0;g<r;++g)for(var v=0,b=Zp(t,f+1,f=N7(y=s[g])),_=t;v<p;++v)(_=tO(y>0?d[v]+" "+b:Fn(b,/&\f/g,d[v])))&&(a[x++]=_);return f1(t,e,n,i===0?LM:l,a,c,u)}function $7(t,e,n){return f1(t,e,n,QN,c1(B7()),Zp(t,2,-2),0)}function _R(t,e,n,r){return f1(t,e,n,kM,Zp(t,0,r),Zp(t,r+1,-1),r)}function cd(t,e){for(var n="",r=NM(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function X7(t,e,n,r){switch(t.type){case k7:if(t.children.length)break;case L7:case kM:return t.return=t.return||t.value;case QN:return"";case eO:return t.return=t.value+"{"+cd(t.children,r)+"}";case LM:t.value=t.props.join(",")}return Qs(n=cd(t.children,r))?t.return=t.value+"{"+n+"}":""}function q7(t){var e=NM(t);return function(n,r,i,o){for(var s="",l=0;l<e;l++)s+=t[l](n,r,i,o)||"";return s}}function Y7(t){return function(e){e.root||(e=e.return)&&t(e)}}var K7=function(e,n,r){for(var i=0,o=0;i=o,o=da(),i===38&&o===12&&(n[r]=1),!Qp(o);)Po();return Im(e,uo)},J7=function(e,n){var r=-1,i=44;do switch(Qp(i)){case 0:i===38&&da()===12&&(n[r]=1),e[r]+=K7(uo-1,n,r);break;case 2:e[r]+=wv(i);break;case 4:if(i===44){e[++r]=da()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=c1(i)}while(i=Po());return e},Z7=function(e,n){return iO(J7(rO(e),n))},SR=new WeakMap,Q7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!SR.get(r))&&!i){SR.set(e,!0);for(var o=[],s=Z7(n,o),l=r.props,a=0,c=0;a<s.length;a++)for(var u=0;u<l.length;u++,c++)e.props[c]=o[a]?s[a].replace(/&\f/g,l[u]):l[u]+" "+s[a]}}},eG=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function oO(t,e){switch(F7(t,e)){case 5103:return On+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return On+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return On+t+by+t+Ri+t+t;case 6828:case 4268:return On+t+Ri+t+t;case 6165:return On+t+Ri+"flex-"+t+t;case 5187:return On+t+Fn(t,/(\w+).+(:[^]+)/,On+"box-$1$2"+Ri+"flex-$1$2")+t;case 5443:return On+t+Ri+"flex-item-"+Fn(t,/flex-|-self/,"")+t;case 4675:return On+t+Ri+"flex-line-pack"+Fn(t,/align-content|flex-|-self/,"")+t;case 5548:return On+t+Ri+Fn(t,"shrink","negative")+t;case 5292:return On+t+Ri+Fn(t,"basis","preferred-size")+t;case 6060:return On+"box-"+Fn(t,"-grow","")+On+t+Ri+Fn(t,"grow","positive")+t;case 4554:return On+Fn(t,/([^-])(transform)/g,"$1"+On+"$2")+t;case 6187:return Fn(Fn(Fn(t,/(zoom-|grab)/,On+"$1"),/(image-set)/,On+"$1"),t,"")+t;case 5495:case 3959:return Fn(t,/(image-set\([^]*)/,On+"$1$`$1");case 4968:return Fn(Fn(t,/(.+:)(flex-)?(.*)/,On+"box-pack:$3"+Ri+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+On+t+t;case 4095:case 3583:case 4068:case 2532:return Fn(t,/(.+)-inline(.+)/,On+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qs(t)-1-e>6)switch(mi(t,e+1)){case 109:if(mi(t,e+4)!==45)break;case 102:return Fn(t,/(.+:)(.+)-([^]+)/,"$1"+On+"$2-$3$1"+by+(mi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dw(t,"stretch")?oO(Fn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(mi(t,e+1)!==115)break;case 6444:switch(mi(t,Qs(t)-3-(~dw(t,"!important")&&10))){case 107:return Fn(t,":",":"+On)+t;case 101:return Fn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+On+(mi(t,14)===45?"inline-":"")+"box$3$1"+On+"$2$3$1"+Ri+"$2box$3")+t}break;case 5936:switch(mi(t,e+11)){case 114:return On+t+Ri+Fn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return On+t+Ri+Fn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return On+t+Ri+Fn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return On+t+Ri+t+t}return t}var tG=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case kM:e.return=oO(e.value,e.length);break;case eO:return cd([Th(e,{value:Fn(e.value,"@","@"+On)})],i);case LM:if(e.length)return U7(e.props,function(o){switch(D7(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cd([Th(e,{props:[Fn(o,/:(read-\w+)/,":"+by+"$1")]})],i);case"::placeholder":return cd([Th(e,{props:[Fn(o,/:(plac\w+)/,":"+On+"input-$1")]}),Th(e,{props:[Fn(o,/:(plac\w+)/,":"+by+"$1")]}),Th(e,{props:[Fn(o,/:(plac\w+)/,Ri+"input-$1")]})],i)}return""})}},nG=[tG],rG=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||nG,o={},s,l=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),v=1;v<x.length;v++)o[x[v]]=!0;l.push(y)});var a,c=[Q7,eG];{var u,f=[X7,Y7(function(y){u.insert(y)})],d=q7(c.concat(i,f)),p=function(x){return cd(j7(x),d)};a=function(x,v,b,_){u=b,p(x?x+"{"+v.styles+"}":v.styles),_&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new I7({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return g.sheet.hydrate(l),g},sO={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=typeof Symbol=="function"&&Symbol.for,OM=fi?Symbol.for("react.element"):60103,FM=fi?Symbol.for("react.portal"):60106,d1=fi?Symbol.for("react.fragment"):60107,h1=fi?Symbol.for("react.strict_mode"):60108,p1=fi?Symbol.for("react.profiler"):60114,m1=fi?Symbol.for("react.provider"):60109,g1=fi?Symbol.for("react.context"):60110,DM=fi?Symbol.for("react.async_mode"):60111,v1=fi?Symbol.for("react.concurrent_mode"):60111,y1=fi?Symbol.for("react.forward_ref"):60112,x1=fi?Symbol.for("react.suspense"):60113,iG=fi?Symbol.for("react.suspense_list"):60120,b1=fi?Symbol.for("react.memo"):60115,_1=fi?Symbol.for("react.lazy"):60116,oG=fi?Symbol.for("react.block"):60121,sG=fi?Symbol.for("react.fundamental"):60117,aG=fi?Symbol.for("react.responder"):60118,lG=fi?Symbol.for("react.scope"):60119;function Oo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OM:switch(t=t.type,t){case DM:case v1:case d1:case p1:case h1:case x1:return t;default:switch(t=t&&t.$$typeof,t){case g1:case y1:case _1:case b1:case m1:return t;default:return e}}case FM:return e}}}function aO(t){return Oo(t)===v1}jn.AsyncMode=DM;jn.ConcurrentMode=v1;jn.ContextConsumer=g1;jn.ContextProvider=m1;jn.Element=OM;jn.ForwardRef=y1;jn.Fragment=d1;jn.Lazy=_1;jn.Memo=b1;jn.Portal=FM;jn.Profiler=p1;jn.StrictMode=h1;jn.Suspense=x1;jn.isAsyncMode=function(t){return aO(t)||Oo(t)===DM};jn.isConcurrentMode=aO;jn.isContextConsumer=function(t){return Oo(t)===g1};jn.isContextProvider=function(t){return Oo(t)===m1};jn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OM};jn.isForwardRef=function(t){return Oo(t)===y1};jn.isFragment=function(t){return Oo(t)===d1};jn.isLazy=function(t){return Oo(t)===_1};jn.isMemo=function(t){return Oo(t)===b1};jn.isPortal=function(t){return Oo(t)===FM};jn.isProfiler=function(t){return Oo(t)===p1};jn.isStrictMode=function(t){return Oo(t)===h1};jn.isSuspense=function(t){return Oo(t)===x1};jn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===d1||t===v1||t===p1||t===h1||t===x1||t===iG||typeof t=="object"&&t!==null&&(t.$$typeof===_1||t.$$typeof===b1||t.$$typeof===m1||t.$$typeof===g1||t.$$typeof===y1||t.$$typeof===sG||t.$$typeof===aG||t.$$typeof===lG||t.$$typeof===oG)};jn.typeOf=Oo;sO.exports=jn;var cG=sO.exports,lO=cG,uG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cO={};cO[lO.ForwardRef]=uG;cO[lO.Memo]=fG;var dG=!0;function hG(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var uO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||dG===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},fO=function(e,n,r){uO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function pG(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gG=/[A-Z]|^ms/g,vG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dO=function(e){return e.charCodeAt(1)===45},wR=function(e){return e!=null&&typeof e!="boolean"},r_=ZN(function(t){return dO(t)?t:t.replace(gG,"-$&").toLowerCase()}),ER=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vG,function(r,i,o){return ea={name:i,styles:o,next:ea},i})}return mG[e]!==1&&!dO(e)&&typeof n=="number"&&n!==0?n+"px":n};function em(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ea={name:n.name,styles:n.styles,next:ea},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ea={name:r.name,styles:r.styles,next:ea},r=r.next;var i=n.styles+";";return i}return yG(t,e,n)}case"function":{if(t!==void 0){var o=ea,s=n(t);return ea=o,em(t,e,s)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function yG(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=em(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":wR(s)&&(r+=r_(o)+":"+ER(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)wR(s[l])&&(r+=r_(o)+":"+ER(o,s[l])+";");else{var a=em(t,e,s);switch(o){case"animation":case"animationName":{r+=r_(o)+":"+a+";";break}default:r+=o+"{"+a+"}"}}}return r}var MR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ea,UM=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";ea=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=em(r,n,s)):o+=s[0];for(var l=1;l<e.length;l++)o+=em(r,n,e[l]),i&&(o+=s[l]);MR.lastIndex=0;for(var a="",c;(c=MR.exec(o))!==null;)a+="-"+c[1];var u=pG(o)+a;return{name:u,styles:o,next:ea}},xG=function(e){return e()},hO=jv["useInsertionEffect"]?jv["useInsertionEffect"]:!1,bG=hO||xG,TR=hO||L.useLayoutEffect,pO=L.createContext(typeof HTMLElement<"u"?rG({key:"css"}):null);pO.Provider;var mO=function(e){return L.forwardRef(function(n,r){var i=L.useContext(pO);return e(n,i,r)})},S1=L.createContext({}),_G=mO(function(t,e){var n=t.styles,r=UM([n],void 0,L.useContext(S1)),i=L.useRef();return TR(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,a=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),a!==null&&(l=!0,a.setAttribute("data-emotion",o),s.hydrate([a])),i.current=[s,l],function(){s.flush()}},[e]),TR(function(){var o=i.current,s=o[0],l=o[1];if(l){o[1]=!1;return}if(r.next!==void 0&&fO(e,r.next,!0),s.tags.length){var a=s.tags[s.tags.length-1].nextElementSibling;s.before=a,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Dd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return UM(e)}var lc=function(){var e=Dd.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},SG=C7,wG=function(e){return e!=="theme"},AR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SG:wG},CR=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},EG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return uO(n,r,i),bG(function(){return fO(n,r,i)}),null},MG=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var l=CR(e,n,r),a=l||AR(i),c=!a("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var d=u.length,p=1;p<d;p++)f.push(u[p],u[0][p])}var g=mO(function(y,x,v){var b=c&&y.as||i,_="",S=[],E=y;if(y.theme==null){E={};for(var M in y)E[M]=y[M];E.theme=L.useContext(S1)}typeof y.className=="string"?_=hG(x.registered,S,y.className):y.className!=null&&(_=y.className+" ");var T=UM(f.concat(S),x.registered,E);_+=x.key+"-"+T.name,s!==void 0&&(_+=" "+s);var R=c&&l===void 0?AR(b):a,C={};for(var P in y)c&&P==="as"||R(P)&&(C[P]=y[P]);return C.className=_,C.ref=v,L.createElement(L.Fragment,null,L.createElement(EG,{cache:x,serialized:T,isStringTag:typeof b=="string"}),L.createElement(b,C))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(y,x){return t(y,ae({},n,x,{shouldForwardProp:CR(g,x,!0)})).apply(void 0,f)},g}},TG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pw=MG.bind();TG.forEach(function(t){pw[t]=pw(t)});function AG(t){return t==null||Object.keys(t).length===0}function CG(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(AG(i)?n:i):e;return q.jsx(_G,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function gO(t,e){return pw(t,e)}const RG=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},PG=["values","unit","step"],IG=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ae({},n,{[r.key]:r.val}),{})};function LG(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=_t(t,PG),o=IG(e),s=Object.keys(o);function l(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function a(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function c(d,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function u(d){return s.indexOf(d)+1<s.length?c(d,s[s.indexOf(d)+1]):l(d)}function f(d){const p=s.indexOf(d);return p===0?l(s[1]):p===s.length-1?a(s[p]):c(d,s[s.indexOf(d)+1]).replace("@media","@media not all and")}return ae({keys:s,values:o,up:l,down:a,between:c,only:u,not:f,unit:n},i)}const kG={borderRadius:4},NG=kG;function gp(t,e){return e?ns(t,e,{clone:!1}):t}const BM={xs:0,sm:600,md:900,lg:1200,xl:1536},RR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${BM[t]}px)`};function Qa(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||RR;return e.reduce((s,l,a)=>(s[o.up(o.keys[a])]=n(e[a]),s),{})}if(typeof e=="object"){const o=r.breakpoints||RR;return Object.keys(e).reduce((s,l)=>{if(Object.keys(o.values||BM).indexOf(l)!==-1){const a=o.up(l);s[a]=n(e[l],l)}else{const a=l;s[a]=e[a]}return s},{})}return n(e)}function OG(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function FG(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function w1(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function _y(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=w1(t,n)||r,e&&(i=e(i,r,t)),i}function Gn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const l=s[e],a=s.theme,c=w1(a,r)||{};return Qa(s,l,f=>{let d=_y(c,i,f);return f===d&&typeof f=="string"&&(d=_y(c,i,`${e}${f==="default"?"":Lt(f)}`,f)),n===!1?d:{[n]:d}})};return o.propTypes={},o.filterProps=[e],o}function DG(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const UG={m:"margin",p:"padding"},BG={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zG=DG(t=>{if(t.length>2)if(PR[t])t=PR[t];else return[t];const[e,n]=t.split(""),r=UG[e],i=BG[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),zM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zM,...GM];function Lm(t,e,n,r){var i;const o=(i=w1(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function vO(t){return Lm(t,"spacing",8)}function km(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function GG(t,e){return n=>t.reduce((r,i)=>(r[i]=km(e,n),r),{})}function HG(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=zG(n),o=GG(i,r),s=t[n];return Qa(t,s,o)}function yO(t,e){const n=vO(t.theme);return Object.keys(t).map(r=>HG(t,e,r,n)).reduce(gp,{})}function Ar(t){return yO(t,zM)}Ar.propTypes={};Ar.filterProps=zM;function Cr(t){return yO(t,GM)}Cr.propTypes={};Cr.filterProps=GM;function VG(t=8){if(t.mui)return t;const e=vO({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function E1(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?gp(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ra(t){return typeof t!="number"?t:`${t}px solid`}const WG=Gn({prop:"border",themeKey:"borders",transform:ra}),jG=Gn({prop:"borderTop",themeKey:"borders",transform:ra}),$G=Gn({prop:"borderRight",themeKey:"borders",transform:ra}),XG=Gn({prop:"borderBottom",themeKey:"borders",transform:ra}),qG=Gn({prop:"borderLeft",themeKey:"borders",transform:ra}),YG=Gn({prop:"borderColor",themeKey:"palette"}),KG=Gn({prop:"borderTopColor",themeKey:"palette"}),JG=Gn({prop:"borderRightColor",themeKey:"palette"}),ZG=Gn({prop:"borderBottomColor",themeKey:"palette"}),QG=Gn({prop:"borderLeftColor",themeKey:"palette"}),M1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Lm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:km(e,r)});return Qa(t,t.borderRadius,n)}return null};M1.propTypes={};M1.filterProps=["borderRadius"];E1(WG,jG,$G,XG,qG,YG,KG,JG,ZG,QG,M1);const T1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Lm(t.theme,"spacing",8),n=r=>({gap:km(e,r)});return Qa(t,t.gap,n)}return null};T1.propTypes={};T1.filterProps=["gap"];const A1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Lm(t.theme,"spacing",8),n=r=>({columnGap:km(e,r)});return Qa(t,t.columnGap,n)}return null};A1.propTypes={};A1.filterProps=["columnGap"];const C1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Lm(t.theme,"spacing",8),n=r=>({rowGap:km(e,r)});return Qa(t,t.rowGap,n)}return null};C1.propTypes={};C1.filterProps=["rowGap"];const e9=Gn({prop:"gridColumn"}),t9=Gn({prop:"gridRow"}),n9=Gn({prop:"gridAutoFlow"}),r9=Gn({prop:"gridAutoColumns"}),i9=Gn({prop:"gridAutoRows"}),o9=Gn({prop:"gridTemplateColumns"}),s9=Gn({prop:"gridTemplateRows"}),a9=Gn({prop:"gridTemplateAreas"}),l9=Gn({prop:"gridArea"});E1(T1,A1,C1,e9,t9,n9,r9,i9,o9,s9,a9,l9);function ud(t,e){return e==="grey"?e:t}const c9=Gn({prop:"color",themeKey:"palette",transform:ud}),u9=Gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ud}),f9=Gn({prop:"backgroundColor",themeKey:"palette",transform:ud});E1(c9,u9,f9);function wo(t){return t<=1&&t!==0?`${t*100}%`:t}const d9=Gn({prop:"width",transform:wo}),HM=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,o;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(o=i.values)==null?void 0:o[n])||BM[n]||wo(n)}};return Qa(t,t.maxWidth,e)}return null};HM.filterProps=["maxWidth"];const h9=Gn({prop:"minWidth",transform:wo}),p9=Gn({prop:"height",transform:wo}),m9=Gn({prop:"maxHeight",transform:wo}),g9=Gn({prop:"minHeight",transform:wo});Gn({prop:"size",cssProperty:"width",transform:wo});Gn({prop:"size",cssProperty:"height",transform:wo});const v9=Gn({prop:"boxSizing"});E1(d9,HM,h9,p9,m9,g9,v9);const y9={border:{themeKey:"borders",transform:ra},borderTop:{themeKey:"borders",transform:ra},borderRight:{themeKey:"borders",transform:ra},borderBottom:{themeKey:"borders",transform:ra},borderLeft:{themeKey:"borders",transform:ra},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:M1},color:{themeKey:"palette",transform:ud},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ud},backgroundColor:{themeKey:"palette",transform:ud},p:{style:Cr},pt:{style:Cr},pr:{style:Cr},pb:{style:Cr},pl:{style:Cr},px:{style:Cr},py:{style:Cr},padding:{style:Cr},paddingTop:{style:Cr},paddingRight:{style:Cr},paddingBottom:{style:Cr},paddingLeft:{style:Cr},paddingX:{style:Cr},paddingY:{style:Cr},paddingInline:{style:Cr},paddingInlineStart:{style:Cr},paddingInlineEnd:{style:Cr},paddingBlock:{style:Cr},paddingBlockStart:{style:Cr},paddingBlockEnd:{style:Cr},m:{style:Ar},mt:{style:Ar},mr:{style:Ar},mb:{style:Ar},ml:{style:Ar},mx:{style:Ar},my:{style:Ar},margin:{style:Ar},marginTop:{style:Ar},marginRight:{style:Ar},marginBottom:{style:Ar},marginLeft:{style:Ar},marginX:{style:Ar},marginY:{style:Ar},marginInline:{style:Ar},marginInlineStart:{style:Ar},marginInlineEnd:{style:Ar},marginBlock:{style:Ar},marginBlockStart:{style:Ar},marginBlockEnd:{style:Ar},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:T1},rowGap:{style:C1},columnGap:{style:A1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wo},maxWidth:{style:HM},minWidth:{transform:wo},height:{transform:wo},maxHeight:{transform:wo},minHeight:{transform:wo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},R1=y9;function x9(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function b9(t,e){return typeof t=="function"?t(e):t}function _9(){function t(n,r,i,o){const s={[n]:r,theme:i},l=o[n];if(!l)return{[n]:r};const{cssProperty:a=n,themeKey:c,transform:u,style:f}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const d=w1(i,c)||{};return f?f(s):Qa(s,r,g=>{let y=_y(d,u,g);return g===y&&typeof g=="string"&&(y=_y(d,u,`${n}${g==="default"?"":Lt(g)}`,g)),a===!1?y:{[a]:y}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:R1;function l(a){let c=a;if(typeof a=="function")c=a(o);else if(typeof a!="object")return a;if(!c)return null;const u=OG(o.breakpoints),f=Object.keys(u);let d=u;return Object.keys(c).forEach(p=>{const g=b9(c[p],o);if(g!=null)if(typeof g=="object")if(s[p])d=gp(d,t(p,g,o,s));else{const y=Qa({theme:o},g,x=>({[p]:x}));x9(y,g)?d[p]=e({sx:g,theme:o}):d=gp(d,y)}else d=gp(d,t(p,g,o,s))}),FG(f,d)}return Array.isArray(i)?i.map(l):l(i)}return e}const xO=_9();xO.filterProps=["sx"];const P1=xO,S9=["breakpoints","palette","spacing","shape"];function VM(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=_t(t,S9),l=LG(n),a=VG(i);let c=ns({breakpoints:l,direction:"ltr",components:{},palette:ae({mode:"light"},r),spacing:a,shape:ae({},NG,o)},s);return c=e.reduce((u,f)=>ns(u,f),c),c.unstable_sxConfig=ae({},R1,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(f){return P1({sx:f,theme:this})},c}function w9(t){return Object.keys(t).length===0}function bO(t=null){const e=L.useContext(S1);return!e||w9(e)?t:e}const E9=VM();function I1(t=E9){return bO(t)}function M9({styles:t,themeId:e,defaultTheme:n={}}){const r=I1(n),i=typeof t=="function"?t(e&&r[e]||r):t;return q.jsx(CG,{styles:i})}const T9=["sx"],A9=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:R1;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function _O(t){const{sx:e}=t,n=_t(t,T9),{systemProps:r,otherProps:i}=A9(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const l=e(...s);return Wc(l)?ae({},r,l):r}:o=ae({},r,e),ae({},i,{sx:o})}function SO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=SO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function At(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=SO(t))&&(r&&(r+=" "),r+=e);return r}const C9=["className","component"];function R9(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=gO("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(P1);return L.forwardRef(function(a,c){const u=I1(n),f=_O(a),{className:d,component:p="div"}=f,g=_t(f,C9);return q.jsx(o,ae({as:p,ref:c,className:At(d,i?i(r):r),theme:e&&u[e]||u},g))})}const P9=["variant"];function IR(t){return t.length===0}function wO(t){const{variant:e}=t,n=_t(t,P9);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=IR(r)?t[i]:Lt(t[i]):r+=`${IR(r)?i:Lt(i)}${Lt(t[i].toString())}`}),r}const I9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function L9(t){return Object.keys(t).length===0}function k9(t){return typeof t=="string"&&t.charCodeAt(0)>96}const N9=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,O9=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const o=wO(i.props);r[o]=i.style}),r},F9=(t,e,n,r)=>{var i,o;const{ownerState:s={}}=t,l=[],a=n==null||(i=n.components)==null||(o=i[r])==null?void 0:o.variants;return a&&a.forEach(c=>{let u=!0;Object.keys(c.props).forEach(f=>{s[f]!==c.props[f]&&t[f]!==c.props[f]&&(u=!1)}),u&&l.push(e[wO(c.props)])}),l};function vp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const D9=VM();function Ah({defaultTheme:t,theme:e,themeId:n}){return L9(e)?t:e[n]||e}function U9(t={}){const{themeId:e,defaultTheme:n=D9,rootShouldForwardProp:r=vp,slotShouldForwardProp:i=vp}=t,o=s=>P1(ae({},s,{theme:Ah(ae({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,l={})=>{RG(s,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:c,skipVariantsResolver:u,skipSx:f,overridesResolver:d}=l,p=_t(l,I9),g=u!==void 0?u:c&&c!=="Root"||!1,y=f||!1;let x,v=vp;c==="Root"?v=r:c?v=i:k9(s)&&(v=void 0);const b=gO(s,ae({shouldForwardProp:v,label:x},p)),_=(S,...E)=>{const M=E?E.map(P=>typeof P=="function"&&P.__emotion_real!==P?F=>P(ae({},F,{theme:Ah(ae({},F,{defaultTheme:n,themeId:e}))})):P):[];let T=S;a&&d&&M.push(P=>{const F=Ah(ae({},P,{defaultTheme:n,themeId:e})),G=N9(a,F);if(G){const V={};return Object.entries(G).forEach(([B,X])=>{V[B]=typeof X=="function"?X(ae({},P,{theme:F})):X}),d(P,V)}return null}),a&&!g&&M.push(P=>{const F=Ah(ae({},P,{defaultTheme:n,themeId:e}));return F9(P,O9(a,F),F,a)}),y||M.push(o);const R=M.length-E.length;if(Array.isArray(S)&&R>0){const P=new Array(R).fill("");T=[...S,...P],T.raw=[...S.raw,...P]}else typeof S=="function"&&S.__emotion_real!==S&&(T=P=>S(ae({},P,{theme:Ah(ae({},P,{defaultTheme:n,themeId:e}))})));const C=b(T,...M);return s.muiName&&(C.muiName=s.muiName),C};return b.withConfig&&(_.withConfig=b.withConfig),_}}function B9(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:PM(e.components[n].defaultProps,r)}function z9({props:t,name:e,defaultTheme:n,themeId:r}){let i=I1(n);return r&&(i=i[r]||i),B9({theme:i,name:e,props:t})}function WM(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function G9(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function vu(t){if(t.type)return t;if(t.charAt(0)==="#")return vu(G9(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Zl(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Zl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function L1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function H9(t){t=vu(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const a=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(l+="a",a.push(e[3])),L1({type:l,values:a})}function LR(t){t=vu(t);let e=t.type==="hsl"||t.type==="hsla"?vu(H9(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function V9(t,e){const n=LR(t),r=LR(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ki(t,e){return t=vu(t),e=WM(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,L1(t)}function EO(t,e){if(t=vu(t),e=WM(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return L1(t)}function MO(t,e){if(t=vu(t),e=WM(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return L1(t)}const W9=L.createContext(null),TO=W9;function AO(){return L.useContext(TO)}const j9=typeof Symbol=="function"&&Symbol.for,$9=j9?Symbol.for("mui.nested"):"__THEME_NESTED__";function X9(t,e){return typeof e=="function"?e(t):{...t,...e}}function q9(t){const{children:e,theme:n}=t,r=AO(),i=L.useMemo(()=>{const o=r===null?n:X9(r,n);return o!=null&&(o[$9]=r!==null),o},[n,r]);return q.jsx(TO.Provider,{value:i,children:e})}const kR={};function NR(t,e,n,r=!1){return L.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?ae({},e,{[t]:o}):o;return r?()=>s:s}return t?ae({},e,{[t]:n}):ae({},e,n)},[t,e,n,r])}function Y9(t){const{children:e,theme:n,themeId:r}=t,i=bO(kR),o=AO()||kR,s=NR(r,i,n),l=NR(r,o,n,!0);return q.jsx(q9,{theme:l,children:q.jsx(S1.Provider,{value:s,children:e})})}function K9(t,e){return ae({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const J9=["mode","contrastThreshold","tonalOffset"],OR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kp.white,default:Kp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},i_={text:{primary:Kp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function FR(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=MO(t.main,i):e==="dark"&&(t.dark=EO(t.main,o)))}function Z9(t="light"){return t==="dark"?{main:Yu[200],light:Yu[50],dark:Yu[400]}:{main:Yu[700],light:Yu[400],dark:Yu[800]}}function Q9(t="light"){return t==="dark"?{main:qu[200],light:qu[50],dark:qu[400]}:{main:qu[500],light:qu[300],dark:qu[700]}}function eH(t="light"){return t==="dark"?{main:Xu[500],light:Xu[300],dark:Xu[700]}:{main:Xu[700],light:Xu[400],dark:Xu[800]}}function tH(t="light"){return t==="dark"?{main:Ku[400],light:Ku[300],dark:Ku[700]}:{main:Ku[700],light:Ku[500],dark:Ku[900]}}function nH(t="light"){return t==="dark"?{main:Ju[400],light:Ju[300],dark:Ju[700]}:{main:Ju[800],light:Ju[500],dark:Ju[900]}}function rH(t="light"){return t==="dark"?{main:Mh[400],light:Mh[300],dark:Mh[700]}:{main:"#ed6c02",light:Mh[500],dark:Mh[900]}}function iH(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=_t(t,J9),o=t.primary||Z9(e),s=t.secondary||Q9(e),l=t.error||eH(e),a=t.info||tH(e),c=t.success||nH(e),u=t.warning||rH(e);function f(y){return V9(y,i_.text.primary)>=n?i_.text.primary:OR.text.primary}const d=({color:y,name:x,mainShade:v=500,lightShade:b=300,darkShade:_=700})=>{if(y=ae({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(Zl(11,x?` (${x})`:"",v));if(typeof y.main!="string")throw new Error(Zl(12,x?` (${x})`:"",JSON.stringify(y.main)));return FR(y,"light",b,r),FR(y,"dark",_,r),y.contrastText||(y.contrastText=f(y.main)),y},p={dark:i_,light:OR};return ns(ae({common:ae({},Kp),mode:e,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:l,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:a,name:"info"}),success:d({color:c,name:"success"}),grey:a7,contrastThreshold:n,getContrastText:f,augmentColor:d,tonalOffset:r},p[e]),i)}const oH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function sH(t){return Math.round(t*1e5)/1e5}const DR={textTransform:"uppercase"},UR='"Roboto", "Helvetica", "Arial", sans-serif';function aH(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=UR,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:u,pxToRem:f}=n,d=_t(n,oH),p=i/14,g=f||(v=>`${v/c*p}rem`),y=(v,b,_,S,E)=>ae({fontFamily:r,fontWeight:v,fontSize:g(b),lineHeight:_},r===UR?{letterSpacing:`${sH(S/b)}em`}:{},E,u),x={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,DR),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,DR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ns(ae({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:a},x),d,{clone:!1})}const lH=.2,cH=.14,uH=.12;function ur(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${lH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${cH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${uH})`].join(",")}const fH=["none",ur(0,2,1,-1,0,1,1,0,0,1,3,0),ur(0,3,1,-2,0,2,2,0,0,1,5,0),ur(0,3,3,-2,0,3,4,0,0,1,8,0),ur(0,2,4,-1,0,4,5,0,0,1,10,0),ur(0,3,5,-1,0,5,8,0,0,1,14,0),ur(0,3,5,-1,0,6,10,0,0,1,18,0),ur(0,4,5,-2,0,7,10,1,0,2,16,1),ur(0,5,5,-3,0,8,10,1,0,3,14,2),ur(0,5,6,-3,0,9,12,1,0,3,16,2),ur(0,6,6,-3,0,10,14,1,0,4,18,3),ur(0,6,7,-4,0,11,15,1,0,4,20,3),ur(0,7,8,-4,0,12,17,2,0,5,22,4),ur(0,7,8,-4,0,13,19,2,0,5,24,4),ur(0,7,9,-4,0,14,21,2,0,5,26,4),ur(0,8,9,-5,0,15,22,2,0,6,28,5),ur(0,8,10,-5,0,16,24,2,0,6,30,5),ur(0,8,11,-5,0,17,26,2,0,6,32,5),ur(0,9,11,-5,0,18,28,2,0,7,34,6),ur(0,9,12,-6,0,19,29,2,0,7,36,6),ur(0,10,13,-6,0,20,31,3,0,8,38,7),ur(0,10,13,-6,0,21,33,3,0,8,40,7),ur(0,10,14,-6,0,22,35,3,0,8,42,7),ur(0,11,14,-7,0,23,36,3,0,9,44,8),ur(0,11,15,-7,0,24,38,3,0,9,46,8)],dH=fH,hH=["duration","easing","delay"],pH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},CO={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function BR(t){return`${Math.round(t)}ms`}function mH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function gH(t){const e=ae({},pH,t.easing),n=ae({},CO,t.duration);return ae({getAutoHeightDuration:mH,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:l=e.easeInOut,delay:a=0}=o;return _t(o,hH),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:BR(s)} ${l} ${typeof a=="string"?a:BR(a)}`).join(",")}},t,{easing:e,duration:n})}const vH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},yH=vH,xH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function k1(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=_t(t,xH);if(t.vars)throw new Error(Zl(18));const l=iH(r),a=VM(t);let c=ns(a,{mixins:K9(a.breakpoints,n),palette:l,shadows:dH.slice(),typography:aH(l,o),transitions:gH(i),zIndex:ae({},yH)});return c=ns(c,s),c=e.reduce((u,f)=>ns(u,f),c),c.unstable_sxConfig=ae({},R1,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(f){return P1({sx:f,theme:this})},c}const bH=k1(),N1=bH;function Cu(){const t=I1(N1);return t[gu]||t}function on({props:t,name:e}){return z9({props:t,name:e,defaultTheme:N1,themeId:gu})}const Us=t=>vp(t)&&t!=="classes",_H=vp,SH=U9({themeId:gu,defaultTheme:N1,rootShouldForwardProp:Us}),ft=SH,wH=["theme"];function RO(t){let{theme:e}=t,n=_t(t,wH);const r=e[gu];return q.jsx(Y9,ae({},n,{themeId:r?gu:void 0,theme:r||e}))}const EH=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},zR=EH;function yu(t){return typeof t=="string"}function MH(t,e,n){return t===void 0||yu(t)?e:ae({},e,{ownerState:ae({},e.ownerState,n)})}const TH={disableDefaultClasses:!1},AH=L.createContext(TH);function CH(t){const{disableDefaultClasses:e}=L.useContext(AH);return n=>e?"":t(n)}function RH(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function mw(t,e){return typeof t=="function"?t(e):t}function GR(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function PH(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=At(i==null?void 0:i.className,r==null?void 0:r.className,o,n==null?void 0:n.className),g=ae({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=ae({},n,i,r);return p.length>0&&(y.className=p),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const s=RH(ae({},i,r)),l=GR(r),a=GR(i),c=e(s),u=At(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=ae({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),d=ae({},c,n,a,l);return u.length>0&&(d.className=u),Object.keys(f).length>0&&(d.style=f),{props:d,internalRef:c.ref}}const IH=["elementType","externalSlotProps","ownerState"];function Ql(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,o=_t(t,IH),s=mw(r,i),{props:l,internalRef:a}=PH(ae({},o,{externalSlotProps:s})),c=Qr(a,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return MH(n,ae({},l,{ref:c}),i)}const LH=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kH(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function NH(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function OH(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||NH(t))}function FH(t){const e=[],n=[];return Array.from(t.querySelectorAll(LH)).forEach((r,i)=>{const o=kH(r);o===-1||!OH(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function DH(){return!0}function UH(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=FH,isEnabled:s=DH,open:l}=t,a=L.useRef(!1),c=L.useRef(null),u=L.useRef(null),f=L.useRef(null),d=L.useRef(null),p=L.useRef(!1),g=L.useRef(null),y=Qr(e.ref,g),x=L.useRef(null);L.useEffect(()=>{!l||!g.current||(p.current=!n)},[n,l]),L.useEffect(()=>{if(!l||!g.current)return;const _=$i(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(f.current&&f.current.focus&&(a.current=!0,f.current.focus()),f.current=null)}},[l]),L.useEffect(()=>{if(!l||!g.current)return;const _=$i(g.current),S=T=>{const{current:R}=g;if(R!==null){if(!_.hasFocus()||r||!s()||a.current){a.current=!1;return}if(!R.contains(_.activeElement)){if(T&&d.current!==T.target||_.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!p.current)return;let F=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(F=o(g.current)),F.length>0){var C,P;const G=!!((C=x.current)!=null&&C.shiftKey&&((P=x.current)==null?void 0:P.key)==="Tab"),V=F[0],B=F[F.length-1];typeof V!="string"&&typeof B!="string"&&(G?B.focus():V.focus())}else R.focus()}}},E=T=>{x.current=T,!(r||!s()||T.key!=="Tab")&&_.activeElement===g.current&&T.shiftKey&&(a.current=!0,u.current&&u.current.focus())};_.addEventListener("focusin",S),_.addEventListener("keydown",E,!0);const M=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&S(null)},50);return()=>{clearInterval(M),_.removeEventListener("focusin",S),_.removeEventListener("keydown",E,!0)}},[n,r,i,s,l,o]);const v=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0,d.current=_.target;const S=e.props.onFocus;S&&S(_)},b=_=>{f.current===null&&(f.current=_.relatedTarget),p.current=!0};return q.jsxs(L.Fragment,{children:[q.jsx("div",{tabIndex:l?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),L.cloneElement(e,{ref:y,onFocus:v}),q.jsx("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function BH(t){return typeof t=="function"?t():t}const zH=L.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,l]=L.useState(null),a=Qr(L.isValidElement(r)?r.ref:null,n);if(va(()=>{o||l(BH(i)||document.body)},[i,o]),va(()=>{if(s&&!o)return xy(n,s),()=>{xy(n,null)}},[n,s,o]),o){if(L.isValidElement(r)){const c={ref:a};return L.cloneElement(r,c)}return q.jsx(L.Fragment,{children:r})}return q.jsx(L.Fragment,{children:s&&n1.createPortal(r,s)})}),GH=zH;function HH(t){const e=$i(t);return e.body===t?ga(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function yp(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function HR(t){return parseInt(ga(t).getComputedStyle(t).paddingRight,10)||0}function VH(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function VR(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const l=o.indexOf(s)===-1,a=!VH(s);l&&a&&yp(s,i)})}function o_(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function WH(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(HH(r)){const s=KN($i(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${HR(r)+s}px`;const l=$i(r).querySelectorAll(".mui-fixed");[].forEach.call(l,a=>{n.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${HR(a)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=$i(r).body;else{const s=r.parentElement,l=ga(r);o=(s==null?void 0:s.nodeName)==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:l})=>{o?s.style.setProperty(l,o):s.style.removeProperty(l)})}}function jH(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class $H{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&yp(e.modalRef,!1);const i=jH(n);VR(n,e.mount,e.modalRef,i,!0);const o=o_(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=o_(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=WH(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=o_(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&yp(e.modalRef,n),VR(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&yp(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function XH(t){return Zt("MuiModal",t)}Qt("MuiModal",["root","hidden","backdrop"]);const qH=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],YH=t=>{const{open:e,exited:n}=t;return rn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},CH(XH))};function KH(t){return typeof t=="function"?t():t}function JH(t){return t?t.props.hasOwnProperty("in"):!1}const ZH=new $H,QH=L.forwardRef(function(e,n){var r,i;const{children:o,closeAfterTransition:s=!1,container:l,disableAutoFocus:a=!1,disableEnforceFocus:c=!1,disableEscapeKeyDown:u=!1,disablePortal:f=!1,disableRestoreFocus:d=!1,disableScrollLock:p=!1,hideBackdrop:g=!1,keepMounted:y=!1,manager:x=ZH,onBackdropClick:v,onClose:b,onKeyDown:_,open:S,onTransitionEnter:E,onTransitionExited:M,slotProps:T={},slots:R={}}=e,C=_t(e,qH),P=x,[F,G]=L.useState(!S),V=L.useRef({}),B=L.useRef(null),X=L.useRef(null),ee=Qr(X,n),te=JH(o),O=(r=e["aria-hidden"])!=null?r:!0,D=()=>$i(B.current),H=()=>(V.current.modalRef=X.current,V.current.mountNode=B.current,V.current),$=()=>{P.mount(H(),{disableScrollLock:p}),X.current&&(X.current.scrollTop=0)},W=oa(()=>{const We=KH(l)||D().body;P.add(H(),We),X.current&&$()}),ie=L.useCallback(()=>P.isTopModal(H()),[P]),j=oa(We=>{B.current=We,!(!We||!X.current)&&(S&&ie()?$():yp(X.current,O))}),Y=L.useCallback(()=>{P.remove(H(),O)},[P,O]);L.useEffect(()=>()=>{Y()},[Y]),L.useEffect(()=>{S?W():(!te||!s)&&Y()},[S,Y,te,s,W]);const K=ae({},e,{closeAfterTransition:s,disableAutoFocus:a,disableEnforceFocus:c,disableEscapeKeyDown:u,disablePortal:f,disableRestoreFocus:d,disableScrollLock:p,exited:F,hideBackdrop:g,keepMounted:y}),fe=YH(K),pe=()=>{G(!1),E&&E()},xe=()=>{G(!0),M&&M(),s&&Y()},Ge=We=>{We.target===We.currentTarget&&(v&&v(We),b&&b(We,"backdropClick"))},Ae=We=>{_&&_(We),!(We.key!=="Escape"||!ie())&&(u||(We.stopPropagation(),b&&b(We,"escapeKeyDown")))},z={};o.props.tabIndex===void 0&&(z.tabIndex="-1"),te&&(z.onEnter=yy(pe,o.props.onEnter),z.onExited=yy(xe,o.props.onExited));const ge=(i=R.root)!=null?i:"div",Me=Ql({elementType:ge,externalSlotProps:T.root,externalForwardedProps:C,additionalProps:{ref:ee,role:"presentation",onKeyDown:Ae},className:fe.root,ownerState:K}),Ie=R.backdrop,Re=Ql({elementType:Ie,externalSlotProps:T.backdrop,additionalProps:{"aria-hidden":!0,onClick:Ge,open:S},className:fe.backdrop,ownerState:K});return!y&&!S&&(!te||F)?null:q.jsx(GH,{ref:j,container:l,disablePortal:f,children:q.jsxs(ge,ae({},Me,{children:[!g&&Ie?q.jsx(Ie,ae({},Re)):null,q.jsx(UH,{disableEnforceFocus:c,disableAutoFocus:a,disableRestoreFocus:d,isEnabled:ie,open:S,children:L.cloneElement(o,z)})]}))})}),eV=QH,tV=["onChange","maxRows","minRows","style","value"];function a0(t){return parseInt(t,10)||0}const nV={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function WR(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const rV=L.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:l}=e,a=_t(e,tV),{current:c}=L.useRef(l!=null),u=L.useRef(null),f=Qr(n,u),d=L.useRef(null),p=L.useRef(0),[g,y]=L.useState({outerHeightStyle:0}),x=L.useCallback(()=>{const E=u.current,T=ga(E).getComputedStyle(E);if(T.width==="0px")return{outerHeightStyle:0};const R=d.current;R.style.width=T.width,R.value=E.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const C=T.boxSizing,P=a0(T.paddingBottom)+a0(T.paddingTop),F=a0(T.borderBottomWidth)+a0(T.borderTopWidth),G=R.scrollHeight;R.value="x";const V=R.scrollHeight;let B=G;o&&(B=Math.max(Number(o)*V,B)),i&&(B=Math.min(Number(i)*V,B)),B=Math.max(B,V);const X=B+(C==="border-box"?P+F:0),ee=Math.abs(B-G)<=1;return{outerHeightStyle:X,overflow:ee}},[i,o,e.placeholder]),v=(E,M)=>{const{outerHeightStyle:T,overflow:R}=M;return p.current<20&&(T>0&&Math.abs((E.outerHeightStyle||0)-T)>1||E.overflow!==R)?(p.current+=1,{overflow:R,outerHeightStyle:T}):E},b=L.useCallback(()=>{const E=x();WR(E)||y(M=>v(M,E))},[x]),_=()=>{const E=x();WR(E)||n1.flushSync(()=>{y(M=>v(M,E))})};L.useEffect(()=>{const E=Sd(()=>{p.current=0,u.current&&_()});let M;const T=u.current,R=ga(T);return R.addEventListener("resize",E),typeof ResizeObserver<"u"&&(M=new ResizeObserver(E),M.observe(T)),()=>{E.clear(),R.removeEventListener("resize",E),M&&M.disconnect()}}),va(()=>{b()}),L.useEffect(()=>{p.current=0},[l]);const S=E=>{p.current=0,c||b(),r&&r(E)};return q.jsxs(L.Fragment,{children:[q.jsx("textarea",ae({value:l,onChange:S,ref:f,rows:o,style:ae({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},s)},a)),q.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:ae({},nV.shadow,s,{padding:0})})]})}),iV=rV;function oV(t){return Zt("MuiSvgIcon",t)}Qt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sV=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],aV=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Lt(e)}`,`fontSize${Lt(n)}`]};return rn(i,oV,r)},lV=ft("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Lt(n.color)}`],e[`fontSize${Lt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,l,a,c,u,f,d,p,g,y,x,v,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(c=a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem",large:((u=t.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(p=(t.vars||t).palette)==null||(g=p[e.color])==null?void 0:g.main)!=null?d:{action:(y=(t.vars||t).palette)==null||(x=y.action)==null?void 0:x.active,disabled:(v=(t.vars||t).palette)==null||(b=v.action)==null?void 0:b.disabled,inherit:void 0}[e.color]}}),PO=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:l="svg",fontSize:a="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:d="0 0 24 24"}=r,p=_t(r,sV),g=ae({},r,{color:s,component:l,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:d}),y={};u||(y.viewBox=d);const x=aV(g);return q.jsxs(lV,ae({as:l,className:At(x.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,p,{ownerState:g,children:[i,f?q.jsx("title",{children:f}):null]}))});PO.muiName="SvgIcon";const jR=PO;function nl(t,e){function n(r,i){return q.jsx(jR,ae({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=jR.muiName,L.memo(L.forwardRef(n))}const cV={configure:t=>{IM.configure(t)}},uV=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Lt,createChainedFunction:yy,createSvgIcon:nl,debounce:Sd,deprecatedPropType:h7,isMuiElement:mp,ownerDocument:$i,ownerWindow:ga,requirePropFactory:p7,setRef:xy,unstable_ClassNameGenerator:cV,unstable_useEnhancedEffect:va,unstable_useId:RM,unsupportedProp:v7,useControlled:Jp,useEventCallback:oa,useForkRef:Qr,useIsFocusVisible:YN},Symbol.toStringTag,{value:"Module"}));var Kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM=Symbol.for("react.element"),$M=Symbol.for("react.portal"),O1=Symbol.for("react.fragment"),F1=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),B1=Symbol.for("react.context"),fV=Symbol.for("react.server_context"),z1=Symbol.for("react.forward_ref"),G1=Symbol.for("react.suspense"),H1=Symbol.for("react.suspense_list"),V1=Symbol.for("react.memo"),W1=Symbol.for("react.lazy"),dV=Symbol.for("react.offscreen"),IO;IO=Symbol.for("react.module.reference");function as(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jM:switch(t=t.type,t){case O1:case D1:case F1:case G1:case H1:return t;default:switch(t=t&&t.$$typeof,t){case fV:case B1:case z1:case W1:case V1:case U1:return t;default:return e}}case $M:return e}}}Kn.ContextConsumer=B1;Kn.ContextProvider=U1;Kn.Element=jM;Kn.ForwardRef=z1;Kn.Fragment=O1;Kn.Lazy=W1;Kn.Memo=V1;Kn.Portal=$M;Kn.Profiler=D1;Kn.StrictMode=F1;Kn.Suspense=G1;Kn.SuspenseList=H1;Kn.isAsyncMode=function(){return!1};Kn.isConcurrentMode=function(){return!1};Kn.isContextConsumer=function(t){return as(t)===B1};Kn.isContextProvider=function(t){return as(t)===U1};Kn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jM};Kn.isForwardRef=function(t){return as(t)===z1};Kn.isFragment=function(t){return as(t)===O1};Kn.isLazy=function(t){return as(t)===W1};Kn.isMemo=function(t){return as(t)===V1};Kn.isPortal=function(t){return as(t)===$M};Kn.isProfiler=function(t){return as(t)===D1};Kn.isStrictMode=function(t){return as(t)===F1};Kn.isSuspense=function(t){return as(t)===G1};Kn.isSuspenseList=function(t){return as(t)===H1};Kn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===O1||t===D1||t===F1||t===G1||t===H1||t===dV||typeof t=="object"&&t!==null&&(t.$$typeof===W1||t.$$typeof===V1||t.$$typeof===U1||t.$$typeof===B1||t.$$typeof===z1||t.$$typeof===IO||t.getModuleId!==void 0)};Kn.typeOf=as;function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function LO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gw(t,e)}const $R={disabled:!1},Sy=Mo.createContext(null);var hV=function(e){return e.scrollTop},Jh="unmounted",zc="exited",Gc="entering",Af="entered",vw="exiting",rl=function(t){LO(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,a;return o.appearStatus=null,r.in?l?(a=zc,o.appearStatus=Gc):a=Af:r.unmountOnExit||r.mountOnEnter?a=Jh:a=zc,o.state={status:a},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Jh?{status:zc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Gc&&s!==Af&&(o=Gc):(s===Gc||s===Af)&&(o=vw)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Gc){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:o0.findDOMNode(this);s&&hV(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zc&&this.setState({status:Jh})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,a=this.props.nodeRef?[l]:[o0.findDOMNode(this),l],c=a[0],u=a[1],f=this.getTimeouts(),d=l?f.appear:f.enter;if(!i&&!s||$R.disabled){this.safeSetState({status:Af},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Gc},function(){o.props.onEntering(c,u),o.onTransitionEnd(d,function(){o.safeSetState({status:Af},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:o0.findDOMNode(this);if(!o||$R.disabled){this.safeSetState({status:zc},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:vw},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:zc},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:o0.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=a[0],u=a[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Jh)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=_t(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Mo.createElement(Sy.Provider,{value:null},typeof s=="function"?s(i,l):Mo.cloneElement(Mo.Children.only(s),l))},e}(Mo.Component);rl.contextType=Sy;rl.propTypes={};function Qu(){}rl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qu,onEntering:Qu,onEntered:Qu,onExit:Qu,onExiting:Qu,onExited:Qu};rl.UNMOUNTED=Jh;rl.EXITED=zc;rl.ENTERING=Gc;rl.ENTERED=Af;rl.EXITING=vw;const XM=rl;function pV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(t,e){var n=function(o){return e&&L.isValidElement(o)?e(o):o},r=Object.create(null);return t&&L.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function mV(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,l={};for(var a in e){if(r[a])for(s=0;s<r[a].length;s++){var c=r[a][s];l[r[a][s]]=n(c)}l[a]=n(a)}for(s=0;s<i.length;s++)l[i[s]]=n(i[s]);return l}function Qc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function gV(t,e){return qM(t.children,function(n){return L.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Qc(n,"appear",t),enter:Qc(n,"enter",t),exit:Qc(n,"exit",t)})})}function vV(t,e,n){var r=qM(t.children),i=mV(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(L.isValidElement(s)){var l=o in e,a=o in r,c=e[o],u=L.isValidElement(c)&&!c.props.in;a&&(!l||u)?i[o]=L.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Qc(s,"exit",t),enter:Qc(s,"enter",t)}):!a&&l&&!u?i[o]=L.cloneElement(s,{in:!1}):a&&l&&L.isValidElement(c)&&(i[o]=L.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Qc(s,"exit",t),enter:Qc(s,"enter",t)}))}}),i}var yV=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},xV={component:"div",childFactory:function(e){return e}},YM=function(t){LO(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(pV(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,l=o.handleExited,a=o.firstRender;return{children:a?gV(i,l):vV(i,s,l),firstRender:!1}},n.handleExited=function(i,o){var s=qM(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var a=ae({},l.children);return delete a[i.key],{children:a}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,l=_t(i,["component","childFactory"]),a=this.state.contextValue,c=yV(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,o===null?Mo.createElement(Sy.Provider,{value:a},c):Mo.createElement(Sy.Provider,{value:a},Mo.createElement(o,l,c))},e}(Mo.Component);YM.propTypes={};YM.defaultProps=xV;const bV=YM,kO=t=>t.scrollTop;function Ed(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function _V(t){return Zt("MuiCollapse",t)}Qt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const SV=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],wV=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return rn(r,_V,n)},EV=ft("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>ae({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&ae({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),MV=ft("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>ae({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),TV=ft("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>ae({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),NO=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:l="0px",component:a,easing:c,in:u,onEnter:f,onEntered:d,onEntering:p,onExit:g,onExited:y,onExiting:x,orientation:v="vertical",style:b,timeout:_=CO.standard,TransitionComponent:S=XM}=r,E=_t(r,SV),M=ae({},r,{orientation:v,collapsedSize:l}),T=wV(M),R=Cu(),C=L.useRef(),P=L.useRef(null),F=L.useRef(),G=typeof l=="number"?`${l}px`:l,V=v==="horizontal",B=V?"width":"height";L.useEffect(()=>()=>{clearTimeout(C.current)},[]);const X=L.useRef(null),ee=Qr(n,X),te=K=>fe=>{if(K){const pe=X.current;fe===void 0?K(pe):K(pe,fe)}},O=()=>P.current?P.current[V?"clientWidth":"clientHeight"]:0,D=te((K,fe)=>{P.current&&V&&(P.current.style.position="absolute"),K.style[B]=G,f&&f(K,fe)}),H=te((K,fe)=>{const pe=O();P.current&&V&&(P.current.style.position="");const{duration:xe,easing:Ge}=Ed({style:b,timeout:_,easing:c},{mode:"enter"});if(_==="auto"){const Ae=R.transitions.getAutoHeightDuration(pe);K.style.transitionDuration=`${Ae}ms`,F.current=Ae}else K.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;K.style[B]=`${pe}px`,K.style.transitionTimingFunction=Ge,p&&p(K,fe)}),$=te((K,fe)=>{K.style[B]="auto",d&&d(K,fe)}),W=te(K=>{K.style[B]=`${O()}px`,g&&g(K)}),ie=te(y),j=te(K=>{const fe=O(),{duration:pe,easing:xe}=Ed({style:b,timeout:_,easing:c},{mode:"exit"});if(_==="auto"){const Ge=R.transitions.getAutoHeightDuration(fe);K.style.transitionDuration=`${Ge}ms`,F.current=Ge}else K.style.transitionDuration=typeof pe=="string"?pe:`${pe}ms`;K.style[B]=G,K.style.transitionTimingFunction=xe,x&&x(K)}),Y=K=>{_==="auto"&&(C.current=setTimeout(K,F.current||0)),i&&i(X.current,K)};return q.jsx(S,ae({in:u,onEnter:D,onEntered:$,onEntering:H,onExit:W,onExited:ie,onExiting:j,addEndListener:Y,nodeRef:X,timeout:_==="auto"?null:_},E,{children:(K,fe)=>q.jsx(EV,ae({as:a,className:At(T.root,s,{entered:T.entered,exited:!u&&G==="0px"&&T.hidden}[K]),style:ae({[V?"minWidth":"minHeight"]:G},b),ownerState:ae({},M,{state:K}),ref:ee},fe,{children:q.jsx(MV,{ownerState:ae({},M,{state:K}),className:T.wrapper,ref:P,children:q.jsx(TV,{ownerState:ae({},M,{state:K}),className:T.wrapperInner,children:o})})}))}))});NO.muiSupportAuto=!0;const AV=NO;function CV(t){return Zt("MuiPaper",t)}Qt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const RV=["className","component","elevation","square","variant"],PV=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return rn(o,CV,i)},IV=ft("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return ae({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&ae({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ki("#fff",zR(e.elevation))}, ${ki("#fff",zR(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),LV=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:l=!1,variant:a="elevation"}=r,c=_t(r,RV),u=ae({},r,{component:o,elevation:s,square:l,variant:a}),f=PV(u);return q.jsx(IV,ae({as:o,ownerState:u,className:At(f.root,i),ref:n},c))}),OO=LV;function kV(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:l,onExited:a,timeout:c}=t,[u,f]=L.useState(!1),d=At(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=At(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&f(!0),L.useEffect(()=>{if(!l&&a!=null){const y=setTimeout(a,c);return()=>{clearTimeout(y)}}},[a,l,c]),q.jsx("span",{className:d,style:p,children:q.jsx("span",{className:g})})}const NV=Qt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Jo=NV,OV=["center","classes","className"];let j1=t=>t,XR,qR,YR,KR;const yw=550,FV=80,DV=lc(XR||(XR=j1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),UV=lc(qR||(qR=j1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),BV=lc(YR||(YR=j1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),zV=ft("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),GV=ft(kV,{name:"MuiTouchRipple",slot:"Ripple"})(KR||(KR=j1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Jo.rippleVisible,DV,yw,({theme:t})=>t.transitions.easing.easeInOut,Jo.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Jo.child,Jo.childLeaving,UV,yw,({theme:t})=>t.transitions.easing.easeInOut,Jo.childPulsate,BV,({theme:t})=>t.transitions.easing.easeInOut),HV=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,l=_t(r,OV),[a,c]=L.useState([]),u=L.useRef(0),f=L.useRef(null);L.useEffect(()=>{f.current&&(f.current(),f.current=null)},[a]);const d=L.useRef(!1),p=L.useRef(null),g=L.useRef(null),y=L.useRef(null);L.useEffect(()=>()=>{clearTimeout(p.current)},[]);const x=L.useCallback(S=>{const{pulsate:E,rippleX:M,rippleY:T,rippleSize:R,cb:C}=S;c(P=>[...P,q.jsx(GV,{classes:{ripple:At(o.ripple,Jo.ripple),rippleVisible:At(o.rippleVisible,Jo.rippleVisible),ripplePulsate:At(o.ripplePulsate,Jo.ripplePulsate),child:At(o.child,Jo.child),childLeaving:At(o.childLeaving,Jo.childLeaving),childPulsate:At(o.childPulsate,Jo.childPulsate)},timeout:yw,pulsate:E,rippleX:M,rippleY:T,rippleSize:R},u.current)]),u.current+=1,f.current=C},[o]),v=L.useCallback((S={},E={},M=()=>{})=>{const{pulsate:T=!1,center:R=i||E.pulsate,fakeElement:C=!1}=E;if((S==null?void 0:S.type)==="mousedown"&&d.current){d.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(d.current=!0);const P=C?null:y.current,F=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let G,V,B;if(R||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)G=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:X,clientY:ee}=S.touches&&S.touches.length>0?S.touches[0]:S;G=Math.round(X-F.left),V=Math.round(ee-F.top)}if(R)B=Math.sqrt((2*F.width**2+F.height**2)/3),B%2===0&&(B+=1);else{const X=Math.max(Math.abs((P?P.clientWidth:0)-G),G)*2+2,ee=Math.max(Math.abs((P?P.clientHeight:0)-V),V)*2+2;B=Math.sqrt(X**2+ee**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{x({pulsate:T,rippleX:G,rippleY:V,rippleSize:B,cb:M})},p.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},FV)):x({pulsate:T,rippleX:G,rippleY:V,rippleSize:B,cb:M})},[i,x]),b=L.useCallback(()=>{v({},{pulsate:!0})},[v]),_=L.useCallback((S,E)=>{if(clearTimeout(p.current),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.current=setTimeout(()=>{_(S,E)});return}g.current=null,c(M=>M.length>0?M.slice(1):M),f.current=E},[]);return L.useImperativeHandle(n,()=>({pulsate:b,start:v,stop:_}),[b,v,_]),q.jsx(zV,ae({className:At(Jo.root,o.root,s),ref:y},l,{children:q.jsx(bV,{component:null,exit:!0,children:a})}))}),VV=HV;function WV(t){return Zt("MuiButtonBase",t)}const jV=Qt("MuiButtonBase",["root","disabled","focusVisible"]),$V=jV,XV=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],qV=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=rn({root:["root",e&&"disabled",n&&"focusVisible"]},WV,i);return n&&r&&(s.root+=` ${r}`),s},YV=ft("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$V.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),KV=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:l,component:a="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:d=!1,LinkComponent:p="a",onBlur:g,onClick:y,onContextMenu:x,onDragLeave:v,onFocus:b,onFocusVisible:_,onKeyDown:S,onKeyUp:E,onMouseDown:M,onMouseLeave:T,onMouseUp:R,onTouchEnd:C,onTouchMove:P,onTouchStart:F,tabIndex:G=0,TouchRippleProps:V,touchRippleRef:B,type:X}=r,ee=_t(r,XV),te=L.useRef(null),O=L.useRef(null),D=Qr(O,B),{isFocusVisibleRef:H,onFocus:$,onBlur:W,ref:ie}=YN(),[j,Y]=L.useState(!1);c&&j&&Y(!1),L.useImperativeHandle(i,()=>({focusVisible:()=>{Y(!0),te.current.focus()}}),[]);const[K,fe]=L.useState(!1);L.useEffect(()=>{fe(!0)},[]);const pe=K&&!u&&!c;L.useEffect(()=>{j&&d&&!u&&K&&O.current.pulsate()},[u,d,j,K]);function xe(ye,we,Se=f){return oa(be=>(we&&we(be),!Se&&O.current&&O.current[ye](be),!0))}const Ge=xe("start",M),Ae=xe("stop",x),z=xe("stop",v),ge=xe("stop",R),Me=xe("stop",ye=>{j&&ye.preventDefault(),T&&T(ye)}),Ie=xe("start",F),Re=xe("stop",C),We=xe("stop",P),ke=xe("stop",ye=>{W(ye),H.current===!1&&Y(!1),g&&g(ye)},!1),je=oa(ye=>{te.current||(te.current=ye.currentTarget),$(ye),H.current===!0&&(Y(!0),_&&_(ye)),b&&b(ye)}),He=()=>{const ye=te.current;return a&&a!=="button"&&!(ye.tagName==="A"&&ye.href)},Ne=L.useRef(!1),Ke=oa(ye=>{d&&!Ne.current&&j&&O.current&&ye.key===" "&&(Ne.current=!0,O.current.stop(ye,()=>{O.current.start(ye)})),ye.target===ye.currentTarget&&He()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&He()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),y&&y(ye))}),J=oa(ye=>{d&&ye.key===" "&&O.current&&j&&!ye.defaultPrevented&&(Ne.current=!1,O.current.stop(ye,()=>{O.current.pulsate(ye)})),E&&E(ye),y&&ye.target===ye.currentTarget&&He()&&ye.key===" "&&!ye.defaultPrevented&&y(ye)});let N=a;N==="button"&&(ee.href||ee.to)&&(N=p);const oe={};N==="button"?(oe.type=X===void 0?"button":X,oe.disabled=c):(!ee.href&&!ee.to&&(oe.role="button"),c&&(oe["aria-disabled"]=c));const Le=Qr(n,ie,te),Te=ae({},r,{centerRipple:o,component:a,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:d,tabIndex:G,focusVisible:j}),_e=qV(Te);return q.jsxs(YV,ae({as:N,className:At(_e.root,l),ownerState:Te,onBlur:ke,onClick:y,onContextMenu:Ae,onFocus:je,onKeyDown:Ke,onKeyUp:J,onMouseDown:Ge,onMouseLeave:Me,onMouseUp:ge,onDragLeave:z,onTouchEnd:Re,onTouchMove:We,onTouchStart:Ie,ref:Le,tabIndex:c?-1:G,type:X},oe,ee,{children:[s,pe?q.jsx(VV,ae({ref:D,center:o},V)):null]}))}),Ud=KV;function JV(t){return Zt("MuiTypography",t)}Qt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ZV=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],QV=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,l={root:["root",o,t.align!=="inherit"&&`align${Lt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return rn(l,JV,s)},eW=ft("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Lt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>ae({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),JR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},tW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},nW=t=>tW[t]||t,rW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTypography"}),i=nW(r.color),o=_O(ae({},r,{color:i})),{align:s="inherit",className:l,component:a,gutterBottom:c=!1,noWrap:u=!1,paragraph:f=!1,variant:d="body1",variantMapping:p=JR}=o,g=_t(o,ZV),y=ae({},o,{align:s,color:i,className:l,component:a,gutterBottom:c,noWrap:u,paragraph:f,variant:d,variantMapping:p}),x=a||(f?"p":p[d]||JR[d])||"span",v=QV(y);return q.jsx(eW,ae({as:x,ref:n,ownerState:y,className:At(v.root,l)},g))}),Ao=rW;function iW(t){return Zt("MuiAppBar",t)}Qt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const oW=["className","color","enableColorOnDark","position"],sW=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Lt(e)}`,`position${Lt(n)}`]};return rn(i,iW,r)},l0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,aW=ft(OO,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Lt(n.position)}`],e[`color${Lt(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return ae({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&ae({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&ae({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&ae({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:l0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:l0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:l0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:l0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),lW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed"}=r,a=_t(r,oW),c=ae({},r,{color:o,position:l,enableColorOnDark:s}),u=sW(c);return q.jsx(aW,ae({square:!0,component:"header",ownerState:c,elevation:4,className:At(u.root,i,l==="fixed"&&"mui-fixed"),ref:n},a))}),cW=lW;function cc({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const uW=L.createContext(void 0),KM=uW;function il(){return L.useContext(KM)}function FO(t){return q.jsx(M9,ae({},t,{defaultTheme:N1,themeId:gu}))}function ZR(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function wy(t,e=!1){return t&&(ZR(t.value)&&t.value!==""||e&&ZR(t.defaultValue)&&t.defaultValue!=="")}function fW(t){return t.startAdornment}function dW(t){return Zt("MuiInputBase",t)}const hW=Qt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Md=hW,pW=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],$1=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Lt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},X1=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},mW=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:a,hiddenLabel:c,multiline:u,readOnly:f,size:d,startAdornment:p,type:g}=t,y={root:["root",`color${Lt(n)}`,r&&"disabled",i&&"error",a&&"fullWidth",s&&"focused",l&&"formControl",d==="small"&&"sizeSmall",u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",d==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return rn(y,dW,e)},q1=ft("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$1})(({theme:t,ownerState:e})=>ae({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Md.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&ae({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Y1=ft("input",{name:"MuiInputBase",slot:"Input",overridesResolver:X1})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=ae({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return ae({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Md.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Md.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),gW=q.jsx(FO,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),vW=L.forwardRef(function(e,n){var r;const i=on({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:l,className:a,components:c={},componentsProps:u={},defaultValue:f,disabled:d,disableInjectingGlobalStyles:p,endAdornment:g,fullWidth:y=!1,id:x,inputComponent:v="input",inputProps:b={},inputRef:_,maxRows:S,minRows:E,multiline:M=!1,name:T,onBlur:R,onChange:C,onClick:P,onFocus:F,onKeyDown:G,onKeyUp:V,placeholder:B,readOnly:X,renderSuffix:ee,rows:te,slotProps:O={},slots:D={},startAdornment:H,type:$="text",value:W}=i,ie=_t(i,pW),j=b.value!=null?b.value:W,{current:Y}=L.useRef(j!=null),K=L.useRef(),fe=L.useCallback(_e=>{},[]),pe=Qr(K,_,b.ref,fe),[xe,Ge]=L.useState(!1),Ae=il(),z=cc({props:i,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});z.focused=Ae?Ae.focused:xe,L.useEffect(()=>{!Ae&&d&&xe&&(Ge(!1),R&&R())},[Ae,d,xe,R]);const ge=Ae&&Ae.onFilled,Me=Ae&&Ae.onEmpty,Ie=L.useCallback(_e=>{wy(_e)?ge&&ge():Me&&Me()},[ge,Me]);va(()=>{Y&&Ie({value:j})},[j,Ie,Y]);const Re=_e=>{if(z.disabled){_e.stopPropagation();return}F&&F(_e),b.onFocus&&b.onFocus(_e),Ae&&Ae.onFocus?Ae.onFocus(_e):Ge(!0)},We=_e=>{R&&R(_e),b.onBlur&&b.onBlur(_e),Ae&&Ae.onBlur?Ae.onBlur(_e):Ge(!1)},ke=(_e,...ye)=>{if(!Y){const we=_e.target||K.current;if(we==null)throw new Error(Zl(1));Ie({value:we.value})}b.onChange&&b.onChange(_e,...ye),C&&C(_e,...ye)};L.useEffect(()=>{Ie(K.current)},[]);const je=_e=>{K.current&&_e.currentTarget===_e.target&&K.current.focus(),P&&!z.disabled&&P(_e)};let He=v,Ne=b;M&&He==="input"&&(te?Ne=ae({type:void 0,minRows:te,maxRows:te},Ne):Ne=ae({type:void 0,maxRows:S,minRows:E},Ne),He=iV);const Ke=_e=>{Ie(_e.animationName==="mui-auto-fill-cancel"?K.current:{value:"x"})};L.useEffect(()=>{Ae&&Ae.setAdornedStart(!!H)},[Ae,H]);const J=ae({},i,{color:z.color||"primary",disabled:z.disabled,endAdornment:g,error:z.error,focused:z.focused,formControl:Ae,fullWidth:y,hiddenLabel:z.hiddenLabel,multiline:M,size:z.size,startAdornment:H,type:$}),N=mW(J),oe=D.root||c.Root||q1,Le=O.root||u.root||{},Te=D.input||c.Input||Y1;return Ne=ae({},Ne,(r=O.input)!=null?r:u.input),q.jsxs(L.Fragment,{children:[!p&&gW,q.jsxs(oe,ae({},Le,!yu(oe)&&{ownerState:ae({},J,Le.ownerState)},{ref:n,onClick:je},ie,{className:At(N.root,Le.className,a,X&&"MuiInputBase-readOnly"),children:[H,q.jsx(KM.Provider,{value:null,children:q.jsx(Te,ae({ownerState:J,"aria-invalid":z.error,"aria-describedby":o,autoComplete:s,autoFocus:l,defaultValue:f,disabled:z.disabled,id:x,onAnimationStart:Ke,name:T,placeholder:B,readOnly:X,required:z.required,rows:te,value:j,onKeyDown:G,onKeyUp:V,type:$},Ne,!yu(Te)&&{as:He,ownerState:ae({},J,Ne.ownerState)},{ref:pe,className:At(N.input,Ne.className,X&&"MuiInputBase-readOnly"),onBlur:We,onChange:ke,onFocus:Re}))}),g,ee?ee(ae({},z,{startAdornment:H})):null]}))]})}),JM=vW;function yW(t){return Zt("MuiInput",t)}const xW=ae({},Md,Qt("MuiInput",["root","underline","input"])),Ch=xW;function bW(t){return Zt("MuiOutlinedInput",t)}const _W=ae({},Md,Qt("MuiOutlinedInput",["root","notchedOutline","input"])),yl=_W;function SW(t){return Zt("MuiFilledInput",t)}const wW=ae({},Md,Qt("MuiFilledInput",["root","underline","input"])),Mc=wW,EW=nl(q.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),MW=nl(q.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function TW(t){return Zt("MuiAvatar",t)}Qt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const AW=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],CW=t=>{const{classes:e,variant:n,colorDefault:r}=t;return rn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},TW,e)},RW=ft("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>ae({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&ae({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}))),PW=ft("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),IW=ft(MW,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function LW({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=L.useState(!1);return L.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const l=new Image;return l.onload=()=>{s&&o("loaded")},l.onerror=()=>{s&&o("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const kW=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:l="div",imgProps:a,sizes:c,src:u,srcSet:f,variant:d="circular"}=r,p=_t(r,AW);let g=null;const y=LW(ae({},a,{src:u,srcSet:f})),x=u||f,v=x&&y!=="error",b=ae({},r,{colorDefault:!v,component:l,variant:d}),_=CW(b);return v?g=q.jsx(PW,ae({alt:i,src:u,srcSet:f,sizes:c,ownerState:b,className:_.img},a)):o!=null?g=o:x&&i?g=i[0]:g=q.jsx(IW,{ownerState:b,className:_.fallback}),q.jsx(RW,ae({as:l,ownerState:b,className:At(_.root,s),ref:n},p,{children:g}))}),NW=kW,OW=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],FW={entering:{opacity:1},entered:{opacity:1}},DW=L.forwardRef(function(e,n){const r=Cu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:l,easing:a,in:c,onEnter:u,onEntered:f,onEntering:d,onExit:p,onExited:g,onExiting:y,style:x,timeout:v=i,TransitionComponent:b=XM}=e,_=_t(e,OW),S=L.useRef(null),E=Qr(S,l.ref,n),M=B=>X=>{if(B){const ee=S.current;X===void 0?B(ee):B(ee,X)}},T=M(d),R=M((B,X)=>{kO(B);const ee=Ed({style:x,timeout:v,easing:a},{mode:"enter"});B.style.webkitTransition=r.transitions.create("opacity",ee),B.style.transition=r.transitions.create("opacity",ee),u&&u(B,X)}),C=M(f),P=M(y),F=M(B=>{const X=Ed({style:x,timeout:v,easing:a},{mode:"exit"});B.style.webkitTransition=r.transitions.create("opacity",X),B.style.transition=r.transitions.create("opacity",X),p&&p(B)}),G=M(g),V=B=>{o&&o(S.current,B)};return q.jsx(b,ae({appear:s,in:c,nodeRef:S,onEnter:R,onEntered:C,onEntering:T,onExit:F,onExited:G,onExiting:P,addEndListener:V,timeout:v},_,{children:(B,X)=>L.cloneElement(l,ae({style:ae({opacity:0,visibility:B==="exited"&&!c?"hidden":void 0},FW[B],x,l.props.style),ref:E},X))}))}),UW=DW;function BW(t){return Zt("MuiBackdrop",t)}Qt("MuiBackdrop",["root","invisible"]);const zW=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],GW=t=>{const{classes:e,invisible:n}=t;return rn({root:["root",n&&"invisible"]},BW,e)},HW=ft("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>ae({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),VW=L.forwardRef(function(e,n){var r,i,o;const s=on({props:e,name:"MuiBackdrop"}),{children:l,className:a,component:c="div",components:u={},componentsProps:f={},invisible:d=!1,open:p,slotProps:g={},slots:y={},TransitionComponent:x=UW,transitionDuration:v}=s,b=_t(s,zW),_=ae({},s,{component:c,invisible:d}),S=GW(_),E=(r=g.root)!=null?r:f.root;return q.jsx(x,ae({in:p,timeout:v},b,{children:q.jsx(HW,ae({"aria-hidden":!0},E,{as:(i=(o=y.root)!=null?o:u.Root)!=null?i:c,className:At(S.root,a,E==null?void 0:E.className),ownerState:ae({},_,E==null?void 0:E.ownerState),classes:S,ref:n,children:l}))}))}),WW=VW,jW=k1(),$W=R9({themeId:gu,defaultTheme:jW,defaultClassName:"MuiBox-root",generateClassName:IM.generate}),yn=$W;function XW(t){return Zt("MuiButton",t)}const qW=Qt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),c0=qW,YW=L.createContext({}),KW=YW,JW=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ZW=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,l={root:["root",o,`${o}${Lt(e)}`,`size${Lt(i)}`,`${o}Size${Lt(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Lt(i)}`],endIcon:["endIcon",`iconSize${Lt(i)}`]},a=rn(l,XW,s);return ae({},s,a)},DO=t=>ae({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),QW=ft(Ud,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Lt(n.color)}`],e[`size${Lt(n.size)}`],e[`${n.variant}Size${Lt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return ae({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":ae({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ki(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ki(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ki(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":ae({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${c0.focusVisible}`]:ae({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${c0.disabled}`]:ae({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ki(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${c0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${c0.disabled}`]:{boxShadow:"none"}}),ej=ft("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Lt(n.size)}`]]}})(({ownerState:t})=>ae({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},DO(t))),tj=ft("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Lt(n.size)}`]]}})(({ownerState:t})=>ae({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},DO(t))),nj=L.forwardRef(function(e,n){const r=L.useContext(KW),i=PM(r,e),o=on({props:i,name:"MuiButton"}),{children:s,color:l="primary",component:a="button",className:c,disabled:u=!1,disableElevation:f=!1,disableFocusRipple:d=!1,endIcon:p,focusVisibleClassName:g,fullWidth:y=!1,size:x="medium",startIcon:v,type:b,variant:_="text"}=o,S=_t(o,JW),E=ae({},o,{color:l,component:a,disabled:u,disableElevation:f,disableFocusRipple:d,fullWidth:y,size:x,type:b,variant:_}),M=ZW(E),T=v&&q.jsx(ej,{className:M.startIcon,ownerState:E,children:v}),R=p&&q.jsx(tj,{className:M.endIcon,ownerState:E,children:p});return q.jsxs(QW,ae({ownerState:E,className:At(r.className,M.root,c),component:a,disabled:u,focusRipple:!d,focusVisibleClassName:At(M.focusVisible,g),ref:n,type:b},S,{classes:M,children:[T,s,R]}))}),to=nj;function rj(t){return Zt("PrivateSwitchBase",t)}Qt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ij=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],oj=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Lt(i)}`],input:["input"]};return rn(o,rj,e)},sj=ft(Ud)(({ownerState:t})=>ae({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),aj=ft("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),lj=L.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:l,disabled:a,disableFocusRipple:c=!1,edge:u=!1,icon:f,id:d,inputProps:p,inputRef:g,name:y,onBlur:x,onChange:v,onFocus:b,readOnly:_,required:S=!1,tabIndex:E,type:M,value:T}=e,R=_t(e,ij),[C,P]=Jp({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),F=il(),G=D=>{b&&b(D),F&&F.onFocus&&F.onFocus(D)},V=D=>{x&&x(D),F&&F.onBlur&&F.onBlur(D)},B=D=>{if(D.nativeEvent.defaultPrevented)return;const H=D.target.checked;P(H),v&&v(D,H)};let X=a;F&&typeof X>"u"&&(X=F.disabled);const ee=M==="checkbox"||M==="radio",te=ae({},e,{checked:C,disabled:X,disableFocusRipple:c,edge:u}),O=oj(te);return q.jsxs(sj,ae({component:"span",className:At(O.root,s),centerRipple:!0,focusRipple:!c,disabled:X,tabIndex:null,role:void 0,onFocus:G,onBlur:V,ownerState:te,ref:n},R,{children:[q.jsx(aj,ae({autoFocus:r,checked:i,defaultChecked:l,className:O.input,disabled:X,id:ee?d:void 0,name:y,onChange:B,readOnly:_,ref:g,required:S,ownerState:te,tabIndex:E,type:M},M==="checkbox"&&T===void 0?{}:{value:T},p)),C?o:f]}))}),cj=lj;function uj(t){return Zt("MuiCircularProgress",t)}Qt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const fj=["className","color","disableShrink","size","style","thickness","value","variant"];let K1=t=>t,QR,eP,tP,nP;const xl=44,dj=lc(QR||(QR=K1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),hj=lc(eP||(eP=K1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),pj=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${Lt(r)}`],svg:["svg"],circle:["circle",`circle${Lt(n)}`,i&&"circleDisableShrink"]};return rn(o,uj,e)},mj=ft("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Lt(n.color)}`]]}})(({ownerState:t,theme:e})=>ae({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Dd(tP||(tP=K1`
      animation: ${0} 1.4s linear infinite;
    `),dj)),gj=ft("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),vj=ft("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Lt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>ae({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Dd(nP||(nP=K1`
      animation: ${0} 1.4s ease-in-out infinite;
    `),hj)),yj=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:l=40,style:a,thickness:c=3.6,value:u=0,variant:f="indeterminate"}=r,d=_t(r,fj),p=ae({},r,{color:o,disableShrink:s,size:l,thickness:c,value:u,variant:f}),g=pj(p),y={},x={},v={};if(f==="determinate"){const b=2*Math.PI*((xl-c)/2);y.strokeDasharray=b.toFixed(3),v["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,x.transform="rotate(-90deg)"}return q.jsx(mj,ae({className:At(g.root,i),style:ae({width:l,height:l},x,a),ownerState:p,ref:n,role:"progressbar"},v,d,{children:q.jsx(gj,{className:g.svg,ownerState:p,viewBox:`${xl/2} ${xl/2} ${xl} ${xl}`,children:q.jsx(vj,{className:g.circle,style:y,ownerState:p,cx:xl,cy:xl,r:(xl-c)/2,fill:"none",strokeWidth:c})})}))}),xj=yj,bj=(t,e)=>ae({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),_j=t=>ae({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),Sj=(t,e=!1)=>{var n,r;const i={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([l,a])=>{var c;i[t.getColorSchemeSelector(l).replace(/\s*&/,"")]={colorScheme:(c=a.palette)==null?void 0:c.mode}});let o=ae({html:bj(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:ae({margin:0},_j(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},i);const s=(n=t.components)==null||(r=n.MuiCssBaseline)==null?void 0:r.styleOverrides;return s&&(o=[o,s]),o};function wj(t){const e=on({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return q.jsxs(L.Fragment,{children:[q.jsx(FO,{styles:i=>Sj(i,r)}),n]})}const Ej=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Mj=ft("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>ae({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Tj=ft(WW,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Aj=L.forwardRef(function(e,n){var r,i,o,s,l,a;const c=on({name:"MuiModal",props:e}),{BackdropComponent:u=Tj,BackdropProps:f,classes:d,className:p,closeAfterTransition:g=!1,children:y,container:x,component:v,components:b={},componentsProps:_={},disableAutoFocus:S=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:M=!1,disablePortal:T=!1,disableRestoreFocus:R=!1,disableScrollLock:C=!1,hideBackdrop:P=!1,keepMounted:F=!1,onBackdropClick:G,onClose:V,open:B,slotProps:X,slots:ee,theme:te}=c,O=_t(c,Ej),[D,H]=L.useState(!0),$={container:x,closeAfterTransition:g,disableAutoFocus:S,disableEnforceFocus:E,disableEscapeKeyDown:M,disablePortal:T,disableRestoreFocus:R,disableScrollLock:C,hideBackdrop:P,keepMounted:F,onBackdropClick:G,onClose:V,open:B},W=ae({},c,$,{exited:D}),ie=(r=(i=ee==null?void 0:ee.root)!=null?i:b.Root)!=null?r:Mj,j=(o=(s=ee==null?void 0:ee.backdrop)!=null?s:b.Backdrop)!=null?o:u,Y=(l=X==null?void 0:X.root)!=null?l:_.root,K=(a=X==null?void 0:X.backdrop)!=null?a:_.backdrop;return q.jsx(eV,ae({slots:{root:ie,backdrop:j},slotProps:{root:()=>ae({},mw(Y,W),!yu(ie)&&{as:v,theme:te},{className:At(p,Y==null?void 0:Y.className,d==null?void 0:d.root,!W.open&&W.exited&&(d==null?void 0:d.hidden))}),backdrop:()=>ae({},f,mw(K,W),{className:At(K==null?void 0:K.className,f==null?void 0:f.className,d==null?void 0:d.backdrop)})},onTransitionEnter:()=>H(!1),onTransitionExited:()=>H(!0),ref:n},O,$,{children:y}))}),Cj=Aj;function Rj(t){return Zt("MuiDivider",t)}Qt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Pj=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Ij=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:l,variant:a}=t;return rn({root:["root",e&&"absolute",a,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",l==="right"&&s!=="vertical"&&"textAlignRight",l==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Rj,r)},Lj=ft("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>ae({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ki(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>ae({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>ae({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>ae({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>ae({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),kj=ft("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>ae({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Nj=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:l=o?"div":"hr",flexItem:a=!1,light:c=!1,orientation:u="horizontal",role:f=l!=="hr"?"separator":void 0,textAlign:d="center",variant:p="fullWidth"}=r,g=_t(r,Pj),y=ae({},r,{absolute:i,component:l,flexItem:a,light:c,orientation:u,role:f,textAlign:d,variant:p}),x=Ij(y);return q.jsx(Lj,ae({as:l,className:At(x.root,s),role:f,ref:n,ownerState:y},g,{children:o?q.jsx(kj,{className:x.wrapper,ownerState:y,children:o}):null}))}),Oj=Nj,Fj=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Dj=t=>{const{classes:e,disableUnderline:n}=t,i=rn({root:["root",!n&&"underline"],input:["input"]},SW,e);return ae({},e,i)},Uj=ft(q1,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$1(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ae({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Mc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Mc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mc.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mc.disabled}, .${Mc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Mc.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&ae({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),Bj=ft(Y1,{name:"MuiFilledInput",slot:"Input",overridesResolver:X1})(({theme:t,ownerState:e})=>ae({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),UO=L.forwardRef(function(e,n){var r,i,o,s;const l=on({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:c,fullWidth:u=!1,inputComponent:f="input",multiline:d=!1,slotProps:p,slots:g={},type:y="text"}=l,x=_t(l,Fj),v=ae({},l,{fullWidth:u,inputComponent:f,multiline:d,type:y}),b=Dj(l),_={root:{ownerState:v},input:{ownerState:v}},S=p??c?ns(p??c,_):_,E=(r=(i=g.root)!=null?i:a.Root)!=null?r:Uj,M=(o=(s=g.input)!=null?s:a.Input)!=null?o:Bj;return q.jsx(JM,ae({slots:{root:E,input:M},componentsProps:S,fullWidth:u,inputComponent:f,multiline:d,ref:n,type:y},x,{classes:b}))});UO.muiName="Input";const BO=UO;function zj(t){return Zt("MuiFormControl",t)}Qt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Gj=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Hj=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Lt(n)}`,r&&"fullWidth"]};return rn(i,zj,e)},Vj=ft("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>ae({},e.root,e[`margin${Lt(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>ae({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Wj=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:l="div",disabled:a=!1,error:c=!1,focused:u,fullWidth:f=!1,hiddenLabel:d=!1,margin:p="none",required:g=!1,size:y="medium",variant:x="outlined"}=r,v=_t(r,Gj),b=ae({},r,{color:s,component:l,disabled:a,error:c,fullWidth:f,hiddenLabel:d,margin:p,required:g,size:y,variant:x}),_=Hj(b),[S,E]=L.useState(()=>{let V=!1;return i&&L.Children.forEach(i,B=>{if(!mp(B,["Input","Select"]))return;const X=mp(B,["Select"])?B.props.input:B;X&&fW(X.props)&&(V=!0)}),V}),[M,T]=L.useState(()=>{let V=!1;return i&&L.Children.forEach(i,B=>{mp(B,["Input","Select"])&&(wy(B.props,!0)||wy(B.props.inputProps,!0))&&(V=!0)}),V}),[R,C]=L.useState(!1);a&&R&&C(!1);const P=u!==void 0&&!a?u:R;let F;const G=L.useMemo(()=>({adornedStart:S,setAdornedStart:E,color:s,disabled:a,error:c,filled:M,focused:P,fullWidth:f,hiddenLabel:d,size:y,onBlur:()=>{C(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{C(!0)},registerEffect:F,required:g,variant:x}),[S,s,a,c,M,P,f,d,F,g,y,x]);return q.jsx(KM.Provider,{value:G,children:q.jsx(Vj,ae({as:l,ownerState:b,className:At(_.root,o),ref:n},v,{children:i}))})}),jj=Wj;function $j(t){return Zt("MuiFormControlLabel",t)}const Xj=Qt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Zh=Xj,qj=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Yj=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Lt(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return rn(s,$j,e)},Kj=ft("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Zh.label}`]:e.label},e.root,e[`labelPlacement${Lt(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>ae({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Zh.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Zh.label}`]:{[`&.${Zh.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Jj=ft("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Zh.error}`]:{color:(t.vars||t).palette.error.main}})),Zj=L.forwardRef(function(e,n){var r,i;const o=on({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:l={},control:a,disabled:c,disableTypography:u,label:f,labelPlacement:d="end",required:p,slotProps:g={}}=o,y=_t(o,qj),x=il(),v=(r=c??a.props.disabled)!=null?r:x==null?void 0:x.disabled,b=p??a.props.required,_={disabled:v,required:b};["checked","name","onChange","value","inputRef"].forEach(C=>{typeof a.props[C]>"u"&&typeof o[C]<"u"&&(_[C]=o[C])});const S=cc({props:o,muiFormControl:x,states:["error"]}),E=ae({},o,{disabled:v,labelPlacement:d,required:b,error:S.error}),M=Yj(E),T=(i=g.typography)!=null?i:l.typography;let R=f;return R!=null&&R.type!==Ao&&!u&&(R=q.jsx(Ao,ae({component:"span"},T,{className:At(M.label,T==null?void 0:T.className),children:R}))),q.jsxs(Kj,ae({className:At(M.root,s),ownerState:E,ref:n},y,{children:[L.cloneElement(a,_),R,b&&q.jsxs(Jj,{ownerState:E,"aria-hidden":!0,className:M.asterisk,children:[" ","*"]})]}))}),s_=Zj;function Qj(t){return Zt("MuiFormGroup",t)}Qt("MuiFormGroup",["root","row","error"]);const e$=["className","row"],t$=t=>{const{classes:e,row:n,error:r}=t;return rn({root:["root",n&&"row",r&&"error"]},Qj,e)},n$=ft("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>ae({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),r$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=_t(r,e$),l=il(),a=cc({props:r,muiFormControl:l,states:["error"]}),c=ae({},r,{row:o,error:a.error}),u=t$(c);return q.jsx(n$,ae({className:At(u.root,i),ownerState:c,ref:n},s))}),zO=r$;function i$(t){return Zt("MuiFormHelperText",t)}const o$=Qt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),rP=o$;var iP;const s$=["children","className","component","disabled","error","filled","focused","margin","required","variant"],a$=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:l,required:a}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${Lt(r)}`,n&&"contained",l&&"focused",s&&"filled",a&&"required"]};return rn(c,i$,e)},l$=ft("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Lt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>ae({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rP.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),c$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,l=_t(r,s$),a=il(),c=cc({props:r,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),u=ae({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),f=a$(u);return q.jsx(l$,ae({as:s,ownerState:u,className:At(f.root,o),ref:n},l,{children:i===" "?iP||(iP=q.jsx("span",{className:"notranslate",children:"​"})):i}))}),u$=c$;function f$(t){return Zt("MuiFormLabel",t)}const d$=Qt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),xp=d$,h$=["children","className","color","component","disabled","error","filled","focused","required"],p$=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:l}=t,a={root:["root",`color${Lt(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return rn(a,f$,e)},m$=ft("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>ae({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>ae({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${xp.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${xp.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${xp.error}`]:{color:(t.vars||t).palette.error.main}})),g$=ft("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${xp.error}`]:{color:(t.vars||t).palette.error.main}})),v$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,l=_t(r,h$),a=il(),c=cc({props:r,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),u=ae({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),f=p$(u);return q.jsxs(m$,ae({as:s,ownerState:u,className:At(f.root,o),ref:n},l,{children:[i,c.required&&q.jsxs(g$,{ownerState:u,"aria-hidden":!0,className:f.asterisk,children:[" ","*"]})]}))}),y$=v$,x$=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function xw(t){return`scale(${t}, ${t**2})`}const b$={entering:{opacity:1,transform:xw(1)},entered:{opacity:1,transform:"none"}},a_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),GO=L.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:l,onEnter:a,onEntered:c,onEntering:u,onExit:f,onExited:d,onExiting:p,style:g,timeout:y="auto",TransitionComponent:x=XM}=e,v=_t(e,x$),b=L.useRef(),_=L.useRef(),S=Cu(),E=L.useRef(null),M=Qr(E,o.ref,n),T=X=>ee=>{if(X){const te=E.current;ee===void 0?X(te):X(te,ee)}},R=T(u),C=T((X,ee)=>{kO(X);const{duration:te,delay:O,easing:D}=Ed({style:g,timeout:y,easing:s},{mode:"enter"});let H;y==="auto"?(H=S.transitions.getAutoHeightDuration(X.clientHeight),_.current=H):H=te,X.style.transition=[S.transitions.create("opacity",{duration:H,delay:O}),S.transitions.create("transform",{duration:a_?H:H*.666,delay:O,easing:D})].join(","),a&&a(X,ee)}),P=T(c),F=T(p),G=T(X=>{const{duration:ee,delay:te,easing:O}=Ed({style:g,timeout:y,easing:s},{mode:"exit"});let D;y==="auto"?(D=S.transitions.getAutoHeightDuration(X.clientHeight),_.current=D):D=ee,X.style.transition=[S.transitions.create("opacity",{duration:D,delay:te}),S.transitions.create("transform",{duration:a_?D:D*.666,delay:a_?te:te||D*.333,easing:O})].join(","),X.style.opacity=0,X.style.transform=xw(.75),f&&f(X)}),V=T(d),B=X=>{y==="auto"&&(b.current=setTimeout(X,_.current||0)),r&&r(E.current,X)};return L.useEffect(()=>()=>{clearTimeout(b.current)},[]),q.jsx(x,ae({appear:i,in:l,nodeRef:E,onEnter:C,onEntered:P,onEntering:R,onExit:G,onExited:V,onExiting:F,addEndListener:B,timeout:y==="auto"?null:y},v,{children:(X,ee)=>L.cloneElement(o,ae({style:ae({opacity:0,transform:xw(.75),visibility:X==="exited"&&!l?"hidden":void 0},b$[X],g,o.props.style),ref:M},ee))}))});GO.muiSupportAuto=!0;const _$=GO,S$=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],w$=t=>{const{classes:e,disableUnderline:n}=t,i=rn({root:["root",!n&&"underline"],input:["input"]},yW,e);return ae({},e,i)},E$=ft(q1,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$1(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),ae({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ch.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ch.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ch.disabled}, .${Ch.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Ch.disabled}:before`]:{borderBottomStyle:"dotted"}})}),M$=ft(Y1,{name:"MuiInput",slot:"Input",overridesResolver:X1})({}),HO=L.forwardRef(function(e,n){var r,i,o,s;const l=on({props:e,name:"MuiInput"}),{disableUnderline:a,components:c={},componentsProps:u,fullWidth:f=!1,inputComponent:d="input",multiline:p=!1,slotProps:g,slots:y={},type:x="text"}=l,v=_t(l,S$),b=w$(l),S={root:{ownerState:{disableUnderline:a}}},E=g??u?ns(g??u,S):S,M=(r=(i=y.root)!=null?i:c.Root)!=null?r:E$,T=(o=(s=y.input)!=null?s:c.Input)!=null?o:M$;return q.jsx(JM,ae({slots:{root:M,input:T},slotProps:E,fullWidth:f,inputComponent:d,multiline:p,ref:n,type:x},v,{classes:b}))});HO.muiName="Input";const VO=HO;function T$(t){return Zt("MuiInputLabel",t)}Qt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const A$=["disableAnimation","margin","shrink","variant","className"],C$=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:l}=t,c=rn({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r==="small"&&"sizeSmall",s],asterisk:[l&&"asterisk"]},T$,e);return ae({},e,c)},R$=ft(y$,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xp.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>ae({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&ae({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&ae({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&ae({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),P$=L.forwardRef(function(e,n){const r=on({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,l=_t(r,A$),a=il();let c=o;typeof c>"u"&&a&&(c=a.filled||a.focused||a.adornedStart);const u=cc({props:r,muiFormControl:a,states:["size","variant","required"]}),f=ae({},r,{disableAnimation:i,formControl:a,shrink:c,size:u.size,variant:u.variant,required:u.required}),d=C$(f);return q.jsx(R$,ae({"data-shrink":c,ownerState:f,ref:n,className:At(d.root,s)},l,{classes:d}))}),I$=P$;function L$(t){return Zt("MuiLinearProgress",t)}Qt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const k$=["className","color","value","valueBuffer","variant"];let Bd=t=>t,oP,sP,aP,lP,cP,uP;const bw=4,N$=lc(oP||(oP=Bd`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),O$=lc(sP||(sP=Bd`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),F$=lc(aP||(aP=Bd`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),D$=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${Lt(r)}`,n],dashed:["dashed",`dashedColor${Lt(r)}`],bar1:["bar",`barColor${Lt(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Lt(r)}`,n==="buffer"&&`color${Lt(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return rn(i,L$,e)},ZM=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?MO(t.palette[e].main,.62):EO(t.palette[e].main,.5),U$=ft("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Lt(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>ae({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ZM(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),B$=ft("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Lt(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=ZM(e,t.color);return ae({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Dd(lP||(lP=Bd`
    animation: ${0} 3s infinite linear;
  `),F$)),z$=ft("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Lt(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>ae({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${bw}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${bw}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Dd(cP||(cP=Bd`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),N$)),G$=ft("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Lt(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>ae({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:ZM(e,t.color),transition:`transform .${bw}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Dd(uP||(uP=Bd`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),O$)),H$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:l,variant:a="indeterminate"}=r,c=_t(r,k$),u=ae({},r,{color:o,variant:a}),f=D$(u),d=Cu(),p={},g={bar1:{},bar2:{}};if((a==="determinate"||a==="buffer")&&s!==void 0){p["aria-valuenow"]=Math.round(s),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=s-100;d.direction==="rtl"&&(y=-y),g.bar1.transform=`translateX(${y}%)`}if(a==="buffer"&&l!==void 0){let y=(l||0)-100;d.direction==="rtl"&&(y=-y),g.bar2.transform=`translateX(${y}%)`}return q.jsxs(U$,ae({className:At(f.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[a==="buffer"?q.jsx(B$,{className:f.dashed,ownerState:u}):null,q.jsx(z$,{className:f.bar1,ownerState:u,style:g.bar1}),a==="determinate"?null:q.jsx(G$,{className:f.bar2,ownerState:u,style:g.bar2})]}))}),V$=H$,W$=L.createContext({}),ha=W$;function j$(t){return Zt("MuiList",t)}Qt("MuiList",["root","padding","dense","subheader"]);const $$=["children","className","component","dense","disablePadding","subheader"],X$=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return rn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},j$,e)},q$=ft("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>ae({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Y$=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:l=!1,disablePadding:a=!1,subheader:c}=r,u=_t(r,$$),f=L.useMemo(()=>({dense:l}),[l]),d=ae({},r,{component:s,dense:l,disablePadding:a}),p=X$(d);return q.jsx(ha.Provider,{value:f,children:q.jsxs(q$,ae({as:s,className:At(p.root,o),ref:n,ownerState:d},u,{children:[c,i]}))})}),QM=Y$;function K$(t){return Zt("MuiListItem",t)}const J$=Qt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Cf=J$;function Z$(t){return Zt("MuiListItemButton",t)}const Q$=Qt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Rf=Q$,eX=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],tX=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},nX=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:l}=t,c=rn({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},Z$,n);return ae({},n,c)},rX=ft(Ud,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:tX})(({theme:t,ownerState:e})=>ae({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ki(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Rf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ki(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Rf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ki(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ki(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Rf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Rf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),iX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:l,dense:a=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:f,selected:d=!1,className:p}=r,g=_t(r,eX),y=L.useContext(ha),x=L.useMemo(()=>({dense:a||y.dense||!1,alignItems:i,disableGutters:c}),[i,y.dense,a,c]),v=L.useRef(null);va(()=>{o&&v.current&&v.current.focus()},[o]);const b=ae({},r,{alignItems:i,dense:x.dense,disableGutters:c,divider:u,selected:d}),_=nX(b),S=Qr(v,n);return q.jsx(ha.Provider,{value:x,children:q.jsx(rX,ae({ref:S,href:g.href||g.to,component:(g.href||g.to)&&s==="div"?"button":s,focusVisibleClassName:At(_.focusVisible,f),ownerState:b,className:At(_.root,p)},g,{classes:_,children:l}))})}),_w=iX;function oX(t){return Zt("MuiListItemSecondaryAction",t)}Qt("MuiListItemSecondaryAction",["root","disableGutters"]);const sX=["className"],aX=t=>{const{disableGutters:e,classes:n}=t;return rn({root:["root",e&&"disableGutters"]},oX,n)},lX=ft("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>ae({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),WO=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=_t(r,sX),s=L.useContext(ha),l=ae({},r,{disableGutters:s.disableGutters}),a=aX(l);return q.jsx(lX,ae({className:At(a.root,i),ownerState:l,ref:n},o))});WO.muiName="ListItemSecondaryAction";const cX=WO,uX=["className"],fX=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],dX=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},hX=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:l,divider:a,hasSecondaryAction:c,selected:u}=t;return rn({root:["root",i&&"dense",!s&&"gutters",!l&&"padding",a&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},K$,r)},pX=ft("div",{name:"MuiListItem",slot:"Root",overridesResolver:dX})(({theme:t,ownerState:e})=>ae({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&ae({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Rf.root}`]:{paddingRight:48}},{[`&.${Cf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Cf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ki(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Cf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ki(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Cf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ki(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ki(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),mX=ft("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),gX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:l,className:a,component:c,components:u={},componentsProps:f={},ContainerComponent:d="li",ContainerProps:{className:p}={},dense:g=!1,disabled:y=!1,disableGutters:x=!1,disablePadding:v=!1,divider:b=!1,focusVisibleClassName:_,secondaryAction:S,selected:E=!1,slotProps:M={},slots:T={}}=r,R=_t(r.ContainerProps,uX),C=_t(r,fX),P=L.useContext(ha),F=L.useMemo(()=>({dense:g||P.dense||!1,alignItems:i,disableGutters:x}),[i,P.dense,g,x]),G=L.useRef(null);va(()=>{o&&G.current&&G.current.focus()},[o]);const V=L.Children.toArray(l),B=V.length&&mp(V[V.length-1],["ListItemSecondaryAction"]),X=ae({},r,{alignItems:i,autoFocus:o,button:s,dense:F.dense,disabled:y,disableGutters:x,disablePadding:v,divider:b,hasSecondaryAction:B,selected:E}),ee=hX(X),te=Qr(G,n),O=T.root||u.Root||pX,D=M.root||f.root||{},H=ae({className:At(ee.root,D.className,a),disabled:y},C);let $=c||"li";return s&&(H.component=c||"div",H.focusVisibleClassName=At(Cf.focusVisible,_),$=Ud),B?($=!H.component&&!c?"div":$,d==="li"&&($==="li"?$="div":H.component==="li"&&(H.component="div")),q.jsx(ha.Provider,{value:F,children:q.jsxs(mX,ae({as:d,className:At(ee.container,p),ref:te,ownerState:X},R,{children:[q.jsx(O,ae({},D,!yu(O)&&{as:$,ownerState:ae({},X,D.ownerState)},H,{children:V})),V.pop()]}))})):q.jsx(ha.Provider,{value:F,children:q.jsxs(O,ae({},D,{as:$,ref:te},!yu(O)&&{ownerState:ae({},X,D.ownerState)},H,{children:[V,S&&q.jsx(cX,{children:S})]}))})}),vX=gX;function yX(t){return Zt("MuiListItemAvatar",t)}Qt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const xX=["className"],bX=t=>{const{alignItems:e,classes:n}=t;return rn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},yX,n)},_X=ft("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>ae({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),SX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemAvatar"}),{className:i}=r,o=_t(r,xX),s=L.useContext(ha),l=ae({},r,{alignItems:s.alignItems}),a=bX(l);return q.jsx(_X,ae({className:At(a.root,i),ownerState:l,ref:n},o))}),wX=SX;function EX(t){return Zt("MuiListItemIcon",t)}Qt("MuiListItemIcon",["root","alignItemsFlexStart"]);const MX=["className"],TX=t=>{const{alignItems:e,classes:n}=t;return rn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},EX,n)},AX=ft("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>ae({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),CX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=_t(r,MX),s=L.useContext(ha),l=ae({},r,{alignItems:s.alignItems}),a=TX(l);return q.jsx(AX,ae({className:At(a.root,i),ownerState:l,ref:n},o))}),RX=CX;function PX(t){return Zt("MuiListItemText",t)}const IX=Qt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),fP=IX,LX=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],kX=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return rn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},PX,e)},NX=ft("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${fP.primary}`]:e.primary},{[`& .${fP.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>ae({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),OX=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:l=!1,primary:a,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:f}=r,d=_t(r,LX),{dense:p}=L.useContext(ha);let g=a??i,y=u;const x=ae({},r,{disableTypography:s,inset:l,primary:!!g,secondary:!!y,dense:p}),v=kX(x);return g!=null&&g.type!==Ao&&!s&&(g=q.jsx(Ao,ae({variant:p?"body2":"body1",className:v.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:g}))),y!=null&&y.type!==Ao&&!s&&(y=q.jsx(Ao,ae({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},f,{children:y}))),q.jsxs(NX,ae({className:At(v.root,o),ownerState:x,ref:n},d,{children:[g,y]}))}),jO=OX,FX=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function l_(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function dP(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function $O(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Rh(t,e,n,r,i,o){let s=!1,l=i(t,e,e?n:!1);for(;l;){if(l===t.firstChild){if(s)return!1;s=!0}const a=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!$O(l,o)||a)l=i(t,l,n);else return l.focus(),!0}return!1}const DX=L.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:l,disabledItemsFocusable:a=!1,disableListWrap:c=!1,onKeyDown:u,variant:f="selectedMenu"}=e,d=_t(e,FX),p=L.useRef(null),g=L.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});va(()=>{i&&p.current.focus()},[i]),L.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,S)=>{const E=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&E){const M=`${KN($i(_))}px`;p.current.style[S.direction==="rtl"?"paddingLeft":"paddingRight"]=M,p.current.style.width=`calc(100% + ${M})`}return p.current}}),[]);const y=_=>{const S=p.current,E=_.key,M=$i(S).activeElement;if(E==="ArrowDown")_.preventDefault(),Rh(S,M,c,a,l_);else if(E==="ArrowUp")_.preventDefault(),Rh(S,M,c,a,dP);else if(E==="Home")_.preventDefault(),Rh(S,null,c,a,l_);else if(E==="End")_.preventDefault(),Rh(S,null,c,a,dP);else if(E.length===1){const T=g.current,R=E.toLowerCase(),C=performance.now();T.keys.length>0&&(C-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&R!==T.keys[0]&&(T.repeating=!1)),T.lastTime=C,T.keys.push(R);const P=M&&!T.repeating&&$O(M,T);T.previousKeyMatched&&(P||Rh(S,M,!1,a,l_,T))?_.preventDefault():T.previousKeyMatched=!1}u&&u(_)},x=Qr(p,n);let v=-1;L.Children.forEach(s,(_,S)=>{if(!L.isValidElement(_)){v===S&&(v+=1,v>=s.length&&(v=-1));return}_.props.disabled||(f==="selectedMenu"&&_.props.selected||v===-1)&&(v=S),v===S&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))});const b=L.Children.map(s,(_,S)=>{if(S===v){const E={};return o&&(E.autoFocus=!0),_.props.tabIndex===void 0&&f==="selectedMenu"&&(E.tabIndex=0),L.cloneElement(_,E)}return _});return q.jsx(QM,ae({role:"menu",ref:x,className:l,onKeyDown:y,tabIndex:i?0:-1},d,{children:b}))}),UX=DX;function BX(t){return Zt("MuiPopover",t)}Qt("MuiPopover",["root","paper"]);const zX=["onEntering"],GX=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],HX=["slotProps"];function hP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function pP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function mP(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function c_(t){return typeof t=="function"?t():t}const VX=t=>{const{classes:e}=t;return rn({root:["root"],paper:["paper"]},BX,e)},WX=ft(Cj,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),XO=ft(OO,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jX=L.forwardRef(function(e,n){var r,i,o;const s=on({props:e,name:"MuiPopover"}),{action:l,anchorEl:a,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:f="anchorEl",children:d,className:p,container:g,elevation:y=8,marginThreshold:x=16,open:v,PaperProps:b={},slots:_,slotProps:S,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:M=_$,transitionDuration:T="auto",TransitionProps:{onEntering:R}={}}=s,C=_t(s.TransitionProps,zX),P=_t(s,GX),F=(r=S==null?void 0:S.paper)!=null?r:b,G=L.useRef(),V=Qr(G,F.ref),B=ae({},s,{anchorOrigin:c,anchorReference:f,elevation:y,marginThreshold:x,externalPaperSlotProps:F,transformOrigin:E,TransitionComponent:M,transitionDuration:T,TransitionProps:C}),X=VX(B),ee=L.useCallback(()=>{if(f==="anchorPosition")return u;const z=c_(a),Me=(z&&z.nodeType===1?z:$i(G.current).body).getBoundingClientRect();return{top:Me.top+hP(Me,c.vertical),left:Me.left+pP(Me,c.horizontal)}},[a,c.horizontal,c.vertical,u,f]),te=L.useCallback(z=>({vertical:hP(z,E.vertical),horizontal:pP(z,E.horizontal)}),[E.horizontal,E.vertical]),O=L.useCallback(z=>{const ge={width:z.offsetWidth,height:z.offsetHeight},Me=te(ge);if(f==="none")return{top:null,left:null,transformOrigin:mP(Me)};const Ie=ee();let Re=Ie.top-Me.vertical,We=Ie.left-Me.horizontal;const ke=Re+ge.height,je=We+ge.width,He=ga(c_(a)),Ne=He.innerHeight-x,Ke=He.innerWidth-x;if(Re<x){const J=Re-x;Re-=J,Me.vertical+=J}else if(ke>Ne){const J=ke-Ne;Re-=J,Me.vertical+=J}if(We<x){const J=We-x;We-=J,Me.horizontal+=J}else if(je>Ke){const J=je-Ke;We-=J,Me.horizontal+=J}return{top:`${Math.round(Re)}px`,left:`${Math.round(We)}px`,transformOrigin:mP(Me)}},[a,f,ee,te,x]),[D,H]=L.useState(v),$=L.useCallback(()=>{const z=G.current;if(!z)return;const ge=O(z);ge.top!==null&&(z.style.top=ge.top),ge.left!==null&&(z.style.left=ge.left),z.style.transformOrigin=ge.transformOrigin,H(!0)},[O]),W=(z,ge)=>{R&&R(z,ge),$()},ie=()=>{H(!1)};L.useEffect(()=>{v&&$()}),L.useImperativeHandle(l,()=>v?{updatePosition:()=>{$()}}:null,[v,$]),L.useEffect(()=>{if(!v)return;const z=Sd(()=>{$()}),ge=ga(a);return ge.addEventListener("resize",z),()=>{z.clear(),ge.removeEventListener("resize",z)}},[a,v,$]);let j=T;T==="auto"&&!M.muiSupportAuto&&(j=void 0);const Y=g||(a?$i(c_(a)).body:void 0),K=(i=_==null?void 0:_.root)!=null?i:WX,fe=(o=_==null?void 0:_.paper)!=null?o:XO,pe=Ql({elementType:fe,externalSlotProps:ae({},F,{style:D?F.style:ae({},F.style,{opacity:0})}),additionalProps:{elevation:y,ref:V},ownerState:B,className:At(X.paper,F==null?void 0:F.className)}),xe=Ql({elementType:K,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:P,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Y,open:v},ownerState:B,className:At(X.root,p)}),{slotProps:Ge}=xe,Ae=_t(xe,HX);return q.jsx(K,ae({},Ae,!yu(K)&&{slotProps:Ge},{children:q.jsx(M,ae({appear:!0,in:v,onEntering:W,onExited:ie,timeout:j},C,{children:q.jsx(fe,ae({},pe,{children:d}))}))}))}),$X=jX;function XX(t){return Zt("MuiMenu",t)}Qt("MuiMenu",["root","paper","list"]);const qX=["onEntering"],YX=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],KX={vertical:"top",horizontal:"right"},JX={vertical:"top",horizontal:"left"},ZX=t=>{const{classes:e}=t;return rn({root:["root"],paper:["paper"],list:["list"]},XX,e)},QX=ft($X,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),eq=ft(XO,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),tq=ft(UX,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),nq=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:a,open:c,PaperProps:u={},PopoverClasses:f,transitionDuration:d="auto",TransitionProps:{onEntering:p}={},variant:g="selectedMenu"}=r,y=_t(r.TransitionProps,qX),x=_t(r,YX),v=Cu(),b=v.direction==="rtl",_=ae({},r,{autoFocus:i,disableAutoFocusItem:s,MenuListProps:l,onEntering:p,PaperProps:u,transitionDuration:d,TransitionProps:y,variant:g}),S=ZX(_),E=i&&!s&&c,M=L.useRef(null),T=(P,F)=>{M.current&&M.current.adjustStyleForScrollbar(P,v),p&&p(P,F)},R=P=>{P.key==="Tab"&&(P.preventDefault(),a&&a(P,"tabKeyDown"))};let C=-1;return L.Children.map(o,(P,F)=>{L.isValidElement(P)&&(P.props.disabled||(g==="selectedMenu"&&P.props.selected||C===-1)&&(C=F))}),q.jsx(QX,ae({onClose:a,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?KX:JX,slots:{paper:eq},slotProps:{paper:ae({},u,{classes:ae({},u.classes,{root:S.paper})})},className:S.root,open:c,ref:n,transitionDuration:d,TransitionProps:ae({onEntering:T},y),ownerState:_},x,{classes:f,children:q.jsx(tq,ae({onKeyDown:R,actions:M,autoFocus:i&&(C===-1||s),autoFocusItem:E,variant:g},l,{className:At(S.list,l.className),children:o}))}))}),rq=nq;function iq(t){return Zt("MuiNativeSelect",t)}const oq=Qt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),e2=oq,sq=["className","disabled","error","IconComponent","inputRef","variant"],aq=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Lt(n)}`,o&&"iconOpen",r&&"disabled"]};return rn(l,iq,e)},qO=({ownerState:t,theme:e})=>ae({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ae({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${e2.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),lq=ft("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Us,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${e2.multiple}`]:e.multiple}]}})(qO),YO=({ownerState:t,theme:e})=>ae({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${e2.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),cq=ft("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Lt(n.variant)}`],n.open&&e.iconOpen]}})(YO),uq=L.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:l,variant:a="standard"}=e,c=_t(e,sq),u=ae({},e,{disabled:i,variant:a,error:o}),f=aq(u);return q.jsxs(L.Fragment,{children:[q.jsx(lq,ae({ownerState:u,className:At(f.select,r),disabled:i,ref:l||n},c)),e.multiple?null:q.jsx(cq,{as:s,ownerState:u,className:f.icon})]})}),fq=uq;var gP;const dq=["children","classes","className","label","notched"],hq=ft("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),pq=ft("legend")(({ownerState:t,theme:e})=>ae({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&ae({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function mq(t){const{className:e,label:n,notched:r}=t,i=_t(t,dq),o=n!=null&&n!=="",s=ae({},t,{notched:r,withLabel:o});return q.jsx(hq,ae({"aria-hidden":!0,className:e,ownerState:s},i,{children:q.jsx(pq,{ownerState:s,children:o?q.jsx("span",{children:n}):gP||(gP=q.jsx("span",{className:"notranslate",children:"​"}))})}))}const gq=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],vq=t=>{const{classes:e}=t,r=rn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},bW,e);return ae({},e,r)},yq=ft(q1,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:$1})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ae({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${yl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${yl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${yl.focused} .${yl.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${yl.error} .${yl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${yl.disabled} .${yl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&ae({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),xq=ft(mq,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),bq=ft(Y1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:X1})(({theme:t,ownerState:e})=>ae({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),KO=L.forwardRef(function(e,n){var r,i,o,s,l;const a=on({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:f="input",label:d,multiline:p=!1,notched:g,slots:y={},type:x="text"}=a,v=_t(a,gq),b=vq(a),_=il(),S=cc({props:a,muiFormControl:_,states:["required"]}),E=ae({},a,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:_,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:p,size:S.size,type:x}),M=(r=(i=y.root)!=null?i:c.Root)!=null?r:yq,T=(o=(s=y.input)!=null?s:c.Input)!=null?o:bq;return q.jsx(JM,ae({slots:{root:M,input:T},renderSuffix:R=>q.jsx(xq,{ownerState:E,className:b.notchedOutline,label:d!=null&&d!==""&&S.required?l||(l=q.jsxs(L.Fragment,{children:[d," ","*"]})):d,notched:typeof g<"u"?g:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:u,inputComponent:f,multiline:p,ref:n,type:x},v,{classes:ae({},b,{notchedOutline:null})}))});KO.muiName="Input";const JO=KO,_q=nl(q.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Sq=nl(q.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),wq=ft("span")({position:"relative",display:"flex"}),Eq=ft(_q)({transform:"scale(1)"}),Mq=ft(Sq)(({theme:t,ownerState:e})=>ae({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function ZO(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=ae({},t,{checked:e});return q.jsxs(wq,{className:n.root,ownerState:i,children:[q.jsx(Eq,{fontSize:r,className:n.background,ownerState:i}),q.jsx(Mq,{fontSize:r,className:n.dot,ownerState:i})]})}const Tq=L.createContext(void 0),QO=Tq;function Aq(){return L.useContext(QO)}function Cq(t){return Zt("MuiRadio",t)}const Rq=Qt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),vP=Rq,Pq=["checked","checkedIcon","color","icon","name","onChange","size","className"],Iq=t=>{const{classes:e,color:n}=t,r={root:["root",`color${Lt(n)}`]};return ae({},e,rn(r,Cq,e))},Lq=ft(cj,{shouldForwardProp:t=>Us(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Lt(n.color)}`]]}})(({theme:t,ownerState:e})=>ae({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ki(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${vP.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${vP.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function kq(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const yP=q.jsx(ZO,{checked:!0}),xP=q.jsx(ZO,{}),Nq=L.forwardRef(function(e,n){var r,i;const o=on({props:e,name:"MuiRadio"}),{checked:s,checkedIcon:l=yP,color:a="primary",icon:c=xP,name:u,onChange:f,size:d="medium",className:p}=o,g=_t(o,Pq),y=ae({},o,{color:a,size:d}),x=Iq(y),v=Aq();let b=s;const _=yy(f,v&&v.onChange);let S=u;return v&&(typeof b>"u"&&(b=kq(v.value,o.value)),typeof S>"u"&&(S=v.name)),q.jsx(Lq,ae({type:"radio",icon:L.cloneElement(c,{fontSize:(r=xP.props.fontSize)!=null?r:d}),checkedIcon:L.cloneElement(l,{fontSize:(i=yP.props.fontSize)!=null?i:d}),ownerState:y,classes:x,name:S,checked:b,onChange:_,ref:n,className:At(x.root,p)},g))}),u_=Nq,Oq=["actions","children","defaultValue","name","onChange","value"],Fq=L.forwardRef(function(e,n){const{actions:r,children:i,defaultValue:o,name:s,onChange:l,value:a}=e,c=_t(e,Oq),u=L.useRef(null),[f,d]=Jp({controlled:a,default:o,name:"RadioGroup"});L.useImperativeHandle(r,()=>({focus:()=>{let x=u.current.querySelector("input:not(:disabled):checked");x||(x=u.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const p=Qr(n,u),g=RM(s),y=L.useMemo(()=>({name:g,onChange(x){d(x.target.value),l&&l(x,x.target.value)},value:f}),[g,l,d,f]);return q.jsx(QO.Provider,{value:y,children:q.jsx(zO,ae({role:"radiogroup",ref:p},c,{children:i}))})}),Dq=Fq;function Uq(t){return Zt("MuiSelect",t)}const Bq=Qt("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ph=Bq;var bP;const zq=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Gq=ft("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ph.select}`]:e.select},{[`&.${Ph.select}`]:e[n.variant]},{[`&.${Ph.error}`]:e.error},{[`&.${Ph.multiple}`]:e.multiple}]}})(qO,{[`&.${Ph.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Hq=ft("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Lt(n.variant)}`],n.open&&e.iconOpen]}})(YO),Vq=ft("input",{shouldForwardProp:t=>_H(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _P(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Wq(t){return t==null||typeof t=="string"&&!t.trim()}const jq=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Lt(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return rn(l,Uq,e)},$q=L.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:l,className:a,defaultOpen:c,defaultValue:u,disabled:f,displayEmpty:d,error:p=!1,IconComponent:g,inputRef:y,labelId:x,MenuProps:v={},multiple:b,name:_,onBlur:S,onChange:E,onClose:M,onFocus:T,onOpen:R,open:C,readOnly:P,renderValue:F,SelectDisplayProps:G={},tabIndex:V,value:B,variant:X="standard"}=e,ee=_t(e,zq),[te,O]=Jp({controlled:B,default:u,name:"Select"}),[D,H]=Jp({controlled:C,default:c,name:"Select"}),$=L.useRef(null),W=L.useRef(null),[ie,j]=L.useState(null),{current:Y}=L.useRef(C!=null),[K,fe]=L.useState(),pe=Qr(n,y),xe=L.useCallback(we=>{W.current=we,we&&j(we)},[]),Ge=ie==null?void 0:ie.parentNode;L.useImperativeHandle(pe,()=>({focus:()=>{W.current.focus()},node:$.current,value:te}),[te]),L.useEffect(()=>{c&&D&&ie&&!Y&&(fe(s?null:Ge.clientWidth),W.current.focus())},[ie,s]),L.useEffect(()=>{o&&W.current.focus()},[o]),L.useEffect(()=>{if(!x)return;const we=$i(W.current).getElementById(x);if(we){const Se=()=>{getSelection().isCollapsed&&W.current.focus()};return we.addEventListener("click",Se),()=>{we.removeEventListener("click",Se)}}},[x]);const Ae=(we,Se)=>{we?R&&R(Se):M&&M(Se),Y||(fe(s?null:Ge.clientWidth),H(we))},z=we=>{we.button===0&&(we.preventDefault(),W.current.focus(),Ae(!0,we))},ge=we=>{Ae(!1,we)},Me=L.Children.toArray(l),Ie=we=>{const Se=Me.find(be=>be.props.value===we.target.value);Se!==void 0&&(O(Se.props.value),E&&E(we,Se))},Re=we=>Se=>{let be;if(Se.currentTarget.hasAttribute("tabindex")){if(b){be=Array.isArray(te)?te.slice():[];const se=te.indexOf(we.props.value);se===-1?be.push(we.props.value):be.splice(se,1)}else be=we.props.value;if(we.props.onClick&&we.props.onClick(Se),te!==be&&(O(be),E)){const se=Se.nativeEvent||Se,de=new se.constructor(se.type,se);Object.defineProperty(de,"target",{writable:!0,value:{value:be,name:_}}),E(de,we)}b||Ae(!1,Se)}},We=we=>{P||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),Ae(!0,we))},ke=ie!==null&&D,je=we=>{!ke&&S&&(Object.defineProperty(we,"target",{writable:!0,value:{value:te,name:_}}),S(we))};delete ee["aria-invalid"];let He,Ne;const Ke=[];let J=!1;(wy({value:te})||d)&&(F?He=F(te):J=!0);const N=Me.map(we=>{if(!L.isValidElement(we))return null;let Se;if(b){if(!Array.isArray(te))throw new Error(Zl(2));Se=te.some(be=>_P(be,we.props.value)),Se&&J&&Ke.push(we.props.children)}else Se=_P(te,we.props.value),Se&&J&&(Ne=we.props.children);return L.cloneElement(we,{"aria-selected":Se?"true":"false",onClick:Re(we),onKeyUp:be=>{be.key===" "&&be.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(be)},role:"option",selected:Se,value:void 0,"data-value":we.props.value})});J&&(b?Ke.length===0?He=null:He=Ke.reduce((we,Se,be)=>(we.push(Se),be<Ke.length-1&&we.push(", "),we),[]):He=Ne);let oe=K;!s&&Y&&ie&&(oe=Ge.clientWidth);let Le;typeof V<"u"?Le=V:Le=f?null:0;const Te=G.id||(_?`mui-component-select-${_}`:void 0),_e=ae({},e,{variant:X,value:te,open:ke,error:p}),ye=jq(_e);return q.jsxs(L.Fragment,{children:[q.jsx(Gq,ae({ref:xe,tabIndex:Le,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Te].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:We,onMouseDown:f||P?null:z,onBlur:je,onFocus:T},G,{ownerState:_e,className:At(G.className,ye.select,a),id:Te,children:Wq(He)?bP||(bP=q.jsx("span",{className:"notranslate",children:"​"})):He})),q.jsx(Vq,ae({"aria-invalid":p,value:Array.isArray(te)?te.join(","):te,name:_,ref:$,"aria-hidden":!0,onChange:Ie,tabIndex:-1,disabled:f,className:ye.nativeInput,autoFocus:o,ownerState:_e},ee)),q.jsx(Hq,{as:g,className:ye.icon,ownerState:_e}),q.jsx(rq,ae({id:`menu-${_||""}`,anchorEl:Ge,open:ke,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:ae({"aria-labelledby":x,role:"listbox",disableListWrap:!0},v.MenuListProps),PaperProps:ae({},v.PaperProps,{style:ae({minWidth:oe},v.PaperProps!=null?v.PaperProps.style:null)}),children:N}))]})}),Xq=$q,qq=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Yq=t=>{const{classes:e}=t;return e},t2={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Us(t)&&t!=="variant",slot:"Root"},Kq=ft(VO,t2)(""),Jq=ft(JO,t2)(""),Zq=ft(BO,t2)(""),eF=L.forwardRef(function(e,n){const r=on({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:l,defaultOpen:a=!1,displayEmpty:c=!1,IconComponent:u=EW,id:f,input:d,inputProps:p,label:g,labelId:y,MenuProps:x,multiple:v=!1,native:b=!1,onClose:_,onOpen:S,open:E,renderValue:M,SelectDisplayProps:T,variant:R="outlined"}=r,C=_t(r,qq),P=b?fq:Xq,F=il(),G=cc({props:r,muiFormControl:F,states:["variant","error"]}),V=G.variant||R,B=ae({},r,{variant:V,classes:s}),X=Yq(B),ee=d||{standard:q.jsx(Kq,{ownerState:B}),outlined:q.jsx(Jq,{label:g,ownerState:B}),filled:q.jsx(Zq,{ownerState:B})}[V],te=Qr(n,ee.ref);return q.jsx(L.Fragment,{children:L.cloneElement(ee,ae({inputComponent:P,inputProps:ae({children:o,error:G.error,IconComponent:u,variant:V,type:void 0,multiple:v},b?{id:f}:{autoWidth:i,defaultOpen:a,displayEmpty:c,labelId:y,MenuProps:x,onClose:_,onOpen:S,open:E,renderValue:M,SelectDisplayProps:ae({id:f},T)},p,{classes:p?ns(X,p.classes):X},d?d.props.inputProps:{})},v&&b&&V==="outlined"?{notched:!0}:{},{ref:te,className:At(ee.props.className,l)},!d&&{variant:V},C))})});eF.muiName="Select";const Qq=eF;function eY(t){return Zt("MuiTab",t)}const tY=Qt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Tc=tY,nY=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],rY=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:l,disabled:a}=t,c={root:["root",o&&s&&"labelIcon",`textColor${Lt(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",a&&"disabled"],iconWrapper:["iconWrapper"]};return rn(c,eY,e)},iY=ft(Ud,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Lt(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>ae({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Tc.iconWrapper}`]:ae({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Tc.selected}`]:{opacity:1},[`&.${Tc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Tc.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Tc.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Tc.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Tc.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),oY=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:l,icon:a,iconPosition:c="top",indicator:u,label:f,onChange:d,onClick:p,onFocus:g,selected:y,selectionFollowsFocus:x,textColor:v="inherit",value:b,wrapped:_=!1}=r,S=_t(r,nY),E=ae({},r,{disabled:o,disableFocusRipple:s,selected:y,icon:!!a,iconPosition:c,label:!!f,fullWidth:l,textColor:v,wrapped:_}),M=rY(E),T=a&&f&&L.isValidElement(a)?L.cloneElement(a,{className:At(M.iconWrapper,a.props.className)}):a,R=P=>{!y&&d&&d(P,b),p&&p(P)},C=P=>{x&&!y&&d&&d(P,b),g&&g(P)};return q.jsxs(iY,ae({focusRipple:!s,className:At(M.root,i),ref:n,role:"tab","aria-selected":y,disabled:o,onClick:R,onFocus:C,ownerState:E,tabIndex:y?0:-1},S,{children:[c==="top"||c==="start"?q.jsxs(L.Fragment,{children:[T,f]}):q.jsxs(L.Fragment,{children:[f,T]}),u]}))}),f_=oY;function sY(t){return Zt("MuiToolbar",t)}Qt("MuiToolbar",["root","gutters","regular","dense"]);const aY=["className","component","disableGutters","variant"],lY=t=>{const{classes:e,disableGutters:n,variant:r}=t;return rn({root:["root",!n&&"gutters",r]},sY,e)},cY=ft("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>ae({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),uY=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:l="regular"}=r,a=_t(r,aY),c=ae({},r,{component:o,disableGutters:s,variant:l}),u=lY(c);return q.jsx(cY,ae({as:o,className:At(u.root,i),ref:n,ownerState:c},a))}),fY=uY,dY=nl(q.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),hY=nl(q.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function pY(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function mY(t,e,n,r={},i=()=>{}){const{ease:o=pY,duration:s=300}=r;let l=null;const a=e[t];let c=!1;const u=()=>{c=!0},f=d=>{if(c){i(new Error("Animation cancelled"));return}l===null&&(l=d);const p=Math.min(1,(d-l)/s);if(e[t]=o(p)*(n-a)+a,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return a===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}const gY=["onChange"],vY={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function yY(t){const{onChange:e}=t,n=_t(t,gY),r=L.useRef(),i=L.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return va(()=>{const s=Sd(()=>{const a=r.current;o(),a!==r.current&&e(r.current)}),l=ga(i.current);return l.addEventListener("resize",s),()=>{s.clear(),l.removeEventListener("resize",s)}},[e]),L.useEffect(()=>{o(),e(r.current)},[e]),q.jsx("div",ae({style:vY,ref:i},n))}function xY(t){return Zt("MuiTabScrollButton",t)}const bY=Qt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),_Y=bY,SY=["className","slots","slotProps","direction","orientation","disabled"],wY=t=>{const{classes:e,orientation:n,disabled:r}=t;return rn({root:["root",n,r&&"disabled"]},xY,e)},EY=ft(Ud,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>ae({width:40,flexShrink:0,opacity:.8,[`&.${_Y.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),MY=L.forwardRef(function(e,n){var r,i;const o=on({props:e,name:"MuiTabScrollButton"}),{className:s,slots:l={},slotProps:a={},direction:c}=o,u=_t(o,SY),d=Cu().direction==="rtl",p=ae({isRtl:d},o),g=wY(p),y=(r=l.StartScrollButtonIcon)!=null?r:dY,x=(i=l.EndScrollButtonIcon)!=null?i:hY,v=Ql({elementType:y,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),b=Ql({elementType:x,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return q.jsx(EY,ae({component:"div",className:At(g.root,s),ref:n,role:null,ownerState:p,tabIndex:null},u,{children:c==="left"?q.jsx(y,ae({},v)):q.jsx(x,ae({},b))}))}),TY=MY;function AY(t){return Zt("MuiTabs",t)}const CY=Qt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),d_=CY,RY=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],SP=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,wP=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,u0=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},PY=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:l,classes:a}=t;return rn({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},AY,a)},IY=ft("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${d_.scrollButtons}`]:e.scrollButtons},{[`& .${d_.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>ae({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${d_.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),LY=ft("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>ae({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),kY=ft("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>ae({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),NY=ft("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>ae({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),OY=ft(yY,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),EP={},FY=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTabs"}),i=Cu(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":l,action:a,centered:c=!1,children:u,className:f,component:d="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:y,orientation:x="horizontal",ScrollButtonComponent:v=TY,scrollButtons:b="auto",selectionFollowsFocus:_,slots:S={},slotProps:E={},TabIndicatorProps:M={},TabScrollButtonProps:T={},textColor:R="primary",value:C,variant:P="standard",visibleScrollbar:F=!1}=r,G=_t(r,RY),V=P==="scrollable",B=x==="vertical",X=B?"scrollTop":"scrollLeft",ee=B?"top":"left",te=B?"bottom":"right",O=B?"clientHeight":"clientWidth",D=B?"height":"width",H=ae({},r,{component:d,allowScrollButtonsMobile:p,indicatorColor:g,orientation:x,vertical:B,scrollButtons:b,textColor:R,variant:P,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!B,scrollableY:V&&B,centered:c&&!V,scrollButtonsHideMobile:!p}),$=PY(H),W=Ql({elementType:S.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:H}),ie=Ql({elementType:S.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:H}),[j,Y]=L.useState(!1),[K,fe]=L.useState(EP),[pe,xe]=L.useState({start:!1,end:!1}),[Ge,Ae]=L.useState({overflow:"hidden",scrollbarWidth:0}),z=new Map,ge=L.useRef(null),Me=L.useRef(null),Ie=()=>{const be=ge.current;let se;if(be){const he=be.getBoundingClientRect();se={clientWidth:be.clientWidth,scrollLeft:be.scrollLeft,scrollTop:be.scrollTop,scrollLeftNormalized:yR(be,i.direction),scrollWidth:be.scrollWidth,top:he.top,bottom:he.bottom,left:he.left,right:he.right}}let de;if(be&&C!==!1){const he=Me.current.children;if(he.length>0){const me=he[z.get(C)];de=me?me.getBoundingClientRect():null}}return{tabsMeta:se,tabMeta:de}},Re=oa(()=>{const{tabsMeta:be,tabMeta:se}=Ie();let de=0,he;if(B)he="top",se&&be&&(de=se.top-be.top+be.scrollTop);else if(he=o?"right":"left",se&&be){const Ue=o?be.scrollLeftNormalized+be.clientWidth-be.scrollWidth:be.scrollLeft;de=(o?-1:1)*(se[he]-be[he]+Ue)}const me={[he]:de,[D]:se?se[D]:0};if(isNaN(K[he])||isNaN(K[D]))fe(me);else{const Ue=Math.abs(K[he]-me[he]),qe=Math.abs(K[D]-me[D]);(Ue>=1||qe>=1)&&fe(me)}}),We=(be,{animation:se=!0}={})=>{se?mY(X,ge.current,be,{duration:i.transitions.duration.standard}):ge.current[X]=be},ke=be=>{let se=ge.current[X];B?se+=be:(se+=be*(o?-1:1),se*=o&&JN()==="reverse"?-1:1),We(se)},je=()=>{const be=ge.current[O];let se=0;const de=Array.from(Me.current.children);for(let he=0;he<de.length;he+=1){const me=de[he];if(se+me[O]>be){he===0&&(se=be);break}se+=me[O]}return se},He=()=>{ke(-1*je())},Ne=()=>{ke(je())},Ke=L.useCallback(be=>{Ae({overflow:null,scrollbarWidth:be})},[]),J=()=>{const be={};be.scrollbarSizeListener=V?q.jsx(OY,{onChange:Ke,className:At($.scrollableX,$.hideScrollbar)}):null;const se=pe.start||pe.end,de=V&&(b==="auto"&&se||b===!0);return be.scrollButtonStart=de?q.jsx(v,ae({slots:{StartScrollButtonIcon:S.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:W},orientation:x,direction:o?"right":"left",onClick:He,disabled:!pe.start},T,{className:At($.scrollButtons,T.className)})):null,be.scrollButtonEnd=de?q.jsx(v,ae({slots:{EndScrollButtonIcon:S.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ie},orientation:x,direction:o?"left":"right",onClick:Ne,disabled:!pe.end},T,{className:At($.scrollButtons,T.className)})):null,be},N=oa(be=>{const{tabsMeta:se,tabMeta:de}=Ie();if(!(!de||!se)){if(de[ee]<se[ee]){const he=se[X]+(de[ee]-se[ee]);We(he,{animation:be})}else if(de[te]>se[te]){const he=se[X]+(de[te]-se[te]);We(he,{animation:be})}}}),oe=oa(()=>{if(V&&b!==!1){const{scrollTop:be,scrollHeight:se,clientHeight:de,scrollWidth:he,clientWidth:me}=ge.current;let Ue,qe;if(B)Ue=be>1,qe=be<se-de-1;else{const re=yR(ge.current,i.direction);Ue=o?re<he-me-1:re>1,qe=o?re>1:re<he-me-1}(Ue!==pe.start||qe!==pe.end)&&xe({start:Ue,end:qe})}});L.useEffect(()=>{const be=Sd(()=>{ge.current&&(Re(),oe())}),se=ga(ge.current);se.addEventListener("resize",be);let de;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(be),Array.from(Me.current.children).forEach(he=>{de.observe(he)})),()=>{be.clear(),se.removeEventListener("resize",be),de&&de.disconnect()}},[Re,oe]);const Le=L.useMemo(()=>Sd(()=>{oe()}),[oe]);L.useEffect(()=>()=>{Le.clear()},[Le]),L.useEffect(()=>{Y(!0)},[]),L.useEffect(()=>{Re(),oe()}),L.useEffect(()=>{N(EP!==K)},[N,K]),L.useImperativeHandle(a,()=>({updateIndicator:Re,updateScrollButtons:oe}),[Re,oe]);const Te=q.jsx(NY,ae({},M,{className:At($.indicator,M.className),ownerState:H,style:ae({},K,M.style)}));let _e=0;const ye=L.Children.map(u,be=>{if(!L.isValidElement(be))return null;const se=be.props.value===void 0?_e:be.props.value;z.set(se,_e);const de=se===C;return _e+=1,L.cloneElement(be,ae({fullWidth:P==="fullWidth",indicator:de&&!j&&Te,selected:de,selectionFollowsFocus:_,onChange:y,textColor:R,value:se},_e===1&&C===!1&&!be.props.tabIndex?{tabIndex:0}:{}))}),we=be=>{const se=Me.current,de=$i(se).activeElement;if(de.getAttribute("role")!=="tab")return;let me=x==="horizontal"?"ArrowLeft":"ArrowUp",Ue=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(me="ArrowRight",Ue="ArrowLeft"),be.key){case me:be.preventDefault(),u0(se,de,wP);break;case Ue:be.preventDefault(),u0(se,de,SP);break;case"Home":be.preventDefault(),u0(se,null,SP);break;case"End":be.preventDefault(),u0(se,null,wP);break}},Se=J();return q.jsxs(IY,ae({className:At($.root,f),ownerState:H,ref:n,as:d},G,{children:[Se.scrollButtonStart,Se.scrollbarSizeListener,q.jsxs(LY,{className:$.scroller,ownerState:H,style:{overflow:Ge.overflow,[B?`margin${o?"Left":"Right"}`:"marginBottom"]:F?void 0:-Ge.scrollbarWidth},ref:ge,onScroll:Le,children:[q.jsx(kY,{"aria-label":s,"aria-labelledby":l,"aria-orientation":x==="vertical"?"vertical":null,className:$.flexContainer,ownerState:H,onKeyDown:we,ref:Me,role:"tablist",children:ye}),j&&Te]}),Se.scrollButtonEnd]}))}),DY=FY;function UY(t){return Zt("MuiTextField",t)}Qt("MuiTextField",["root"]);const BY=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],zY={standard:VO,filled:BO,outlined:JO},GY=t=>{const{classes:e}=t;return rn({root:["root"]},UY,e)},HY=ft(jj,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),VY=L.forwardRef(function(e,n){const r=on({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:l,color:a="primary",defaultValue:c,disabled:u=!1,error:f=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:g,id:y,InputLabelProps:x,inputProps:v,InputProps:b,inputRef:_,label:S,maxRows:E,minRows:M,multiline:T=!1,name:R,onBlur:C,onChange:P,onClick:F,onFocus:G,placeholder:V,required:B=!1,rows:X,select:ee=!1,SelectProps:te,type:O,value:D,variant:H="outlined"}=r,$=_t(r,BY),W=ae({},r,{autoFocus:o,color:a,disabled:u,error:f,fullWidth:p,multiline:T,required:B,select:ee,variant:H}),ie=GY(W),j={};H==="outlined"&&(x&&typeof x.shrink<"u"&&(j.notched=x.shrink),j.label=S),ee&&((!te||!te.native)&&(j.id=void 0),j["aria-describedby"]=void 0);const Y=RM(y),K=g&&Y?`${Y}-helper-text`:void 0,fe=S&&Y?`${Y}-label`:void 0,pe=zY[H],xe=q.jsx(pe,ae({"aria-describedby":K,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:T,name:R,rows:X,maxRows:E,minRows:M,type:O,value:D,id:Y,inputRef:_,onBlur:C,onChange:P,onFocus:G,onClick:F,placeholder:V,inputProps:v},j,b));return q.jsxs(HY,ae({className:At(ie.root,l),disabled:u,error:f,fullWidth:p,ref:n,required:B,color:a,variant:H,ownerState:W},$,{children:[S!=null&&S!==""&&q.jsx(I$,ae({htmlFor:Y,id:fe},x,{children:S})),ee?q.jsx(Qq,ae({"aria-describedby":K,id:Y,labelId:fe,value:D,input:xe},te,{children:s})):xe,g&&q.jsx(u$,ae({id:K},d,{children:g}))]}))}),WY=VY,jY="/demo/jukebox/assets/logo-2c410450.svg";function tF(t,e){return function(){return t.apply(e,arguments)}}const{toString:$Y}=Object.prototype,{getPrototypeOf:n2}=Object,J1=(t=>e=>{const n=$Y.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ba=t=>(t=t.toLowerCase(),e=>J1(e)===t),Z1=t=>e=>typeof e===t,{isArray:zd}=Array,tm=Z1("undefined");function XY(t){return t!==null&&!tm(t)&&t.constructor!==null&&!tm(t.constructor)&&rs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nF=ba("ArrayBuffer");function qY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nF(t.buffer),e}const YY=Z1("string"),rs=Z1("function"),rF=Z1("number"),Q1=t=>t!==null&&typeof t=="object",KY=t=>t===!0||t===!1,Mv=t=>{if(J1(t)!=="object")return!1;const e=n2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},JY=ba("Date"),ZY=ba("File"),QY=ba("Blob"),eK=ba("FileList"),tK=t=>Q1(t)&&rs(t.pipe),nK=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||rs(t.append)&&((e=J1(t))==="formdata"||e==="object"&&rs(t.toString)&&t.toString()==="[object FormData]"))},rK=ba("URLSearchParams"),iK=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),zd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function iF(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const oF=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),sF=t=>!tm(t)&&t!==oF;function Sw(){const{caseless:t}=sF(this)&&this||{},e={},n=(r,i)=>{const o=t&&iF(e,i)||i;Mv(e[o])&&Mv(r)?e[o]=Sw(e[o],r):Mv(r)?e[o]=Sw({},r):zd(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Nm(arguments[r],n);return e}const oK=(t,e,n,{allOwnKeys:r}={})=>(Nm(e,(i,o)=>{n&&rs(i)?t[o]=tF(i,n):t[o]=i},{allOwnKeys:r}),t),sK=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aK=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lK=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&n2(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},cK=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},uK=t=>{if(!t)return null;if(zd(t))return t;let e=t.length;if(!rF(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},fK=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&n2(Uint8Array)),dK=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},hK=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},pK=ba("HTMLFormElement"),mK=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),MP=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gK=ba("RegExp"),aF=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Nm(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},vK=t=>{aF(t,(e,n)=>{if(rs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(rs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yK=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return zd(t)?r(t):r(String(t).split(e)),n},xK=()=>{},bK=(t,e)=>(t=+t,Number.isFinite(t)?t:e),h_="abcdefghijklmnopqrstuvwxyz",TP="0123456789",lF={DIGIT:TP,ALPHA:h_,ALPHA_DIGIT:h_+h_.toUpperCase()+TP},_K=(t=16,e=lF.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function SK(t){return!!(t&&rs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const wK=t=>{const e=new Array(10),n=(r,i)=>{if(Q1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=zd(r)?[]:{};return Nm(r,(s,l)=>{const a=n(s,i+1);!tm(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return n(t,0)},EK=ba("AsyncFunction"),MK=t=>t&&(Q1(t)||rs(t))&&rs(t.then)&&rs(t.catch),rt={isArray:zd,isArrayBuffer:nF,isBuffer:XY,isFormData:nK,isArrayBufferView:qY,isString:YY,isNumber:rF,isBoolean:KY,isObject:Q1,isPlainObject:Mv,isUndefined:tm,isDate:JY,isFile:ZY,isBlob:QY,isRegExp:gK,isFunction:rs,isStream:tK,isURLSearchParams:rK,isTypedArray:fK,isFileList:eK,forEach:Nm,merge:Sw,extend:oK,trim:iK,stripBOM:sK,inherits:aK,toFlatObject:lK,kindOf:J1,kindOfTest:ba,endsWith:cK,toArray:uK,forEachEntry:dK,matchAll:hK,isHTMLForm:pK,hasOwnProperty:MP,hasOwnProp:MP,reduceDescriptors:aF,freezeMethods:vK,toObjectSet:yK,toCamelCase:mK,noop:xK,toFiniteNumber:bK,findKey:iF,global:oF,isContextDefined:sF,ALPHABET:lF,generateString:_K,isSpecCompliantForm:SK,toJSONObject:wK,isAsyncFn:EK,isThenable:MK};function Cn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}rt.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cF=Cn.prototype,uF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uF[t]={value:t}});Object.defineProperties(Cn,uF);Object.defineProperty(cF,"isAxiosError",{value:!0});Cn.from=(t,e,n,r,i,o)=>{const s=Object.create(cF);return rt.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),Cn.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const TK=null;function ww(t){return rt.isPlainObject(t)||rt.isArray(t)}function fF(t){return rt.endsWith(t,"[]")?t.slice(0,-2):t}function AP(t,e,n){return t?t.concat(e).map(function(i,o){return i=fF(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function AK(t){return rt.isArray(t)&&!t.some(ww)}const CK=rt.toFlatObject(rt,{},null,function(e){return/^is[A-Z]/.test(e)});function ex(t,e,n){if(!rt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=rt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!rt.isUndefined(x[y])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(e);if(!rt.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(rt.isDate(g))return g.toISOString();if(!a&&rt.isBlob(g))throw new Cn("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(g)||rt.isTypedArray(g)?a&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,x){let v=g;if(g&&!x&&typeof g=="object"){if(rt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(rt.isArray(g)&&AK(g)||(rt.isFileList(g)||rt.endsWith(y,"[]"))&&(v=rt.toArray(g)))return y=fF(y),v.forEach(function(_,S){!(rt.isUndefined(_)||_===null)&&e.append(s===!0?AP([y],S,o):s===null?y:y+"[]",c(_))}),!1}return ww(g)?!0:(e.append(AP(x,y,o),c(g)),!1)}const f=[],d=Object.assign(CK,{defaultVisitor:u,convertValue:c,isVisitable:ww});function p(g,y){if(!rt.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),rt.forEach(g,function(v,b){(!(rt.isUndefined(v)||v===null)&&i.call(e,v,rt.isString(b)?b.trim():b,y,d))===!0&&p(v,y?y.concat(b):[b])}),f.pop()}}if(!rt.isObject(t))throw new TypeError("data must be an object");return p(t),e}function CP(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function r2(t,e){this._pairs=[],t&&ex(t,this,e)}const dF=r2.prototype;dF.append=function(e,n){this._pairs.push([e,n])};dF.toString=function(e){const n=e?function(r){return e.call(this,r,CP)}:CP;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function RK(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hF(t,e,n){if(!e)return t;const r=n&&n.encode||RK,i=n&&n.serialize;let o;if(i?o=i(e,n):o=rt.isURLSearchParams(e)?e.toString():new r2(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class PK{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const RP=PK,pF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IK=typeof URLSearchParams<"u"?URLSearchParams:r2,LK=typeof FormData<"u"?FormData:null,kK=typeof Blob<"u"?Blob:null,NK=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),OK=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sa={isBrowser:!0,classes:{URLSearchParams:IK,FormData:LK,Blob:kK},isStandardBrowserEnv:NK,isStandardBrowserWebWorkerEnv:OK,protocols:["http","https","file","blob","url","data"]};function FK(t,e){return ex(t,new sa.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return sa.isNode&&rt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function DK(t){return rt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UK(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function mF(t){function e(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&rt.isArray(i)?i.length:s,a?(rt.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!rt.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&rt.isArray(i[s])&&(i[s]=UK(i[s])),!l)}if(rt.isFormData(t)&&rt.isFunction(t.entries)){const n={};return rt.forEachEntry(t,(r,i)=>{e(DK(r),i,n,0)}),n}return null}const BK={"Content-Type":void 0};function zK(t,e,n){if(rt.isString(t))try{return(e||JSON.parse)(t),rt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const tx={transitional:pF,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=rt.isObject(e);if(o&&rt.isHTMLForm(e)&&(e=new FormData(e)),rt.isFormData(e))return i&&i?JSON.stringify(mF(e)):e;if(rt.isArrayBuffer(e)||rt.isBuffer(e)||rt.isStream(e)||rt.isFile(e)||rt.isBlob(e))return e;if(rt.isArrayBufferView(e))return e.buffer;if(rt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FK(e,this.formSerializer).toString();if((l=rt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return ex(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),zK(e)):e}],transformResponse:[function(e){const n=this.transitional||tx.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&rt.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?Cn.from(l,Cn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sa.classes.FormData,Blob:sa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rt.forEach(["delete","get","head"],function(e){tx.headers[e]={}});rt.forEach(["post","put","patch"],function(e){tx.headers[e]=rt.merge(BK)});const i2=tx,GK=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HK=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&GK[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},PP=Symbol("internals");function Ih(t){return t&&String(t).trim().toLowerCase()}function Tv(t){return t===!1||t==null?t:rt.isArray(t)?t.map(Tv):String(t)}function VK(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const WK=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function p_(t,e,n,r,i){if(rt.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!rt.isString(e)){if(rt.isString(r))return e.indexOf(r)!==-1;if(rt.isRegExp(r))return r.test(e)}}function jK(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $K(t,e){const n=rt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class nx{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,a,c){const u=Ih(a);if(!u)throw new Error("header name must be a non-empty string");const f=rt.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||a]=Tv(l))}const s=(l,a)=>rt.forEach(l,(c,u)=>o(c,u,a));return rt.isPlainObject(e)||e instanceof this.constructor?s(e,n):rt.isString(e)&&(e=e.trim())&&!WK(e)?s(HK(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Ih(e),e){const r=rt.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return VK(i);if(rt.isFunction(n))return n.call(this,i,r);if(rt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ih(e),e){const r=rt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||p_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Ih(s),s){const l=rt.findKey(r,s);l&&(!n||p_(r,r[l],l,n))&&(delete r[l],i=!0)}}return rt.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||p_(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return rt.forEach(this,(i,o)=>{const s=rt.findKey(r,o);if(s){n[s]=Tv(i),delete n[o];return}const l=e?jK(o):String(o).trim();l!==o&&delete n[o],n[l]=Tv(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return rt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&rt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[PP]=this[PP]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=Ih(s);r[l]||($K(i,s),r[l]=!0)}return rt.isArray(e)?e.forEach(o):o(e),this}}nx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.freezeMethods(nx.prototype);rt.freezeMethods(nx);const Xa=nx;function m_(t,e){const n=this||i2,r=e||n,i=Xa.from(r.headers);let o=r.data;return rt.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function gF(t){return!!(t&&t.__CANCEL__)}function Om(t,e,n){Cn.call(this,t??"canceled",Cn.ERR_CANCELED,e,n),this.name="CanceledError"}rt.inherits(Om,Cn,{__CANCEL__:!0});function XK(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Cn("Request failed with status code "+n.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const qK=sa.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),rt.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),rt.isString(o)&&a.push("path="+o),rt.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function YK(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function KK(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function vF(t,e){return t&&!YK(e)?KK(t,e):e}const JK=sa.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=rt.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function ZK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function QK(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[o];s||(s=c),n[i]=a,r[i]=c;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const p=u&&c-u;return p?Math.round(d*1e3/p):void 0}}function IP(t,e){let n=0;const r=QK(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&c?(s-o)/a:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const eJ=typeof XMLHttpRequest<"u",tJ=eJ&&function(t){return new Promise(function(n,r){let i=t.data;const o=Xa.from(t.headers).normalize(),s=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}rt.isFormData(i)&&(sa.isStandardBrowserEnv||sa.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(p+":"+g))}const u=vF(t.baseURL,t.url);c.open(t.method.toUpperCase(),hF(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const p=Xa.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};XK(function(v){n(v),a()},function(v){r(v),a()},y),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Cn("Request aborted",Cn.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Cn("Network Error",Cn.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||pF;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new Cn(g,y.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,t,c)),c=null},sa.isStandardBrowserEnv){const p=(t.withCredentials||JK(u))&&t.xsrfCookieName&&qK.read(t.xsrfCookieName);p&&o.set(t.xsrfHeaderName,p)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&rt.forEach(o.toJSON(),function(g,y){c.setRequestHeader(y,g)}),rt.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",IP(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",IP(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=p=>{c&&(r(!p||p.type?new Om(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const d=ZK(u);if(d&&sa.protocols.indexOf(d)===-1){r(new Cn("Unsupported protocol "+d+":",Cn.ERR_BAD_REQUEST,t));return}c.send(i||null)})},Av={http:TK,xhr:tJ};rt.forEach(Av,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nJ={getAdapter:t=>{t=rt.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=rt.isString(n)?Av[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Cn(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(rt.hasOwnProp(Av,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!rt.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Av};function g_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Om(null,t)}function LP(t){return g_(t),t.headers=Xa.from(t.headers),t.data=m_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nJ.getAdapter(t.adapter||i2.adapter)(t).then(function(r){return g_(t),r.data=m_.call(t,t.transformResponse,r),r.headers=Xa.from(r.headers),r},function(r){return gF(r)||(g_(t),r&&r.response&&(r.response.data=m_.call(t,t.transformResponse,r.response),r.response.headers=Xa.from(r.response.headers))),Promise.reject(r)})}const kP=t=>t instanceof Xa?t.toJSON():t;function Td(t,e){e=e||{};const n={};function r(c,u,f){return rt.isPlainObject(c)&&rt.isPlainObject(u)?rt.merge.call({caseless:f},c,u):rt.isPlainObject(u)?rt.merge({},u):rt.isArray(u)?u.slice():u}function i(c,u,f){if(rt.isUndefined(u)){if(!rt.isUndefined(c))return r(void 0,c,f)}else return r(c,u,f)}function o(c,u){if(!rt.isUndefined(u))return r(void 0,u)}function s(c,u){if(rt.isUndefined(u)){if(!rt.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u)=>i(kP(c),kP(u),!0)};return rt.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=a[u]||i,d=f(t[u],e[u],u);rt.isUndefined(d)&&f!==l||(n[u]=d)}),n}const yF="1.4.0",o2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{o2[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const NP={};o2.transitional=function(e,n,r){function i(o,s){return"[Axios v"+yF+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new Cn(i(s," has been removed"+(n?" in "+n:"")),Cn.ERR_DEPRECATED);return n&&!NP[s]&&(NP[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};function rJ(t,e,n){if(typeof t!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],a=l===void 0||s(l,o,t);if(a!==!0)throw new Cn("option "+o+" must be "+a,Cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Cn("Unknown option "+o,Cn.ERR_BAD_OPTION)}}const Ew={assertOptions:rJ,validators:o2},bl=Ew.validators;class Ey{constructor(e){this.defaults=e,this.interceptors={request:new RP,response:new RP}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Td(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Ew.assertOptions(r,{silentJSONParsing:bl.transitional(bl.boolean),forcedJSONParsing:bl.transitional(bl.boolean),clarifyTimeoutError:bl.transitional(bl.boolean)},!1),i!=null&&(rt.isFunction(i)?n.paramsSerializer={serialize:i}:Ew.assertOptions(i,{encode:bl.function,serialize:bl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&rt.merge(o.common,o[n.method]),s&&rt.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Xa.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(a=a&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,d;if(!a){const g=[LP.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,c),d=g.length,u=Promise.resolve(n);f<d;)u=u.then(g[f++],g[f++]);return u}d=l.length;let p=n;for(f=0;f<d;){const g=l[f++],y=l[f++];try{p=g(p)}catch(x){y.call(this,x);break}}try{u=LP.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Td(this.defaults,e);const n=vF(e.baseURL,e.url);return hF(n,e.params,e.paramsSerializer)}}rt.forEach(["delete","get","head","options"],function(e){Ey.prototype[e]=function(n,r){return this.request(Td(r||{},{method:e,url:n,data:(r||{}).data}))}});rt.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(Td(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ey.prototype[e]=n(),Ey.prototype[e+"Form"]=n(!0)});const Cv=Ey;class s2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new Om(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new s2(function(i){e=i}),cancel:e}}}const iJ=s2;function oJ(t){return function(n){return t.apply(null,n)}}function sJ(t){return rt.isObject(t)&&t.isAxiosError===!0}const Mw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mw).forEach(([t,e])=>{Mw[e]=t});const aJ=Mw;function xF(t){const e=new Cv(t),n=tF(Cv.prototype.request,e);return rt.extend(n,Cv.prototype,e,{allOwnKeys:!0}),rt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xF(Td(t,i))},n}const ei=xF(i2);ei.Axios=Cv;ei.CanceledError=Om;ei.CancelToken=iJ;ei.isCancel=gF;ei.VERSION=yF;ei.toFormData=ex;ei.AxiosError=Cn;ei.Cancel=ei.CanceledError;ei.all=function(e){return Promise.all(e)};ei.spread=oJ;ei.isAxiosError=sJ;ei.mergeConfig=Td;ei.AxiosHeaders=Xa;ei.formToJSON=t=>mF(rt.isHTMLForm(t)?new FormData(t):t);ei.HttpStatusCode=aJ;ei.default=ei;const aa=ei,bF=()=>{const[t,e]=L.useState(0),[n,r]=L.useState(1);return L.useEffect(()=>{const i=aa.interceptors.request.use(s=>(r(["post","put","get"].includes(s.method||"get")?0:1),e(1),s)),o=aa.interceptors.response.use(s=>(e(2),s),s=>(e(0),Promise.reject(s)));return()=>{aa.interceptors.request.eject(i),aa.interceptors.response.eject(o)}},[]),q.jsxs(q.Fragment,{children:[t===1&&n===0&&q.jsx(yn,{sx:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(128, 128, 128, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:q.jsxs(yn,{display:"flex",flexDirection:"column",alignItems:"center",children:[q.jsx(xj,{}),q.jsx(Ao,{color:"white",children:"Loading..."})]})}),t===1&&n===1&&q.jsx(V$,{color:"primary",sx:{width:"100%"}})]})},lJ=nl(q.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),cJ=nl(q.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),uJ=k1({components:{MuiAppBar:{styleOverrides:{root:{background:"white",color:"#6c757d"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"white",color:"#8391a2"}}},MuiListItemButton:{styleOverrides:{root:{"&.Mui-selected":{color:"#000000","& .MuiSvgIcon-root":{color:"rgba(0, 0, 0, 0.54)"}}}}},MuiTypography:{styleOverrides:{root:{fontSize:13}}},MuiListItem:{styleOverrides:{root:{marginLeft:20}}}}}),_F=200,fJ=ft(cW,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:e})=>({zIndex:t.zIndex.drawer+-1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...e&&{width:`calc(100% - ${_F}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),dJ=()=>{const[t,e]=L.useState([{displayName:"Playground",link:"/playground"},{displayName:"Game",link:"/game"},{displayName:"Scale",link:"/scale/major",subs:[{displayName:"Major",link:"/scale/major"}]}]),[n]=L.useState(!0),r=VN(),i=a1(),o=L.useCallback(s=>q.jsx(QM,{sx:{display:"flex"},children:s.map((l,a)=>q.jsxs(vX,{disablePadding:!0,children:[q.jsxs(_w,{sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},onClick:()=>{r(l.link)},selected:l.link===(i.pathname==="/"?"/medicalrecord":i.pathname),children:[l.icon&&q.jsx(RX,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:l.icon}),q.jsx(jO,{primary:l.displayName,sx:{opacity:n?1:0}}),l.subs&&q.jsx(q.Fragment,{children:q.jsx(_w,{onClick:()=>{l.open=!l.open,e([...t])},children:l.open?q.jsx(lJ,{}):q.jsx(cJ,{})})})]}),l.subs&&q.jsx(AV,{in:l.open,timeout:"auto",unmountOnExit:!0,children:o(l.subs)})]},a))}),[t,i.pathname,r,n]);return q.jsxs(yn,{sx:{display:"flex"},children:[q.jsx(wj,{}),q.jsx(RO,{theme:uJ,children:q.jsxs(yn,{sx:{flex:1,overflow:"auto"},children:[q.jsxs(fJ,{sx:{width:"100%",borderRadius:0,borderBottom:"solid 1px #EAEAEA",maxHeight:60},position:"sticky",elevation:0,open:n,children:[q.jsxs(fY,{children:[q.jsxs(yn,{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexGrow:1,children:[q.jsx(Ao,{variant:"h6",component:"div",children:"Jazz Piano Practice Portal"}),q.jsx("img",{alt:"logo",src:jY,width:50})]}),q.jsxs(yn,{sx:{display:"flex"},children:[o(t),q.jsx(to,{sx:{minWidth:100},children:"Sign in"})]})]}),q.jsx(bF,{})]}),q.jsx(yn,{component:"main",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 60px)",minWidth:`calc(100vw - ${_F})`,children:q.jsx(yn,{sx:{width:"100%",height:"calc(100vh - 100px)"},children:q.jsx(X8,{})})})]})})]})},hJ=()=>q.jsx(yn,{children:"jfwieo"}),pJ=()=>q.jsx(yn,{children:"Major scale"});function Gd(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(f){s(f)}}function a(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})}function Hd(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function OP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function FP(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var mJ=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Fm(t,e){var n=gJ(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function gJ(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=mJ.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var vJ=[".DS_Store","Thumbs.db"];function yJ(t){return Gd(this,void 0,void 0,function(){return Hd(this,function(e){return My(t)&&xJ(t.dataTransfer)?[2,wJ(t.dataTransfer,t.type)]:bJ(t)?[2,_J(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,SJ(t)]:[2,[]]})})}function xJ(t){return My(t)}function bJ(t){return My(t)&&My(t.target)}function My(t){return typeof t=="object"&&t!==null}function _J(t){return Tw(t.target.files).map(function(e){return Fm(e)})}function SJ(t){return Gd(this,void 0,void 0,function(){var e;return Hd(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Fm(r)})]}})})}function wJ(t,e){return Gd(this,void 0,void 0,function(){var n,r;return Hd(this,function(i){switch(i.label){case 0:return t.items?(n=Tw(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(EJ))]):[3,2];case 1:return r=i.sent(),[2,DP(SF(r))];case 2:return[2,DP(Tw(t.files).map(function(o){return Fm(o)}))]}})})}function DP(t){return t.filter(function(e){return vJ.indexOf(e.name)===-1})}function Tw(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function EJ(t){if(typeof t.webkitGetAsEntry!="function")return UP(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?wF(e):UP(t)}function SF(t){return t.reduce(function(e,n){return FP(FP([],OP(e),!1),OP(Array.isArray(n)?SF(n):[n]),!1)},[])}function UP(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var n=Fm(e);return Promise.resolve(n)}function MJ(t){return Gd(this,void 0,void 0,function(){return Hd(this,function(e){return[2,t.isDirectory?wF(t):TJ(t)]})})}function wF(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(l){return Gd(s,void 0,void 0,function(){var a,c,u;return Hd(this,function(f){switch(f.label){case 0:if(l.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return a=f.sent(),n(a),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(l.map(MJ)),i.push(u),o(),f.label=6;case 6:return[2]}})})},function(l){r(l)})}o()})}function TJ(t){return Gd(this,void 0,void 0,function(){return Hd(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=Fm(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var AJ=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function BP(t){return PJ(t)||RJ(t)||MF(t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PJ(t){if(Array.isArray(t))return Aw(t)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){EF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nm(t,e){return kJ(t)||LJ(t,e)||MF(t,e)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MF(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function kJ(t){if(Array.isArray(t))return t}var NJ="file-invalid-type",OJ="file-too-large",FJ="file-too-small",DJ="too-many-files",UJ=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:NJ,message:"File type must be ".concat(n)}},HP=function(e){return{code:OJ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},VP=function(e){return{code:FJ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},BJ={code:DJ,message:"Too many files"};function TF(t,e){var n=t.type==="application/x-moz-file"||AJ(t,e);return[n,n?null:UJ(e)]}function AF(t,e,n){if(jc(t.size))if(jc(e)&&jc(n)){if(t.size>n)return[!1,HP(n)];if(t.size<e)return[!1,VP(e)]}else{if(jc(e)&&t.size<e)return[!1,VP(e)];if(jc(n)&&t.size>n)return[!1,HP(n)]}return[!0,null]}function jc(t){return t!=null}function zJ(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(a){var c=TF(a,n),u=nm(c,1),f=u[0],d=AF(a,r,i),p=nm(d,1),g=p[0],y=l?l(a):null;return f&&g&&!y})}function Ty(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function f0(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function WP(t){t.preventDefault()}function GJ(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function HJ(t){return t.indexOf("Edge/")!==-1}function VJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return GJ(t)||HJ(t)}function Ks(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(l){return!Ty(r)&&l&&l.apply(void 0,[r].concat(o)),Ty(r)})}}function WJ(){return"showOpenFilePicker"in window}function jJ(t){if(jc(t)){var e=Object.entries(t).filter(function(n){var r=nm(n,2),i=r[0],o=r[1],s=!0;return CF(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(RF))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=nm(r,2),o=i[0],s=i[1];return GP(GP({},n),{},EF({},o,s))},{});return[{description:"Files",accept:e}]}return t}function $J(t){if(jc(t))return Object.entries(t).reduce(function(e,n){var r=nm(n,2),i=r[0],o=r[1];return[].concat(BP(e),[i],BP(o))},[]).filter(function(e){return CF(e)||RF(e)}).join(",")}function XJ(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function qJ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function CF(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function RF(t){return/^.*\.[\w]+$/.test(t)}var YJ=["children"],KJ=["open"],JJ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ZJ=["refKey","onChange","onClick"];function QJ(t){return nZ(t)||tZ(t)||PF(t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nZ(t){if(Array.isArray(t))return Cw(t)}function v_(t,e){return oZ(t)||iZ(t,e)||PF(t,e)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function oZ(t){if(Array.isArray(t))return t}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Rw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ay(t,e){if(t==null)return{};var n=sZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var rx=L.forwardRef(function(t,e){var n=t.children,r=Ay(t,YJ),i=lZ(r),o=i.open,s=Ay(i,KJ);return L.useImperativeHandle(e,function(){return{open:o}},[o]),Mo.createElement(L.Fragment,null,n(vr(vr({},s),{},{open:o})))});rx.displayName="Dropzone";var IF={disabled:!1,getFilesFromEvent:yJ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};rx.defaultProps=IF;rx.propTypes={children:Zn.func,accept:Zn.objectOf(Zn.arrayOf(Zn.string)),multiple:Zn.bool,preventDropOnDocument:Zn.bool,noClick:Zn.bool,noKeyboard:Zn.bool,noDrag:Zn.bool,noDragEventsBubbling:Zn.bool,minSize:Zn.number,maxSize:Zn.number,maxFiles:Zn.number,disabled:Zn.bool,getFilesFromEvent:Zn.func,onFileDialogCancel:Zn.func,onFileDialogOpen:Zn.func,useFsAccessApi:Zn.bool,autoFocus:Zn.bool,onDragEnter:Zn.func,onDragLeave:Zn.func,onDragOver:Zn.func,onDrop:Zn.func,onDropAccepted:Zn.func,onDropRejected:Zn.func,onError:Zn.func,validator:Zn.func};const aZ=rx;var Pw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function lZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=vr(vr({},IF),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,l=e.multiple,a=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,v=e.useFsAccessApi,b=e.autoFocus,_=e.preventDropOnDocument,S=e.noClick,E=e.noKeyboard,M=e.noDrag,T=e.noDragEventsBubbling,R=e.onError,C=e.validator,P=L.useMemo(function(){return $J(n)},[n]),F=L.useMemo(function(){return jJ(n)},[n]),G=L.useMemo(function(){return typeof x=="function"?x:$P},[x]),V=L.useMemo(function(){return typeof y=="function"?y:$P},[y]),B=L.useRef(null),X=L.useRef(null),ee=L.useReducer(cZ,Pw),te=v_(ee,2),O=te[0],D=te[1],H=O.isFocused,$=O.isFileDialogActive,W=L.useRef(typeof window<"u"&&window.isSecureContext&&v&&WJ()),ie=function(){!W.current&&$&&setTimeout(function(){if(X.current){var oe=X.current.files;oe.length||(D({type:"closeDialog"}),V())}},300)};L.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[X,$,V,W]);var j=L.useRef([]),Y=function(oe){B.current&&B.current.contains(oe.target)||(oe.preventDefault(),j.current=[])};L.useEffect(function(){return _&&(document.addEventListener("dragover",WP,!1),document.addEventListener("drop",Y,!1)),function(){_&&(document.removeEventListener("dragover",WP),document.removeEventListener("drop",Y))}},[B,_]),L.useEffect(function(){return!r&&b&&B.current&&B.current.focus(),function(){}},[B,b,r]);var K=L.useCallback(function(N){R?R(N):console.error(N)},[R]),fe=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N),j.current=[].concat(QJ(j.current),[N.target]),f0(N)&&Promise.resolve(i(N)).then(function(oe){if(!(Ty(N)&&!T)){var Le=oe.length,Te=Le>0&&zJ({files:oe,accept:P,minSize:s,maxSize:o,multiple:l,maxFiles:a,validator:C}),_e=Le>0&&!Te;D({isDragAccept:Te,isDragReject:_e,isDragActive:!0,type:"setDraggedFiles"}),c&&c(N)}}).catch(function(oe){return K(oe)})},[i,c,K,T,P,s,o,l,a,C]),pe=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N);var oe=f0(N);if(oe&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return oe&&f&&f(N),!1},[f,T]),xe=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N);var oe=j.current.filter(function(Te){return B.current&&B.current.contains(Te)}),Le=oe.indexOf(N.target);Le!==-1&&oe.splice(Le,1),j.current=oe,!(oe.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),f0(N)&&u&&u(N))},[B,u,T]),Ge=L.useCallback(function(N,oe){var Le=[],Te=[];N.forEach(function(_e){var ye=TF(_e,P),we=v_(ye,2),Se=we[0],be=we[1],se=AF(_e,s,o),de=v_(se,2),he=de[0],me=de[1],Ue=C?C(_e):null;if(Se&&he&&!Ue)Le.push(_e);else{var qe=[be,me];Ue&&(qe=qe.concat(Ue)),Te.push({file:_e,errors:qe.filter(function(re){return re})})}}),(!l&&Le.length>1||l&&a>=1&&Le.length>a)&&(Le.forEach(function(_e){Te.push({file:_e,errors:[BJ]})}),Le.splice(0)),D({acceptedFiles:Le,fileRejections:Te,type:"setFiles"}),d&&d(Le,Te,oe),Te.length>0&&g&&g(Te,oe),Le.length>0&&p&&p(Le,oe)},[D,l,P,s,o,a,d,p,g,C]),Ae=L.useCallback(function(N){N.preventDefault(),N.persist(),He(N),j.current=[],f0(N)&&Promise.resolve(i(N)).then(function(oe){Ty(N)&&!T||Ge(oe,N)}).catch(function(oe){return K(oe)}),D({type:"reset"})},[i,Ge,K,T]),z=L.useCallback(function(){if(W.current){D({type:"openDialog"}),G();var N={multiple:l,types:F};window.showOpenFilePicker(N).then(function(oe){return i(oe)}).then(function(oe){Ge(oe,null),D({type:"closeDialog"})}).catch(function(oe){XJ(oe)?(V(oe),D({type:"closeDialog"})):qJ(oe)?(W.current=!1,X.current?(X.current.value=null,X.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(oe)});return}X.current&&(D({type:"openDialog"}),G(),X.current.value=null,X.current.click())},[D,G,V,v,Ge,K,F,l]),ge=L.useCallback(function(N){!B.current||!B.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),z())},[B,z]),Me=L.useCallback(function(){D({type:"focus"})},[]),Ie=L.useCallback(function(){D({type:"blur"})},[]),Re=L.useCallback(function(){S||(VJ()?setTimeout(z,0):z())},[S,z]),We=function(oe){return r?null:oe},ke=function(oe){return E?null:We(oe)},je=function(oe){return M?null:We(oe)},He=function(oe){T&&oe.stopPropagation()},Ne=L.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=N.refKey,Le=oe===void 0?"ref":oe,Te=N.role,_e=N.onKeyDown,ye=N.onFocus,we=N.onBlur,Se=N.onClick,be=N.onDragEnter,se=N.onDragOver,de=N.onDragLeave,he=N.onDrop,me=Ay(N,JJ);return vr(vr(Rw({onKeyDown:ke(Ks(_e,ge)),onFocus:ke(Ks(ye,Me)),onBlur:ke(Ks(we,Ie)),onClick:We(Ks(Se,Re)),onDragEnter:je(Ks(be,fe)),onDragOver:je(Ks(se,pe)),onDragLeave:je(Ks(de,xe)),onDrop:je(Ks(he,Ae)),role:typeof Te=="string"&&Te!==""?Te:"presentation"},Le,B),!r&&!E?{tabIndex:0}:{}),me)}},[B,ge,Me,Ie,Re,fe,pe,xe,Ae,E,M,r]),Ke=L.useCallback(function(N){N.stopPropagation()},[]),J=L.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=N.refKey,Le=oe===void 0?"ref":oe,Te=N.onChange,_e=N.onClick,ye=Ay(N,ZJ),we=Rw({accept:P,multiple:l,type:"file",style:{display:"none"},onChange:We(Ks(Te,Ae)),onClick:We(Ks(_e,Ke)),tabIndex:-1},Le,X);return vr(vr({},we),ye)}},[X,n,l,Ae,r]);return vr(vr({},O),{},{isFocused:H&&!r,getRootProps:Ne,getInputProps:J,rootRef:B,inputRef:X,open:We(z)})}function cZ(t,e){switch(e.type){case"focus":return vr(vr({},t),{},{isFocused:!0});case"blur":return vr(vr({},t),{},{isFocused:!1});case"openDialog":return vr(vr({},Pw),{},{isFileDialogActive:!0});case"closeDialog":return vr(vr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return vr(vr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return vr(vr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return vr({},Pw);default:return t}}function $P(){}var wt={},Iw={exports:{}};(function(t,e){(function(n,r){var i="1.0.35",o="",s="?",l="function",a="undefined",c="object",u="string",f="major",d="model",p="name",g="type",y="vendor",x="version",v="architecture",b="console",_="mobile",S="tablet",E="smarttv",M="wearable",T="embedded",R=350,C="Amazon",P="Apple",F="ASUS",G="BlackBerry",V="Browser",B="Chrome",X="Edge",ee="Firefox",te="Google",O="Huawei",D="LG",H="Microsoft",$="Motorola",W="Opera",ie="Samsung",j="Sharp",Y="Sony",K="Xiaomi",fe="Zebra",pe="Facebook",xe="Chromium OS",Ge="Mac OS",Ae=function(oe,Le){var Te={};for(var _e in oe)Le[_e]&&Le[_e].length%2===0?Te[_e]=Le[_e].concat(oe[_e]):Te[_e]=oe[_e];return Te},z=function(oe){for(var Le={},Te=0;Te<oe.length;Te++)Le[oe[Te].toUpperCase()]=oe[Te];return Le},ge=function(oe,Le){return typeof oe===u?Me(Le).indexOf(Me(oe))!==-1:!1},Me=function(oe){return oe.toLowerCase()},Ie=function(oe){return typeof oe===u?oe.replace(/[^\d\.]/g,o).split(".")[0]:r},Re=function(oe,Le){if(typeof oe===u)return oe=oe.replace(/^\s\s*/,o),typeof Le===a?oe:oe.substring(0,R)},We=function(oe,Le){for(var Te=0,_e,ye,we,Se,be,se;Te<Le.length&&!be;){var de=Le[Te],he=Le[Te+1];for(_e=ye=0;_e<de.length&&!be&&de[_e];)if(be=de[_e++].exec(oe),be)for(we=0;we<he.length;we++)se=be[++ye],Se=he[we],typeof Se===c&&Se.length>0?Se.length===2?typeof Se[1]==l?this[Se[0]]=Se[1].call(this,se):this[Se[0]]=Se[1]:Se.length===3?typeof Se[1]===l&&!(Se[1].exec&&Se[1].test)?this[Se[0]]=se?Se[1].call(this,se,Se[2]):r:this[Se[0]]=se?se.replace(Se[1],Se[2]):r:Se.length===4&&(this[Se[0]]=se?Se[3].call(this,se.replace(Se[1],Se[2])):r):this[Se]=se||r;Te+=2}},ke=function(oe,Le){for(var Te in Le)if(typeof Le[Te]===c&&Le[Te].length>0){for(var _e=0;_e<Le[Te].length;_e++)if(ge(Le[Te][_e],oe))return Te===s?r:Te}else if(ge(Le[Te],oe))return Te===s?r:Te;return oe},je={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},He={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,x],[/opios[\/ ]+([\w\.]+)/i],[x,[p,W+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[p,W]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[p,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[x,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+V],x],[/\bfocus\/([\w\.]+)/i],[x,[p,ee+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[p,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[p,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[p,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[x,[p,ee]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+V]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+V],x],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,pe],x],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[p,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,B+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[p,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[x,ke,je]],[/(webkit|khtml)\/([\w\.]+)/i],[p,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[p,ee+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,x],[/(cobalt)\/([\w\.]+)/i],[p,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,Me]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,o,Me]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,Me]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[y,ie],[g,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[y,ie],[g,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[y,P],[g,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[y,P],[g,S]],[/(macintosh);/i],[d,[y,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[y,j],[g,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[y,O],[g,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[y,O],[g,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[y,K],[g,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[y,K],[g,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[y,"OPPO"],[g,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[y,"Vivo"],[g,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[y,"Realme"],[g,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[y,$],[g,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[y,$],[g,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[y,D],[g,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[y,D],[g,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[y,"Lenovo"],[g,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[y,"Nokia"],[g,_]],[/(pixel c)\b/i],[d,[y,te],[g,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[y,te],[g,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[y,Y],[g,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[y,Y],[g,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[y,"OnePlus"],[g,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[y,C],[g,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[y,C],[g,_]],[/(playbook);[-\w\),; ]+(rim)/i],[d,y,[g,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[y,G],[g,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[y,F],[g,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[y,F],[g,_]],[/(nexus 9)/i],[d,[y,"HTC"],[g,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[d,/_/g," "],[g,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[y,"Acer"],[g,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[y,"Meizu"],[g,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,d,[g,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,d,[g,S]],[/(surface duo)/i],[d,[y,H],[g,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[y,"Fairphone"],[g,_]],[/(u304aa)/i],[d,[y,"AT&T"],[g,_]],[/\bsie-(\w*)/i],[d,[y,"Siemens"],[g,_]],[/\b(rct\w+) b/i],[d,[y,"RCA"],[g,S]],[/\b(venue[\d ]{2,7}) b/i],[d,[y,"Dell"],[g,S]],[/\b(q(?:mv|ta)\w+) b/i],[d,[y,"Verizon"],[g,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[y,"Barnes & Noble"],[g,S]],[/\b(tm\d{3}\w+) b/i],[d,[y,"NuVision"],[g,S]],[/\b(k88) b/i],[d,[y,"ZTE"],[g,S]],[/\b(nx\d{3}j) b/i],[d,[y,"ZTE"],[g,_]],[/\b(gen\d{3}) b.+49h/i],[d,[y,"Swiss"],[g,_]],[/\b(zur\d{3}) b/i],[d,[y,"Swiss"],[g,S]],[/\b((zeki)?tb.*\b) b/i],[d,[y,"Zeki"],[g,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],d,[g,S]],[/\b(ns-?\w{0,9}) b/i],[d,[y,"Insignia"],[g,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[y,"NextBook"],[g,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],d,[g,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],d,[g,_]],[/\b(ph-1) /i],[d,[y,"Essential"],[g,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[y,"Envizen"],[g,S]],[/\b(trio[-\w\. ]+) b/i],[d,[y,"MachSpeed"],[g,S]],[/\btu_(1491) b/i],[d,[y,"Rotor"],[g,S]],[/(shield[\w ]+) b/i],[d,[y,"Nvidia"],[g,S]],[/(sprint) (\w+)/i],[y,d,[g,_]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[y,H],[g,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[y,fe],[g,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[y,fe],[g,_]],[/smart-tv.+(samsung)/i],[y,[g,E]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[y,ie],[g,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,D],[g,E]],[/(apple) ?tv/i],[y,[d,P+" TV"],[g,E]],[/crkey/i],[[d,B+"cast"],[y,te],[g,E]],[/droid.+aft(\w)( bui|\))/i],[d,[y,C],[g,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[y,j],[g,E]],[/(bravia[\w ]+)( bui|\))/i],[d,[y,Y],[g,E]],[/(mitv-\w{5}) bui/i],[d,[y,K],[g,E]],[/Hbbtv.*(technisat) (.*);/i],[y,d,[g,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,Re],[d,Re],[g,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,d,[g,b]],[/droid.+; (shield) bui/i],[d,[y,"Nvidia"],[g,b]],[/(playstation [345portablevi]+)/i],[d,[y,Y],[g,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[y,H],[g,b]],[/((pebble))app/i],[y,d,[g,M]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[y,P],[g,M]],[/droid.+; (glass) \d/i],[d,[y,te],[g,M]],[/droid.+; (wt63?0{2,3})\)/i],[d,[y,fe],[g,M]],[/(quest( 2| pro)?)/i],[d,[y,pe],[g,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[g,T]],[/(aeobc)\b/i],[d,[y,C],[g,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[g,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[g,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,_]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[p,X+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[x,ke,He]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[x,ke,He]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Ge],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,x],[/\(bb(10);/i],[x,[p,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[p,ee+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[p,B+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,xe],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,x],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,x]]},Ke=function(oe,Le){if(typeof oe===c&&(Le=oe,oe=r),!(this instanceof Ke))return new Ke(oe,Le).getResult();var Te=typeof n!==a&&n.navigator?n.navigator:r,_e=oe||(Te&&Te.userAgent?Te.userAgent:o),ye=Te&&Te.userAgentData?Te.userAgentData:r,we=Le?Ae(Ne,Le):Ne,Se=Te&&Te.userAgent==_e;return this.getBrowser=function(){var be={};return be[p]=r,be[x]=r,We.call(be,_e,we.browser),be[f]=Ie(be[x]),Se&&Te&&Te.brave&&typeof Te.brave.isBrave==l&&(be[p]="Brave"),be},this.getCPU=function(){var be={};return be[v]=r,We.call(be,_e,we.cpu),be},this.getDevice=function(){var be={};return be[y]=r,be[d]=r,be[g]=r,We.call(be,_e,we.device),Se&&!be[g]&&ye&&ye.mobile&&(be[g]=_),Se&&be[d]=="Macintosh"&&Te&&typeof Te.standalone!==a&&Te.maxTouchPoints&&Te.maxTouchPoints>2&&(be[d]="iPad",be[g]=S),be},this.getEngine=function(){var be={};return be[p]=r,be[x]=r,We.call(be,_e,we.engine),be},this.getOS=function(){var be={};return be[p]=r,be[x]=r,We.call(be,_e,we.os),Se&&!be[p]&&ye&&ye.platform!="Unknown"&&(be[p]=ye.platform.replace(/chrome os/i,xe).replace(/macos/i,Ge)),be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _e},this.setUA=function(be){return _e=typeof be===u&&be.length>R?Re(be,R):be,this},this.setUA(_e),this};Ke.VERSION=i,Ke.BROWSER=z([p,x,f]),Ke.CPU=z([v]),Ke.DEVICE=z([d,y,g,b,_,E,S,M,T]),Ke.ENGINE=Ke.OS=z([p,x]),t.exports&&(e=t.exports=Ke),e.UAParser=Ke;var J=typeof n!==a&&(n.jQuery||n.Zepto);if(J&&!J.ua){var N=new Ke;J.ua=N.getResult(),J.ua.get=function(){return N.getUA()},J.ua.set=function(oe){N.setUA(oe);var Le=N.getResult();for(var Te in Le)J.ua[Te]=Le[Te]}}})(typeof window=="object"?window:qc)})(Iw,Iw.exports);var uZ=Iw.exports;Object.defineProperty(wt,"__esModule",{value:!0});function fZ(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ni=L,nr=fZ(Ni),LF=uZ,uc=new LF,Fi=uc.getBrowser(),dZ=uc.getCPU(),Fo=uc.getDevice(),a2=uc.getEngine(),fc=uc.getOS(),Dm=uc.getUA(),kF=function(e){return uc.setUA(e)},Um=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new LF(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},NF=Object.freeze({ClientUAInstance:uc,browser:Fi,cpu:dZ,device:Fo,engine:a2,os:fc,ua:Dm,setUa:kF,parseUserAgent:Um});function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bp=function(e){return typeof e}:bp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function pZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mZ(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),t}function gZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lw(){return Lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}function vZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nw(t,e)}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kw(t)}function Nw(t,e){return Nw=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Nw(t,e)}function yZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ls(t,e){if(t==null)return{};var n=yZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xZ(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rv(t)}function bZ(t,e){return _Z(t)||SZ(t,e)||wZ(t,e)||EZ()}function _Z(t){if(Array.isArray(t))return t}function SZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function wZ(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pi={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},fo={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Vd={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},MZ={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},TZ=function(e){switch(e){case Pi.Mobile:return{isMobile:!0};case Pi.Tablet:return{isTablet:!0};case Pi.SmartTv:return{isSmartTV:!0};case Pi.Console:return{isConsole:!0};case Pi.Wearable:return{isWearable:!0};case Pi.Browser:return{isBrowser:!0};case Pi.Embedded:return{isEmbedded:!0};default:return MZ}},AZ=function(e){return kF(e)},Wt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},l2=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},c2=function(e){var n=l2();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},CZ=function(e,n,r,i,o){return{isBrowser:e,browserMajorVersion:Wt(n.major),browserFullVersion:Wt(n.version),browserName:Wt(n.name),engineName:Wt(r.name),engineVersion:Wt(r.version),osName:Wt(i.name),osVersion:Wt(i.version),userAgent:Wt(o)}},KP=function(e,n,r,i){return hZ({},e,{vendor:Wt(n.vendor),model:Wt(n.model),os:Wt(r.name),osVersion:Wt(r.version),ua:Wt(i)})},RZ=function(e,n,r,i){return{isSmartTV:e,engineName:Wt(n.name),engineVersion:Wt(n.version),osName:Wt(r.name),osVersion:Wt(r.version),userAgent:Wt(i)}},PZ=function(e,n,r,i){return{isConsole:e,engineName:Wt(n.name),engineVersion:Wt(n.version),osName:Wt(r.name),osVersion:Wt(r.version),userAgent:Wt(i)}},IZ=function(e,n,r,i){return{isWearable:e,engineName:Wt(n.name),engineVersion:Wt(n.version),osName:Wt(r.name),osVersion:Wt(r.version),userAgent:Wt(i)}},LZ=function(e,n,r,i,o){return{isEmbedded:e,vendor:Wt(n.vendor),model:Wt(n.model),engineName:Wt(r.name),engineVersion:Wt(r.version),osName:Wt(i.name),osVersion:Wt(i.version),userAgent:Wt(o)}};function kZ(t){var e=t?Um(t):NF,n=e.device,r=e.browser,i=e.engine,o=e.os,s=e.ua,l=TZ(n.type),a=l.isBrowser,c=l.isMobile,u=l.isTablet,f=l.isSmartTV,d=l.isConsole,p=l.isWearable,g=l.isEmbedded;if(a)return CZ(a,r,i,o,s);if(f)return RZ(f,i,o,s);if(d)return PZ(d,i,o,s);if(c||u)return KP(l,n,o,s);if(p)return IZ(p,i,o,s);if(g)return LZ(g,n,i,o,s)}var OF=function(e){var n=e.type;return n===Pi.Mobile},FF=function(e){var n=e.type;return n===Pi.Tablet},DF=function(e){var n=e.type;return n===Pi.Mobile||n===Pi.Tablet},UF=function(e){var n=e.type;return n===Pi.SmartTv},Cy=function(e){var n=e.type;return n===Pi.Browser},BF=function(e){var n=e.type;return n===Pi.Wearable},zF=function(e){var n=e.type;return n===Pi.Console},GF=function(e){var n=e.type;return n===Pi.Embedded},HF=function(e){var n=e.vendor;return Wt(n)},VF=function(e){var n=e.model;return Wt(n)},WF=function(e){var n=e.type;return Wt(n,"browser")},jF=function(e){var n=e.name;return n===Vd.Android},$F=function(e){var n=e.name;return n===Vd.Windows},XF=function(e){var n=e.name;return n===Vd.MAC_OS},qF=function(e){var n=e.name;return n===Vd.WindowsPhone},YF=function(e){var n=e.name;return n===Vd.IOS},KF=function(e){var n=e.version;return Wt(n)},JF=function(e){var n=e.name;return Wt(n)},ZF=function(e){var n=e.name;return n===fo.Chrome},QF=function(e){var n=e.name;return n===fo.Firefox},eD=function(e){var n=e.name;return n===fo.Chromium},Ry=function(e){var n=e.name;return n===fo.Edge},tD=function(e){var n=e.name;return n===fo.Yandex},nD=function(e){var n=e.name;return n===fo.Safari||n===fo.MobileSafari},rD=function(e){var n=e.name;return n===fo.MobileSafari},iD=function(e){var n=e.name;return n===fo.Opera},oD=function(e){var n=e.name;return n===fo.InternetExplorer||n===fo.Ie},sD=function(e){var n=e.name;return n===fo.MIUI},aD=function(e){var n=e.name;return n===fo.SamsungBrowser},lD=function(e){var n=e.version;return Wt(n)},cD=function(e){var n=e.major;return Wt(n)},uD=function(e){var n=e.name;return Wt(n)},fD=function(e){var n=e.name;return Wt(n)},dD=function(e){var n=e.version;return Wt(n)},hD=function(){var e=l2(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},fd=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},pD=function(){var e=l2();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},ia=function(){return c2("iPad")},mD=function(){return c2("iPhone")},gD=function(){return c2("iPod")},vD=function(e){return Wt(e)};function yD(t){var e=t||NF,n=e.device,r=e.browser,i=e.os,o=e.engine,s=e.ua;return{isSmartTV:UF(n),isConsole:zF(n),isWearable:BF(n),isEmbedded:GF(n),isMobileSafari:rD(r)||ia(),isChromium:eD(r),isMobile:DF(n)||ia(),isMobileOnly:OF(n),isTablet:FF(n)||ia(),isBrowser:Cy(n),isDesktop:Cy(n),isAndroid:jF(i),isWinPhone:qF(i),isIOS:YF(i)||ia(),isChrome:ZF(r),isFirefox:QF(r),isSafari:nD(r),isOpera:iD(r),isIE:oD(r),osVersion:KF(i),osName:JF(i),fullBrowserVersion:lD(r),browserVersion:cD(r),browserName:uD(r),mobileVendor:HF(n),mobileModel:VF(n),engineName:fD(o),engineVersion:dD(o),getUA:vD(s),isEdge:Ry(r)||fd(s),isYandex:tD(r),deviceType:WF(n),isIOS13:pD(),isIPad13:ia(),isIPhone13:mD(),isIPod13:gD(),isElectron:hD(),isEdgeChromium:fd(s),isLegacyEdge:Ry(r)&&!fd(s),isWindows:$F(i),isMacOs:XF(i),isMIUI:sD(r),isSamsungBrowser:aD(r)}}var xD=UF(Fo),bD=zF(Fo),_D=BF(Fo),NZ=GF(Fo),OZ=rD(Fi)||ia(),FZ=eD(Fi),ix=DF(Fo)||ia(),SD=OF(Fo),wD=FF(Fo)||ia(),ED=Cy(Fo),DZ=Cy(Fo),MD=jF(fc),TD=qF(fc),AD=YF(fc)||ia(),UZ=ZF(Fi),BZ=QF(Fi),zZ=nD(Fi),GZ=iD(Fi),CD=oD(Fi),HZ=KF(fc),VZ=JF(fc),WZ=lD(Fi),jZ=cD(Fi),$Z=uD(Fi),XZ=HF(Fo),qZ=VF(Fo),YZ=fD(a2),KZ=dD(a2),JZ=vD(Dm),ZZ=Ry(Fi)||fd(Dm),QZ=tD(Fi),eQ=WF(Fo),tQ=pD(),nQ=ia(),rQ=mD(),iQ=gD(),oQ=hD(),sQ=fd(Dm),aQ=Ry(Fi)&&!fd(Dm),lQ=$F(fc),cQ=XF(fc),uQ=sD(Fi),fQ=aD(Fi),dQ=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=Um(e),r=n.device,i=n.browser,o=n.os,s=n.engine,l=n.ua;return yD({device:r,browser:i,os:o,engine:s,ua:l})},hQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return MD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},pQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return ED?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},mQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return CD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},gQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return AD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},vQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return ix?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},yQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return wD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},xQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return TD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},bQ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=ls(e,["renderWithFragment","children","viewClassName","style"]);return SD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},_Q=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return xD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},SQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return bD?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},wQ=function(e){var n=e.renderWithFragment,r=e.children,i=ls(e,["renderWithFragment","children"]);return _D?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",i,r):null},EQ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,o=ls(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?nr.createElement(Ni.Fragment,null,r):nr.createElement("div",o,r):null};function MQ(t){return function(e){vZ(n,e);function n(r){var i;return pZ(this,n),i=xZ(this,kw(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Rv(i)),i.onOrientationChange=i.onOrientationChange.bind(Rv(i)),i.onPageLoad=i.onPageLoad.bind(Rv(i)),i.state={isLandscape:!1,isPortrait:!1},i}return mZ(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":bp(window))!==void 0&&ix&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return nr.createElement(t,Lw({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(nr.Component)}function TQ(){var t=Ni.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=bZ(t,2),n=e[0],r=e[1],i=Ni.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,s={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==s.orientation&&r(s)},[n.orientation]);return Ni.useEffect(function(){return(typeof window>"u"?"undefined":bp(window))!==void 0&&ix&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function RD(t){var e=t||window.navigator.userAgent;return Um(e)}function AQ(t){var e=t||window.navigator.userAgent,n=RD(e),r=yD(n);return[r,n]}wt.AndroidView=hQ;wt.BrowserTypes=fo;wt.BrowserView=pQ;wt.ConsoleView=SQ;wt.CustomView=EQ;wt.IEView=mQ;wt.IOSView=gQ;wt.MobileOnlyView=bQ;wt.MobileView=vQ;wt.OsTypes=Vd;wt.SmartTVView=_Q;wt.TabletView=yQ;wt.WearableView=wQ;wt.WinPhoneView=xQ;wt.browserName=$Z;wt.browserVersion=jZ;wt.deviceDetect=kZ;wt.deviceType=eQ;wt.engineName=YZ;wt.engineVersion=KZ;wt.fullBrowserVersion=WZ;wt.getSelectorsByUserAgent=dQ;wt.getUA=JZ;wt.isAndroid=MD;wt.isBrowser=ED;wt.isChrome=UZ;wt.isChromium=FZ;wt.isConsole=bD;wt.isDesktop=DZ;wt.isEdge=ZZ;wt.isEdgeChromium=sQ;wt.isElectron=oQ;wt.isEmbedded=NZ;wt.isFirefox=BZ;wt.isIE=CD;wt.isIOS=AD;wt.isIOS13=tQ;wt.isIPad13=nQ;wt.isIPhone13=rQ;wt.isIPod13=iQ;wt.isLegacyEdge=aQ;wt.isMIUI=uQ;wt.isMacOs=cQ;var CQ=wt.isMobile=ix;wt.isMobileOnly=SD;wt.isMobileSafari=OZ;wt.isOpera=GZ;wt.isSafari=zZ;wt.isSamsungBrowser=fQ;wt.isSmartTV=xD;wt.isTablet=wD;wt.isWearable=_D;wt.isWinPhone=TD;wt.isWindows=lQ;wt.isYandex=QZ;wt.mobileModel=qZ;wt.mobileVendor=XZ;wt.osName=VZ;wt.osVersion=HZ;wt.parseUserAgent=Um;wt.setUserAgent=AZ;wt.useDeviceData=RD;wt.useDeviceSelectors=AQ;wt.useMobileOrientation=TQ;wt.withOrientationChange=MQ;const RQ=()=>{const[t,e]=L.useState("");return{youtubeLink:t,setYoutubeLink:e}},PQ=!1,PD=t=>{const e=L.useCallback(n=>{t.onDrop(n)},[t]);return RQ(),q.jsx(yn,{color:["red","white"],border:1,bgcolor:["#83234266","transparent"],sx:{borderStyle:"dashed"},display:"flex",justifyContent:"center",alignItems:"center",width:"100%",children:q.jsx(aZ,{accept:{"audio/midi":[".mid"]},onDrop:e,children:({getRootProps:n,getInputProps:r})=>{const i=n();return i.style={...i.style,minWidth:"100%",width:"100%"},q.jsxs("div",{...i,children:[q.jsx("input",{...r()}),q.jsx("p",{style:{textAlign:"center"},children:CQ?"midi file":"Drag 'n' drop midi file here, or click to select file"}),PQ]})}})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ox="153",IQ={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},LQ={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ID=0,Ow=1,LD=2,kQ=3,kD=0,sx=1,_p=2,Ms=3,ya=0,vi=1,Eo=2,NQ=2,qa=0,su=1,Py=2,Fw=3,Dw=4,ND=5,$c=100,OD=101,FD=102,Uw=103,Bw=104,DD=200,UD=201,BD=202,zD=203,u2=204,f2=205,GD=206,HD=207,VD=208,WD=209,jD=210,$D=0,XD=1,qD=2,Iy=3,YD=4,KD=5,JD=6,ZD=7,Bm=0,QD=1,eU=2,Ns=0,tU=1,nU=2,rU=3,d2=4,iU=5,ax=300,ec=301,tc=302,rm=303,im=304,Wd=306,om=1e3,Li=1001,sm=1002,Dr=1003,Ly=1004,OQ=1004,Sp=1005,FQ=1005,xr=1006,h2=1007,DQ=1007,nc=1008,UQ=1008,pa=1009,oU=1010,sU=1011,lx=1012,p2=1013,ja=1014,la=1015,Ad=1016,m2=1017,g2=1018,jl=1020,aU=1021,io=1023,lU=1024,cU=1025,$l=1026,xu=1027,uU=1028,v2=1029,fU=1030,y2=1031,x2=1033,Pv=33776,Iv=33777,Lv=33778,kv=33779,zw=35840,Gw=35841,Hw=35842,Vw=35843,dU=36196,Ww=37492,jw=37496,$w=37808,Xw=37809,qw=37810,Yw=37811,Kw=37812,Jw=37813,Zw=37814,Qw=37815,eE=37816,tE=37817,nE=37818,rE=37819,iE=37820,oE=37821,Nv=36492,hU=36283,sE=36284,aE=36285,lE=36286,pU=2200,mU=2201,gU=2202,am=2300,lm=2301,Ov=2302,eu=2400,tu=2401,cm=2402,cx=2500,b2=2501,BQ=0,zQ=1,GQ=2,_2=3e3,Xl=3001,vU=3200,S2=3201,dc=0,yU=1,ql="",Jt="srgb",Fs="srgb-linear",w2="display-p3",HQ=0,Fv=7680,VQ=7681,WQ=7682,jQ=7683,$Q=34055,XQ=34056,qQ=5386,YQ=512,KQ=513,JQ=514,ZQ=515,QQ=516,eee=517,tee=518,xU=519,bU=512,_U=513,SU=514,wU=515,EU=516,MU=517,TU=518,AU=519,um=35044,nee=35048,ree=35040,iee=35045,oee=35049,see=35041,aee=35046,lee=35050,cee=35042,uee="100",cE="300 es",ky=1035,ca=2e3,fm=2001;class ol{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JP=1234567;const au=Math.PI/180,Cd=180/Math.PI;function Io(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ai[t&255]+Ai[t>>8&255]+Ai[t>>16&255]+Ai[t>>24&255]+"-"+Ai[e&255]+Ai[e>>8&255]+"-"+Ai[e>>16&15|64]+Ai[e>>24&255]+"-"+Ai[n&63|128]+Ai[n>>8&255]+"-"+Ai[n>>16&255]+Ai[n>>24&255]+Ai[r&255]+Ai[r>>8&255]+Ai[r>>16&255]+Ai[r>>24&255]).toLowerCase()}function Pr(t,e,n){return Math.max(e,Math.min(n,t))}function E2(t,e){return(t%e+e)%e}function fee(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function dee(t,e,n){return t!==e?(n-t)/(e-t):0}function wp(t,e,n){return(1-n)*t+n*e}function hee(t,e,n,r){return wp(t,e,1-Math.exp(-n*r))}function pee(t,e=1){return e-Math.abs(E2(t,e*2)-e)}function mee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function gee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function vee(t,e){return t+Math.floor(Math.random()*(e-t+1))}function yee(t,e){return t+Math.random()*(e-t)}function xee(t){return t*(.5-Math.random())}function bee(t){t!==void 0&&(JP=t);let e=JP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _ee(t){return t*au}function See(t){return t*Cd}function uE(t){return(t&t-1)===0&&t!==0}function CU(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Ny(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function wee(t,e,n,r,i){const o=Math.cos,s=Math.sin,l=o(n/2),a=s(n/2),c=o((e+r)/2),u=s((e+r)/2),f=o((e-r)/2),d=s((e-r)/2),p=o((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":t.set(l*u,a*f,a*d,l*c);break;case"YZY":t.set(a*d,l*u,a*f,l*c);break;case"ZXZ":t.set(a*f,a*d,l*u,l*c);break;case"XZX":t.set(l*u,a*g,a*p,l*c);break;case"YXY":t.set(a*p,l*u,a*g,l*c);break;case"ZYZ":t.set(a*g,a*p,l*u,l*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Co(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function cn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Eee={DEG2RAD:au,RAD2DEG:Cd,generateUUID:Io,clamp:Pr,euclideanModulo:E2,mapLinear:fee,inverseLerp:dee,lerp:wp,damp:hee,pingpong:pee,smoothstep:mee,smootherstep:gee,randInt:vee,randFloat:yee,randFloatSpread:xee,seededRandom:bee,degToRad:_ee,radToDeg:See,isPowerOfTwo:uE,ceilPowerOfTwo:CU,floorPowerOfTwo:Ny,setQuaternionFromProperEuler:wee,normalize:cn,denormalize:Co};class it{constructor(e=0,n=0){it.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tn{constructor(e,n,r,i,o,s,l,a,c){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,l,a,c)}set(e,n,r,i,o,s,l,a,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=l,u[3]=n,u[4]=o,u[5]=a,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],l=r[3],a=r[6],c=r[1],u=r[4],f=r[7],d=r[2],p=r[5],g=r[8],y=i[0],x=i[3],v=i[6],b=i[1],_=i[4],S=i[7],E=i[2],M=i[5],T=i[8];return o[0]=s*y+l*b+a*E,o[3]=s*x+l*_+a*M,o[6]=s*v+l*S+a*T,o[1]=c*y+u*b+f*E,o[4]=c*x+u*_+f*M,o[7]=c*v+u*S+f*T,o[2]=d*y+p*b+g*E,o[5]=d*x+p*_+g*M,o[8]=d*v+p*S+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],a=e[6],c=e[7],u=e[8];return n*s*u-n*l*c-r*o*u+r*l*a+i*o*c-i*s*a}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],a=e[6],c=e[7],u=e[8],f=u*s-l*c,d=l*a-u*o,p=c*o-s*a,g=n*f+r*d+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(l*r-i*s)*y,e[3]=d*y,e[4]=(u*n-i*a)*y,e[5]=(i*o-l*n)*y,e[6]=p*y,e[7]=(r*a-c*n)*y,e[8]=(s*n-r*o)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,l){const a=Math.cos(o),c=Math.sin(o);return this.set(r*a,r*c,-r*(a*s+c*l)+s+e,-i*c,i*a,-i*(-c*s+a*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(y_.makeScale(e,n)),this}rotate(e){return this.premultiply(y_.makeRotation(-e)),this}translate(e,n){return this.premultiply(y_.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const y_=new tn;function RU(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Mee={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qf(t,e){return new Mee[t](e)}function dm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const ZP={};function Ep(t){t in ZP||(ZP[t]=!0,console.warn(t))}function dd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function x_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Tee=new tn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Aee=new tn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function Cee(t){return t.convertSRGBToLinear().applyMatrix3(Aee)}function Ree(t){return t.applyMatrix3(Tee).convertLinearToSRGB()}const Pee={[Fs]:t=>t,[Jt]:t=>t.convertSRGBToLinear(),[w2]:Cee},Iee={[Fs]:t=>t,[Jt]:t=>t.convertLinearToSRGB(),[w2]:Ree},Xo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Fs},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Pee[e],i=Iee[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let ef;class M2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ef===void 0&&(ef=dm("canvas")),ef.width=e.width,ef.height=e.height;const r=ef.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ef}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=dm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=dd(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(dd(n[r]/255)*255):n[r]=dd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Lee=0;class nu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Lee++}),this.uuid=Io(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,l=i.length;s<l;s++)i[s].isDataTexture?o.push(b_(i[s].image)):o.push(b_(i[s]))}else o=b_(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function b_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?M2.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kee=0;class Sr extends ol{constructor(e=Sr.DEFAULT_IMAGE,n=Sr.DEFAULT_MAPPING,r=Li,i=Li,o=xr,s=nc,l=io,a=pa,c=Sr.DEFAULT_ANISOTROPY,u=ql){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kee++}),this.uuid=Io(),this.name="",this.source=new nu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=a,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Ep("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Xl?Jt:ql),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ax)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case om:e.x=e.x-Math.floor(e.x);break;case Li:e.x=e.x<0?0:1;break;case sm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case om:e.y=e.y-Math.floor(e.y);break;case Li:e.y=e.y<0?0:1;break;case sm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Ep("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Jt?Xl:_2}set encoding(e){Ep("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Xl?Jt:ql}}Sr.DEFAULT_IMAGE=null;Sr.DEFAULT_MAPPING=ax;Sr.DEFAULT_ANISOTROPY=1;class Un{constructor(e=0,n=0,r=0,i=1){Un.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const a=e.elements,c=a[0],u=a[4],f=a[8],d=a[1],p=a[5],g=a[9],y=a[2],x=a[6],v=a[10];if(Math.abs(u-d)<.01&&Math.abs(f-y)<.01&&Math.abs(g-x)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+y)<.1&&Math.abs(g+x)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,S=(p+1)/2,E=(v+1)/2,M=(u+d)/4,T=(f+y)/4,R=(g+x)/4;return _>S&&_>E?_<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(_),i=M/r,o=T/r):S>E?S<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(S),r=M/i,o=R/i):E<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(E),r=T/o,i=R/o),this.set(r,i,o,n),this}let b=Math.sqrt((x-g)*(x-g)+(f-y)*(f-y)+(d-u)*(d-u));return Math.abs(b)<.001&&(b=1),this.x=(x-g)/b,this.y=(f-y)/b,this.z=(d-u)/b,this.w=Math.acos((c+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ds extends ol{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Un(0,0,e,n),this.scissorTest=!1,this.viewport=new Un(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Ep("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Xl?Jt:ql),this.texture=new Sr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:xr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new nu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ux extends Sr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=Li,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nee extends Ds{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ux(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class T2 extends Sr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=Li,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Oee extends Ds{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new T2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Fee extends Ds{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=o.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class co{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,l){let a=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=o[s+0],p=o[s+1],g=o[s+2],y=o[s+3];if(l===0){e[n+0]=a,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(l===1){e[n+0]=d,e[n+1]=p,e[n+2]=g,e[n+3]=y;return}if(f!==y||a!==d||c!==p||u!==g){let x=1-l;const v=a*d+c*p+u*g+f*y,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const E=Math.sqrt(_),M=Math.atan2(E,v*b);x=Math.sin(x*M)/E,l=Math.sin(l*M)/E}const S=l*b;if(a=a*x+d*S,c=c*x+p*S,u=u*x+g*S,f=f*x+y*S,x===1-l){const E=1/Math.sqrt(a*a+c*c+u*u+f*f);a*=E,c*=E,u*=E,f*=E}}e[n]=a,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,s){const l=r[i],a=r[i+1],c=r[i+2],u=r[i+3],f=o[s],d=o[s+1],p=o[s+2],g=o[s+3];return e[n]=l*g+u*f+a*p-c*d,e[n+1]=a*g+u*d+c*f-l*p,e[n+2]=c*g+u*p+l*d-a*f,e[n+3]=u*g-l*f-a*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,o=e._z,s=e._order,l=Math.cos,a=Math.sin,c=l(r/2),u=l(i/2),f=l(o/2),d=a(r/2),p=a(i/2),g=a(o/2);switch(s){case"XYZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"YXZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"ZXY":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"ZYX":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"YZX":this._x=d*u*f+c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f-d*p*g;break;case"XZY":this._x=d*u*f-c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f+d*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],l=n[5],a=n[9],c=n[2],u=n[6],f=n[10],d=r+l+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-a)*p,this._y=(o-c)*p,this._z=(s-i)*p}else if(r>l&&r>f){const p=2*Math.sqrt(1+r-l-f);this._w=(u-a)/p,this._x=.25*p,this._y=(i+s)/p,this._z=(o+c)/p}else if(l>f){const p=2*Math.sqrt(1+l-r-f);this._w=(o-c)/p,this._x=(i+s)/p,this._y=.25*p,this._z=(a+u)/p}else{const p=2*Math.sqrt(1+f-r-l);this._w=(s-i)/p,this._x=(o+c)/p,this._y=(a+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,l=n._x,a=n._y,c=n._z,u=n._w;return this._x=r*u+s*l+i*c-o*a,this._y=i*u+s*a+o*l-r*c,this._z=o*u+s*c+r*a-i*l,this._w=s*u-r*l-i*a-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let l=s*e._w+r*e._x+i*e._y+o*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const a=1-l*l;if(a<=Number.EPSILON){const p=1-n;return this._w=p*s+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(a),u=Math.atan2(c,l),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=s*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ce{constructor(e=0,n=0,r=0){ce.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(QP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(QP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,l=e.z,a=e.w,c=a*n+s*i-l*r,u=a*r+l*n-o*i,f=a*i+o*r-s*n,d=-o*n-s*r-l*i;return this.x=c*a+d*-o+u*-l-f*-s,this.y=u*a+d*-s+f*-o-c*-l,this.z=f*a+d*-l+c*-s-u*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,l=n.y,a=n.z;return this.x=i*a-o*l,this.y=o*s-r*a,this.z=r*l-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return __.copy(this).projectOnVector(e),this.sub(__)}reflect(e){return this.sub(__.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const __=new ce,QP=new co;class Bs{constructor(e=new ce(1/0,1/0,1/0),n=new ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ia.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ia.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ia.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),tf.copy(e.boundingBox),tf.applyMatrix4(e.matrixWorld),this.union(tf);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const o=i.attributes.position;for(let s=0,l=o.count;s<l;s++)Ia.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Ia)}else i.boundingBox===null&&i.computeBoundingBox(),tf.copy(i.boundingBox),tf.applyMatrix4(e.matrixWorld),this.union(tf)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ia),Ia.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lh),d0.subVectors(this.max,Lh),nf.subVectors(e.a,Lh),rf.subVectors(e.b,Lh),of.subVectors(e.c,Lh),_l.subVectors(rf,nf),Sl.subVectors(of,rf),Ac.subVectors(nf,of);let n=[0,-_l.z,_l.y,0,-Sl.z,Sl.y,0,-Ac.z,Ac.y,_l.z,0,-_l.x,Sl.z,0,-Sl.x,Ac.z,0,-Ac.x,-_l.y,_l.x,0,-Sl.y,Sl.x,0,-Ac.y,Ac.x,0];return!S_(n,nf,rf,of,d0)||(n=[1,0,0,0,1,0,0,0,1],!S_(n,nf,rf,of,d0))?!1:(h0.crossVectors(_l,Sl),n=[h0.x,h0.y,h0.z],S_(n,nf,rf,of,d0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ia).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ia).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pa=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],Ia=new ce,tf=new Bs,nf=new ce,rf=new ce,of=new ce,_l=new ce,Sl=new ce,Ac=new ce,Lh=new ce,d0=new ce,h0=new ce,Cc=new ce;function S_(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Cc.fromArray(t,o);const l=i.x*Math.abs(Cc.x)+i.y*Math.abs(Cc.y)+i.z*Math.abs(Cc.z),a=e.dot(Cc),c=n.dot(Cc),u=r.dot(Cc);if(Math.max(-Math.max(a,c,u),Math.min(a,c,u))>l)return!1}return!0}const Dee=new Bs,kh=new ce,w_=new ce;class cs{constructor(e=new ce,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Dee.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;kh.subVectors(e,this.center);const n=kh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(kh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(w_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(kh.copy(e.center).add(w_)),this.expandByPoint(kh.copy(e.center).sub(w_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const La=new ce,E_=new ce,p0=new ce,wl=new ce,M_=new ce,m0=new ce,T_=new ce;class jd{constructor(e=new ce,n=new ce(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,La)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=La.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(La.copy(this.origin).addScaledVector(this.direction,n),La.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){E_.copy(e).add(n).multiplyScalar(.5),p0.copy(n).sub(e).normalize(),wl.copy(this.origin).sub(E_);const o=e.distanceTo(n)*.5,s=-this.direction.dot(p0),l=wl.dot(this.direction),a=-wl.dot(p0),c=wl.lengthSq(),u=Math.abs(1-s*s);let f,d,p,g;if(u>0)if(f=s*a-l,d=s*l-a,g=o*u,f>=0)if(d>=-g)if(d<=g){const y=1/u;f*=y,d*=y,p=f*(f+s*d+2*l)+d*(s*f+d+2*a)+c}else d=o,f=Math.max(0,-(s*d+l)),p=-f*f+d*(d+2*a)+c;else d=-o,f=Math.max(0,-(s*d+l)),p=-f*f+d*(d+2*a)+c;else d<=-g?(f=Math.max(0,-(-s*o+l)),d=f>0?-o:Math.min(Math.max(-o,-a),o),p=-f*f+d*(d+2*a)+c):d<=g?(f=0,d=Math.min(Math.max(-o,-a),o),p=d*(d+2*a)+c):(f=Math.max(0,-(s*o+l)),d=f>0?o:Math.min(Math.max(-o,-a),o),p=-f*f+d*(d+2*a)+c);else d=s>0?-o:o,f=Math.max(0,-(s*d+l)),p=-f*f+d*(d+2*a)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(E_).addScaledVector(p0,d),p}intersectSphere(e,n){La.subVectors(e.center,this.origin);const r=La.dot(this.direction),i=La.dot(La)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),l=r-s,a=r+s;return a<0?null:l<0?this.at(a,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,l,a;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(o=(e.min.y-d.y)*u,s=(e.max.y-d.y)*u):(o=(e.max.y-d.y)*u,s=(e.min.y-d.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),f>=0?(l=(e.min.z-d.z)*f,a=(e.max.z-d.z)*f):(l=(e.max.z-d.z)*f,a=(e.min.z-d.z)*f),r>a||l>i)||((l>r||r!==r)&&(r=l),(a<i||i!==i)&&(i=a),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,La)!==null}intersectTriangle(e,n,r,i,o){M_.subVectors(n,e),m0.subVectors(r,e),T_.crossVectors(M_,m0);let s=this.direction.dot(T_),l;if(s>0){if(i)return null;l=1}else if(s<0)l=-1,s=-s;else return null;wl.subVectors(this.origin,e);const a=l*this.direction.dot(m0.crossVectors(wl,m0));if(a<0)return null;const c=l*this.direction.dot(M_.cross(wl));if(c<0||a+c>s)return null;const u=-l*wl.dot(T_);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qt{constructor(e,n,r,i,o,s,l,a,c,u,f,d,p,g,y,x){qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,l,a,c,u,f,d,p,g,y,x)}set(e,n,r,i,o,s,l,a,c,u,f,d,p,g,y,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=o,v[5]=s,v[9]=l,v[13]=a,v[2]=c,v[6]=u,v[10]=f,v[14]=d,v[3]=p,v[7]=g,v[11]=y,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/sf.setFromMatrixColumn(e,0).length(),o=1/sf.setFromMatrixColumn(e,1).length(),s=1/sf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),l=Math.sin(r),a=Math.cos(i),c=Math.sin(i),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=s*u,p=s*f,g=l*u,y=l*f;n[0]=a*u,n[4]=-a*f,n[8]=c,n[1]=p+g*c,n[5]=d-y*c,n[9]=-l*a,n[2]=y-d*c,n[6]=g+p*c,n[10]=s*a}else if(e.order==="YXZ"){const d=a*u,p=a*f,g=c*u,y=c*f;n[0]=d+y*l,n[4]=g*l-p,n[8]=s*c,n[1]=s*f,n[5]=s*u,n[9]=-l,n[2]=p*l-g,n[6]=y+d*l,n[10]=s*a}else if(e.order==="ZXY"){const d=a*u,p=a*f,g=c*u,y=c*f;n[0]=d-y*l,n[4]=-s*f,n[8]=g+p*l,n[1]=p+g*l,n[5]=s*u,n[9]=y-d*l,n[2]=-s*c,n[6]=l,n[10]=s*a}else if(e.order==="ZYX"){const d=s*u,p=s*f,g=l*u,y=l*f;n[0]=a*u,n[4]=g*c-p,n[8]=d*c+y,n[1]=a*f,n[5]=y*c+d,n[9]=p*c-g,n[2]=-c,n[6]=l*a,n[10]=s*a}else if(e.order==="YZX"){const d=s*a,p=s*c,g=l*a,y=l*c;n[0]=a*u,n[4]=y-d*f,n[8]=g*f+p,n[1]=f,n[5]=s*u,n[9]=-l*u,n[2]=-c*u,n[6]=p*f+g,n[10]=d-y*f}else if(e.order==="XZY"){const d=s*a,p=s*c,g=l*a,y=l*c;n[0]=a*u,n[4]=-f,n[8]=c*u,n[1]=d*f+y,n[5]=s*u,n[9]=p*f-g,n[2]=g*f-p,n[6]=l*u,n[10]=y*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Uee,e,Bee)}lookAt(e,n,r){const i=this.elements;return bo.subVectors(e,n),bo.lengthSq()===0&&(bo.z=1),bo.normalize(),El.crossVectors(r,bo),El.lengthSq()===0&&(Math.abs(r.z)===1?bo.x+=1e-4:bo.z+=1e-4,bo.normalize(),El.crossVectors(r,bo)),El.normalize(),g0.crossVectors(bo,El),i[0]=El.x,i[4]=g0.x,i[8]=bo.x,i[1]=El.y,i[5]=g0.y,i[9]=bo.y,i[2]=El.z,i[6]=g0.z,i[10]=bo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],l=r[4],a=r[8],c=r[12],u=r[1],f=r[5],d=r[9],p=r[13],g=r[2],y=r[6],x=r[10],v=r[14],b=r[3],_=r[7],S=r[11],E=r[15],M=i[0],T=i[4],R=i[8],C=i[12],P=i[1],F=i[5],G=i[9],V=i[13],B=i[2],X=i[6],ee=i[10],te=i[14],O=i[3],D=i[7],H=i[11],$=i[15];return o[0]=s*M+l*P+a*B+c*O,o[4]=s*T+l*F+a*X+c*D,o[8]=s*R+l*G+a*ee+c*H,o[12]=s*C+l*V+a*te+c*$,o[1]=u*M+f*P+d*B+p*O,o[5]=u*T+f*F+d*X+p*D,o[9]=u*R+f*G+d*ee+p*H,o[13]=u*C+f*V+d*te+p*$,o[2]=g*M+y*P+x*B+v*O,o[6]=g*T+y*F+x*X+v*D,o[10]=g*R+y*G+x*ee+v*H,o[14]=g*C+y*V+x*te+v*$,o[3]=b*M+_*P+S*B+E*O,o[7]=b*T+_*F+S*X+E*D,o[11]=b*R+_*G+S*ee+E*H,o[15]=b*C+_*V+S*te+E*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],l=e[5],a=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],g=e[3],y=e[7],x=e[11],v=e[15];return g*(+o*a*f-i*c*f-o*l*d+r*c*d+i*l*p-r*a*p)+y*(+n*a*p-n*c*d+o*s*d-i*s*p+i*c*u-o*a*u)+x*(+n*c*f-n*l*p-o*s*f+r*s*p+o*l*u-r*c*u)+v*(-i*l*u-n*a*f+n*l*d+i*s*f-r*s*d+r*a*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],a=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],g=e[12],y=e[13],x=e[14],v=e[15],b=f*x*c-y*d*c+y*a*p-l*x*p-f*a*v+l*d*v,_=g*d*c-u*x*c-g*a*p+s*x*p+u*a*v-s*d*v,S=u*y*c-g*f*c+g*l*p-s*y*p-u*l*v+s*f*v,E=g*f*a-u*y*a-g*l*d+s*y*d+u*l*x-s*f*x,M=n*b+r*_+i*S+o*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=b*T,e[1]=(y*d*o-f*x*o-y*i*p+r*x*p+f*i*v-r*d*v)*T,e[2]=(l*x*o-y*a*o+y*i*c-r*x*c-l*i*v+r*a*v)*T,e[3]=(f*a*o-l*d*o-f*i*c+r*d*c+l*i*p-r*a*p)*T,e[4]=_*T,e[5]=(u*x*o-g*d*o+g*i*p-n*x*p-u*i*v+n*d*v)*T,e[6]=(g*a*o-s*x*o-g*i*c+n*x*c+s*i*v-n*a*v)*T,e[7]=(s*d*o-u*a*o+u*i*c-n*d*c-s*i*p+n*a*p)*T,e[8]=S*T,e[9]=(g*f*o-u*y*o-g*r*p+n*y*p+u*r*v-n*f*v)*T,e[10]=(s*y*o-g*l*o+g*r*c-n*y*c-s*r*v+n*l*v)*T,e[11]=(u*l*o-s*f*o-u*r*c+n*f*c+s*r*p-n*l*p)*T,e[12]=E*T,e[13]=(u*y*i-g*f*i+g*r*d-n*y*d-u*r*x+n*f*x)*T,e[14]=(g*l*i-s*y*i-g*r*a+n*y*a+s*r*x-n*l*x)*T,e[15]=(s*f*i-u*l*i+u*r*a-n*f*a-s*r*d+n*l*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,l=e.y,a=e.z,c=o*s,u=o*l;return this.set(c*s+r,c*l-i*a,c*a+i*l,0,c*l+i*a,u*l+r,u*a-i*s,0,c*a-i*l,u*a+i*s,o*a*a+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,l=n._z,a=n._w,c=o+o,u=s+s,f=l+l,d=o*c,p=o*u,g=o*f,y=s*u,x=s*f,v=l*f,b=a*c,_=a*u,S=a*f,E=r.x,M=r.y,T=r.z;return i[0]=(1-(y+v))*E,i[1]=(p+S)*E,i[2]=(g-_)*E,i[3]=0,i[4]=(p-S)*M,i[5]=(1-(d+v))*M,i[6]=(x+b)*M,i[7]=0,i[8]=(g+_)*T,i[9]=(x-b)*T,i[10]=(1-(d+y))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=sf.set(i[0],i[1],i[2]).length();const s=sf.set(i[4],i[5],i[6]).length(),l=sf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],bs.copy(this);const c=1/o,u=1/s,f=1/l;return bs.elements[0]*=c,bs.elements[1]*=c,bs.elements[2]*=c,bs.elements[4]*=u,bs.elements[5]*=u,bs.elements[6]*=u,bs.elements[8]*=f,bs.elements[9]*=f,bs.elements[10]*=f,n.setFromRotationMatrix(bs),r.x=o,r.y=s,r.z=l,this}makePerspective(e,n,r,i,o,s,l=ca){const a=this.elements,c=2*o/(n-e),u=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let p,g;if(l===ca)p=-(s+o)/(s-o),g=-2*s*o/(s-o);else if(l===fm)p=-s/(s-o),g=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return a[0]=c,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,o,s,l=ca){const a=this.elements,c=1/(n-e),u=1/(r-i),f=1/(s-o),d=(n+e)*c,p=(r+i)*u;let g,y;if(l===ca)g=(s+o)*f,y=-2*f;else if(l===fm)g=o*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=y,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const sf=new ce,bs=new qt,Uee=new ce(0,0,0),Bee=new ce(1,1,1),El=new ce,g0=new ce,bo=new ce,e3=new qt,t3=new co;class zm{constructor(e=0,n=0,r=0,i=zm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],l=i[8],a=i[1],c=i[5],u=i[9],f=i[2],d=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(Pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(a,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Pr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(a,o));break;case"ZYX":this._y=Math.asin(-Pr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(a,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-Pr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return e3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(e3,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return t3.setFromEuler(this),this.setFromQuaternion(t3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zm.DEFAULT_ORDER="XYZ";class lu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zee=0;const n3=new ce,af=new co,ka=new qt,v0=new ce,Nh=new ce,Gee=new ce,Hee=new co,r3=new ce(1,0,0),i3=new ce(0,1,0),o3=new ce(0,0,1),Vee={type:"added"},s3={type:"removed"};class kn extends ol{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zee++}),this.uuid=Io(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kn.DEFAULT_UP.clone();const e=new ce,n=new zm,r=new co,i=new ce(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new qt},normalMatrix:{value:new tn}}),this.matrix=new qt,this.matrixWorld=new qt,this.matrixAutoUpdate=kn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new lu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return af.setFromAxisAngle(e,n),this.quaternion.multiply(af),this}rotateOnWorldAxis(e,n){return af.setFromAxisAngle(e,n),this.quaternion.premultiply(af),this}rotateX(e){return this.rotateOnAxis(r3,e)}rotateY(e){return this.rotateOnAxis(i3,e)}rotateZ(e){return this.rotateOnAxis(o3,e)}translateOnAxis(e,n){return n3.copy(e).applyQuaternion(this.quaternion),this.position.add(n3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(r3,e)}translateY(e){return this.translateOnAxis(i3,e)}translateZ(e){return this.translateOnAxis(o3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ka.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?v0.copy(e):v0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Nh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ka.lookAt(Nh,v0,this.up):ka.lookAt(v0,Nh,this.up),this.quaternion.setFromRotationMatrix(ka),i&&(ka.extractRotation(i.matrixWorld),af.setFromRotationMatrix(ka),this.quaternion.premultiply(af.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Vee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(s3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(s3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ka.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ka.multiply(e.parent.matrixWorld)),e.applyMatrix4(ka),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,o=this.children.length;i<o;i++){const s=this.children[i].getObjectsByProperty(e,n);s.length>0&&(r=r.concat(s))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nh,e,Gee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nh,Hee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const l=i[o];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(l,a){return l[a.uuid]===void 0&&(l[a.uuid]=a.toJSON(e)),a.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const a=l.shapes;if(Array.isArray(a))for(let c=0,u=a.length;c<u;c++){const f=a[c];o(e.shapes,f)}else o(e.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let a=0,c=this.material.length;a<c;a++)l.push(o(e.materials,this.material[a]));i.material=l}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const a=this.animations[l];i.animations.push(o(e.animations,a))}}if(n){const l=s(e.geometries),a=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),d=s(e.skeletons),p=s(e.animations),g=s(e.nodes);l.length>0&&(r.geometries=l),a.length>0&&(r.materials=a),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(l){const a=[];for(const c in l){const u=l[c];delete u.metadata,a.push(u)}return a}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}kn.DEFAULT_UP=new ce(0,1,0);kn.DEFAULT_MATRIX_AUTO_UPDATE=!0;kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _s=new ce,Na=new ce,A_=new ce,Oa=new ce,lf=new ce,cf=new ce,a3=new ce,C_=new ce,R_=new ce,P_=new ce;let y0=!1;class ro{constructor(e=new ce,n=new ce,r=new ce){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),_s.subVectors(e,n),i.cross(_s);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){_s.subVectors(i,n),Na.subVectors(r,n),A_.subVectors(e,n);const s=_s.dot(_s),l=_s.dot(Na),a=_s.dot(A_),c=Na.dot(Na),u=Na.dot(A_),f=s*c-l*l;if(f===0)return o.set(-2,-1,-1);const d=1/f,p=(c*a-l*u)*d,g=(s*u-l*a)*d;return o.set(1-p-g,g,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Oa),Oa.x>=0&&Oa.y>=0&&Oa.x+Oa.y<=1}static getUV(e,n,r,i,o,s,l,a){return y0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),y0=!0),this.getInterpolation(e,n,r,i,o,s,l,a)}static getInterpolation(e,n,r,i,o,s,l,a){return this.getBarycoord(e,n,r,i,Oa),a.setScalar(0),a.addScaledVector(o,Oa.x),a.addScaledVector(s,Oa.y),a.addScaledVector(l,Oa.z),a}static isFrontFacing(e,n,r,i){return _s.subVectors(r,n),Na.subVectors(e,n),_s.cross(Na).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _s.subVectors(this.c,this.b),Na.subVectors(this.a,this.b),_s.cross(Na).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ro.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ro.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return y0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),y0=!0),ro.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return ro.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return ro.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ro.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,l;lf.subVectors(i,r),cf.subVectors(o,r),C_.subVectors(e,r);const a=lf.dot(C_),c=cf.dot(C_);if(a<=0&&c<=0)return n.copy(r);R_.subVectors(e,i);const u=lf.dot(R_),f=cf.dot(R_);if(u>=0&&f<=u)return n.copy(i);const d=a*f-u*c;if(d<=0&&a>=0&&u<=0)return s=a/(a-u),n.copy(r).addScaledVector(lf,s);P_.subVectors(e,o);const p=lf.dot(P_),g=cf.dot(P_);if(g>=0&&p<=g)return n.copy(o);const y=p*c-a*g;if(y<=0&&c>=0&&g<=0)return l=c/(c-g),n.copy(r).addScaledVector(cf,l);const x=u*g-p*f;if(x<=0&&f-u>=0&&p-g>=0)return a3.subVectors(o,i),l=(f-u)/(f-u+(p-g)),n.copy(i).addScaledVector(a3,l);const v=1/(x+y+d);return s=y*v,l=d*v,n.copy(r).addScaledVector(lf,s).addScaledVector(cf,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Wee=0;class xi extends ol{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Wee++}),this.uuid=Io(),this.name="",this.type="Material",this.blending=su,this.side=ya,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=u2,this.blendDst=f2,this.blendEquation=$c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Iy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=xU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fv,this.stencilZFail=Fv,this.stencilZPass=Fv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==su&&(r.blending=this.blending),this.side!==ya&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const l in o){const a=o[l];delete a.metadata,s.push(a)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const PU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ss={h:0,s:0,l:0},x0={h:0,s:0,l:0};function I_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class yt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Jt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xo.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Xo.workingColorSpace){return this.r=e,this.g=n,this.b=r,Xo.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Xo.workingColorSpace){if(e=E2(e,1),n=Pr(n,0,1),r=Pr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=I_(s,o,e+1/3),this.g=I_(s,o,e),this.b=I_(s,o,e-1/3)}return Xo.toWorkingColorSpace(this,i),this}setStyle(e,n=Jt){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],l=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Jt){const r=PU[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=dd(e.r),this.g=dd(e.g),this.b=dd(e.b),this}copyLinearToSRGB(e){return this.r=x_(e.r),this.g=x_(e.g),this.b=x_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jt){return Xo.fromWorkingColorSpace(Ci.copy(this),e),Math.round(Pr(Ci.r*255,0,255))*65536+Math.round(Pr(Ci.g*255,0,255))*256+Math.round(Pr(Ci.b*255,0,255))}getHexString(e=Jt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Xo.workingColorSpace){Xo.fromWorkingColorSpace(Ci.copy(this),n);const r=Ci.r,i=Ci.g,o=Ci.b,s=Math.max(r,i,o),l=Math.min(r,i,o);let a,c;const u=(l+s)/2;if(l===s)a=0,c=0;else{const f=s-l;switch(c=u<=.5?f/(s+l):f/(2-s-l),s){case r:a=(i-o)/f+(i<o?6:0);break;case i:a=(o-r)/f+2;break;case o:a=(r-i)/f+4;break}a/=6}return e.h=a,e.s=c,e.l=u,e}getRGB(e,n=Xo.workingColorSpace){return Xo.fromWorkingColorSpace(Ci.copy(this),n),e.r=Ci.r,e.g=Ci.g,e.b=Ci.b,e}getStyle(e=Jt){Xo.fromWorkingColorSpace(Ci.copy(this),e);const n=Ci.r,r=Ci.g,i=Ci.b;return e!==Jt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ss),Ss.h+=e,Ss.s+=n,Ss.l+=r,this.setHSL(Ss.h,Ss.s,Ss.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ss),e.getHSL(x0);const r=wp(Ss.h,x0.h,n),i=wp(Ss.s,x0.s,n),o=wp(Ss.l,x0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ci=new yt;yt.NAMES=PU;class _a extends xi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ha=jee();function jee(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let a=0;a<256;++a){const c=a-127;c<-27?(r[a]=0,r[a|256]=32768,i[a]=24,i[a|256]=24):c<-14?(r[a]=1024>>-c-14,r[a|256]=1024>>-c-14|32768,i[a]=-c-1,i[a|256]=-c-1):c<=15?(r[a]=c+15<<10,r[a|256]=c+15<<10|32768,i[a]=13,i[a|256]=13):c<128?(r[a]=31744,r[a|256]=64512,i[a]=24,i[a|256]=24):(r[a]=31744,r[a|256]=64512,i[a]=13,i[a|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let a=1;a<1024;++a){let c=a<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[a]=c|u}for(let a=1024;a<2048;++a)o[a]=939524096+(a-1024<<13);for(let a=1;a<31;++a)s[a]=a<<23;s[31]=1199570944,s[32]=2147483648;for(let a=33;a<63;++a)s[a]=2147483648+(a-32<<23);s[63]=3347054592;for(let a=1;a<64;++a)a!==32&&(l[a]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:l}}function eo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Pr(t,-65504,65504),Ha.floatView[0]=t;const e=Ha.uint32View[0],n=e>>23&511;return Ha.baseTable[n]+((e&8388607)>>Ha.shiftTable[n])}function Qh(t){const e=t>>10;return Ha.uint32View[0]=Ha.mantissaTable[Ha.offsetTable[e]+(t&1023)]+Ha.exponentTable[e],Ha.floatView[0]}const $ee={toHalfFloat:eo,fromHalfFloat:Qh},Vr=new ce,b0=new it;class Qn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=um,this.updateRange={offset:0,count:-1},this.gpuType=la,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)b0.fromBufferAttribute(this,n),b0.applyMatrix3(e),this.setXY(n,b0.x,b0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix3(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix4(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyNormalMatrix(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.transformDirection(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Co(n,this.array)),n}setX(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Co(n,this.array)),n}setY(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Co(n,this.array)),n}setZ(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Co(n,this.array)),n}setW(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array),o=cn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==um&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Xee extends Qn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class qee extends Qn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Yee extends Qn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Kee extends Qn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class A2 extends Qn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Jee extends Qn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class C2 extends Qn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Zee extends Qn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Qh(this.array[e*this.itemSize]);return this.normalized&&(n=Co(n,this.array)),n}setX(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize]=eo(n),this}getY(e){let n=Qh(this.array[e*this.itemSize+1]);return this.normalized&&(n=Co(n,this.array)),n}setY(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+1]=eo(n),this}getZ(e){let n=Qh(this.array[e*this.itemSize+2]);return this.normalized&&(n=Co(n,this.array)),n}setZ(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+2]=eo(n),this}getW(e){let n=Qh(this.array[e*this.itemSize+3]);return this.normalized&&(n=Co(n,this.array)),n}setW(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+3]=eo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array)),this.array[e+0]=eo(n),this.array[e+1]=eo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array)),this.array[e+0]=eo(n),this.array[e+1]=eo(r),this.array[e+2]=eo(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array),o=cn(o,this.array)),this.array[e+0]=eo(n),this.array[e+1]=eo(r),this.array[e+2]=eo(i),this.array[e+3]=eo(o),this}}class Ct extends Qn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Qee extends Qn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let ete=0;const $o=new qt,L_=new kn,uf=new ce,_o=new Bs,Oh=new Bs,ai=new ce;class nn extends ol{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ete++}),this.uuid=Io(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RU(e)?C2:A2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new tn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return $o.makeRotationFromQuaternion(e),this.applyMatrix4($o),this}rotateX(e){return $o.makeRotationX(e),this.applyMatrix4($o),this}rotateY(e){return $o.makeRotationY(e),this.applyMatrix4($o),this}rotateZ(e){return $o.makeRotationZ(e),this.applyMatrix4($o),this}translate(e,n,r){return $o.makeTranslation(e,n,r),this.applyMatrix4($o),this}scale(e,n,r){return $o.makeScale(e,n,r),this.applyMatrix4($o),this}lookAt(e){return L_.lookAt(e),L_.updateMatrix(),this.applyMatrix4(L_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(uf).negate(),this.translate(uf.x,uf.y,uf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Ct(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];_o.setFromBufferAttribute(o),this.morphTargetsRelative?(ai.addVectors(this.boundingBox.min,_o.min),this.boundingBox.expandByPoint(ai),ai.addVectors(this.boundingBox.max,_o.max),this.boundingBox.expandByPoint(ai)):(this.boundingBox.expandByPoint(_o.min),this.boundingBox.expandByPoint(_o.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new cs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ce,1/0);return}if(e){const r=this.boundingSphere.center;if(_o.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const l=n[o];Oh.setFromBufferAttribute(l),this.morphTargetsRelative?(ai.addVectors(_o.min,Oh.min),_o.expandByPoint(ai),ai.addVectors(_o.max,Oh.max),_o.expandByPoint(ai)):(_o.expandByPoint(Oh.min),_o.expandByPoint(Oh.max))}_o.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)ai.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ai));if(n)for(let o=0,s=n.length;o<s;o++){const l=n[o],a=this.morphTargetsRelative;for(let c=0,u=l.count;c<u;c++)ai.fromBufferAttribute(l,c),a&&(uf.fromBufferAttribute(e,c),ai.add(uf)),i=Math.max(i,r.distanceToSquared(ai))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,s=n.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qn(new Float32Array(4*l),4));const a=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<l;P++)c[P]=new ce,u[P]=new ce;const f=new ce,d=new ce,p=new ce,g=new it,y=new it,x=new it,v=new ce,b=new ce;function _(P,F,G){f.fromArray(i,P*3),d.fromArray(i,F*3),p.fromArray(i,G*3),g.fromArray(s,P*2),y.fromArray(s,F*2),x.fromArray(s,G*2),d.sub(f),p.sub(f),y.sub(g),x.sub(g);const V=1/(y.x*x.y-x.x*y.y);isFinite(V)&&(v.copy(d).multiplyScalar(x.y).addScaledVector(p,-y.y).multiplyScalar(V),b.copy(p).multiplyScalar(y.x).addScaledVector(d,-x.x).multiplyScalar(V),c[P].add(v),c[F].add(v),c[G].add(v),u[P].add(b),u[F].add(b),u[G].add(b))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let P=0,F=S.length;P<F;++P){const G=S[P],V=G.start,B=G.count;for(let X=V,ee=V+B;X<ee;X+=3)_(r[X+0],r[X+1],r[X+2])}const E=new ce,M=new ce,T=new ce,R=new ce;function C(P){T.fromArray(o,P*3),R.copy(T);const F=c[P];E.copy(F),E.sub(T.multiplyScalar(T.dot(F))).normalize(),M.crossVectors(R,F);const V=M.dot(u[P])<0?-1:1;a[P*4]=E.x,a[P*4+1]=E.y,a[P*4+2]=E.z,a[P*4+3]=V}for(let P=0,F=S.length;P<F;++P){const G=S[P],V=G.start,B=G.count;for(let X=V,ee=V+B;X<ee;X+=3)C(r[X+0]),C(r[X+1]),C(r[X+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new ce,o=new ce,s=new ce,l=new ce,a=new ce,c=new ce,u=new ce,f=new ce;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),y=e.getX(d+1),x=e.getX(d+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,y),s.fromBufferAttribute(n,x),u.subVectors(s,o),f.subVectors(i,o),u.cross(f),l.fromBufferAttribute(r,g),a.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),l.add(u),a.add(u),c.add(u),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let d=0,p=n.count;d<p;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),s.fromBufferAttribute(n,d+2),u.subVectors(s,o),f.subVectors(i,o),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ai.fromBufferAttribute(e,n),ai.normalize(),e.setXYZ(n,ai.x,ai.y,ai.z)}toNonIndexed(){function e(l,a){const c=l.array,u=l.itemSize,f=l.normalized,d=new c.constructor(a.length*u);let p=0,g=0;for(let y=0,x=a.length;y<x;y++){l.isInterleavedBufferAttribute?p=a[y]*l.data.stride+l.offset:p=a[y]*u;for(let v=0;v<u;v++)d[g++]=c[p++]}return new Qn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new nn,r=this.index.array,i=this.attributes;for(const l in i){const a=i[l],c=e(a,r);n.setAttribute(l,c)}const o=this.morphAttributes;for(const l in o){const a=[],c=o[l];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,r);a.push(p)}n.morphAttributes[l]=a}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,a=s.length;l<a;l++){const c=s[l];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const c in a)a[c]!==void 0&&(e[c]=a[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const a in r){const c=r[a];e.data.attributes[a]=c.toJSON(e.data)}const i={};let o=!1;for(const a in this.morphAttributes){const c=this.morphAttributes[a],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[a]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const l3=new qt,Rc=new jd,_0=new cs,c3=new ce,ff=new ce,df=new ce,hf=new ce,k_=new ce,S0=new ce,w0=new it,E0=new it,M0=new it,u3=new ce,f3=new ce,d3=new ce,T0=new ce,A0=new ce;class pr extends kn{constructor(e=new nn,n=new _a){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const l=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(o&&l){S0.set(0,0,0);for(let a=0,c=o.length;a<c;a++){const u=l[a],f=o[a];u!==0&&(k_.fromBufferAttribute(f,e),s?S0.addScaledVector(k_,u):S0.addScaledVector(k_.sub(n),u))}n.add(S0)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),_0.copy(r.boundingSphere),_0.applyMatrix4(o),Rc.copy(e.ray).recast(e.near),!(_0.containsPoint(Rc.origin)===!1&&(Rc.intersectSphere(_0,c3)===null||Rc.origin.distanceToSquared(c3)>(e.far-e.near)**2))&&(l3.copy(o).invert(),Rc.copy(e.ray).applyMatrix4(l3),!(r.boundingBox!==null&&Rc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Rc)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,l=o.index,a=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,d=o.groups,p=o.drawRange;if(l!==null)if(Array.isArray(s))for(let g=0,y=d.length;g<y;g++){const x=d[g],v=s[x.materialIndex],b=Math.max(x.start,p.start),_=Math.min(l.count,Math.min(x.start+x.count,p.start+p.count));for(let S=b,E=_;S<E;S+=3){const M=l.getX(S),T=l.getX(S+1),R=l.getX(S+2);i=C0(this,v,e,r,c,u,f,M,T,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let x=g,v=y;x<v;x+=3){const b=l.getX(x),_=l.getX(x+1),S=l.getX(x+2);i=C0(this,s,e,r,c,u,f,b,_,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(a!==void 0)if(Array.isArray(s))for(let g=0,y=d.length;g<y;g++){const x=d[g],v=s[x.materialIndex],b=Math.max(x.start,p.start),_=Math.min(a.count,Math.min(x.start+x.count,p.start+p.count));for(let S=b,E=_;S<E;S+=3){const M=S,T=S+1,R=S+2;i=C0(this,v,e,r,c,u,f,M,T,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let x=g,v=y;x<v;x+=3){const b=x,_=x+1,S=x+2;i=C0(this,s,e,r,c,u,f,b,_,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function tte(t,e,n,r,i,o,s,l){let a;if(e.side===vi?a=r.intersectTriangle(s,o,i,!0,l):a=r.intersectTriangle(i,o,s,e.side===ya,l),a===null)return null;A0.copy(l),A0.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(A0);return c<n.near||c>n.far?null:{distance:c,point:A0.clone(),object:t}}function C0(t,e,n,r,i,o,s,l,a,c){t.getVertexPosition(l,ff),t.getVertexPosition(a,df),t.getVertexPosition(c,hf);const u=tte(t,e,n,r,ff,df,hf,T0);if(u){i&&(w0.fromBufferAttribute(i,l),E0.fromBufferAttribute(i,a),M0.fromBufferAttribute(i,c),u.uv=ro.getInterpolation(T0,ff,df,hf,w0,E0,M0,new it)),o&&(w0.fromBufferAttribute(o,l),E0.fromBufferAttribute(o,a),M0.fromBufferAttribute(o,c),u.uv1=ro.getInterpolation(T0,ff,df,hf,w0,E0,M0,new it),u.uv2=u.uv1),s&&(u3.fromBufferAttribute(s,l),f3.fromBufferAttribute(s,a),d3.fromBufferAttribute(s,c),u.normal=ro.getInterpolation(T0,ff,df,hf,u3,f3,d3,new ce),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:l,b:a,c,normal:new ce,materialIndex:0};ro.getNormal(ff,df,hf,f.normal),u.face=f}return u}class Sa extends nn{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const l=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const a=[],c=[],u=[],f=[];let d=0,p=0;g("z","y","x",-1,-1,r,n,e,s,o,0),g("z","y","x",1,-1,r,n,-e,s,o,1),g("x","z","y",1,1,e,r,n,i,s,2),g("x","z","y",1,-1,e,r,-n,i,s,3),g("x","y","z",1,-1,e,n,r,i,o,4),g("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(a),this.setAttribute("position",new Ct(c,3)),this.setAttribute("normal",new Ct(u,3)),this.setAttribute("uv",new Ct(f,2));function g(y,x,v,b,_,S,E,M,T,R,C){const P=S/T,F=E/R,G=S/2,V=E/2,B=M/2,X=T+1,ee=R+1;let te=0,O=0;const D=new ce;for(let H=0;H<ee;H++){const $=H*F-V;for(let W=0;W<X;W++){const ie=W*P-G;D[y]=ie*b,D[x]=$*_,D[v]=B,c.push(D.x,D.y,D.z),D[y]=0,D[x]=0,D[v]=M>0?1:-1,u.push(D.x,D.y,D.z),f.push(W/T),f.push(1-H/R),te+=1}}for(let H=0;H<R;H++)for(let $=0;$<T;$++){const W=d+$+X*H,ie=d+$+X*(H+1),j=d+($+1)+X*(H+1),Y=d+($+1)+X*H;a.push(W,ie,Y),a.push(ie,j,Y),O+=6}l.addGroup(p,O,C),p+=O,d+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Rd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Hi(t){const e={};for(let n=0;n<t.length;n++){const r=Rd(t[n]);for(const i in r)e[i]=r[i]}return e}function nte(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function IU(t){return t.getRenderTarget()===null?t.outputColorSpace:Fs}const fx={clone:Rd,merge:Hi};var rte=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ite=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ss extends xi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=rte,this.fragmentShader=ite,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rd(e.uniforms),this.uniformsGroups=nte(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Gm extends kn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qt,this.projectionMatrix=new qt,this.projectionMatrixInverse=new qt,this.coordinateSystem=ca}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class ci extends Gm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Cd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(au*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cd*2*Math.atan(Math.tan(au*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(au*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const a=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/a,n-=s.offsetY*r/c,i*=s.width/a,r*=s.height/c}const l=this.filmOffset;l!==0&&(o+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const pf=-90,mf=1;class LU extends kn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new ci(pf,mf,e,n);i.layers=this.layers,this.add(i);const o=new ci(pf,mf,e,n);o.layers=this.layers,this.add(o);const s=new ci(pf,mf,e,n);s.layers=this.layers,this.add(s);const l=new ci(pf,mf,e,n);l.layers=this.layers,this.add(l);const a=new ci(pf,mf,e,n);a.layers=this.layers,this.add(a);const c=new ci(pf,mf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,l,a]=n;for(const c of n)this.remove(c);if(e===ca)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else if(e===fm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,l,a,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Ns,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,o),e.setRenderTarget(r,2),e.render(n,s),e.setRenderTarget(r,3),e.render(n,l),e.setRenderTarget(r,4),e.render(n,a),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class Hm extends Sr{constructor(e,n,r,i,o,s,l,a,c,u){e=e!==void 0?e:[],n=n!==void 0?n:ec,super(e,n,r,i,o,s,l,a,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kU extends Ds{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Ep("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Xl?Jt:ql),this.texture=new Hm(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:xr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Sa(5,5,5),o=new ss({name:"CubemapFromEquirect",uniforms:Rd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:vi,blending:qa});o.uniforms.tEquirect.value=n;const s=new pr(i,o),l=n.minFilter;return n.minFilter===nc&&(n.minFilter=xr),new LU(1,10,this).update(e,s),n.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const N_=new ce,ote=new ce,ste=new tn;class Ga{constructor(e=new ce(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=N_.subVectors(r,n).cross(ote.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(N_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ste.getNormalMatrix(e),i=this.coplanarPoint(N_).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Pc=new cs,R0=new ce;class dx{constructor(e=new Ga,n=new Ga,r=new Ga,i=new Ga,o=new Ga,s=new Ga){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(o),l[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ca){const r=this.planes,i=e.elements,o=i[0],s=i[1],l=i[2],a=i[3],c=i[4],u=i[5],f=i[6],d=i[7],p=i[8],g=i[9],y=i[10],x=i[11],v=i[12],b=i[13],_=i[14],S=i[15];if(r[0].setComponents(a-o,d-c,x-p,S-v).normalize(),r[1].setComponents(a+o,d+c,x+p,S+v).normalize(),r[2].setComponents(a+s,d+u,x+g,S+b).normalize(),r[3].setComponents(a-s,d-u,x-g,S-b).normalize(),r[4].setComponents(a-l,d-f,x-y,S-_).normalize(),n===ca)r[5].setComponents(a+l,d+f,x+y,S+_).normalize();else if(n===fm)r[5].setComponents(l,f,y,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Pc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Pc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Pc)}intersectsSprite(e){return Pc.center.set(0,0,0),Pc.radius=.7071067811865476,Pc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(R0.x=i.normal.x>0?e.max.x:e.min.x,R0.y=i.normal.y>0?e.max.y:e.min.y,R0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(R0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function NU(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function ate(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,p=t.createBuffer();t.bindBuffer(u,p),t.bufferData(u,f,d),c.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function o(c,u,f){const d=u.array,p=u.updateRange;t.bindBuffer(f,c),p.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):t.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function l(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function a(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(o(f.buffer,c,u),f.version=c.version)}return{get:s,remove:l,update:a}}class sl extends nn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,l=Math.floor(r),a=Math.floor(i),c=l+1,u=a+1,f=e/l,d=n/a,p=[],g=[],y=[],x=[];for(let v=0;v<u;v++){const b=v*d-s;for(let _=0;_<c;_++){const S=_*f-o;g.push(S,-b,0),y.push(0,0,1),x.push(_/l),x.push(1-v/a)}}for(let v=0;v<a;v++)for(let b=0;b<l;b++){const _=b+c*v,S=b+c*(v+1),E=b+1+c*(v+1),M=b+1+c*v;p.push(_,S,M),p.push(S,E,M)}this.setIndex(p),this.setAttribute("position",new Ct(g,3)),this.setAttribute("normal",new Ct(y,3)),this.setAttribute("uv",new Ct(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sl(e.width,e.height,e.widthSegments,e.heightSegments)}}var lte=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,cte=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ute=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,fte=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dte=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,hte=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pte="vec3 transformed = vec3( position );",mte=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gte=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vte=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yte=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xte=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,bte=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_te=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ste=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wte=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ete=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Mte=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Tte=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ate=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Cte=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Rte=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Pte=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ite=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Lte=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kte=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Nte="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ote=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Dte=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Ute=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Bte=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zte=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Gte=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Hte=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vte=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Wte=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,jte=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$te=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Xte=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,qte=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Yte=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Kte=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Jte=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Zte=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Qte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ene=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tne=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,nne=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,rne=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ine=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,one=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,sne=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ane=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lne=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cne=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,une=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,fne=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,dne=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hne=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,pne=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mne=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gne=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vne=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yne=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,xne=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,bne=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,_ne=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Sne=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wne=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ene=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Mne=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Tne=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ane=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Cne=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Rne=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pne=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ine=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Lne=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,kne=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Nne=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,One=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Fne=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Dne=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Une=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Bne=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,zne=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Gne=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Hne=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Vne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Wne=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,jne=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$ne=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Xne=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qne=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Yne=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Kne=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Jne=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Zne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Qne=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ere=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tre=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nre=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rre=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ire=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ore=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sre=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,are=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lre=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cre=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ure=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fre=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dre=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hre=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pre=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mre=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gre=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vre=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yre=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xre=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bre=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_re=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Sre=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wre=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Ere=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Mre=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tre=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Are=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Cre=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rre=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pre=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ire=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Lre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kre=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nre=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ore=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Fre=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,en={alphamap_fragment:lte,alphamap_pars_fragment:cte,alphatest_fragment:ute,alphatest_pars_fragment:fte,aomap_fragment:dte,aomap_pars_fragment:hte,begin_vertex:pte,beginnormal_vertex:mte,bsdfs:gte,iridescence_fragment:vte,bumpmap_pars_fragment:yte,clipping_planes_fragment:xte,clipping_planes_pars_fragment:bte,clipping_planes_pars_vertex:_te,clipping_planes_vertex:Ste,color_fragment:wte,color_pars_fragment:Ete,color_pars_vertex:Mte,color_vertex:Tte,common:Ate,cube_uv_reflection_fragment:Cte,defaultnormal_vertex:Rte,displacementmap_pars_vertex:Pte,displacementmap_vertex:Ite,emissivemap_fragment:Lte,emissivemap_pars_fragment:kte,encodings_fragment:Nte,encodings_pars_fragment:Ote,envmap_fragment:Fte,envmap_common_pars_fragment:Dte,envmap_pars_fragment:Ute,envmap_pars_vertex:Bte,envmap_physical_pars_fragment:Jte,envmap_vertex:zte,fog_vertex:Gte,fog_pars_vertex:Hte,fog_fragment:Vte,fog_pars_fragment:Wte,gradientmap_pars_fragment:jte,lightmap_fragment:$te,lightmap_pars_fragment:Xte,lights_lambert_fragment:qte,lights_lambert_pars_fragment:Yte,lights_pars_begin:Kte,lights_toon_fragment:Zte,lights_toon_pars_fragment:Qte,lights_phong_fragment:ene,lights_phong_pars_fragment:tne,lights_physical_fragment:nne,lights_physical_pars_fragment:rne,lights_fragment_begin:ine,lights_fragment_maps:one,lights_fragment_end:sne,logdepthbuf_fragment:ane,logdepthbuf_pars_fragment:lne,logdepthbuf_pars_vertex:cne,logdepthbuf_vertex:une,map_fragment:fne,map_pars_fragment:dne,map_particle_fragment:hne,map_particle_pars_fragment:pne,metalnessmap_fragment:mne,metalnessmap_pars_fragment:gne,morphcolor_vertex:vne,morphnormal_vertex:yne,morphtarget_pars_vertex:xne,morphtarget_vertex:bne,normal_fragment_begin:_ne,normal_fragment_maps:Sne,normal_pars_fragment:wne,normal_pars_vertex:Ene,normal_vertex:Mne,normalmap_pars_fragment:Tne,clearcoat_normal_fragment_begin:Ane,clearcoat_normal_fragment_maps:Cne,clearcoat_pars_fragment:Rne,iridescence_pars_fragment:Pne,output_fragment:Ine,packing:Lne,premultiplied_alpha_fragment:kne,project_vertex:Nne,dithering_fragment:One,dithering_pars_fragment:Fne,roughnessmap_fragment:Dne,roughnessmap_pars_fragment:Une,shadowmap_pars_fragment:Bne,shadowmap_pars_vertex:zne,shadowmap_vertex:Gne,shadowmask_pars_fragment:Hne,skinbase_vertex:Vne,skinning_pars_vertex:Wne,skinning_vertex:jne,skinnormal_vertex:$ne,specularmap_fragment:Xne,specularmap_pars_fragment:qne,tonemapping_fragment:Yne,tonemapping_pars_fragment:Kne,transmission_fragment:Jne,transmission_pars_fragment:Zne,uv_pars_fragment:Qne,uv_pars_vertex:ere,uv_vertex:tre,worldpos_vertex:nre,background_vert:rre,background_frag:ire,backgroundCube_vert:ore,backgroundCube_frag:sre,cube_vert:are,cube_frag:lre,depth_vert:cre,depth_frag:ure,distanceRGBA_vert:fre,distanceRGBA_frag:dre,equirect_vert:hre,equirect_frag:pre,linedashed_vert:mre,linedashed_frag:gre,meshbasic_vert:vre,meshbasic_frag:yre,meshlambert_vert:xre,meshlambert_frag:bre,meshmatcap_vert:_re,meshmatcap_frag:Sre,meshnormal_vert:wre,meshnormal_frag:Ere,meshphong_vert:Mre,meshphong_frag:Tre,meshphysical_vert:Are,meshphysical_frag:Cre,meshtoon_vert:Rre,meshtoon_frag:Pre,points_vert:Ire,points_frag:Lre,shadow_vert:kre,shadow_frag:Nre,sprite_vert:Ore,sprite_frag:Fre},pt={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},Ps={basic:{uniforms:Hi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:en.meshbasic_vert,fragmentShader:en.meshbasic_frag},lambert:{uniforms:Hi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new yt(0)}}]),vertexShader:en.meshlambert_vert,fragmentShader:en.meshlambert_frag},phong:{uniforms:Hi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:en.meshphong_vert,fragmentShader:en.meshphong_frag},standard:{uniforms:Hi([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag},toon:{uniforms:Hi([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new yt(0)}}]),vertexShader:en.meshtoon_vert,fragmentShader:en.meshtoon_frag},matcap:{uniforms:Hi([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:en.meshmatcap_vert,fragmentShader:en.meshmatcap_frag},points:{uniforms:Hi([pt.points,pt.fog]),vertexShader:en.points_vert,fragmentShader:en.points_frag},dashed:{uniforms:Hi([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:en.linedashed_vert,fragmentShader:en.linedashed_frag},depth:{uniforms:Hi([pt.common,pt.displacementmap]),vertexShader:en.depth_vert,fragmentShader:en.depth_frag},normal:{uniforms:Hi([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:en.meshnormal_vert,fragmentShader:en.meshnormal_frag},sprite:{uniforms:Hi([pt.sprite,pt.fog]),vertexShader:en.sprite_vert,fragmentShader:en.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:en.background_vert,fragmentShader:en.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:en.backgroundCube_vert,fragmentShader:en.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:en.cube_vert,fragmentShader:en.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:en.equirect_vert,fragmentShader:en.equirect_frag},distanceRGBA:{uniforms:Hi([pt.common,pt.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:en.distanceRGBA_vert,fragmentShader:en.distanceRGBA_frag},shadow:{uniforms:Hi([pt.lights,pt.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:en.shadow_vert,fragmentShader:en.shadow_frag}};Ps.physical={uniforms:Hi([Ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag};const P0={r:0,b:0,g:0};function Dre(t,e,n,r,i,o,s){const l=new yt(0);let a=o===!0?0:1,c,u,f=null,d=0,p=null;function g(x,v){let b=!1,_=v.isScene===!0?v.background:null;switch(_&&_.isTexture&&(_=(v.backgroundBlurriness>0?n:e).get(_)),_===null?y(l,a):_&&_.isColor&&(y(_,1),b=!0),t.xr.getEnvironmentBlendMode()){case"opaque":b=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,s),b=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,s),b=!0;break}(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Wd)?(u===void 0&&(u=new pr(new Sa(1,1,1),new ss({name:"BackgroundCubeMaterial",uniforms:Rd(Ps.backgroundCube.uniforms),vertexShader:Ps.backgroundCube.vertexShader,fragmentShader:Ps.backgroundCube.fragmentShader,side:vi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=_.colorSpace!==Jt,(f!==_||d!==_.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=_,d=_.version,p=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new pr(new sl(2,2),new ss({name:"BackgroundMaterial",uniforms:Rd(Ps.background.uniforms),vertexShader:Ps.background.vertexShader,fragmentShader:Ps.background.fragmentShader,side:ya,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.colorSpace!==Jt,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||d!==_.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,d=_.version,p=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,v){x.getRGB(P0,IU(t)),r.buffers.color.setClear(P0.r,P0.g,P0.b,v,s)}return{getClearColor:function(){return l},setClearColor:function(x,v=1){l.set(x),a=v,y(l,a)},getClearAlpha:function(){return a},setClearAlpha:function(x){a=x,y(l,a)},render:g}}function Ure(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,l={},a=x(null);let c=a,u=!1;function f(B,X,ee,te,O){let D=!1;if(s){const H=y(te,ee,X);c!==H&&(c=H,p(c.object)),D=v(B,te,ee,O),D&&b(B,te,ee,O)}else{const H=X.wireframe===!0;(c.geometry!==te.id||c.program!==ee.id||c.wireframe!==H)&&(c.geometry=te.id,c.program=ee.id,c.wireframe=H,D=!0)}O!==null&&n.update(O,t.ELEMENT_ARRAY_BUFFER),(D||u)&&(u=!1,R(B,X,ee,te),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(O).buffer))}function d(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function p(B){return r.isWebGL2?t.bindVertexArray(B):o.bindVertexArrayOES(B)}function g(B){return r.isWebGL2?t.deleteVertexArray(B):o.deleteVertexArrayOES(B)}function y(B,X,ee){const te=ee.wireframe===!0;let O=l[B.id];O===void 0&&(O={},l[B.id]=O);let D=O[X.id];D===void 0&&(D={},O[X.id]=D);let H=D[te];return H===void 0&&(H=x(d()),D[te]=H),H}function x(B){const X=[],ee=[],te=[];for(let O=0;O<i;O++)X[O]=0,ee[O]=0,te[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:ee,attributeDivisors:te,object:B,attributes:{},index:null}}function v(B,X,ee,te){const O=c.attributes,D=X.attributes;let H=0;const $=ee.getAttributes();for(const W in $)if($[W].location>=0){const j=O[W];let Y=D[W];if(Y===void 0&&(W==="instanceMatrix"&&B.instanceMatrix&&(Y=B.instanceMatrix),W==="instanceColor"&&B.instanceColor&&(Y=B.instanceColor)),j===void 0||j.attribute!==Y||Y&&j.data!==Y.data)return!0;H++}return c.attributesNum!==H||c.index!==te}function b(B,X,ee,te){const O={},D=X.attributes;let H=0;const $=ee.getAttributes();for(const W in $)if($[W].location>=0){let j=D[W];j===void 0&&(W==="instanceMatrix"&&B.instanceMatrix&&(j=B.instanceMatrix),W==="instanceColor"&&B.instanceColor&&(j=B.instanceColor));const Y={};Y.attribute=j,j&&j.data&&(Y.data=j.data),O[W]=Y,H++}c.attributes=O,c.attributesNum=H,c.index=te}function _(){const B=c.newAttributes;for(let X=0,ee=B.length;X<ee;X++)B[X]=0}function S(B){E(B,0)}function E(B,X){const ee=c.newAttributes,te=c.enabledAttributes,O=c.attributeDivisors;ee[B]=1,te[B]===0&&(t.enableVertexAttribArray(B),te[B]=1),O[B]!==X&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,X),O[B]=X)}function M(){const B=c.newAttributes,X=c.enabledAttributes;for(let ee=0,te=X.length;ee<te;ee++)X[ee]!==B[ee]&&(t.disableVertexAttribArray(ee),X[ee]=0)}function T(B,X,ee,te,O,D,H){H===!0?t.vertexAttribIPointer(B,X,ee,O,D):t.vertexAttribPointer(B,X,ee,te,O,D)}function R(B,X,ee,te){if(r.isWebGL2===!1&&(B.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const O=te.attributes,D=ee.getAttributes(),H=X.defaultAttributeValues;for(const $ in D){const W=D[$];if(W.location>=0){let ie=O[$];if(ie===void 0&&($==="instanceMatrix"&&B.instanceMatrix&&(ie=B.instanceMatrix),$==="instanceColor"&&B.instanceColor&&(ie=B.instanceColor)),ie!==void 0){const j=ie.normalized,Y=ie.itemSize,K=n.get(ie);if(K===void 0)continue;const fe=K.buffer,pe=K.type,xe=K.bytesPerElement,Ge=r.isWebGL2===!0&&(pe===t.INT||pe===t.UNSIGNED_INT||ie.gpuType===p2);if(ie.isInterleavedBufferAttribute){const Ae=ie.data,z=Ae.stride,ge=ie.offset;if(Ae.isInstancedInterleavedBuffer){for(let Me=0;Me<W.locationSize;Me++)E(W.location+Me,Ae.meshPerAttribute);B.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Me=0;Me<W.locationSize;Me++)S(W.location+Me);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Me=0;Me<W.locationSize;Me++)T(W.location+Me,Y/W.locationSize,pe,j,z*xe,(ge+Y/W.locationSize*Me)*xe,Ge)}else{if(ie.isInstancedBufferAttribute){for(let Ae=0;Ae<W.locationSize;Ae++)E(W.location+Ae,ie.meshPerAttribute);B.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let Ae=0;Ae<W.locationSize;Ae++)S(W.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Ae=0;Ae<W.locationSize;Ae++)T(W.location+Ae,Y/W.locationSize,pe,j,Y*xe,Y/W.locationSize*Ae*xe,Ge)}}else if(H!==void 0){const j=H[$];if(j!==void 0)switch(j.length){case 2:t.vertexAttrib2fv(W.location,j);break;case 3:t.vertexAttrib3fv(W.location,j);break;case 4:t.vertexAttrib4fv(W.location,j);break;default:t.vertexAttrib1fv(W.location,j)}}}}M()}function C(){G();for(const B in l){const X=l[B];for(const ee in X){const te=X[ee];for(const O in te)g(te[O].object),delete te[O];delete X[ee]}delete l[B]}}function P(B){if(l[B.id]===void 0)return;const X=l[B.id];for(const ee in X){const te=X[ee];for(const O in te)g(te[O].object),delete te[O];delete X[ee]}delete l[B.id]}function F(B){for(const X in l){const ee=l[X];if(ee[B.id]===void 0)continue;const te=ee[B.id];for(const O in te)g(te[O].object),delete te[O];delete ee[B.id]}}function G(){V(),u=!0,c!==a&&(c=a,p(c.object))}function V(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:f,reset:G,resetDefaultState:V,dispose:C,releaseStatesOfGeometry:P,releaseStatesOfProgram:F,initAttributes:_,enableAttribute:S,disableUnusedAttributes:M}}function Bre(t,e,n,r){const i=r.isWebGL2;let o;function s(c){o=c}function l(c,u){t.drawArrays(o,c,u),n.update(u,o,1)}function a(c,u,f){if(f===0)return;let d,p;if(i)d=t,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](o,c,u,f),n.update(u,o,f)}this.setMode=s,this.render=l,this.renderInstances=a}function zre(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let l=n.precision!==void 0?n.precision:"highp";const a=o(l);a!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",a,"instead."),l=a);const c=s||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=d>0,S=s||e.has("OES_texture_float"),E=_&&S,M=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:M}}function Gre(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new Ga,l=new tn,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const p=f.length!==0||d||r!==0||i;return i=d,r=f.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,p){const g=f.clippingPlanes,y=f.clipIntersection,x=f.clipShadows,v=t.get(f);if(!i||g===null||g.length===0||o&&!x)o?u(null):c();else{const b=o?0:r,_=b*4;let S=v.clippingState||null;a.value=S,S=u(g,d,_,p);for(let E=0;E!==_;++E)S[E]=n[E];v.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function c(){a.value!==n&&(a.value=n,a.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,p,g){const y=f!==null?f.length:0;let x=null;if(y!==0){if(x=a.value,g!==!0||x===null){const v=p+y*4,b=d.matrixWorldInverse;l.getNormalMatrix(b),(x===null||x.length<v)&&(x=new Float32Array(v));for(let _=0,S=p;_!==y;++_,S+=4)s.copy(f[_]).applyMatrix4(b,l),s.normal.toArray(x,S),x[S+3]=s.constant}a.value=x,a.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function Hre(t){let e=new WeakMap;function n(s,l){return l===rm?s.mapping=ec:l===im&&(s.mapping=tc),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const l=s.mapping;if(l===rm||l===im)if(e.has(s)){const a=e.get(s).texture;return n(a,s.mapping)}else{const a=s.image;if(a&&a.height>0){const c=new kU(a.height/2);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const l=s.target;l.removeEventListener("dispose",i);const a=e.get(l);a!==void 0&&(e.delete(l),a.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Vm extends Gm{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,l=i+n,a=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,l-=u*this.view.offsetY,a=l-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,l,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Yf=4,h3=[.125,.215,.35,.446,.526,.582],Xc=20,O_=new Vm,p3=new yt;let F_=null;const Hc=(1+Math.sqrt(5))/2,gf=1/Hc,m3=[new ce(1,1,1),new ce(-1,1,1),new ce(1,1,-1),new ce(-1,1,-1),new ce(0,Hc,gf),new ce(0,Hc,-gf),new ce(gf,0,Hc),new ce(-gf,0,Hc),new ce(Hc,gf,0),new ce(-Hc,gf,0)];class fE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){F_=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=y3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=v3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(F_),e.scissorTest=!1,I0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ec||e.mapping===tc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),F_=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:xr,minFilter:xr,generateMipmaps:!1,type:Ad,format:io,colorSpace:Fs,depthBuffer:!1},i=g3(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=g3(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Vre(o)),this._blurMaterial=Wre(o,e,n)}return i}_compileMaterial(e){const n=new pr(this._lodPlanes[0],e);this._renderer.compile(n,O_)}_sceneToCubeUV(e,n,r,i){const l=new ci(90,1,n,r),a=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(p3),u.toneMapping=Ns,u.autoClear=!1;const p=new _a({name:"PMREM.Background",side:vi,depthWrite:!1,depthTest:!1}),g=new pr(new Sa,p);let y=!1;const x=e.background;x?x.isColor&&(p.color.copy(x),e.background=null,y=!0):(p.color.copy(p3),y=!0);for(let v=0;v<6;v++){const b=v%3;b===0?(l.up.set(0,a[v],0),l.lookAt(c[v],0,0)):b===1?(l.up.set(0,0,a[v]),l.lookAt(0,c[v],0)):(l.up.set(0,a[v],0),l.lookAt(0,0,c[v]));const _=this._cubeSize;I0(i,b*_,v>2?_:0,_,_),u.setRenderTarget(i),y&&u.render(g,l),u.render(e,l)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ec||e.mapping===tc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=y3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=v3());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new pr(this._lodPlanes[0],o),l=o.uniforms;l.envMap.value=e;const a=this._cubeSize;I0(n,0,0,3*a,2*a),r.setRenderTarget(n),r.render(s,O_)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=m3[(i-1)%m3.length];this._blur(e,i-1,i,o,s)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,l){const a=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new pr(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*Xc-1),y=o/g,x=isFinite(o)?1+Math.floor(u*y):Xc;x>Xc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Xc}`);const v=[];let b=0;for(let T=0;T<Xc;++T){const R=T/y,C=Math.exp(-R*R/2);v.push(C),T===0?b+=C:T<x&&(b+=2*C)}for(let T=0;T<v.length;T++)v[T]=v[T]/b;d.envMap.value=e.texture,d.samples.value=x,d.weights.value=v,d.latitudinal.value=s==="latitudinal",l&&(d.poleAxis.value=l);const{_lodMax:_}=this;d.dTheta.value=g,d.mipInt.value=_-r;const S=this._sizeLods[i],E=3*S*(i>_-Yf?i-_+Yf:0),M=4*(this._cubeSize-S);I0(n,E,M,3*S,2*S),a.setRenderTarget(n),a.render(f,O_)}}function Vre(t){const e=[],n=[],r=[];let i=t;const o=t-Yf+1+h3.length;for(let s=0;s<o;s++){const l=Math.pow(2,i);n.push(l);let a=1/l;s>t-Yf?a=h3[s-t+Yf-1]:s===0&&(a=0),r.push(a);const c=1/(l-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,g=6,y=3,x=2,v=1,b=new Float32Array(y*g*p),_=new Float32Array(x*g*p),S=new Float32Array(v*g*p);for(let M=0;M<p;M++){const T=M%3*2/3-1,R=M>2?0:-1,C=[T,R,0,T+2/3,R,0,T+2/3,R+1,0,T,R,0,T+2/3,R+1,0,T,R+1,0];b.set(C,y*g*M),_.set(d,x*g*M);const P=[M,M,M,M,M,M];S.set(P,v*g*M)}const E=new nn;E.setAttribute("position",new Qn(b,y)),E.setAttribute("uv",new Qn(_,x)),E.setAttribute("faceIndex",new Qn(S,v)),e.push(E),i>Yf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function g3(t,e,n){const r=new Ds(t,e,n);return r.texture.mapping=Wd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function I0(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Wre(t,e,n){const r=new Float32Array(Xc),i=new ce(0,1,0);return new ss({name:"SphericalGaussianBlur",defines:{n:Xc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qa,depthTest:!1,depthWrite:!1})}function v3(){return new ss({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qa,depthTest:!1,depthWrite:!1})}function y3(){return new ss({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qa,depthTest:!1,depthWrite:!1})}function R2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jre(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const a=l.mapping,c=a===rm||a===im,u=a===ec||a===tc;if(c||u)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let f=e.get(l);return n===null&&(n=new fE(t)),f=c?n.fromEquirectangular(l,f):n.fromCubemap(l,f),e.set(l,f),f.texture}else{if(e.has(l))return e.get(l).texture;{const f=l.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new fE(t));const d=c?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,d),l.addEventListener("dispose",o),d.texture}else return null}}}return l}function i(l){let a=0;const c=6;for(let u=0;u<c;u++)l[u]!==void 0&&a++;return a===c}function o(l){const a=l.target;a.removeEventListener("dispose",o);const c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function $re(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Xre(t,e,n,r){const i={},o=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const y=d.morphAttributes[g];for(let x=0,v=y.length;x<v;x++)e.remove(y[x])}d.removeEventListener("dispose",s),delete i[d.id];const p=o.get(d);p&&(e.remove(p),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function l(f,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,n.memory.geometries++),d}function a(f){const d=f.attributes;for(const g in d)e.update(d[g],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const g in p){const y=p[g];for(let x=0,v=y.length;x<v;x++)e.update(y[x],t.ARRAY_BUFFER)}}function c(f){const d=[],p=f.index,g=f.attributes.position;let y=0;if(p!==null){const b=p.array;y=p.version;for(let _=0,S=b.length;_<S;_+=3){const E=b[_+0],M=b[_+1],T=b[_+2];d.push(E,M,M,T,T,E)}}else{const b=g.array;y=g.version;for(let _=0,S=b.length/3-1;_<S;_+=3){const E=_+0,M=_+1,T=_+2;d.push(E,M,M,T,T,E)}}const x=new(RU(d)?C2:A2)(d,1);x.version=y;const v=o.get(f);v&&e.remove(v),o.set(f,x)}function u(f){const d=o.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return o.get(f)}return{get:l,update:a,getWireframeAttribute:u}}function qre(t,e,n,r){const i=r.isWebGL2;let o;function s(d){o=d}let l,a;function c(d){l=d.type,a=d.bytesPerElement}function u(d,p){t.drawElements(o,p,l,d*a),n.update(p,o,1)}function f(d,p,g){if(g===0)return;let y,x;if(i)y=t,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](o,p,l,d*a,g),n.update(p,o,g)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=f}function Yre(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,l){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=l*(o/3);break;case t.LINES:n.lines+=l*(o/2);break;case t.LINE_STRIP:n.lines+=l*(o-1);break;case t.LINE_LOOP:n.lines+=l*o;break;case t.POINTS:n.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Kre(t,e){return t[0]-e[0]}function Jre(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Zre(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,s=new Un,l=[];for(let c=0;c<8;c++)l[c]=[c,0];function a(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let x=o.get(u);if(x===void 0||x.count!==y){let X=function(){V.dispose(),o.delete(u),u.removeEventListener("dispose",X)};var p=X;x!==void 0&&x.texture.dispose();const _=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let C=0;_===!0&&(C=1),S===!0&&(C=2),E===!0&&(C=3);let P=u.attributes.position.count*C,F=1;P>e.maxTextureSize&&(F=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const G=new Float32Array(P*F*4*y),V=new ux(G,P,F,y);V.type=la,V.needsUpdate=!0;const B=C*4;for(let ee=0;ee<y;ee++){const te=M[ee],O=T[ee],D=R[ee],H=P*F*4*ee;for(let $=0;$<te.count;$++){const W=$*B;_===!0&&(s.fromBufferAttribute(te,$),G[H+W+0]=s.x,G[H+W+1]=s.y,G[H+W+2]=s.z,G[H+W+3]=0),S===!0&&(s.fromBufferAttribute(O,$),G[H+W+4]=s.x,G[H+W+5]=s.y,G[H+W+6]=s.z,G[H+W+7]=0),E===!0&&(s.fromBufferAttribute(D,$),G[H+W+8]=s.x,G[H+W+9]=s.y,G[H+W+10]=s.z,G[H+W+11]=D.itemSize===4?s.w:1)}}x={count:y,texture:V,size:new it(P,F)},o.set(u,x),u.addEventListener("dispose",X)}let v=0;for(let _=0;_<d.length;_++)v+=d[_];const b=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const g=d===void 0?0:d.length;let y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let S=0;S<g;S++)y[S]=[S,0];r[u.id]=y}for(let S=0;S<g;S++){const E=y[S];E[0]=S,E[1]=d[S]}y.sort(Jre);for(let S=0;S<8;S++)S<g&&y[S][1]?(l[S][0]=y[S][0],l[S][1]=y[S][1]):(l[S][0]=Number.MAX_SAFE_INTEGER,l[S][1]=0);l.sort(Kre);const x=u.morphAttributes.position,v=u.morphAttributes.normal;let b=0;for(let S=0;S<8;S++){const E=l[S],M=E[0],T=E[1];M!==Number.MAX_SAFE_INTEGER&&T?(x&&u.getAttribute("morphTarget"+S)!==x[M]&&u.setAttribute("morphTarget"+S,x[M]),v&&u.getAttribute("morphNormal"+S)!==v[M]&&u.setAttribute("morphNormal"+S,v[M]),i[S]=T,b+=T):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),v&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const _=u.morphTargetsRelative?1:1-b;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:a}}function Qre(t,e,n,r){let i=new WeakMap;function o(a){const c=r.render.frame,u=a.geometry,f=e.get(a,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),a.isInstancedMesh&&(a.hasEventListener("dispose",l)===!1&&a.addEventListener("dispose",l),n.update(a.instanceMatrix,t.ARRAY_BUFFER),a.instanceColor!==null&&n.update(a.instanceColor,t.ARRAY_BUFFER)),f}function s(){i=new WeakMap}function l(a){const c=a.target;c.removeEventListener("dispose",l),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}const OU=new Sr,FU=new ux,DU=new T2,UU=new Hm,x3=[],b3=[],_3=new Float32Array(16),S3=new Float32Array(9),w3=new Float32Array(4);function $d(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=x3[i];if(o===void 0&&(o=new Float32Array(i),x3[i]=o),e!==0){r.toArray(o,0);for(let s=1,l=0;s!==e;++s)l+=n,t[s].toArray(o,l)}return o}function ti(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ni(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function hx(t,e){let n=b3[e];n===void 0&&(n=new Int32Array(e),b3[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function eie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function tie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ti(n,e))return;t.uniform2fv(this.addr,e),ni(n,e)}}function nie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ti(n,e))return;t.uniform3fv(this.addr,e),ni(n,e)}}function rie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ti(n,e))return;t.uniform4fv(this.addr,e),ni(n,e)}}function iie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ti(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ni(n,e)}else{if(ti(n,r))return;w3.set(r),t.uniformMatrix2fv(this.addr,!1,w3),ni(n,r)}}function oie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ti(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ni(n,e)}else{if(ti(n,r))return;S3.set(r),t.uniformMatrix3fv(this.addr,!1,S3),ni(n,r)}}function sie(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ti(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ni(n,e)}else{if(ti(n,r))return;_3.set(r),t.uniformMatrix4fv(this.addr,!1,_3),ni(n,r)}}function aie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function lie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ti(n,e))return;t.uniform2iv(this.addr,e),ni(n,e)}}function cie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ti(n,e))return;t.uniform3iv(this.addr,e),ni(n,e)}}function uie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ti(n,e))return;t.uniform4iv(this.addr,e),ni(n,e)}}function fie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function die(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ti(n,e))return;t.uniform2uiv(this.addr,e),ni(n,e)}}function hie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ti(n,e))return;t.uniform3uiv(this.addr,e),ni(n,e)}}function pie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ti(n,e))return;t.uniform4uiv(this.addr,e),ni(n,e)}}function mie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||OU,i)}function gie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||DU,i)}function vie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||UU,i)}function yie(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||FU,i)}function xie(t){switch(t){case 5126:return eie;case 35664:return tie;case 35665:return nie;case 35666:return rie;case 35674:return iie;case 35675:return oie;case 35676:return sie;case 5124:case 35670:return aie;case 35667:case 35671:return lie;case 35668:case 35672:return cie;case 35669:case 35673:return uie;case 5125:return fie;case 36294:return die;case 36295:return hie;case 36296:return pie;case 35678:case 36198:case 36298:case 36306:case 35682:return mie;case 35679:case 36299:case 36307:return gie;case 35680:case 36300:case 36308:case 36293:return vie;case 36289:case 36303:case 36311:case 36292:return yie}}function bie(t,e){t.uniform1fv(this.addr,e)}function _ie(t,e){const n=$d(e,this.size,2);t.uniform2fv(this.addr,n)}function Sie(t,e){const n=$d(e,this.size,3);t.uniform3fv(this.addr,n)}function wie(t,e){const n=$d(e,this.size,4);t.uniform4fv(this.addr,n)}function Eie(t,e){const n=$d(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Mie(t,e){const n=$d(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Tie(t,e){const n=$d(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Aie(t,e){t.uniform1iv(this.addr,e)}function Cie(t,e){t.uniform2iv(this.addr,e)}function Rie(t,e){t.uniform3iv(this.addr,e)}function Pie(t,e){t.uniform4iv(this.addr,e)}function Iie(t,e){t.uniform1uiv(this.addr,e)}function Lie(t,e){t.uniform2uiv(this.addr,e)}function kie(t,e){t.uniform3uiv(this.addr,e)}function Nie(t,e){t.uniform4uiv(this.addr,e)}function Oie(t,e,n){const r=this.cache,i=e.length,o=hx(n,i);ti(r,o)||(t.uniform1iv(this.addr,o),ni(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||OU,o[s])}function Fie(t,e,n){const r=this.cache,i=e.length,o=hx(n,i);ti(r,o)||(t.uniform1iv(this.addr,o),ni(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||DU,o[s])}function Die(t,e,n){const r=this.cache,i=e.length,o=hx(n,i);ti(r,o)||(t.uniform1iv(this.addr,o),ni(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||UU,o[s])}function Uie(t,e,n){const r=this.cache,i=e.length,o=hx(n,i);ti(r,o)||(t.uniform1iv(this.addr,o),ni(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||FU,o[s])}function Bie(t){switch(t){case 5126:return bie;case 35664:return _ie;case 35665:return Sie;case 35666:return wie;case 35674:return Eie;case 35675:return Mie;case 35676:return Tie;case 5124:case 35670:return Aie;case 35667:case 35671:return Cie;case 35668:case 35672:return Rie;case 35669:case 35673:return Pie;case 5125:return Iie;case 36294:return Lie;case 36295:return kie;case 36296:return Nie;case 35678:case 36198:case 36298:case 36306:case 35682:return Oie;case 35679:case 36299:case 36307:return Fie;case 35680:case 36300:case 36308:case 36293:return Die;case 36289:case 36303:case 36311:case 36292:return Uie}}class zie{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=xie(n.type)}}class Gie{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Bie(n.type)}}class Hie{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const l=i[o];l.setValue(e,n[l.id],r)}}}const D_=/(\w+)(\])?(\[|\.)?/g;function E3(t,e){t.seq.push(e),t.map[e.id]=e}function Vie(t,e,n){const r=t.name,i=r.length;for(D_.lastIndex=0;;){const o=D_.exec(r),s=D_.lastIndex;let l=o[1];const a=o[2]==="]",c=o[3];if(a&&(l=l|0),c===void 0||c==="["&&s+2===i){E3(n,c===void 0?new zie(l,t,e):new Gie(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new Hie(l),E3(n,f)),n=f}}}class Dv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Vie(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const l=n[o],a=r[l.id];a.needsUpdate!==!1&&l.setValue(e,a.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function M3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Wie=0;function jie(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const l=s+1;r.push(`${l===e?">":" "} ${l}: ${n[s]}`)}return r.join(`
`)}function $ie(t){switch(t){case Fs:return["Linear","( value )"];case Jt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function T3(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+jie(t.getShaderSource(e),s)}else return i}function Xie(t,e){const n=$ie(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function qie(t,e){let n;switch(e){case tU:n="Linear";break;case nU:n="Reinhard";break;case rU:n="OptimizedCineon";break;case d2:n="ACESFilmic";break;case iU:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Yie(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ep).join(`
`)}function Kie(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Jie(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let l=1;o.type===t.FLOAT_MAT2&&(l=2),o.type===t.FLOAT_MAT3&&(l=3),o.type===t.FLOAT_MAT4&&(l=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:l}}return n}function ep(t){return t!==""}function A3(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function C3(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Zie=/^[ \t]*#include +<([\w\d./]+)>/gm;function dE(t){return t.replace(Zie,Qie)}function Qie(t,e){const n=en[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return dE(n)}const eoe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function R3(t){return t.replace(eoe,toe)}function toe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function P3(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function noe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===sx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===_p?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ms&&(e="SHADOWMAP_TYPE_VSM"),e}function roe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ec:case tc:e="ENVMAP_TYPE_CUBE";break;case Wd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ioe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case tc:e="ENVMAP_MODE_REFRACTION";break}return e}function ooe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Bm:e="ENVMAP_BLENDING_MULTIPLY";break;case QD:e="ENVMAP_BLENDING_MIX";break;case eU:e="ENVMAP_BLENDING_ADD";break}return e}function soe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function aoe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,l=n.fragmentShader;const a=noe(n),c=roe(n),u=ioe(n),f=ooe(n),d=soe(n),p=n.isWebGL2?"":Yie(n),g=Kie(o),y=i.createProgram();let x,v,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(ep).join(`
`),x.length>0&&(x+=`
`),v=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(ep).join(`
`),v.length>0&&(v+=`
`)):(x=[P3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+a:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ep).join(`
`),v=[p,P3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+a:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ns?"#define TONE_MAPPING":"",n.toneMapping!==Ns?en.tonemapping_pars_fragment:"",n.toneMapping!==Ns?qie("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",en.encodings_pars_fragment,Xie("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ep).join(`
`)),s=dE(s),s=A3(s,n),s=C3(s,n),l=dE(l),l=A3(l,n),l=C3(l,n),s=R3(s),l=R3(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",n.glslVersion===cE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===cE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=b+x+s,S=b+v+l,E=M3(i,i.VERTEX_SHADER,_),M=M3(i,i.FRAGMENT_SHADER,S);if(i.attachShader(y,E),i.attachShader(y,M),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(y).trim(),P=i.getShaderInfoLog(E).trim(),F=i.getShaderInfoLog(M).trim();let G=!0,V=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(G=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,M);else{const B=T3(i,E,"vertex"),X=T3(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+B+`
`+X)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(P===""||F==="")&&(V=!1);V&&(this.diagnostics={runnable:G,programLog:C,vertexShader:{log:P,prefix:x},fragmentShader:{log:F,prefix:v}})}i.deleteShader(E),i.deleteShader(M);let T;this.getUniforms=function(){return T===void 0&&(T=new Dv(i,y)),T};let R;return this.getAttributes=function(){return R===void 0&&(R=Jie(i,y)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Wie++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let loe=0;class coe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new uoe(e),n.set(e,r)),r}}class uoe{constructor(e){this.id=loe++,this.code=e,this.usedTimes=0}}function foe(t,e,n,r,i,o,s){const l=new lu,a=new coe,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(C){return C===0?"uv":`uv${C}`}function x(C,P,F,G,V){const B=G.fog,X=V.geometry,ee=C.isMeshStandardMaterial?G.environment:null,te=(C.isMeshStandardMaterial?n:e).get(C.envMap||ee),O=te&&te.mapping===Wd?te.image.height:null,D=g[C.type];C.precision!==null&&(p=i.getMaxPrecision(C.precision),p!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",p,"instead."));const H=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,$=H!==void 0?H.length:0;let W=0;X.morphAttributes.position!==void 0&&(W=1),X.morphAttributes.normal!==void 0&&(W=2),X.morphAttributes.color!==void 0&&(W=3);let ie,j,Y,K;if(D){const Et=Ps[D];ie=Et.vertexShader,j=Et.fragmentShader}else ie=C.vertexShader,j=C.fragmentShader,a.update(C),Y=a.getVertexShaderID(C),K=a.getFragmentShaderID(C);const fe=t.getRenderTarget(),pe=V.isInstancedMesh===!0,xe=!!C.map,Ge=!!C.matcap,Ae=!!te,z=!!C.aoMap,ge=!!C.lightMap,Me=!!C.bumpMap,Ie=!!C.normalMap,Re=!!C.displacementMap,We=!!C.emissiveMap,ke=!!C.metalnessMap,je=!!C.roughnessMap,He=C.anisotropy>0,Ne=C.clearcoat>0,Ke=C.iridescence>0,J=C.sheen>0,N=C.transmission>0,oe=He&&!!C.anisotropyMap,Le=Ne&&!!C.clearcoatMap,Te=Ne&&!!C.clearcoatNormalMap,_e=Ne&&!!C.clearcoatRoughnessMap,ye=Ke&&!!C.iridescenceMap,we=Ke&&!!C.iridescenceThicknessMap,Se=J&&!!C.sheenColorMap,be=J&&!!C.sheenRoughnessMap,se=!!C.specularMap,de=!!C.specularColorMap,he=!!C.specularIntensityMap,me=N&&!!C.transmissionMap,Ue=N&&!!C.thicknessMap,qe=!!C.gradientMap,re=!!C.alphaMap,Be=C.alphaTest>0,Ee=!!C.extensions,Ye=!!X.attributes.uv1,tt=!!X.attributes.uv2,vt=!!X.attributes.uv3;return{isWebGL2:u,shaderID:D,shaderType:C.type,shaderName:C.name,vertexShader:ie,fragmentShader:j,defines:C.defines,customVertexShaderID:Y,customFragmentShaderID:K,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:p,instancing:pe,instancingColor:pe&&V.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Fs,map:xe,matcap:Ge,envMap:Ae,envMapMode:Ae&&te.mapping,envMapCubeUVHeight:O,aoMap:z,lightMap:ge,bumpMap:Me,normalMap:Ie,displacementMap:d&&Re,emissiveMap:We,normalMapObjectSpace:Ie&&C.normalMapType===yU,normalMapTangentSpace:Ie&&C.normalMapType===dc,metalnessMap:ke,roughnessMap:je,anisotropy:He,anisotropyMap:oe,clearcoat:Ne,clearcoatMap:Le,clearcoatNormalMap:Te,clearcoatRoughnessMap:_e,iridescence:Ke,iridescenceMap:ye,iridescenceThicknessMap:we,sheen:J,sheenColorMap:Se,sheenRoughnessMap:be,specularMap:se,specularColorMap:de,specularIntensityMap:he,transmission:N,transmissionMap:me,thicknessMap:Ue,gradientMap:qe,opaque:C.transparent===!1&&C.blending===su,alphaMap:re,alphaTest:Be,combine:C.combine,mapUv:xe&&y(C.map.channel),aoMapUv:z&&y(C.aoMap.channel),lightMapUv:ge&&y(C.lightMap.channel),bumpMapUv:Me&&y(C.bumpMap.channel),normalMapUv:Ie&&y(C.normalMap.channel),displacementMapUv:Re&&y(C.displacementMap.channel),emissiveMapUv:We&&y(C.emissiveMap.channel),metalnessMapUv:ke&&y(C.metalnessMap.channel),roughnessMapUv:je&&y(C.roughnessMap.channel),anisotropyMapUv:oe&&y(C.anisotropyMap.channel),clearcoatMapUv:Le&&y(C.clearcoatMap.channel),clearcoatNormalMapUv:Te&&y(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_e&&y(C.clearcoatRoughnessMap.channel),iridescenceMapUv:ye&&y(C.iridescenceMap.channel),iridescenceThicknessMapUv:we&&y(C.iridescenceThicknessMap.channel),sheenColorMapUv:Se&&y(C.sheenColorMap.channel),sheenRoughnessMapUv:be&&y(C.sheenRoughnessMap.channel),specularMapUv:se&&y(C.specularMap.channel),specularColorMapUv:de&&y(C.specularColorMap.channel),specularIntensityMapUv:he&&y(C.specularIntensityMap.channel),transmissionMapUv:me&&y(C.transmissionMap.channel),thicknessMapUv:Ue&&y(C.thicknessMap.channel),alphaMapUv:re&&y(C.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Ie||He),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:Ye,vertexUv2s:tt,vertexUv3s:vt,pointsUvs:V.isPoints===!0&&!!X.attributes.uv&&(xe||re),fog:!!B,useFog:C.fog===!0,fogExp2:B&&B.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:V.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:W,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:C.toneMapped?t.toneMapping:Ns,useLegacyLights:t.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Eo,flipSided:C.side===vi,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:Ee&&C.extensions.derivatives===!0,extensionFragDepth:Ee&&C.extensions.fragDepth===!0,extensionDrawBuffers:Ee&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ee&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const P=[];if(C.shaderID?P.push(C.shaderID):(P.push(C.customVertexShaderID),P.push(C.customFragmentShaderID)),C.defines!==void 0)for(const F in C.defines)P.push(F),P.push(C.defines[F]);return C.isRawShaderMaterial===!1&&(b(P,C),_(P,C),P.push(t.outputColorSpace)),P.push(C.customProgramCacheKey),P.join()}function b(C,P){C.push(P.precision),C.push(P.outputColorSpace),C.push(P.envMapMode),C.push(P.envMapCubeUVHeight),C.push(P.mapUv),C.push(P.alphaMapUv),C.push(P.lightMapUv),C.push(P.aoMapUv),C.push(P.bumpMapUv),C.push(P.normalMapUv),C.push(P.displacementMapUv),C.push(P.emissiveMapUv),C.push(P.metalnessMapUv),C.push(P.roughnessMapUv),C.push(P.anisotropyMapUv),C.push(P.clearcoatMapUv),C.push(P.clearcoatNormalMapUv),C.push(P.clearcoatRoughnessMapUv),C.push(P.iridescenceMapUv),C.push(P.iridescenceThicknessMapUv),C.push(P.sheenColorMapUv),C.push(P.sheenRoughnessMapUv),C.push(P.specularMapUv),C.push(P.specularColorMapUv),C.push(P.specularIntensityMapUv),C.push(P.transmissionMapUv),C.push(P.thicknessMapUv),C.push(P.combine),C.push(P.fogExp2),C.push(P.sizeAttenuation),C.push(P.morphTargetsCount),C.push(P.morphAttributeCount),C.push(P.numDirLights),C.push(P.numPointLights),C.push(P.numSpotLights),C.push(P.numSpotLightMaps),C.push(P.numHemiLights),C.push(P.numRectAreaLights),C.push(P.numDirLightShadows),C.push(P.numPointLightShadows),C.push(P.numSpotLightShadows),C.push(P.numSpotLightShadowsWithMaps),C.push(P.shadowMapType),C.push(P.toneMapping),C.push(P.numClippingPlanes),C.push(P.numClipIntersection),C.push(P.depthPacking)}function _(C,P){l.disableAll(),P.isWebGL2&&l.enable(0),P.supportsVertexTextures&&l.enable(1),P.instancing&&l.enable(2),P.instancingColor&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),C.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.skinning&&l.enable(4),P.morphTargets&&l.enable(5),P.morphNormals&&l.enable(6),P.morphColors&&l.enable(7),P.premultipliedAlpha&&l.enable(8),P.shadowMapEnabled&&l.enable(9),P.useLegacyLights&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),C.push(l.mask)}function S(C){const P=g[C.type];let F;if(P){const G=Ps[P];F=fx.clone(G.uniforms)}else F=C.uniforms;return F}function E(C,P){let F;for(let G=0,V=c.length;G<V;G++){const B=c[G];if(B.cacheKey===P){F=B,++F.usedTimes;break}}return F===void 0&&(F=new aoe(t,P,C,o),c.push(F)),F}function M(C){if(--C.usedTimes===0){const P=c.indexOf(C);c[P]=c[c.length-1],c.pop(),C.destroy()}}function T(C){a.remove(C)}function R(){a.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:S,acquireProgram:E,releaseProgram:M,releaseShaderCache:T,programs:c,dispose:R}}function doe(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,l){t.get(o)[s]=l}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function hoe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function I3(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function L3(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(f,d,p,g,y,x){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:d,material:p,groupOrder:g,renderOrder:f.renderOrder,z:y,group:x},t[e]=v):(v.id=f.id,v.object=f,v.geometry=d,v.material=p,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=y,v.group=x),e++,v}function l(f,d,p,g,y,x){const v=s(f,d,p,g,y,x);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function a(f,d,p,g,y,x){const v=s(f,d,p,g,y,x);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function c(f,d){n.length>1&&n.sort(f||hoe),r.length>1&&r.sort(d||I3),i.length>1&&i.sort(d||I3)}function u(){for(let f=e,d=t.length;f<d;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:l,unshift:a,finish:u,sort:c}}function poe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new L3,t.set(r,[s])):i>=o.length?(s=new L3,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function moe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ce,color:new yt};break;case"SpotLight":n={position:new ce,direction:new ce,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ce,color:new yt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ce,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":n={color:new yt,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return t[e.id]=n,n}}}function goe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let voe=0;function yoe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function xoe(t,e){const n=new moe,r=goe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new ce);const o=new ce,s=new qt,l=new qt;function a(u,f){let d=0,p=0,g=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let y=0,x=0,v=0,b=0,_=0,S=0,E=0,M=0,T=0,R=0;u.sort(yoe);const C=f===!0?Math.PI:1;for(let F=0,G=u.length;F<G;F++){const V=u[F],B=V.color,X=V.intensity,ee=V.distance,te=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)d+=B.r*X*C,p+=B.g*X*C,g+=B.b*X*C;else if(V.isLightProbe)for(let O=0;O<9;O++)i.probe[O].addScaledVector(V.sh.coefficients[O],X);else if(V.isDirectionalLight){const O=n.get(V);if(O.color.copy(V.color).multiplyScalar(V.intensity*C),V.castShadow){const D=V.shadow,H=r.get(V);H.shadowBias=D.bias,H.shadowNormalBias=D.normalBias,H.shadowRadius=D.radius,H.shadowMapSize=D.mapSize,i.directionalShadow[y]=H,i.directionalShadowMap[y]=te,i.directionalShadowMatrix[y]=V.shadow.matrix,S++}i.directional[y]=O,y++}else if(V.isSpotLight){const O=n.get(V);O.position.setFromMatrixPosition(V.matrixWorld),O.color.copy(B).multiplyScalar(X*C),O.distance=ee,O.coneCos=Math.cos(V.angle),O.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),O.decay=V.decay,i.spot[v]=O;const D=V.shadow;if(V.map&&(i.spotLightMap[T]=V.map,T++,D.updateMatrices(V),V.castShadow&&R++),i.spotLightMatrix[v]=D.matrix,V.castShadow){const H=r.get(V);H.shadowBias=D.bias,H.shadowNormalBias=D.normalBias,H.shadowRadius=D.radius,H.shadowMapSize=D.mapSize,i.spotShadow[v]=H,i.spotShadowMap[v]=te,M++}v++}else if(V.isRectAreaLight){const O=n.get(V);O.color.copy(B).multiplyScalar(X),O.halfWidth.set(V.width*.5,0,0),O.halfHeight.set(0,V.height*.5,0),i.rectArea[b]=O,b++}else if(V.isPointLight){const O=n.get(V);if(O.color.copy(V.color).multiplyScalar(V.intensity*C),O.distance=V.distance,O.decay=V.decay,V.castShadow){const D=V.shadow,H=r.get(V);H.shadowBias=D.bias,H.shadowNormalBias=D.normalBias,H.shadowRadius=D.radius,H.shadowMapSize=D.mapSize,H.shadowCameraNear=D.camera.near,H.shadowCameraFar=D.camera.far,i.pointShadow[x]=H,i.pointShadowMap[x]=te,i.pointShadowMatrix[x]=V.shadow.matrix,E++}i.point[x]=O,x++}else if(V.isHemisphereLight){const O=n.get(V);O.skyColor.copy(V.color).multiplyScalar(X*C),O.groundColor.copy(V.groundColor).multiplyScalar(X*C),i.hemi[_]=O,_++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=g;const P=i.hash;(P.directionalLength!==y||P.pointLength!==x||P.spotLength!==v||P.rectAreaLength!==b||P.hemiLength!==_||P.numDirectionalShadows!==S||P.numPointShadows!==E||P.numSpotShadows!==M||P.numSpotMaps!==T)&&(i.directional.length=y,i.spot.length=v,i.rectArea.length=b,i.point.length=x,i.hemi.length=_,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=M+T-R,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=R,P.directionalLength=y,P.pointLength=x,P.spotLength=v,P.rectAreaLength=b,P.hemiLength=_,P.numDirectionalShadows=S,P.numPointShadows=E,P.numSpotShadows=M,P.numSpotMaps=T,i.version=voe++)}function c(u,f){let d=0,p=0,g=0,y=0,x=0;const v=f.matrixWorldInverse;for(let b=0,_=u.length;b<_;b++){const S=u[b];if(S.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(o),E.direction.transformDirection(v),d++}else if(S.isSpotLight){const E=i.spot[g];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(v),E.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(o),E.direction.transformDirection(v),g++}else if(S.isRectAreaLight){const E=i.rectArea[y];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(v),l.identity(),s.copy(S.matrixWorld),s.premultiply(v),l.extractRotation(s),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(l),E.halfHeight.applyMatrix4(l),y++}else if(S.isPointLight){const E=i.point[p];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(v),p++}else if(S.isHemisphereLight){const E=i.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(v),x++}}}return{setup:a,setupView:c,state:i}}function k3(t,e){const n=new xoe(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(f){r.push(f)}function l(f){i.push(f)}function a(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:a,setupLightsView:c,pushLight:s,pushShadow:l}}function boe(t,e){let n=new WeakMap;function r(o,s=0){const l=n.get(o);let a;return l===void 0?(a=new k3(t,e),n.set(o,[a])):s>=l.length?(a=new k3(t,e),l.push(a)):a=l[s],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class px extends xi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=vU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mx extends xi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _oe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Soe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function woe(t,e,n){let r=new dx;const i=new it,o=new it,s=new Un,l=new px({depthPacking:S2}),a=new mx,c={},u=n.maxTextureSize,f={[ya]:vi,[vi]:ya,[Eo]:Eo},d=new ss({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:_oe,fragmentShader:Soe}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const g=new nn;g.setAttribute("position",new Qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new pr(g,d),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sx;let v=this.type;this.render=function(E,M,T){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||E.length===0)return;const R=t.getRenderTarget(),C=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),F=t.state;F.setBlending(qa),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const G=v!==Ms&&this.type===Ms,V=v===Ms&&this.type!==Ms;for(let B=0,X=E.length;B<X;B++){const ee=E[B],te=ee.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;i.copy(te.mapSize);const O=te.getFrameExtents();if(i.multiply(O),o.copy(te.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/O.x),i.x=o.x*O.x,te.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/O.y),i.y=o.y*O.y,te.mapSize.y=o.y)),te.map===null||G===!0||V===!0){const H=this.type!==Ms?{minFilter:Dr,magFilter:Dr}:{};te.map!==null&&te.map.dispose(),te.map=new Ds(i.x,i.y,H),te.map.texture.name=ee.name+".shadowMap",te.camera.updateProjectionMatrix()}t.setRenderTarget(te.map),t.clear();const D=te.getViewportCount();for(let H=0;H<D;H++){const $=te.getViewport(H);s.set(o.x*$.x,o.y*$.y,o.x*$.z,o.y*$.w),F.viewport(s),te.updateMatrices(ee,H),r=te.getFrustum(),S(M,T,te.camera,ee,this.type)}te.isPointLightShadow!==!0&&this.type===Ms&&b(te,T),te.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(R,C,P)};function b(E,M){const T=e.update(y);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Ds(i.x,i.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(M,null,T,d,y,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(M,null,T,p,y,null)}function _(E,M,T,R){let C=null;const P=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(P!==void 0)C=P;else if(C=T.isPointLight===!0?a:l,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const F=C.uuid,G=M.uuid;let V=c[F];V===void 0&&(V={},c[F]=V);let B=V[G];B===void 0&&(B=C.clone(),V[G]=B),C=B}if(C.visible=M.visible,C.wireframe=M.wireframe,R===Ms?C.side=M.shadowSide!==null?M.shadowSide:M.side:C.side=M.shadowSide!==null?M.shadowSide:f[M.side],C.alphaMap=M.alphaMap,C.alphaTest=M.alphaTest,C.map=M.map,C.clipShadows=M.clipShadows,C.clippingPlanes=M.clippingPlanes,C.clipIntersection=M.clipIntersection,C.displacementMap=M.displacementMap,C.displacementScale=M.displacementScale,C.displacementBias=M.displacementBias,C.wireframeLinewidth=M.wireframeLinewidth,C.linewidth=M.linewidth,T.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const F=t.properties.get(C);F.light=T}return C}function S(E,M,T,R,C){if(E.visible===!1)return;if(E.layers.test(M.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&C===Ms)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const G=e.update(E),V=E.material;if(Array.isArray(V)){const B=G.groups;for(let X=0,ee=B.length;X<ee;X++){const te=B[X],O=V[te.materialIndex];if(O&&O.visible){const D=_(E,O,R,C);t.renderBufferDirect(T,null,G,D,E,te)}}}else if(V.visible){const B=_(E,V,R,C);t.renderBufferDirect(T,null,G,B,E,null)}}const F=E.children;for(let G=0,V=F.length;G<V;G++)S(F[G],M,T,R,C)}}function Eoe(t,e,n){const r=n.isWebGL2;function i(){let re=!1;const Be=new Un;let Ee=null;const Ye=new Un(0,0,0,0);return{setMask:function(tt){Ee!==tt&&!re&&(t.colorMask(tt,tt,tt,tt),Ee=tt)},setLocked:function(tt){re=tt},setClear:function(tt,vt,xt,Et,Gt){Gt===!0&&(tt*=Et,vt*=Et,xt*=Et),Be.set(tt,vt,xt,Et),Ye.equals(Be)===!1&&(t.clearColor(tt,vt,xt,Et),Ye.copy(Be))},reset:function(){re=!1,Ee=null,Ye.set(-1,0,0,0)}}}function o(){let re=!1,Be=null,Ee=null,Ye=null;return{setTest:function(tt){tt?fe(t.DEPTH_TEST):pe(t.DEPTH_TEST)},setMask:function(tt){Be!==tt&&!re&&(t.depthMask(tt),Be=tt)},setFunc:function(tt){if(Ee!==tt){switch(tt){case $D:t.depthFunc(t.NEVER);break;case XD:t.depthFunc(t.ALWAYS);break;case qD:t.depthFunc(t.LESS);break;case Iy:t.depthFunc(t.LEQUAL);break;case YD:t.depthFunc(t.EQUAL);break;case KD:t.depthFunc(t.GEQUAL);break;case JD:t.depthFunc(t.GREATER);break;case ZD:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ee=tt}},setLocked:function(tt){re=tt},setClear:function(tt){Ye!==tt&&(t.clearDepth(tt),Ye=tt)},reset:function(){re=!1,Be=null,Ee=null,Ye=null}}}function s(){let re=!1,Be=null,Ee=null,Ye=null,tt=null,vt=null,xt=null,Et=null,Gt=null;return{setTest:function(Xt){re||(Xt?fe(t.STENCIL_TEST):pe(t.STENCIL_TEST))},setMask:function(Xt){Be!==Xt&&!re&&(t.stencilMask(Xt),Be=Xt)},setFunc:function(Xt,jt,Vt){(Ee!==Xt||Ye!==jt||tt!==Vt)&&(t.stencilFunc(Xt,jt,Vt),Ee=Xt,Ye=jt,tt=Vt)},setOp:function(Xt,jt,Vt){(vt!==Xt||xt!==jt||Et!==Vt)&&(t.stencilOp(Xt,jt,Vt),vt=Xt,xt=jt,Et=Vt)},setLocked:function(Xt){re=Xt},setClear:function(Xt){Gt!==Xt&&(t.clearStencil(Xt),Gt=Xt)},reset:function(){re=!1,Be=null,Ee=null,Ye=null,tt=null,vt=null,xt=null,Et=null,Gt=null}}}const l=new i,a=new o,c=new s,u=new WeakMap,f=new WeakMap;let d={},p={},g=new WeakMap,y=[],x=null,v=!1,b=null,_=null,S=null,E=null,M=null,T=null,R=null,C=!1,P=null,F=null,G=null,V=null,B=null;const X=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,te=0;const O=t.getParameter(t.VERSION);O.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(O)[1]),ee=te>=1):O.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),ee=te>=2);let D=null,H={};const $=t.getParameter(t.SCISSOR_BOX),W=t.getParameter(t.VIEWPORT),ie=new Un().fromArray($),j=new Un().fromArray(W);function Y(re,Be,Ee,Ye){const tt=new Uint8Array(4),vt=t.createTexture();t.bindTexture(re,vt),t.texParameteri(re,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(re,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let xt=0;xt<Ee;xt++)r&&(re===t.TEXTURE_3D||re===t.TEXTURE_2D_ARRAY)?t.texImage3D(Be,0,t.RGBA,1,1,Ye,0,t.RGBA,t.UNSIGNED_BYTE,tt):t.texImage2D(Be+xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,tt);return vt}const K={};K[t.TEXTURE_2D]=Y(t.TEXTURE_2D,t.TEXTURE_2D,1),K[t.TEXTURE_CUBE_MAP]=Y(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(K[t.TEXTURE_2D_ARRAY]=Y(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),K[t.TEXTURE_3D]=Y(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),a.setClear(1),c.setClear(0),fe(t.DEPTH_TEST),a.setFunc(Iy),Re(!1),We(Ow),fe(t.CULL_FACE),Me(qa);function fe(re){d[re]!==!0&&(t.enable(re),d[re]=!0)}function pe(re){d[re]!==!1&&(t.disable(re),d[re]=!1)}function xe(re,Be){return p[re]!==Be?(t.bindFramebuffer(re,Be),p[re]=Be,r&&(re===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=Be),re===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=Be)),!0):!1}function Ge(re,Be){let Ee=y,Ye=!1;if(re)if(Ee=g.get(Be),Ee===void 0&&(Ee=[],g.set(Be,Ee)),re.isWebGLMultipleRenderTargets){const tt=re.texture;if(Ee.length!==tt.length||Ee[0]!==t.COLOR_ATTACHMENT0){for(let vt=0,xt=tt.length;vt<xt;vt++)Ee[vt]=t.COLOR_ATTACHMENT0+vt;Ee.length=tt.length,Ye=!0}}else Ee[0]!==t.COLOR_ATTACHMENT0&&(Ee[0]=t.COLOR_ATTACHMENT0,Ye=!0);else Ee[0]!==t.BACK&&(Ee[0]=t.BACK,Ye=!0);Ye&&(n.isWebGL2?t.drawBuffers(Ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function Ae(re){return x!==re?(t.useProgram(re),x=re,!0):!1}const z={[$c]:t.FUNC_ADD,[OD]:t.FUNC_SUBTRACT,[FD]:t.FUNC_REVERSE_SUBTRACT};if(r)z[Uw]=t.MIN,z[Bw]=t.MAX;else{const re=e.get("EXT_blend_minmax");re!==null&&(z[Uw]=re.MIN_EXT,z[Bw]=re.MAX_EXT)}const ge={[DD]:t.ZERO,[UD]:t.ONE,[BD]:t.SRC_COLOR,[u2]:t.SRC_ALPHA,[jD]:t.SRC_ALPHA_SATURATE,[VD]:t.DST_COLOR,[GD]:t.DST_ALPHA,[zD]:t.ONE_MINUS_SRC_COLOR,[f2]:t.ONE_MINUS_SRC_ALPHA,[WD]:t.ONE_MINUS_DST_COLOR,[HD]:t.ONE_MINUS_DST_ALPHA};function Me(re,Be,Ee,Ye,tt,vt,xt,Et){if(re===qa){v===!0&&(pe(t.BLEND),v=!1);return}if(v===!1&&(fe(t.BLEND),v=!0),re!==ND){if(re!==b||Et!==C){if((_!==$c||M!==$c)&&(t.blendEquation(t.FUNC_ADD),_=$c,M=$c),Et)switch(re){case su:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Py:t.blendFunc(t.ONE,t.ONE);break;case Fw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Dw:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case su:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Py:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Fw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Dw:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}S=null,E=null,T=null,R=null,b=re,C=Et}return}tt=tt||Be,vt=vt||Ee,xt=xt||Ye,(Be!==_||tt!==M)&&(t.blendEquationSeparate(z[Be],z[tt]),_=Be,M=tt),(Ee!==S||Ye!==E||vt!==T||xt!==R)&&(t.blendFuncSeparate(ge[Ee],ge[Ye],ge[vt],ge[xt]),S=Ee,E=Ye,T=vt,R=xt),b=re,C=!1}function Ie(re,Be){re.side===Eo?pe(t.CULL_FACE):fe(t.CULL_FACE);let Ee=re.side===vi;Be&&(Ee=!Ee),Re(Ee),re.blending===su&&re.transparent===!1?Me(qa):Me(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),a.setFunc(re.depthFunc),a.setTest(re.depthTest),a.setMask(re.depthWrite),l.setMask(re.colorWrite);const Ye=re.stencilWrite;c.setTest(Ye),Ye&&(c.setMask(re.stencilWriteMask),c.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),c.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),je(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Re(re){P!==re&&(re?t.frontFace(t.CW):t.frontFace(t.CCW),P=re)}function We(re){re!==ID?(fe(t.CULL_FACE),re!==F&&(re===Ow?t.cullFace(t.BACK):re===LD?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):pe(t.CULL_FACE),F=re}function ke(re){re!==G&&(ee&&t.lineWidth(re),G=re)}function je(re,Be,Ee){re?(fe(t.POLYGON_OFFSET_FILL),(V!==Be||B!==Ee)&&(t.polygonOffset(Be,Ee),V=Be,B=Ee)):pe(t.POLYGON_OFFSET_FILL)}function He(re){re?fe(t.SCISSOR_TEST):pe(t.SCISSOR_TEST)}function Ne(re){re===void 0&&(re=t.TEXTURE0+X-1),D!==re&&(t.activeTexture(re),D=re)}function Ke(re,Be,Ee){Ee===void 0&&(D===null?Ee=t.TEXTURE0+X-1:Ee=D);let Ye=H[Ee];Ye===void 0&&(Ye={type:void 0,texture:void 0},H[Ee]=Ye),(Ye.type!==re||Ye.texture!==Be)&&(D!==Ee&&(t.activeTexture(Ee),D=Ee),t.bindTexture(re,Be||K[re]),Ye.type=re,Ye.texture=Be)}function J(){const re=H[D];re!==void 0&&re.type!==void 0&&(t.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function N(){try{t.compressedTexImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function oe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Le(){try{t.texSubImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Te(){try{t.texSubImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function _e(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ye(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function we(){try{t.texStorage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Se(){try{t.texStorage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function be(){try{t.texImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function se(){try{t.texImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function de(re){ie.equals(re)===!1&&(t.scissor(re.x,re.y,re.z,re.w),ie.copy(re))}function he(re){j.equals(re)===!1&&(t.viewport(re.x,re.y,re.z,re.w),j.copy(re))}function me(re,Be){let Ee=f.get(Be);Ee===void 0&&(Ee=new WeakMap,f.set(Be,Ee));let Ye=Ee.get(re);Ye===void 0&&(Ye=t.getUniformBlockIndex(Be,re.name),Ee.set(re,Ye))}function Ue(re,Be){const Ye=f.get(Be).get(re);u.get(Be)!==Ye&&(t.uniformBlockBinding(Be,Ye,re.__bindingPointIndex),u.set(Be,Ye))}function qe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},D=null,H={},p={},g=new WeakMap,y=[],x=null,v=!1,b=null,_=null,S=null,E=null,M=null,T=null,R=null,C=!1,P=null,F=null,G=null,V=null,B=null,ie.set(0,0,t.canvas.width,t.canvas.height),j.set(0,0,t.canvas.width,t.canvas.height),l.reset(),a.reset(),c.reset()}return{buffers:{color:l,depth:a,stencil:c},enable:fe,disable:pe,bindFramebuffer:xe,drawBuffers:Ge,useProgram:Ae,setBlending:Me,setMaterial:Ie,setFlipSided:Re,setCullFace:We,setLineWidth:ke,setPolygonOffset:je,setScissorTest:He,activeTexture:Ne,bindTexture:Ke,unbindTexture:J,compressedTexImage2D:N,compressedTexImage3D:oe,texImage2D:be,texImage3D:se,updateUBOMapping:me,uniformBlockBinding:Ue,texStorage2D:we,texStorage3D:Se,texSubImage2D:Le,texSubImage3D:Te,compressedTexSubImage2D:_e,compressedTexSubImage3D:ye,scissor:de,viewport:he,reset:qe}}function Moe(t,e,n,r,i,o,s){const l=i.isWebGL2,a=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let y;const x=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(J,N){return v?new OffscreenCanvas(J,N):dm("canvas")}function _(J,N,oe,Le){let Te=1;if((J.width>Le||J.height>Le)&&(Te=Le/Math.max(J.width,J.height)),Te<1||N===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const _e=N?Ny:Math.floor,ye=_e(Te*J.width),we=_e(Te*J.height);y===void 0&&(y=b(ye,we));const Se=oe?b(ye,we):y;return Se.width=ye,Se.height=we,Se.getContext("2d").drawImage(J,0,0,ye,we),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+ye+"x"+we+")."),Se}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function S(J){return uE(J.width)&&uE(J.height)}function E(J){return l?!1:J.wrapS!==Li||J.wrapT!==Li||J.minFilter!==Dr&&J.minFilter!==xr}function M(J,N){return J.generateMipmaps&&N&&J.minFilter!==Dr&&J.minFilter!==xr}function T(J){t.generateMipmap(J)}function R(J,N,oe,Le,Te=!1){if(l===!1)return N;if(J!==null){if(t[J]!==void 0)return t[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let _e=N;return N===t.RED&&(oe===t.FLOAT&&(_e=t.R32F),oe===t.HALF_FLOAT&&(_e=t.R16F),oe===t.UNSIGNED_BYTE&&(_e=t.R8)),N===t.RG&&(oe===t.FLOAT&&(_e=t.RG32F),oe===t.HALF_FLOAT&&(_e=t.RG16F),oe===t.UNSIGNED_BYTE&&(_e=t.RG8)),N===t.RGBA&&(oe===t.FLOAT&&(_e=t.RGBA32F),oe===t.HALF_FLOAT&&(_e=t.RGBA16F),oe===t.UNSIGNED_BYTE&&(_e=Le===Jt&&Te===!1?t.SRGB8_ALPHA8:t.RGBA8),oe===t.UNSIGNED_SHORT_4_4_4_4&&(_e=t.RGBA4),oe===t.UNSIGNED_SHORT_5_5_5_1&&(_e=t.RGB5_A1)),(_e===t.R16F||_e===t.R32F||_e===t.RG16F||_e===t.RG32F||_e===t.RGBA16F||_e===t.RGBA32F)&&e.get("EXT_color_buffer_float"),_e}function C(J,N,oe){return M(J,oe)===!0||J.isFramebufferTexture&&J.minFilter!==Dr&&J.minFilter!==xr?Math.log2(Math.max(N.width,N.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?N.mipmaps.length:1}function P(J){return J===Dr||J===Ly||J===Sp?t.NEAREST:t.LINEAR}function F(J){const N=J.target;N.removeEventListener("dispose",F),V(N),N.isVideoTexture&&g.delete(N)}function G(J){const N=J.target;N.removeEventListener("dispose",G),X(N)}function V(J){const N=r.get(J);if(N.__webglInit===void 0)return;const oe=J.source,Le=x.get(oe);if(Le){const Te=Le[N.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&B(J),Object.keys(Le).length===0&&x.delete(oe)}r.remove(J)}function B(J){const N=r.get(J);t.deleteTexture(N.__webglTexture);const oe=J.source,Le=x.get(oe);delete Le[N.__cacheKey],s.memory.textures--}function X(J){const N=J.texture,oe=r.get(J),Le=r.get(N);if(Le.__webglTexture!==void 0&&(t.deleteTexture(Le.__webglTexture),s.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)t.deleteFramebuffer(oe.__webglFramebuffer[Te]),oe.__webglDepthbuffer&&t.deleteRenderbuffer(oe.__webglDepthbuffer[Te]);else{if(t.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&t.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Te=0;Te<oe.__webglColorRenderbuffer.length;Te++)oe.__webglColorRenderbuffer[Te]&&t.deleteRenderbuffer(oe.__webglColorRenderbuffer[Te]);oe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let Te=0,_e=N.length;Te<_e;Te++){const ye=r.get(N[Te]);ye.__webglTexture&&(t.deleteTexture(ye.__webglTexture),s.memory.textures--),r.remove(N[Te])}r.remove(N),r.remove(J)}let ee=0;function te(){ee=0}function O(){const J=ee;return J>=a&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+a),ee+=1,J}function D(J){const N=[];return N.push(J.wrapS),N.push(J.wrapT),N.push(J.wrapR||0),N.push(J.magFilter),N.push(J.minFilter),N.push(J.anisotropy),N.push(J.internalFormat),N.push(J.format),N.push(J.type),N.push(J.generateMipmaps),N.push(J.premultiplyAlpha),N.push(J.flipY),N.push(J.unpackAlignment),N.push(J.colorSpace),N.join()}function H(J,N){const oe=r.get(J);if(J.isVideoTexture&&Ne(J),J.isRenderTargetTexture===!1&&J.version>0&&oe.__version!==J.version){const Le=J.image;if(Le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{xe(oe,J,N);return}}n.bindTexture(t.TEXTURE_2D,oe.__webglTexture,t.TEXTURE0+N)}function $(J,N){const oe=r.get(J);if(J.version>0&&oe.__version!==J.version){xe(oe,J,N);return}n.bindTexture(t.TEXTURE_2D_ARRAY,oe.__webglTexture,t.TEXTURE0+N)}function W(J,N){const oe=r.get(J);if(J.version>0&&oe.__version!==J.version){xe(oe,J,N);return}n.bindTexture(t.TEXTURE_3D,oe.__webglTexture,t.TEXTURE0+N)}function ie(J,N){const oe=r.get(J);if(J.version>0&&oe.__version!==J.version){Ge(oe,J,N);return}n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+N)}const j={[om]:t.REPEAT,[Li]:t.CLAMP_TO_EDGE,[sm]:t.MIRRORED_REPEAT},Y={[Dr]:t.NEAREST,[Ly]:t.NEAREST_MIPMAP_NEAREST,[Sp]:t.NEAREST_MIPMAP_LINEAR,[xr]:t.LINEAR,[h2]:t.LINEAR_MIPMAP_NEAREST,[nc]:t.LINEAR_MIPMAP_LINEAR},K={[bU]:t.NEVER,[AU]:t.ALWAYS,[_U]:t.LESS,[wU]:t.LEQUAL,[SU]:t.EQUAL,[TU]:t.GEQUAL,[EU]:t.GREATER,[MU]:t.NOTEQUAL};function fe(J,N,oe){if(oe?(t.texParameteri(J,t.TEXTURE_WRAP_S,j[N.wrapS]),t.texParameteri(J,t.TEXTURE_WRAP_T,j[N.wrapT]),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,j[N.wrapR]),t.texParameteri(J,t.TEXTURE_MAG_FILTER,Y[N.magFilter]),t.texParameteri(J,t.TEXTURE_MIN_FILTER,Y[N.minFilter])):(t.texParameteri(J,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(J,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(N.wrapS!==Li||N.wrapT!==Li)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(J,t.TEXTURE_MAG_FILTER,P(N.magFilter)),t.texParameteri(J,t.TEXTURE_MIN_FILTER,P(N.minFilter)),N.minFilter!==Dr&&N.minFilter!==xr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(t.texParameteri(J,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(J,t.TEXTURE_COMPARE_FUNC,K[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Le=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===Dr||N.minFilter!==Sp&&N.minFilter!==nc||N.type===la&&e.has("OES_texture_float_linear")===!1||l===!1&&N.type===Ad&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(t.texParameterf(J,Le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function pe(J,N){let oe=!1;J.__webglInit===void 0&&(J.__webglInit=!0,N.addEventListener("dispose",F));const Le=N.source;let Te=x.get(Le);Te===void 0&&(Te={},x.set(Le,Te));const _e=D(N);if(_e!==J.__cacheKey){Te[_e]===void 0&&(Te[_e]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,oe=!0),Te[_e].usedTimes++;const ye=Te[J.__cacheKey];ye!==void 0&&(Te[J.__cacheKey].usedTimes--,ye.usedTimes===0&&B(N)),J.__cacheKey=_e,J.__webglTexture=Te[_e].texture}return oe}function xe(J,N,oe){let Le=t.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Le=t.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Le=t.TEXTURE_3D);const Te=pe(J,N),_e=N.source;n.bindTexture(Le,J.__webglTexture,t.TEXTURE0+oe);const ye=r.get(_e);if(_e.version!==ye.__version||Te===!0){n.activeTexture(t.TEXTURE0+oe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const we=E(N)&&S(N.image)===!1;let Se=_(N.image,we,!1,u);Se=Ke(N,Se);const be=S(Se)||l,se=o.convert(N.format,N.colorSpace);let de=o.convert(N.type),he=R(N.internalFormat,se,de,N.colorSpace);fe(Le,N,be);let me;const Ue=N.mipmaps,qe=l&&N.isVideoTexture!==!0,re=ye.__version===void 0||Te===!0,Be=C(N,Se,be);if(N.isDepthTexture)he=t.DEPTH_COMPONENT,l?N.type===la?he=t.DEPTH_COMPONENT32F:N.type===ja?he=t.DEPTH_COMPONENT24:N.type===jl?he=t.DEPTH24_STENCIL8:he=t.DEPTH_COMPONENT16:N.type===la&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===$l&&he===t.DEPTH_COMPONENT&&N.type!==lx&&N.type!==ja&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=ja,de=o.convert(N.type)),N.format===xu&&he===t.DEPTH_COMPONENT&&(he=t.DEPTH_STENCIL,N.type!==jl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=jl,de=o.convert(N.type))),re&&(qe?n.texStorage2D(t.TEXTURE_2D,1,he,Se.width,Se.height):n.texImage2D(t.TEXTURE_2D,0,he,Se.width,Se.height,0,se,de,null));else if(N.isDataTexture)if(Ue.length>0&&be){qe&&re&&n.texStorage2D(t.TEXTURE_2D,Be,he,Ue[0].width,Ue[0].height);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],qe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,me.width,me.height,se,de,me.data):n.texImage2D(t.TEXTURE_2D,Ee,he,me.width,me.height,0,se,de,me.data);N.generateMipmaps=!1}else qe?(re&&n.texStorage2D(t.TEXTURE_2D,Be,he,Se.width,Se.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Se.width,Se.height,se,de,Se.data)):n.texImage2D(t.TEXTURE_2D,0,he,Se.width,Se.height,0,se,de,Se.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){qe&&re&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Be,he,Ue[0].width,Ue[0].height,Se.depth);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],N.format!==io?se!==null?qe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,me.width,me.height,Se.depth,se,me.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,he,me.width,me.height,Se.depth,0,me.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,me.width,me.height,Se.depth,se,de,me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,he,me.width,me.height,Se.depth,0,se,de,me.data)}else{qe&&re&&n.texStorage2D(t.TEXTURE_2D,Be,he,Ue[0].width,Ue[0].height);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],N.format!==io?se!==null?qe?n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,me.width,me.height,se,me.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,he,me.width,me.height,0,me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,me.width,me.height,se,de,me.data):n.texImage2D(t.TEXTURE_2D,Ee,he,me.width,me.height,0,se,de,me.data)}else if(N.isDataArrayTexture)qe?(re&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Be,he,Se.width,Se.height,Se.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Se.width,Se.height,Se.depth,se,de,Se.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,he,Se.width,Se.height,Se.depth,0,se,de,Se.data);else if(N.isData3DTexture)qe?(re&&n.texStorage3D(t.TEXTURE_3D,Be,he,Se.width,Se.height,Se.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Se.width,Se.height,Se.depth,se,de,Se.data)):n.texImage3D(t.TEXTURE_3D,0,he,Se.width,Se.height,Se.depth,0,se,de,Se.data);else if(N.isFramebufferTexture){if(re)if(qe)n.texStorage2D(t.TEXTURE_2D,Be,he,Se.width,Se.height);else{let Ee=Se.width,Ye=Se.height;for(let tt=0;tt<Be;tt++)n.texImage2D(t.TEXTURE_2D,tt,he,Ee,Ye,0,se,de,null),Ee>>=1,Ye>>=1}}else if(Ue.length>0&&be){qe&&re&&n.texStorage2D(t.TEXTURE_2D,Be,he,Ue[0].width,Ue[0].height);for(let Ee=0,Ye=Ue.length;Ee<Ye;Ee++)me=Ue[Ee],qe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,se,de,me):n.texImage2D(t.TEXTURE_2D,Ee,he,se,de,me);N.generateMipmaps=!1}else qe?(re&&n.texStorage2D(t.TEXTURE_2D,Be,he,Se.width,Se.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,se,de,Se)):n.texImage2D(t.TEXTURE_2D,0,he,se,de,Se);M(N,be)&&T(Le),ye.__version=_e.version,N.onUpdate&&N.onUpdate(N)}J.__version=N.version}function Ge(J,N,oe){if(N.image.length!==6)return;const Le=pe(J,N),Te=N.source;n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+oe);const _e=r.get(Te);if(Te.version!==_e.__version||Le===!0){n.activeTexture(t.TEXTURE0+oe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ye=N.isCompressedTexture||N.image[0].isCompressedTexture,we=N.image[0]&&N.image[0].isDataTexture,Se=[];for(let Ee=0;Ee<6;Ee++)!ye&&!we?Se[Ee]=_(N.image[Ee],!1,!0,c):Se[Ee]=we?N.image[Ee].image:N.image[Ee],Se[Ee]=Ke(N,Se[Ee]);const be=Se[0],se=S(be)||l,de=o.convert(N.format,N.colorSpace),he=o.convert(N.type),me=R(N.internalFormat,de,he,N.colorSpace),Ue=l&&N.isVideoTexture!==!0,qe=_e.__version===void 0||Le===!0;let re=C(N,be,se);fe(t.TEXTURE_CUBE_MAP,N,se);let Be;if(ye){Ue&&qe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,re,me,be.width,be.height);for(let Ee=0;Ee<6;Ee++){Be=Se[Ee].mipmaps;for(let Ye=0;Ye<Be.length;Ye++){const tt=Be[Ye];N.format!==io?de!==null?Ue?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,0,0,tt.width,tt.height,de,tt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,me,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,0,0,tt.width,tt.height,de,he,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye,me,tt.width,tt.height,0,de,he,tt.data)}}}else{Be=N.mipmaps,Ue&&qe&&(Be.length>0&&re++,n.texStorage2D(t.TEXTURE_CUBE_MAP,re,me,Se[0].width,Se[0].height));for(let Ee=0;Ee<6;Ee++)if(we){Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Se[Ee].width,Se[Ee].height,de,he,Se[Ee].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,me,Se[Ee].width,Se[Ee].height,0,de,he,Se[Ee].data);for(let Ye=0;Ye<Be.length;Ye++){const vt=Be[Ye].image[Ee].image;Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,0,0,vt.width,vt.height,de,he,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,me,vt.width,vt.height,0,de,he,vt.data)}}else{Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,de,he,Se[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,me,de,he,Se[Ee]);for(let Ye=0;Ye<Be.length;Ye++){const tt=Be[Ye];Ue?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,0,0,de,he,tt.image[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ye+1,me,de,he,tt.image[Ee])}}}M(N,se)&&T(t.TEXTURE_CUBE_MAP),_e.__version=Te.version,N.onUpdate&&N.onUpdate(N)}J.__version=N.version}function Ae(J,N,oe,Le,Te){const _e=o.convert(oe.format,oe.colorSpace),ye=o.convert(oe.type),we=R(oe.internalFormat,_e,ye,oe.colorSpace);r.get(N).__hasExternalTextures||(Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY?n.texImage3D(Te,0,we,N.width,N.height,N.depth,0,_e,ye,null):n.texImage2D(Te,0,we,N.width,N.height,0,_e,ye,null)),n.bindFramebuffer(t.FRAMEBUFFER,J),He(N)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Le,Te,r.get(oe).__webglTexture,0,je(N)):(Te===t.TEXTURE_2D||Te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Le,Te,r.get(oe).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function z(J,N,oe){if(t.bindRenderbuffer(t.RENDERBUFFER,J),N.depthBuffer&&!N.stencilBuffer){let Le=t.DEPTH_COMPONENT16;if(oe||He(N)){const Te=N.depthTexture;Te&&Te.isDepthTexture&&(Te.type===la?Le=t.DEPTH_COMPONENT32F:Te.type===ja&&(Le=t.DEPTH_COMPONENT24));const _e=je(N);He(N)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_e,Le,N.width,N.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,_e,Le,N.width,N.height)}else t.renderbufferStorage(t.RENDERBUFFER,Le,N.width,N.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,J)}else if(N.depthBuffer&&N.stencilBuffer){const Le=je(N);oe&&He(N)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Le,t.DEPTH24_STENCIL8,N.width,N.height):He(N)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Le,t.DEPTH24_STENCIL8,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,J)}else{const Le=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Te=0;Te<Le.length;Te++){const _e=Le[Te],ye=o.convert(_e.format,_e.colorSpace),we=o.convert(_e.type),Se=R(_e.internalFormat,ye,we,_e.colorSpace),be=je(N);oe&&He(N)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,be,Se,N.width,N.height):He(N)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,Se,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,Se,N.width,N.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(J,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,J),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),H(N.depthTexture,0);const Le=r.get(N.depthTexture).__webglTexture,Te=je(N);if(N.depthTexture.format===$l)He(N)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Le,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Le,0);else if(N.depthTexture.format===xu)He(N)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Le,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Le,0);else throw new Error("Unknown depthTexture format")}function Me(J){const N=r.get(J),oe=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!N.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");ge(N.__webglFramebuffer,J)}else if(oe){N.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer[Le]),N.__webglDepthbuffer[Le]=t.createRenderbuffer(),z(N.__webglDepthbuffer[Le],J,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=t.createRenderbuffer(),z(N.__webglDepthbuffer,J,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(J,N,oe){const Le=r.get(J);N!==void 0&&Ae(Le.__webglFramebuffer,J,J.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),oe!==void 0&&Me(J)}function Re(J){const N=J.texture,oe=r.get(J),Le=r.get(N);J.addEventListener("dispose",G),J.isWebGLMultipleRenderTargets!==!0&&(Le.__webglTexture===void 0&&(Le.__webglTexture=t.createTexture()),Le.__version=N.version,s.memory.textures++);const Te=J.isWebGLCubeRenderTarget===!0,_e=J.isWebGLMultipleRenderTargets===!0,ye=S(J)||l;if(Te){oe.__webglFramebuffer=[];for(let we=0;we<6;we++)oe.__webglFramebuffer[we]=t.createFramebuffer()}else{if(oe.__webglFramebuffer=t.createFramebuffer(),_e)if(i.drawBuffers){const we=J.texture;for(let Se=0,be=we.length;Se<be;Se++){const se=r.get(we[Se]);se.__webglTexture===void 0&&(se.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&J.samples>0&&He(J)===!1){const we=_e?N:[N];oe.__webglMultisampledFramebuffer=t.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Se=0;Se<we.length;Se++){const be=we[Se];oe.__webglColorRenderbuffer[Se]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,oe.__webglColorRenderbuffer[Se]);const se=o.convert(be.format,be.colorSpace),de=o.convert(be.type),he=R(be.internalFormat,se,de,be.colorSpace,J.isXRRenderTarget===!0),me=je(J);t.renderbufferStorageMultisample(t.RENDERBUFFER,me,he,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Se,t.RENDERBUFFER,oe.__webglColorRenderbuffer[Se])}t.bindRenderbuffer(t.RENDERBUFFER,null),J.depthBuffer&&(oe.__webglDepthRenderbuffer=t.createRenderbuffer(),z(oe.__webglDepthRenderbuffer,J,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,Le.__webglTexture),fe(t.TEXTURE_CUBE_MAP,N,ye);for(let we=0;we<6;we++)Ae(oe.__webglFramebuffer[we],J,N,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+we);M(N,ye)&&T(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(_e){const we=J.texture;for(let Se=0,be=we.length;Se<be;Se++){const se=we[Se],de=r.get(se);n.bindTexture(t.TEXTURE_2D,de.__webglTexture),fe(t.TEXTURE_2D,se,ye),Ae(oe.__webglFramebuffer,J,se,t.COLOR_ATTACHMENT0+Se,t.TEXTURE_2D),M(se,ye)&&T(t.TEXTURE_2D)}n.unbindTexture()}else{let we=t.TEXTURE_2D;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(l?we=J.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(we,Le.__webglTexture),fe(we,N,ye),Ae(oe.__webglFramebuffer,J,N,t.COLOR_ATTACHMENT0,we),M(N,ye)&&T(we),n.unbindTexture()}J.depthBuffer&&Me(J)}function We(J){const N=S(J)||l,oe=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let Le=0,Te=oe.length;Le<Te;Le++){const _e=oe[Le];if(M(_e,N)){const ye=J.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,we=r.get(_e).__webglTexture;n.bindTexture(ye,we),T(ye),n.unbindTexture()}}}function ke(J){if(l&&J.samples>0&&He(J)===!1){const N=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],oe=J.width,Le=J.height;let Te=t.COLOR_BUFFER_BIT;const _e=[],ye=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=r.get(J),Se=J.isWebGLMultipleRenderTargets===!0;if(Se)for(let be=0;be<N.length;be++)n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,we.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let be=0;be<N.length;be++){_e.push(t.COLOR_ATTACHMENT0+be),J.depthBuffer&&_e.push(ye);const se=we.__ignoreDepthValues!==void 0?we.__ignoreDepthValues:!1;if(se===!1&&(J.depthBuffer&&(Te|=t.DEPTH_BUFFER_BIT),J.stencilBuffer&&(Te|=t.STENCIL_BUFFER_BIT)),Se&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,we.__webglColorRenderbuffer[be]),se===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ye]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ye])),Se){const de=r.get(N[be]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,de,0)}t.blitFramebuffer(0,0,oe,Le,0,0,oe,Le,Te,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,_e)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Se)for(let be=0;be<N.length;be++){n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,we.__webglColorRenderbuffer[be]);const se=r.get(N[be]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,we.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D,se,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}}function je(J){return Math.min(f,J.samples)}function He(J){const N=r.get(J);return l&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function Ne(J){const N=s.render.frame;g.get(J)!==N&&(g.set(J,N),J.update())}function Ke(J,N){const oe=J.colorSpace,Le=J.format,Te=J.type;return J.isCompressedTexture===!0||J.format===ky||oe!==Fs&&oe!==ql&&(oe===Jt?l===!1?e.has("EXT_sRGB")===!0&&Le===io?(J.format=ky,J.minFilter=xr,J.generateMipmaps=!1):N=M2.sRGBToLinear(N):(Le!==io||Te!==pa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),N}this.allocateTextureUnit=O,this.resetTextureUnits=te,this.setTexture2D=H,this.setTexture2DArray=$,this.setTexture3D=W,this.setTextureCube=ie,this.rebindTextures=Ie,this.setupRenderTarget=Re,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=He}function BU(t,e,n){const r=n.isWebGL2;function i(o,s=ql){let l;if(o===pa)return t.UNSIGNED_BYTE;if(o===m2)return t.UNSIGNED_SHORT_4_4_4_4;if(o===g2)return t.UNSIGNED_SHORT_5_5_5_1;if(o===oU)return t.BYTE;if(o===sU)return t.SHORT;if(o===lx)return t.UNSIGNED_SHORT;if(o===p2)return t.INT;if(o===ja)return t.UNSIGNED_INT;if(o===la)return t.FLOAT;if(o===Ad)return r?t.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(o===aU)return t.ALPHA;if(o===io)return t.RGBA;if(o===lU)return t.LUMINANCE;if(o===cU)return t.LUMINANCE_ALPHA;if(o===$l)return t.DEPTH_COMPONENT;if(o===xu)return t.DEPTH_STENCIL;if(o===ky)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(o===uU)return t.RED;if(o===v2)return t.RED_INTEGER;if(o===fU)return t.RG;if(o===y2)return t.RG_INTEGER;if(o===x2)return t.RGBA_INTEGER;if(o===Pv||o===Iv||o===Lv||o===kv)if(s===Jt)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(o===Pv)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Iv)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Lv)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===kv)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(o===Pv)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Iv)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Lv)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===kv)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===zw||o===Gw||o===Hw||o===Vw)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(o===zw)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Gw)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Hw)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Vw)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===dU)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Ww||o===jw)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(o===Ww)return s===Jt?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(o===jw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===$w||o===Xw||o===qw||o===Yw||o===Kw||o===Jw||o===Zw||o===Qw||o===eE||o===tE||o===nE||o===rE||o===iE||o===oE)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(o===$w)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Xw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===qw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Yw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Kw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Jw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Zw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Qw)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===eE)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===tE)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===nE)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===rE)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===iE)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===oE)return s===Jt?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Nv)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(o===Nv)return s===Jt?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===hU||o===sE||o===aE||o===lE)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(o===Nv)return l.COMPRESSED_RED_RGTC1_EXT;if(o===sE)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===aE)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===lE)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===jl?r?t.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class zU extends ci{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Kf extends kn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Toe={type:"move"};class U_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Kf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Kf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Kf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const l=this._targetRay,a=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,r),v=this._getHandJoint(c,y);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,g=.005;c.inputState.pinching&&d>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else a!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(a.matrix.fromArray(o.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,o.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(o.linearVelocity)):a.hasLinearVelocity=!1,o.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(o.angularVelocity)):a.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Toe)))}return l!==null&&(l.visible=i!==null),a!==null&&(a.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Kf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class GU extends Sr{constructor(e,n,r,i,o,s,l,a,c,u){if(u=u!==void 0?u:$l,u!==$l&&u!==xu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===$l&&(r=ja),r===void 0&&u===xu&&(r=jl),super(null,i,o,s,l,a,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:Dr,this.minFilter=a!==void 0?a:Dr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Aoe extends ol{constructor(e,n){super();const r=this;let i=null,o=1,s=null,l="local-floor",a=1,c=null,u=null,f=null,d=null,p=null,g=null;const y=n.getContextAttributes();let x=null,v=null;const b=[],_=[];let S=null;const E=new ci;E.layers.enable(1),E.viewport=new Un;const M=new ci;M.layers.enable(2),M.viewport=new Un;const T=[E,M],R=new zU;R.layers.enable(1),R.layers.enable(2);let C=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(W){S=W},this.getController=function(W){let ie=b[W];return ie===void 0&&(ie=new U_,b[W]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(W){let ie=b[W];return ie===void 0&&(ie=new U_,b[W]=ie),ie.getGripSpace()},this.getHand=function(W){let ie=b[W];return ie===void 0&&(ie=new U_,b[W]=ie),ie.getHandSpace()};function F(W){const ie=_.indexOf(W.inputSource);if(ie===-1)return;const j=b[ie];j!==void 0&&(j.update(W.inputSource,W.frame,c||s),j.dispatchEvent({type:W.type,data:W.inputSource}))}function G(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",G),i.removeEventListener("inputsourceschange",V);for(let W=0;W<b.length;W++){const ie=_[W];ie!==null&&(_[W]=null,b[W].disconnect(ie))}C=null,P=null,e.setRenderTarget(x),p=null,d=null,f=null,i=null,v=null,$.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(W){o=W,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(W){l=W,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(W){c=W},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(W){if(i=W,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",G),i.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ie={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(i,n,ie),i.updateRenderState({baseLayer:p}),v=new Ds(p.framebufferWidth,p.framebufferHeight,{format:io,type:pa,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ie=null,j=null,Y=null;y.depth&&(Y=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ie=y.stencil?xu:$l,j=y.stencil?jl:ja);const K={colorFormat:n.RGBA8,depthFormat:Y,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(K),i.updateRenderState({layers:[d]}),v=new Ds(d.textureWidth,d.textureHeight,{format:io,type:pa,depthTexture:new GU(d.textureWidth,d.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const fe=e.properties.get(v);fe.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(a),c=null,s=await i.requestReferenceSpace(l),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function V(W){for(let ie=0;ie<W.removed.length;ie++){const j=W.removed[ie],Y=_.indexOf(j);Y>=0&&(_[Y]=null,b[Y].disconnect(j))}for(let ie=0;ie<W.added.length;ie++){const j=W.added[ie];let Y=_.indexOf(j);if(Y===-1){for(let fe=0;fe<b.length;fe++)if(fe>=_.length){_.push(j),Y=fe;break}else if(_[fe]===null){_[fe]=j,Y=fe;break}if(Y===-1)break}const K=b[Y];K&&K.connect(j)}}const B=new ce,X=new ce;function ee(W,ie,j){B.setFromMatrixPosition(ie.matrixWorld),X.setFromMatrixPosition(j.matrixWorld);const Y=B.distanceTo(X),K=ie.projectionMatrix.elements,fe=j.projectionMatrix.elements,pe=K[14]/(K[10]-1),xe=K[14]/(K[10]+1),Ge=(K[9]+1)/K[5],Ae=(K[9]-1)/K[5],z=(K[8]-1)/K[0],ge=(fe[8]+1)/fe[0],Me=pe*z,Ie=pe*ge,Re=Y/(-z+ge),We=Re*-z;ie.matrixWorld.decompose(W.position,W.quaternion,W.scale),W.translateX(We),W.translateZ(Re),W.matrixWorld.compose(W.position,W.quaternion,W.scale),W.matrixWorldInverse.copy(W.matrixWorld).invert();const ke=pe+Re,je=xe+Re,He=Me-We,Ne=Ie+(Y-We),Ke=Ge*xe/je*ke,J=Ae*xe/je*ke;W.projectionMatrix.makePerspective(He,Ne,Ke,J,ke,je),W.projectionMatrixInverse.copy(W.projectionMatrix).invert()}function te(W,ie){ie===null?W.matrixWorld.copy(W.matrix):W.matrixWorld.multiplyMatrices(ie.matrixWorld,W.matrix),W.matrixWorldInverse.copy(W.matrixWorld).invert()}this.updateCameraXR=function(W){if(i===null)return W;S&&(W=S),R.near=M.near=E.near=W.near,R.far=M.far=E.far=W.far,(C!==R.near||P!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),C=R.near,P=R.far);const ie=W.parent,j=R.cameras;te(R,ie);for(let Y=0;Y<j.length;Y++)te(j[Y],ie);return j.length===2?ee(R,E,M):R.projectionMatrix.copy(E.projectionMatrix),S&&O(R,ie),R};function O(W,ie){const j=S;ie===null?j.matrix.copy(W.matrixWorld):(j.matrix.copy(ie.matrixWorld),j.matrix.invert(),j.matrix.multiply(W.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0);const Y=j.children;for(let K=0,fe=Y.length;K<fe;K++)Y[K].updateMatrixWorld(!0);j.projectionMatrix.copy(W.projectionMatrix),j.projectionMatrixInverse.copy(W.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=Cd*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getFoveation=function(){if(!(d===null&&p===null))return a},this.setFoveation=function(W){a=W,d!==null&&(d.fixedFoveation=W),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=W)};let D=null;function H(W,ie){if(u=ie.getViewerPose(c||s),g=ie,u!==null){const j=u.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let Y=!1;j.length!==R.cameras.length&&(R.cameras.length=0,Y=!0);for(let K=0;K<j.length;K++){const fe=j[K];let pe=null;if(p!==null)pe=p.getViewport(fe);else{const Ge=f.getViewSubImage(d,fe);pe=Ge.viewport,K===0&&(e.setRenderTargetTextures(v,Ge.colorTexture,d.ignoreDepthValues?void 0:Ge.depthStencilTexture),e.setRenderTarget(v))}let xe=T[K];xe===void 0&&(xe=new ci,xe.layers.enable(K),xe.viewport=new Un,T[K]=xe),xe.matrix.fromArray(fe.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(fe.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(pe.x,pe.y,pe.width,pe.height),K===0&&(R.matrix.copy(xe.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Y===!0&&R.cameras.push(xe)}}for(let j=0;j<b.length;j++){const Y=_[j],K=b[j];Y!==null&&K!==void 0&&K.update(Y,ie,c||s)}D&&D(W,ie),ie.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ie}),g=null}const $=new NU;$.setAnimationLoop(H),this.setAnimationLoop=function(W){D=W},this.dispose=function(){}}}function Coe(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,IU(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,b,_,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?o(x,v):v.isMeshToonMaterial?(o(x,v),f(x,v)):v.isMeshPhongMaterial?(o(x,v),u(x,v)):v.isMeshStandardMaterial?(o(x,v),d(x,v),v.isMeshPhysicalMaterial&&p(x,v,S)):v.isMeshMatcapMaterial?(o(x,v),g(x,v)):v.isMeshDepthMaterial?o(x,v):v.isMeshDistanceMaterial?(o(x,v),y(x,v)):v.isMeshNormalMaterial?o(x,v):v.isLineBasicMaterial?(s(x,v),v.isLineDashedMaterial&&l(x,v)):v.isPointsMaterial?a(x,v,b,_):v.isSpriteMaterial?c(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function o(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===vi&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===vi&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const b=e.get(v).envMap;if(b&&(x.envMap.value=b,x.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap){x.lightMap.value=v.lightMap;const _=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=v.lightMapIntensity*_,n(v.lightMap,x.lightMapTransform)}v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function s(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function l(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function a(x,v,b,_){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*b,x.scale.value=_*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function f(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function d(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),e.get(v).envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function p(x,v,b){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===vi&&x.clearcoatNormalScale.value.negate())),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=b.texture,x.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,v){v.matcap&&(x.matcap.value=v.matcap)}function y(x,v){const b=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(b.matrixWorld),x.nearDistance.value=b.shadow.camera.near,x.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Roe(t,e,n,r){let i={},o={},s=[];const l=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function a(b,_){const S=_.program;r.uniformBlockBinding(b,S)}function c(b,_){let S=i[b.id];S===void 0&&(g(b),S=u(b),i[b.id]=S,b.addEventListener("dispose",x));const E=_.program;r.updateUBOMapping(b,E);const M=e.render.frame;o[b.id]!==M&&(d(b),o[b.id]=M)}function u(b){const _=f();b.__bindingPointIndex=_;const S=t.createBuffer(),E=b.__size,M=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,E,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function f(){for(let b=0;b<l;b++)if(s.indexOf(b)===-1)return s.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){const _=i[b.id],S=b.uniforms,E=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let M=0,T=S.length;M<T;M++){const R=S[M];if(p(R,M,E)===!0){const C=R.__offset,P=Array.isArray(R.value)?R.value:[R.value];let F=0;for(let G=0;G<P.length;G++){const V=P[G],B=y(V);typeof V=="number"?(R.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,C+F,R.__data)):V.isMatrix3?(R.__data[0]=V.elements[0],R.__data[1]=V.elements[1],R.__data[2]=V.elements[2],R.__data[3]=V.elements[0],R.__data[4]=V.elements[3],R.__data[5]=V.elements[4],R.__data[6]=V.elements[5],R.__data[7]=V.elements[0],R.__data[8]=V.elements[6],R.__data[9]=V.elements[7],R.__data[10]=V.elements[8],R.__data[11]=V.elements[0]):(V.toArray(R.__data,F),F+=B.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,C,R.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(b,_,S){const E=b.value;if(S[_]===void 0){if(typeof E=="number")S[_]=E;else{const M=Array.isArray(E)?E:[E],T=[];for(let R=0;R<M.length;R++)T.push(M[R].clone());S[_]=T}return!0}else if(typeof E=="number"){if(S[_]!==E)return S[_]=E,!0}else{const M=Array.isArray(S[_])?S[_]:[S[_]],T=Array.isArray(E)?E:[E];for(let R=0;R<M.length;R++){const C=M[R];if(C.equals(T[R])===!1)return C.copy(T[R]),!0}}return!1}function g(b){const _=b.uniforms;let S=0;const E=16;let M=0;for(let T=0,R=_.length;T<R;T++){const C=_[T],P={boundary:0,storage:0},F=Array.isArray(C.value)?C.value:[C.value];for(let G=0,V=F.length;G<V;G++){const B=F[G],X=y(B);P.boundary+=X.boundary,P.storage+=X.storage}if(C.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=S,T>0){M=S%E;const G=E-M;M!==0&&G-P.boundary<0&&(S+=E-M,C.__offset=S)}S+=P.storage}return M=S%E,M>0&&(S+=E-M),b.__size=S,b.__cache={},this}function y(b){const _={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function x(b){const _=b.target;_.removeEventListener("dispose",x);const S=s.indexOf(_.__bindingPointIndex);s.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete o[_.id]}function v(){for(const b in i)t.deleteBuffer(i[b]);s=[],i={},o={}}return{bind:a,update:c,dispose:v}}function Poe(){const t=dm("canvas");return t.style.display="block",t}class P2{constructor(e={}){const{canvas:n=Poe(),context:r=null,depth:i=!0,stencil:o=!0,alpha:s=!1,antialias:l=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=s;const p=new Uint32Array(4),g=new Int32Array(4);let y=null,x=null;const v=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Jt,this.useLegacyLights=!0,this.toneMapping=Ns,this.toneMappingExposure=1;const _=this;let S=!1,E=0,M=0,T=null,R=-1,C=null;const P=new Un,F=new Un;let G=null;const V=new yt(0);let B=0,X=n.width,ee=n.height,te=1,O=null,D=null;const H=new Un(0,0,X,ee),$=new Un(0,0,X,ee);let W=!1;const ie=new dx;let j=!1,Y=!1,K=null;const fe=new qt,pe=new it,xe=new ce,Ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return T===null?te:1}let z=r;function ge(ue,$e){for(let Ze=0;Ze<ue.length;Ze++){const Ve=ue[Ze],et=n.getContext(Ve,$e);if(et!==null)return et}return null}try{const ue={alpha:!0,depth:i,stencil:o,antialias:l,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ox}`),n.addEventListener("webglcontextlost",Be,!1),n.addEventListener("webglcontextrestored",Ee,!1),n.addEventListener("webglcontextcreationerror",Ye,!1),z===null){const $e=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&$e.shift(),z=ge($e,ue),z===null)throw ge($e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),z.getShaderPrecisionFormat===void 0&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ue){throw console.error("THREE.WebGLRenderer: "+ue.message),ue}let Me,Ie,Re,We,ke,je,He,Ne,Ke,J,N,oe,Le,Te,_e,ye,we,Se,be,se,de,he,me,Ue;function qe(){Me=new $re(z),Ie=new zre(z,Me,e),Me.init(Ie),he=new BU(z,Me,Ie),Re=new Eoe(z,Me,Ie),We=new Yre(z),ke=new doe,je=new Moe(z,Me,Re,ke,Ie,he,We),He=new Hre(_),Ne=new jre(_),Ke=new ate(z,Ie),me=new Ure(z,Me,Ke,Ie),J=new Xre(z,Ke,We,me),N=new Qre(z,J,Ke,We),be=new Zre(z,Ie,je),ye=new Gre(ke),oe=new foe(_,He,Ne,Me,Ie,me,ye),Le=new Coe(_,ke),Te=new poe,_e=new boe(Me,Ie),Se=new Dre(_,He,Ne,Re,N,d,a),we=new woe(_,N,Ie),Ue=new Roe(z,We,Ie,Re),se=new Bre(z,Me,We,Ie),de=new qre(z,Me,We,Ie),We.programs=oe.programs,_.capabilities=Ie,_.extensions=Me,_.properties=ke,_.renderLists=Te,_.shadowMap=we,_.state=Re,_.info=We}qe();const re=new Aoe(_,z);this.xr=re,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const ue=Me.get("WEBGL_lose_context");ue&&ue.loseContext()},this.forceContextRestore=function(){const ue=Me.get("WEBGL_lose_context");ue&&ue.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(ue){ue!==void 0&&(te=ue,this.setSize(X,ee,!1))},this.getSize=function(ue){return ue.set(X,ee)},this.setSize=function(ue,$e,Ze=!0){if(re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=ue,ee=$e,n.width=Math.floor(ue*te),n.height=Math.floor($e*te),Ze===!0&&(n.style.width=ue+"px",n.style.height=$e+"px"),this.setViewport(0,0,ue,$e)},this.getDrawingBufferSize=function(ue){return ue.set(X*te,ee*te).floor()},this.setDrawingBufferSize=function(ue,$e,Ze){X=ue,ee=$e,te=Ze,n.width=Math.floor(ue*Ze),n.height=Math.floor($e*Ze),this.setViewport(0,0,ue,$e)},this.getCurrentViewport=function(ue){return ue.copy(P)},this.getViewport=function(ue){return ue.copy(H)},this.setViewport=function(ue,$e,Ze,Ve){ue.isVector4?H.set(ue.x,ue.y,ue.z,ue.w):H.set(ue,$e,Ze,Ve),Re.viewport(P.copy(H).multiplyScalar(te).floor())},this.getScissor=function(ue){return ue.copy($)},this.setScissor=function(ue,$e,Ze,Ve){ue.isVector4?$.set(ue.x,ue.y,ue.z,ue.w):$.set(ue,$e,Ze,Ve),Re.scissor(F.copy($).multiplyScalar(te).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(ue){Re.setScissorTest(W=ue)},this.setOpaqueSort=function(ue){O=ue},this.setTransparentSort=function(ue){D=ue},this.getClearColor=function(ue){return ue.copy(Se.getClearColor())},this.setClearColor=function(){Se.setClearColor.apply(Se,arguments)},this.getClearAlpha=function(){return Se.getClearAlpha()},this.setClearAlpha=function(){Se.setClearAlpha.apply(Se,arguments)},this.clear=function(ue=!0,$e=!0,Ze=!0){let Ve=0;if(ue){let et=!1;if(T!==null){const mt=T.texture.format;et=mt===x2||mt===y2||mt===v2}if(et){const mt=T.texture.type,Pt=mt===pa||mt===ja||mt===lx||mt===jl||mt===m2||mt===g2,Ot=Se.getClearColor(),kt=Se.getClearAlpha(),$t=Ot.r,st=Ot.g,Nt=Ot.b,gn=ke.get(T).__webglFramebuffer;Pt?(p[0]=$t,p[1]=st,p[2]=Nt,p[3]=kt,z.clearBufferuiv(z.COLOR,gn,p)):(g[0]=$t,g[1]=st,g[2]=Nt,g[3]=kt,z.clearBufferiv(z.COLOR,gn,g))}else Ve|=z.COLOR_BUFFER_BIT}$e&&(Ve|=z.DEPTH_BUFFER_BIT),Ze&&(Ve|=z.STENCIL_BUFFER_BIT),z.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Be,!1),n.removeEventListener("webglcontextrestored",Ee,!1),n.removeEventListener("webglcontextcreationerror",Ye,!1),Te.dispose(),_e.dispose(),ke.dispose(),He.dispose(),Ne.dispose(),N.dispose(),me.dispose(),Ue.dispose(),oe.dispose(),re.dispose(),re.removeEventListener("sessionstart",Xt),re.removeEventListener("sessionend",jt),K&&(K.dispose(),K=null),Vt.stop()};function Be(ue){ue.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const ue=We.autoReset,$e=we.enabled,Ze=we.autoUpdate,Ve=we.needsUpdate,et=we.type;qe(),We.autoReset=ue,we.enabled=$e,we.autoUpdate=Ze,we.needsUpdate=Ve,we.type=et}function Ye(ue){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ue.statusMessage)}function tt(ue){const $e=ue.target;$e.removeEventListener("dispose",tt),vt($e)}function vt(ue){xt(ue),ke.remove(ue)}function xt(ue){const $e=ke.get(ue).programs;$e!==void 0&&($e.forEach(function(Ze){oe.releaseProgram(Ze)}),ue.isShaderMaterial&&oe.releaseShaderCache(ue))}this.renderBufferDirect=function(ue,$e,Ze,Ve,et,mt){$e===null&&($e=Ge);const Pt=et.isMesh&&et.matrixWorld.determinant()<0,Ot=bn(ue,$e,Ze,Ve,et);Re.setMaterial(Ve,Pt);let kt=Ze.index,$t=1;Ve.wireframe===!0&&(kt=J.getWireframeAttribute(Ze),$t=2);const st=Ze.drawRange,Nt=Ze.attributes.position;let gn=st.start*$t,_n=(st.start+st.count)*$t;mt!==null&&(gn=Math.max(gn,mt.start*$t),_n=Math.min(_n,(mt.start+mt.count)*$t)),kt!==null?(gn=Math.max(gn,0),_n=Math.min(_n,kt.count)):Nt!=null&&(gn=Math.max(gn,0),_n=Math.min(_n,Nt.count));const Bt=_n-gn;if(Bt<0||Bt===1/0)return;me.setup(et,Ve,Ot,Ze,kt);let Ir,vn=se;if(kt!==null&&(Ir=Ke.get(kt),vn=de,vn.setIndex(Ir)),et.isMesh)Ve.wireframe===!0?(Re.setLineWidth(Ve.wireframeLinewidth*Ae()),vn.setMode(z.LINES)):vn.setMode(z.TRIANGLES);else if(et.isLine){let zt=Ve.linewidth;zt===void 0&&(zt=1),Re.setLineWidth(zt*Ae()),et.isLineSegments?vn.setMode(z.LINES):et.isLineLoop?vn.setMode(z.LINE_LOOP):vn.setMode(z.LINE_STRIP)}else et.isPoints?vn.setMode(z.POINTS):et.isSprite&&vn.setMode(z.TRIANGLES);if(et.isInstancedMesh)vn.renderInstances(gn,Bt,et.count);else if(Ze.isInstancedBufferGeometry){const zt=Ze._maxInstanceCount!==void 0?Ze._maxInstanceCount:1/0,Sn=Math.min(Ze.instanceCount,zt);vn.renderInstances(gn,Bt,Sn)}else vn.render(gn,Bt)},this.compile=function(ue,$e){function Ze(Ve,et,mt){Ve.transparent===!0&&Ve.side===Eo&&Ve.forceSinglePass===!1?(Ve.side=vi,Ve.needsUpdate=!0,xn(Ve,et,mt),Ve.side=ya,Ve.needsUpdate=!0,xn(Ve,et,mt),Ve.side=Eo):xn(Ve,et,mt)}x=_e.get(ue),x.init(),b.push(x),ue.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test($e.layers)&&(x.pushLight(Ve),Ve.castShadow&&x.pushShadow(Ve))}),x.setupLights(_.useLegacyLights),ue.traverse(function(Ve){const et=Ve.material;if(et)if(Array.isArray(et))for(let mt=0;mt<et.length;mt++){const Pt=et[mt];Ze(Pt,ue,Ve)}else Ze(et,ue,Ve)}),b.pop(),x=null};let Et=null;function Gt(ue){Et&&Et(ue)}function Xt(){Vt.stop()}function jt(){Vt.start()}const Vt=new NU;Vt.setAnimationLoop(Gt),typeof self<"u"&&Vt.setContext(self),this.setAnimationLoop=function(ue){Et=ue,re.setAnimationLoop(ue),ue===null?Vt.stop():Vt.start()},re.addEventListener("sessionstart",Xt),re.addEventListener("sessionend",jt),this.render=function(ue,$e){if($e!==void 0&&$e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),$e.parent===null&&$e.matrixWorldAutoUpdate===!0&&$e.updateMatrixWorld(),re.enabled===!0&&re.isPresenting===!0&&($e=re.updateCameraXR($e)),ue.isScene===!0&&ue.onBeforeRender(_,ue,$e,T),x=_e.get(ue,b.length),x.init(),b.push(x),fe.multiplyMatrices($e.projectionMatrix,$e.matrixWorldInverse),ie.setFromProjectionMatrix(fe),Y=this.localClippingEnabled,j=ye.init(this.clippingPlanes,Y),y=Te.get(ue,v.length),y.init(),v.push(y),$n(ue,$e,0,_.sortObjects),y.finish(),_.sortObjects===!0&&y.sort(O,D),j===!0&&ye.beginShadows();const Ze=x.state.shadowsArray;if(we.render(Ze,ue,$e),j===!0&&ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,Se.render(y,ue),x.setupLights(_.useLegacyLights),$e.isArrayCamera){const Ve=$e.cameras;for(let et=0,mt=Ve.length;et<mt;et++){const Pt=Ve[et];rr(y,ue,Pt,Pt.viewport)}}else rr(y,ue,$e);T!==null&&(je.updateMultisampleRenderTarget(T),je.updateRenderTargetMipmap(T)),ue.isScene===!0&&ue.onAfterRender(_,ue,$e),me.resetDefaultState(),R=-1,C=null,b.pop(),b.length>0?x=b[b.length-1]:x=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function $n(ue,$e,Ze,Ve){if(ue.visible===!1)return;if(ue.layers.test($e.layers)){if(ue.isGroup)Ze=ue.renderOrder;else if(ue.isLOD)ue.autoUpdate===!0&&ue.update($e);else if(ue.isLight)x.pushLight(ue),ue.castShadow&&x.pushShadow(ue);else if(ue.isSprite){if(!ue.frustumCulled||ie.intersectsSprite(ue)){Ve&&xe.setFromMatrixPosition(ue.matrixWorld).applyMatrix4(fe);const Pt=N.update(ue),Ot=ue.material;Ot.visible&&y.push(ue,Pt,Ot,Ze,xe.z,null)}}else if((ue.isMesh||ue.isLine||ue.isPoints)&&(!ue.frustumCulled||ie.intersectsObject(ue))){ue.isSkinnedMesh&&ue.skeleton.frame!==We.render.frame&&(ue.skeleton.update(),ue.skeleton.frame=We.render.frame);const Pt=N.update(ue),Ot=ue.material;if(Ve&&(ue.boundingSphere!==void 0?(ue.boundingSphere===null&&ue.computeBoundingSphere(),xe.copy(ue.boundingSphere.center)):(Pt.boundingSphere===null&&Pt.computeBoundingSphere(),xe.copy(Pt.boundingSphere.center)),xe.applyMatrix4(ue.matrixWorld).applyMatrix4(fe)),Array.isArray(Ot)){const kt=Pt.groups;for(let $t=0,st=kt.length;$t<st;$t++){const Nt=kt[$t],gn=Ot[Nt.materialIndex];gn&&gn.visible&&y.push(ue,Pt,gn,Ze,xe.z,Nt)}}else Ot.visible&&y.push(ue,Pt,Ot,Ze,xe.z,null)}}const mt=ue.children;for(let Pt=0,Ot=mt.length;Pt<Ot;Pt++)$n(mt[Pt],$e,Ze,Ve)}function rr(ue,$e,Ze,Ve){const et=ue.opaque,mt=ue.transmissive,Pt=ue.transparent;x.setupLightsView(Ze),j===!0&&ye.setGlobalState(_.clippingPlanes,Ze),mt.length>0&&fn(et,mt,$e,Ze),Ve&&Re.viewport(P.copy(Ve)),et.length>0&&Pn(et,$e,Ze),mt.length>0&&Pn(mt,$e,Ze),Pt.length>0&&Pn(Pt,$e,Ze),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function fn(ue,$e,Ze,Ve){const et=Ie.isWebGL2;K===null&&(K=new Ds(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?Ad:pa,minFilter:nc,samples:et&&l===!0?4:0})),_.getDrawingBufferSize(pe),et?K.setSize(pe.x,pe.y):K.setSize(Ny(pe.x),Ny(pe.y));const mt=_.getRenderTarget();_.setRenderTarget(K),_.getClearColor(V),B=_.getClearAlpha(),B<1&&_.setClearColor(16777215,.5),_.clear();const Pt=_.toneMapping;_.toneMapping=Ns,Pn(ue,Ze,Ve),je.updateMultisampleRenderTarget(K),je.updateRenderTargetMipmap(K);let Ot=!1;for(let kt=0,$t=$e.length;kt<$t;kt++){const st=$e[kt],Nt=st.object,gn=st.geometry,_n=st.material,Bt=st.group;if(_n.side===Eo&&Nt.layers.test(Ve.layers)){const Ir=_n.side;_n.side=vi,_n.needsUpdate=!0,mr(Nt,Ze,Ve,gn,_n,Bt),_n.side=Ir,_n.needsUpdate=!0,Ot=!0}}Ot===!0&&(je.updateMultisampleRenderTarget(K),je.updateRenderTargetMipmap(K)),_.setRenderTarget(mt),_.setClearColor(V,B),_.toneMapping=Pt}function Pn(ue,$e,Ze){const Ve=$e.isScene===!0?$e.overrideMaterial:null;for(let et=0,mt=ue.length;et<mt;et++){const Pt=ue[et],Ot=Pt.object,kt=Pt.geometry,$t=Ve===null?Pt.material:Ve,st=Pt.group;Ot.layers.test(Ze.layers)&&mr(Ot,$e,Ze,kt,$t,st)}}function mr(ue,$e,Ze,Ve,et,mt){ue.onBeforeRender(_,$e,Ze,Ve,et,mt),ue.modelViewMatrix.multiplyMatrices(Ze.matrixWorldInverse,ue.matrixWorld),ue.normalMatrix.getNormalMatrix(ue.modelViewMatrix),et.onBeforeRender(_,$e,Ze,Ve,ue,mt),et.transparent===!0&&et.side===Eo&&et.forceSinglePass===!1?(et.side=vi,et.needsUpdate=!0,_.renderBufferDirect(Ze,$e,Ve,et,ue,mt),et.side=ya,et.needsUpdate=!0,_.renderBufferDirect(Ze,$e,Ve,et,ue,mt),et.side=Eo):_.renderBufferDirect(Ze,$e,Ve,et,ue,mt),ue.onAfterRender(_,$e,Ze,Ve,et,mt)}function xn(ue,$e,Ze){$e.isScene!==!0&&($e=Ge);const Ve=ke.get(ue),et=x.state.lights,mt=x.state.shadowsArray,Pt=et.state.version,Ot=oe.getParameters(ue,et.state,mt,$e,Ze),kt=oe.getProgramCacheKey(Ot);let $t=Ve.programs;Ve.environment=ue.isMeshStandardMaterial?$e.environment:null,Ve.fog=$e.fog,Ve.envMap=(ue.isMeshStandardMaterial?Ne:He).get(ue.envMap||Ve.environment),$t===void 0&&(ue.addEventListener("dispose",tt),$t=new Map,Ve.programs=$t);let st=$t.get(kt);if(st!==void 0){if(Ve.currentProgram===st&&Ve.lightsStateVersion===Pt)return Ht(ue,Ot),st}else Ot.uniforms=oe.getUniforms(ue),ue.onBuild(Ze,Ot,_),ue.onBeforeCompile(Ot,_),st=oe.acquireProgram(Ot,kt),$t.set(kt,st),Ve.uniforms=Ot.uniforms;const Nt=Ve.uniforms;(!ue.isShaderMaterial&&!ue.isRawShaderMaterial||ue.clipping===!0)&&(Nt.clippingPlanes=ye.uniform),Ht(ue,Ot),Ve.needsLights=mn(ue),Ve.lightsStateVersion=Pt,Ve.needsLights&&(Nt.ambientLightColor.value=et.state.ambient,Nt.lightProbe.value=et.state.probe,Nt.directionalLights.value=et.state.directional,Nt.directionalLightShadows.value=et.state.directionalShadow,Nt.spotLights.value=et.state.spot,Nt.spotLightShadows.value=et.state.spotShadow,Nt.rectAreaLights.value=et.state.rectArea,Nt.ltc_1.value=et.state.rectAreaLTC1,Nt.ltc_2.value=et.state.rectAreaLTC2,Nt.pointLights.value=et.state.point,Nt.pointLightShadows.value=et.state.pointShadow,Nt.hemisphereLights.value=et.state.hemi,Nt.directionalShadowMap.value=et.state.directionalShadowMap,Nt.directionalShadowMatrix.value=et.state.directionalShadowMatrix,Nt.spotShadowMap.value=et.state.spotShadowMap,Nt.spotLightMatrix.value=et.state.spotLightMatrix,Nt.spotLightMap.value=et.state.spotLightMap,Nt.pointShadowMap.value=et.state.pointShadowMap,Nt.pointShadowMatrix.value=et.state.pointShadowMatrix);const gn=st.getUniforms(),_n=Dv.seqWithValue(gn.seq,Nt);return Ve.currentProgram=st,Ve.uniformsList=_n,st}function Ht(ue,$e){const Ze=ke.get(ue);Ze.outputColorSpace=$e.outputColorSpace,Ze.instancing=$e.instancing,Ze.skinning=$e.skinning,Ze.morphTargets=$e.morphTargets,Ze.morphNormals=$e.morphNormals,Ze.morphColors=$e.morphColors,Ze.morphTargetsCount=$e.morphTargetsCount,Ze.numClippingPlanes=$e.numClippingPlanes,Ze.numIntersection=$e.numClipIntersection,Ze.vertexAlphas=$e.vertexAlphas,Ze.vertexTangents=$e.vertexTangents,Ze.toneMapping=$e.toneMapping}function bn(ue,$e,Ze,Ve,et){$e.isScene!==!0&&($e=Ge),je.resetTextureUnits();const mt=$e.fog,Pt=Ve.isMeshStandardMaterial?$e.environment:null,Ot=T===null?_.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Fs,kt=(Ve.isMeshStandardMaterial?Ne:He).get(Ve.envMap||Pt),$t=Ve.vertexColors===!0&&!!Ze.attributes.color&&Ze.attributes.color.itemSize===4,st=!!Ze.attributes.tangent&&(!!Ve.normalMap||Ve.anisotropy>0),Nt=!!Ze.morphAttributes.position,gn=!!Ze.morphAttributes.normal,_n=!!Ze.morphAttributes.color,Bt=Ve.toneMapped?_.toneMapping:Ns,Ir=Ze.morphAttributes.position||Ze.morphAttributes.normal||Ze.morphAttributes.color,vn=Ir!==void 0?Ir.length:0,zt=ke.get(Ve),Sn=x.state.lights;if(j===!0&&(Y===!0||ue!==C)){const Mt=ue===C&&Ve.id===R;ye.setState(Ve,ue,Mt)}let Ft=!1;Ve.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==Sn.state.version||zt.outputColorSpace!==Ot||et.isInstancedMesh&&zt.instancing===!1||!et.isInstancedMesh&&zt.instancing===!0||et.isSkinnedMesh&&zt.skinning===!1||!et.isSkinnedMesh&&zt.skinning===!0||zt.envMap!==kt||Ve.fog===!0&&zt.fog!==mt||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==ye.numPlanes||zt.numIntersection!==ye.numIntersection)||zt.vertexAlphas!==$t||zt.vertexTangents!==st||zt.morphTargets!==Nt||zt.morphNormals!==gn||zt.morphColors!==_n||zt.toneMapping!==Bt||Ie.isWebGL2===!0&&zt.morphTargetsCount!==vn)&&(Ft=!0):(Ft=!0,zt.__version=Ve.version);let Lr=zt.currentProgram;Ft===!0&&(Lr=xn(Ve,$e,et));let Xn=!1,Nn=!1,Br=!1;const Hn=Lr.getUniforms(),En=zt.uniforms;if(Re.useProgram(Lr.program)&&(Xn=!0,Nn=!0,Br=!0),Ve.id!==R&&(R=Ve.id,Nn=!0),Xn||C!==ue){if(Hn.setValue(z,"projectionMatrix",ue.projectionMatrix),Ie.logarithmicDepthBuffer&&Hn.setValue(z,"logDepthBufFC",2/(Math.log(ue.far+1)/Math.LN2)),C!==ue&&(C=ue,Nn=!0,Br=!0),Ve.isShaderMaterial||Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshStandardMaterial||Ve.envMap){const Mt=Hn.map.cameraPosition;Mt!==void 0&&Mt.setValue(z,xe.setFromMatrixPosition(ue.matrixWorld))}(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&Hn.setValue(z,"isOrthographic",ue.isOrthographicCamera===!0),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial||Ve.isShadowMaterial||et.isSkinnedMesh)&&Hn.setValue(z,"viewMatrix",ue.matrixWorldInverse)}if(et.isSkinnedMesh){Hn.setOptional(z,et,"bindMatrix"),Hn.setOptional(z,et,"bindMatrixInverse");const Mt=et.skeleton;Mt&&(Ie.floatVertexTextures?(Mt.boneTexture===null&&Mt.computeBoneTexture(),Hn.setValue(z,"boneTexture",Mt.boneTexture,je),Hn.setValue(z,"boneTextureSize",Mt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Di=Ze.morphAttributes;if((Di.position!==void 0||Di.normal!==void 0||Di.color!==void 0&&Ie.isWebGL2===!0)&&be.update(et,Ze,Lr),(Nn||zt.receiveShadow!==et.receiveShadow)&&(zt.receiveShadow=et.receiveShadow,Hn.setValue(z,"receiveShadow",et.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(En.envMap.value=kt,En.flipEnvMap.value=kt.isCubeTexture&&kt.isRenderTargetTexture===!1?-1:1),Nn&&(Hn.setValue(z,"toneMappingExposure",_.toneMappingExposure),zt.needsLights&&ir(En,Br),mt&&Ve.fog===!0&&Le.refreshFogUniforms(En,mt),Le.refreshMaterialUniforms(En,Ve,te,ee,K),Dv.upload(z,zt.uniformsList,En,je)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(Dv.upload(z,zt.uniformsList,En,je),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&Hn.setValue(z,"center",et.center),Hn.setValue(z,"modelViewMatrix",et.modelViewMatrix),Hn.setValue(z,"normalMatrix",et.normalMatrix),Hn.setValue(z,"modelMatrix",et.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const Mt=Ve.uniformsGroups;for(let po=0,Ui=Mt.length;po<Ui;po++)if(Ie.isWebGL2){const us=Mt[po];Ue.update(us,Lr),Ue.bind(us,Lr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Lr}function ir(ue,$e){ue.ambientLightColor.needsUpdate=$e,ue.lightProbe.needsUpdate=$e,ue.directionalLights.needsUpdate=$e,ue.directionalLightShadows.needsUpdate=$e,ue.pointLights.needsUpdate=$e,ue.pointLightShadows.needsUpdate=$e,ue.spotLights.needsUpdate=$e,ue.spotLightShadows.needsUpdate=$e,ue.rectAreaLights.needsUpdate=$e,ue.hemisphereLights.needsUpdate=$e}function mn(ue){return ue.isMeshLambertMaterial||ue.isMeshToonMaterial||ue.isMeshPhongMaterial||ue.isMeshStandardMaterial||ue.isShadowMaterial||ue.isShaderMaterial&&ue.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(ue,$e,Ze){ke.get(ue.texture).__webglTexture=$e,ke.get(ue.depthTexture).__webglTexture=Ze;const Ve=ke.get(ue);Ve.__hasExternalTextures=!0,Ve.__hasExternalTextures&&(Ve.__autoAllocateDepthBuffer=Ze===void 0,Ve.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ue,$e){const Ze=ke.get(ue);Ze.__webglFramebuffer=$e,Ze.__useDefaultFramebuffer=$e===void 0},this.setRenderTarget=function(ue,$e=0,Ze=0){T=ue,E=$e,M=Ze;let Ve=!0,et=null,mt=!1,Pt=!1;if(ue){const kt=ke.get(ue);kt.__useDefaultFramebuffer!==void 0?(Re.bindFramebuffer(z.FRAMEBUFFER,null),Ve=!1):kt.__webglFramebuffer===void 0?je.setupRenderTarget(ue):kt.__hasExternalTextures&&je.rebindTextures(ue,ke.get(ue.texture).__webglTexture,ke.get(ue.depthTexture).__webglTexture);const $t=ue.texture;($t.isData3DTexture||$t.isDataArrayTexture||$t.isCompressedArrayTexture)&&(Pt=!0);const st=ke.get(ue).__webglFramebuffer;ue.isWebGLCubeRenderTarget?(et=st[$e],mt=!0):Ie.isWebGL2&&ue.samples>0&&je.useMultisampledRTT(ue)===!1?et=ke.get(ue).__webglMultisampledFramebuffer:et=st,P.copy(ue.viewport),F.copy(ue.scissor),G=ue.scissorTest}else P.copy(H).multiplyScalar(te).floor(),F.copy($).multiplyScalar(te).floor(),G=W;if(Re.bindFramebuffer(z.FRAMEBUFFER,et)&&Ie.drawBuffers&&Ve&&Re.drawBuffers(ue,et),Re.viewport(P),Re.scissor(F),Re.setScissorTest(G),mt){const kt=ke.get(ue.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+$e,kt.__webglTexture,Ze)}else if(Pt){const kt=ke.get(ue.texture),$t=$e||0;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,kt.__webglTexture,Ze||0,$t)}R=-1},this.readRenderTargetPixels=function(ue,$e,Ze,Ve,et,mt,Pt){if(!(ue&&ue.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ot=ke.get(ue).__webglFramebuffer;if(ue.isWebGLCubeRenderTarget&&Pt!==void 0&&(Ot=Ot[Pt]),Ot){Re.bindFramebuffer(z.FRAMEBUFFER,Ot);try{const kt=ue.texture,$t=kt.format,st=kt.type;if($t!==io&&he.convert($t)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Nt=st===Ad&&(Me.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&Me.has("EXT_color_buffer_float"));if(st!==pa&&he.convert(st)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(st===la&&(Ie.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!Nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}$e>=0&&$e<=ue.width-Ve&&Ze>=0&&Ze<=ue.height-et&&z.readPixels($e,Ze,Ve,et,he.convert($t),he.convert(st),mt)}finally{const kt=T!==null?ke.get(T).__webglFramebuffer:null;Re.bindFramebuffer(z.FRAMEBUFFER,kt)}}},this.copyFramebufferToTexture=function(ue,$e,Ze=0){const Ve=Math.pow(2,-Ze),et=Math.floor($e.image.width*Ve),mt=Math.floor($e.image.height*Ve);je.setTexture2D($e,0),z.copyTexSubImage2D(z.TEXTURE_2D,Ze,0,0,ue.x,ue.y,et,mt),Re.unbindTexture()},this.copyTextureToTexture=function(ue,$e,Ze,Ve=0){const et=$e.image.width,mt=$e.image.height,Pt=he.convert(Ze.format),Ot=he.convert(Ze.type);je.setTexture2D(Ze,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,Ze.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ze.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,Ze.unpackAlignment),$e.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,Ve,ue.x,ue.y,et,mt,Pt,Ot,$e.image.data):$e.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,Ve,ue.x,ue.y,$e.mipmaps[0].width,$e.mipmaps[0].height,Pt,$e.mipmaps[0].data):z.texSubImage2D(z.TEXTURE_2D,Ve,ue.x,ue.y,Pt,Ot,$e.image),Ve===0&&Ze.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),Re.unbindTexture()},this.copyTextureToTexture3D=function(ue,$e,Ze,Ve,et=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const mt=ue.max.x-ue.min.x+1,Pt=ue.max.y-ue.min.y+1,Ot=ue.max.z-ue.min.z+1,kt=he.convert(Ve.format),$t=he.convert(Ve.type);let st;if(Ve.isData3DTexture)je.setTexture3D(Ve,0),st=z.TEXTURE_3D;else if(Ve.isDataArrayTexture)je.setTexture2DArray(Ve,0),st=z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,Ve.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ve.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,Ve.unpackAlignment);const Nt=z.getParameter(z.UNPACK_ROW_LENGTH),gn=z.getParameter(z.UNPACK_IMAGE_HEIGHT),_n=z.getParameter(z.UNPACK_SKIP_PIXELS),Bt=z.getParameter(z.UNPACK_SKIP_ROWS),Ir=z.getParameter(z.UNPACK_SKIP_IMAGES),vn=Ze.isCompressedTexture?Ze.mipmaps[0]:Ze.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,vn.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,vn.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,ue.min.x),z.pixelStorei(z.UNPACK_SKIP_ROWS,ue.min.y),z.pixelStorei(z.UNPACK_SKIP_IMAGES,ue.min.z),Ze.isDataTexture||Ze.isData3DTexture?z.texSubImage3D(st,et,$e.x,$e.y,$e.z,mt,Pt,Ot,kt,$t,vn.data):Ze.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(st,et,$e.x,$e.y,$e.z,mt,Pt,Ot,kt,vn.data)):z.texSubImage3D(st,et,$e.x,$e.y,$e.z,mt,Pt,Ot,kt,$t,vn),z.pixelStorei(z.UNPACK_ROW_LENGTH,Nt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,gn),z.pixelStorei(z.UNPACK_SKIP_PIXELS,_n),z.pixelStorei(z.UNPACK_SKIP_ROWS,Bt),z.pixelStorei(z.UNPACK_SKIP_IMAGES,Ir),et===0&&Ve.generateMipmaps&&z.generateMipmap(st),Re.unbindTexture()},this.initTexture=function(ue){ue.isCubeTexture?je.setTextureCube(ue,0):ue.isData3DTexture?je.setTexture3D(ue,0):ue.isDataArrayTexture||ue.isCompressedArrayTexture?je.setTexture2DArray(ue,0):je.setTexture2D(ue,0),Re.unbindTexture()},this.resetState=function(){E=0,M=0,T=null,Re.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ca}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Jt?Xl:_2}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Xl?Jt:Fs}}class HU extends P2{}HU.prototype.isWebGL1Renderer=!0;class gx{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new yt(e),this.density=n}clone(){return new gx(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class vx{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new yt(e),this.near=n,this.far=r}clone(){return new vx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Oy extends kn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class yx{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=um,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Io()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Gi=new ce;class bu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Gi.fromBufferAttribute(this,n),Gi.applyMatrix4(e),this.setXYZ(n,Gi.x,Gi.y,Gi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Gi.fromBufferAttribute(this,n),Gi.applyNormalMatrix(e),this.setXYZ(n,Gi.x,Gi.y,Gi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Gi.fromBufferAttribute(this,n),Gi.transformDirection(e),this.setXYZ(n,Gi.x,Gi.y,Gi.z);return this}setX(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Co(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Co(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Co(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Co(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array),o=cn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new Qn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class I2 extends xi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vf;const Fh=new ce,yf=new ce,xf=new ce,bf=new it,Dh=new it,VU=new qt,L0=new ce,Uh=new ce,k0=new ce,N3=new it,B_=new it,O3=new it;class WU extends kn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vf===void 0){vf=new nn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new yx(n,5);vf.setIndex([0,1,2,0,2,3]),vf.setAttribute("position",new bu(r,3,0,!1)),vf.setAttribute("uv",new bu(r,2,3,!1))}this.geometry=vf,this.material=e!==void 0?e:new I2,this.center=new it(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yf.setFromMatrixScale(this.matrixWorld),VU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yf.multiplyScalar(-xf.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;N0(L0.set(-.5,-.5,0),xf,s,yf,i,o),N0(Uh.set(.5,-.5,0),xf,s,yf,i,o),N0(k0.set(.5,.5,0),xf,s,yf,i,o),N3.set(0,0),B_.set(1,0),O3.set(1,1);let l=e.ray.intersectTriangle(L0,Uh,k0,!1,Fh);if(l===null&&(N0(Uh.set(-.5,.5,0),xf,s,yf,i,o),B_.set(0,1),l=e.ray.intersectTriangle(L0,k0,Uh,!1,Fh),l===null))return;const a=e.ray.origin.distanceTo(Fh);a<e.near||a>e.far||n.push({distance:a,point:Fh.clone(),uv:ro.getInterpolation(Fh,L0,Uh,k0,N3,B_,O3,new it),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function N0(t,e,n,r,i,o){bf.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Dh.x=o*bf.x-i*bf.y,Dh.y=i*bf.x+o*bf.y):Dh.copy(bf),t.copy(e),t.x+=Dh.x,t.y+=Dh.y,t.applyMatrix4(VU)}const O0=new ce,F3=new ce;class jU extends kn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){O0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(O0);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){O0.setFromMatrixPosition(e.matrixWorld),F3.setFromMatrixPosition(this.matrixWorld);const r=O0.distanceTo(F3)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const D3=new ce,U3=new Un,B3=new Un,Ioe=new ce,z3=new qt,_f=new ce,z_=new cs,G3=new qt,G_=new jd;class $U extends pr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new qt,this.bindMatrixInverse=new qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Bs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)_f.fromBufferAttribute(n,r),this.applyBoneTransform(r,_f),this.boundingBox.expandByPoint(_f)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new cs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)_f.fromBufferAttribute(n,r),this.applyBoneTransform(r,_f),this.boundingSphere.expandByPoint(_f)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),z_.copy(this.boundingSphere),z_.applyMatrix4(i),e.ray.intersectsSphere(z_)!==!1&&(G3.copy(i).invert(),G_.copy(e.ray).applyMatrix4(G3),!(this.boundingBox!==null&&G_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,G_)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Un,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;U3.fromBufferAttribute(i.attributes.skinIndex,e),B3.fromBufferAttribute(i.attributes.skinWeight,e),D3.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=B3.getComponent(o);if(s!==0){const l=U3.getComponent(o);z3.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(Ioe.copy(D3).applyMatrix4(z3),s)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class L2 extends kn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hd extends Sr{constructor(e=null,n=1,r=1,i,o,s,l,a,c=Dr,u=Dr,f,d){super(null,s,l,a,c,u,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const H3=new qt,Loe=new qt;class xx{constructor(e=[],n=[]){this.uuid=Io(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new qt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const l=e[o]?e[o].matrixWorld:Loe;H3.multiplyMatrices(l,n[o]),H3.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new xx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=CU(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new hd(n,e,e,io,la);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new L2),this.bones.push(s),this.boneInverses.push(new qt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class _u extends Qn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Sf=new qt,V3=new qt,F0=[],W3=new Bs,koe=new qt,Bh=new pr,zh=new cs;class XU extends pr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new _u(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,koe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Bs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Sf),W3.copy(e.boundingBox).applyMatrix4(Sf),this.boundingBox.union(W3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new cs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Sf),zh.copy(e.boundingSphere).applyMatrix4(Sf),this.boundingSphere.union(zh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Bh.geometry=this.geometry,Bh.material=this.material,Bh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),zh.copy(this.boundingSphere),zh.applyMatrix4(r),e.ray.intersectsSphere(zh)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Sf),V3.multiplyMatrices(r,Sf),Bh.matrixWorld=V3,Bh.raycast(e,F0);for(let s=0,l=F0.length;s<l;s++){const a=F0[s];a.instanceId=o,a.object=this,n.push(a)}F0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new _u(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Yi extends xi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const j3=new ce,$3=new ce,X3=new qt,H_=new jd,D0=new cs;class rc extends kn{constructor(e=new nn,n=new Yi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)j3.fromBufferAttribute(n,i-1),$3.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=j3.distanceTo($3);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),D0.copy(r.boundingSphere),D0.applyMatrix4(i),D0.radius+=o,e.ray.intersectsSphere(D0)===!1)return;X3.copy(i).invert(),H_.copy(e.ray).applyMatrix4(X3);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=l*l,c=new ce,u=new ce,f=new ce,d=new ce,p=this.isLineSegments?2:1,g=r.index,x=r.attributes.position;if(g!==null){const v=Math.max(0,s.start),b=Math.min(g.count,s.start+s.count);for(let _=v,S=b-1;_<S;_+=p){const E=g.getX(_),M=g.getX(_+1);if(c.fromBufferAttribute(x,E),u.fromBufferAttribute(x,M),H_.distanceSqToSegment(c,u,d,f)>a)continue;d.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(d);R<e.near||R>e.far||n.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,s.start),b=Math.min(x.count,s.start+s.count);for(let _=v,S=b-1;_<S;_+=p){if(c.fromBufferAttribute(x,_),u.fromBufferAttribute(x,_+1),H_.distanceSqToSegment(c,u,d,f)>a)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const l=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}const q3=new ce,Y3=new ce;class wa extends rc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)q3.fromBufferAttribute(n,i),Y3.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+q3.distanceTo(Y3);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class qU extends rc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class k2 extends xi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const K3=new qt,hE=new jd,U0=new cs,B0=new ce;class YU extends kn{constructor(e=new nn,n=new k2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),U0.copy(r.boundingSphere),U0.applyMatrix4(i),U0.radius+=o,e.ray.intersectsSphere(U0)===!1)return;K3.copy(i).invert(),hE.copy(e.ray).applyMatrix4(K3);const l=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=l*l,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,s.start),p=Math.min(c.count,s.start+s.count);for(let g=d,y=p;g<y;g++){const x=c.getX(g);B0.fromBufferAttribute(f,x),J3(B0,x,a,i,e,n,this)}}else{const d=Math.max(0,s.start),p=Math.min(f.count,s.start+s.count);for(let g=d,y=p;g<y;g++)B0.fromBufferAttribute(f,g),J3(B0,g,a,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const l=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=o}}}}}function J3(t,e,n,r,i,o,s){const l=hE.distanceSqToPoint(t);if(l<n){const a=new ce;hE.closestPointToPoint(t,a),a.applyMatrix4(r);const c=i.ray.origin.distanceTo(a);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(l),point:a,index:e,face:null,object:s})}}class Noe extends Sr{constructor(e,n,r,i,o,s,l,a,c){super(e,n,r,i,o,s,l,a,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:xr,this.magFilter=o!==void 0?o:xr,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ooe extends Sr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Dr,this.minFilter=Dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class N2 extends Sr{constructor(e,n,r,i,o,s,l,a,c,u,f,d){super(null,s,l,a,c,u,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Foe extends N2{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Li}}class Doe extends Sr{constructor(e,n,r,i,o,s,l,a,c){super(e,n,r,i,o,s,l,a,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let l=0,a=o-1,c;for(;l<=a;)if(i=Math.floor(l+(a-l)/2),c=r[i]-s,c<0)l=i+1;else if(c>0)a=i-1;else{a=i;break}if(i=a,r[i]===s)return i/(o-1);const u=r[i],d=r[i+1]-u,p=(s-u)/d;return(i+p)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),l=this.getPoint(o),a=n||(s.isVector2?new it:new ce);return a.copy(l).sub(s).normalize(),a}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ce,i=[],o=[],s=[],l=new ce,a=new qt;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new ce)}o[0]=new ce,s[0]=new ce;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],l),s[0].crossVectors(i[0],o[0]);for(let p=1;p<=e;p++){if(o[p]=o[p-1].clone(),s[p]=s[p-1].clone(),l.crossVectors(i[p-1],i[p]),l.length()>Number.EPSILON){l.normalize();const g=Math.acos(Pr(i[p-1].dot(i[p]),-1,1));o[p].applyMatrix4(a.makeRotationAxis(l,g))}s[p].crossVectors(i[p],o[p])}if(n===!0){let p=Math.acos(Pr(o[0].dot(o[e]),-1,1));p/=e,i[0].dot(l.crossVectors(o[0],o[e]))>0&&(p=-p);for(let g=1;g<=e;g++)o[g].applyMatrix4(a.makeRotationAxis(i[g],p*g)),s[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class bx extends zs{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,l=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=l,this.aRotation=a}getPoint(e,n){const r=n||new it,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const l=this.aStartAngle+e*o;let a=this.aX+this.xRadius*Math.cos(l),c=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=a-this.aX,p=c-this.aY;a=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return r.set(a,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class KU extends bx{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function O2(){let t=0,e=0,n=0,r=0;function i(o,s,l,a){t=o,e=l,n=-3*o+3*s-2*l-a,r=2*o-2*s+l+a}return{initCatmullRom:function(o,s,l,a,c){i(s,l,c*(l-o),c*(a-s))},initNonuniformCatmullRom:function(o,s,l,a,c,u,f){let d=(s-o)/c-(l-o)/(c+u)+(l-s)/u,p=(l-s)/u-(a-s)/(u+f)+(a-l)/f;d*=u,p*=u,i(s,l,d,p)},calc:function(o){const s=o*o,l=s*o;return t+e*o+n*s+r*l}}}const z0=new ce,V_=new O2,W_=new O2,j_=new O2;class JU extends zs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ce){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let l=Math.floor(s),a=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:a===0&&l===o-1&&(l=o-2,a=1);let c,u;this.closed||l>0?c=i[(l-1)%o]:(z0.subVectors(i[0],i[1]).add(i[0]),c=z0);const f=i[l%o],d=i[(l+1)%o];if(this.closed||l+2<o?u=i[(l+2)%o]:(z0.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=z0),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(d),p),x=Math.pow(d.distanceToSquared(u),p);y<1e-4&&(y=1),g<1e-4&&(g=y),x<1e-4&&(x=y),V_.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,y,x),W_.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,y,x),j_.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,y,x)}else this.curveType==="catmullrom"&&(V_.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),W_.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),j_.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(V_.calc(a),W_.calc(a),j_.calc(a)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Z3(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,l=t*t,a=t*l;return(2*n-2*r+o+s)*a+(-3*n+3*r-2*o-s)*l+o*t+n}function Uoe(t,e){const n=1-t;return n*n*e}function Boe(t,e){return 2*(1-t)*t*e}function zoe(t,e){return t*t*e}function Mp(t,e,n,r){return Uoe(t,e)+Boe(t,n)+zoe(t,r)}function Goe(t,e){const n=1-t;return n*n*n*e}function Hoe(t,e){const n=1-t;return 3*n*n*t*e}function Voe(t,e){return 3*(1-t)*t*t*e}function Woe(t,e){return t*t*t*e}function Tp(t,e,n,r,i){return Goe(t,e)+Hoe(t,n)+Voe(t,r)+Woe(t,i)}class F2 extends zs{constructor(e=new it,n=new it,r=new it,i=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new it){const r=n,i=this.v0,o=this.v1,s=this.v2,l=this.v3;return r.set(Tp(e,i.x,o.x,s.x,l.x),Tp(e,i.y,o.y,s.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZU extends zs{constructor(e=new ce,n=new ce,r=new ce,i=new ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ce){const r=n,i=this.v0,o=this.v1,s=this.v2,l=this.v3;return r.set(Tp(e,i.x,o.x,s.x,l.x),Tp(e,i.y,o.y,s.y,l.y),Tp(e,i.z,o.z,s.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _x extends zs{constructor(e=new it,n=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new it){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new it){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QU extends zs{constructor(e=new ce,n=new ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ce){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ce){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D2 extends zs{constructor(e=new it,n=new it,r=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new it){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Mp(e,i.x,o.x,s.x),Mp(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U2 extends zs{constructor(e=new ce,n=new ce,r=new ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ce){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Mp(e,i.x,o.x,s.x),Mp(e,i.y,o.y,s.y),Mp(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B2 extends zs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new it){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),l=o-s,a=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return r.set(Z3(l,a.x,c.x,u.x,f.x),Z3(l,a.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new it().fromArray(i))}return this}}var z2=Object.freeze({__proto__:null,ArcCurve:KU,CatmullRomCurve3:JU,CubicBezierCurve:F2,CubicBezierCurve3:ZU,EllipseCurve:bx,LineCurve:_x,LineCurve3:QU,QuadraticBezierCurve:D2,QuadraticBezierCurve3:U2,SplineCurve:B2});class e4 extends zs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new _x(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,l=this.curves[o],a=l.getLength(),c=a===0?0:1-s/a;return l.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,a=s.getPoints(l);for(let c=0;c<a.length;c++){const u=a[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new z2[i.type]().fromJSON(i))}return this}}class hm extends e4{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new _x(this.currentPoint.clone(),new it(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new D2(this.currentPoint.clone(),new it(e,n),new it(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const l=new F2(this.currentPoint.clone(),new it(e,n),new it(r,i),new it(o,s));return this.curves.push(l),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new B2(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const l=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+l,n+a,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,l,a){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,s,l,a),this}absellipse(e,n,r,i,o,s,l,a){const c=new bx(e,n,r,i,o,s,l,a);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xd extends nn{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Pr(i,0,Math.PI*2);const o=[],s=[],l=[],a=[],c=[],u=1/n,f=new ce,d=new it,p=new ce,g=new ce,y=new ce;let x=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,p.x=v*1,p.y=-x,p.z=v*0,y.copy(p),p.normalize(),a.push(p.x,p.y,p.z);break;case e.length-1:a.push(y.x,y.y,y.z);break;default:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,p.x=v*1,p.y=-x,p.z=v*0,g.copy(p),p.x+=y.x,p.y+=y.y,p.z+=y.z,p.normalize(),a.push(p.x,p.y,p.z),y.copy(g)}for(let b=0;b<=n;b++){const _=r+b*u*i,S=Math.sin(_),E=Math.cos(_);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*S,f.y=e[M].y,f.z=e[M].x*E,s.push(f.x,f.y,f.z),d.x=b/n,d.y=M/(e.length-1),l.push(d.x,d.y);const T=a[3*M+0]*S,R=a[3*M+1],C=a[3*M+0]*E;c.push(T,R,C)}}for(let b=0;b<n;b++)for(let _=0;_<e.length-1;_++){const S=_+b*e.length,E=S,M=S+e.length,T=S+e.length+1,R=S+1;o.push(E,M,R),o.push(T,R,M)}this.setIndex(o),this.setAttribute("position",new Ct(s,3)),this.setAttribute("uv",new Ct(l,2)),this.setAttribute("normal",new Ct(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xd(e.points,e.segments,e.phiStart,e.phiLength)}}class Wm extends Xd{constructor(e=1,n=1,r=4,i=8){const o=new hm;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Wm(e.radius,e.length,e.capSegments,e.radialSegments)}}class jm extends nn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],l=[],a=[],c=new ce,u=new it;s.push(0,0,0),l.push(0,0,1),a.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const p=r+f/n*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),s.push(c.x,c.y,c.z),l.push(0,0,1),u.x=(s[d]/e+1)/2,u.y=(s[d+1]/e+1)/2,a.push(u.x,u.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ru extends nn{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,l=0,a=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:a};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],f=[],d=[],p=[];let g=0;const y=[],x=r/2;let v=0;b(),s===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(d,3)),this.setAttribute("uv",new Ct(p,2));function b(){const S=new ce,E=new ce;let M=0;const T=(n-e)/r;for(let R=0;R<=o;R++){const C=[],P=R/o,F=P*(n-e)+e;for(let G=0;G<=i;G++){const V=G/i,B=V*a+l,X=Math.sin(B),ee=Math.cos(B);E.x=F*X,E.y=-P*r+x,E.z=F*ee,f.push(E.x,E.y,E.z),S.set(X,T,ee).normalize(),d.push(S.x,S.y,S.z),p.push(V,1-P),C.push(g++)}y.push(C)}for(let R=0;R<i;R++)for(let C=0;C<o;C++){const P=y[C][R],F=y[C+1][R],G=y[C+1][R+1],V=y[C][R+1];u.push(P,F,V),u.push(F,G,V),M+=6}c.addGroup(v,M,0),v+=M}function _(S){const E=g,M=new it,T=new ce;let R=0;const C=S===!0?e:n,P=S===!0?1:-1;for(let G=1;G<=i;G++)f.push(0,x*P,0),d.push(0,P,0),p.push(.5,.5),g++;const F=g;for(let G=0;G<=i;G++){const B=G/i*a+l,X=Math.cos(B),ee=Math.sin(B);T.x=C*ee,T.y=x*P,T.z=C*X,f.push(T.x,T.y,T.z),d.push(0,P,0),M.x=X*.5+.5,M.y=ee*.5*P+.5,p.push(M.x,M.y),g++}for(let G=0;G<i;G++){const V=E+G,B=F+G;S===!0?u.push(B,B+1,V):u.push(B+1,B,V),R+=3}c.addGroup(v,R,S===!0?1:2),v+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ru(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $m extends Ru{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,l=Math.PI*2){super(0,e,n,r,i,o,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:l}}static fromJSON(e){return new $m(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class al extends nn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];l(i),c(r),u(),this.setAttribute("position",new Ct(o,3)),this.setAttribute("normal",new Ct(o.slice(),3)),this.setAttribute("uv",new Ct(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(b){const _=new ce,S=new ce,E=new ce;for(let M=0;M<n.length;M+=3)p(n[M+0],_),p(n[M+1],S),p(n[M+2],E),a(_,S,E,b)}function a(b,_,S,E){const M=E+1,T=[];for(let R=0;R<=M;R++){T[R]=[];const C=b.clone().lerp(S,R/M),P=_.clone().lerp(S,R/M),F=M-R;for(let G=0;G<=F;G++)G===0&&R===M?T[R][G]=C:T[R][G]=C.clone().lerp(P,G/F)}for(let R=0;R<M;R++)for(let C=0;C<2*(M-R)-1;C++){const P=Math.floor(C/2);C%2===0?(d(T[R][P+1]),d(T[R+1][P]),d(T[R][P])):(d(T[R][P+1]),d(T[R+1][P+1]),d(T[R+1][P]))}}function c(b){const _=new ce;for(let S=0;S<o.length;S+=3)_.x=o[S+0],_.y=o[S+1],_.z=o[S+2],_.normalize().multiplyScalar(b),o[S+0]=_.x,o[S+1]=_.y,o[S+2]=_.z}function u(){const b=new ce;for(let _=0;_<o.length;_+=3){b.x=o[_+0],b.y=o[_+1],b.z=o[_+2];const S=x(b)/2/Math.PI+.5,E=v(b)/Math.PI+.5;s.push(S,1-E)}g(),f()}function f(){for(let b=0;b<s.length;b+=6){const _=s[b+0],S=s[b+2],E=s[b+4],M=Math.max(_,S,E),T=Math.min(_,S,E);M>.9&&T<.1&&(_<.2&&(s[b+0]+=1),S<.2&&(s[b+2]+=1),E<.2&&(s[b+4]+=1))}}function d(b){o.push(b.x,b.y,b.z)}function p(b,_){const S=b*3;_.x=e[S+0],_.y=e[S+1],_.z=e[S+2]}function g(){const b=new ce,_=new ce,S=new ce,E=new ce,M=new it,T=new it,R=new it;for(let C=0,P=0;C<o.length;C+=9,P+=6){b.set(o[C+0],o[C+1],o[C+2]),_.set(o[C+3],o[C+4],o[C+5]),S.set(o[C+6],o[C+7],o[C+8]),M.set(s[P+0],s[P+1]),T.set(s[P+2],s[P+3]),R.set(s[P+4],s[P+5]),E.copy(b).add(_).add(S).divideScalar(3);const F=x(E);y(M,P+0,b,F),y(T,P+2,_,F),y(R,P+4,S,F)}}function y(b,_,S,E){E<0&&b.x===1&&(s[_]=b.x-1),S.x===0&&S.z===0&&(s[_]=E/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new al(e.vertices,e.indices,e.radius,e.details)}}class Xm extends al{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Xm(e.radius,e.detail)}}const G0=new ce,H0=new ce,$_=new ce,V0=new ro;class t4 extends nn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(au*n),s=e.getIndex(),l=e.getAttribute("position"),a=s?s.count:l.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},p=[];for(let g=0;g<a;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:x,c:v}=V0;if(y.fromBufferAttribute(l,c[0]),x.fromBufferAttribute(l,c[1]),v.fromBufferAttribute(l,c[2]),V0.getNormal($_),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const _=(b+1)%3,S=f[b],E=f[_],M=V0[u[b]],T=V0[u[_]],R=`${S}_${E}`,C=`${E}_${S}`;C in d&&d[C]?($_.dot(d[C].normal)<=o&&(p.push(M.x,M.y,M.z),p.push(T.x,T.y,T.z)),d[C]=null):R in d||(d[R]={index0:c[b],index1:c[_],normal:$_.clone()})}}for(const g in d)if(d[g]){const{index0:y,index1:x}=d[g];G0.fromBufferAttribute(l,y),H0.fromBufferAttribute(l,x),p.push(G0.x,G0.y,G0.z),p.push(H0.x,H0.y,H0.z)}this.setAttribute("position",new Ct(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class cu extends hm{constructor(e){super(e),this.uuid=Io(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new hm().fromJSON(i))}return this}}const joe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=n4(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let l,a,c,u,f,d,p;if(r&&(o=Koe(t,e,o,n)),t.length>80*n){l=c=t[0],a=u=t[1];for(let g=n;g<i;g+=n)f=t[g],d=t[g+1],f<l&&(l=f),d<a&&(a=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-l,u-a),p=p!==0?32767/p:0}return pm(o,s,n,l,a,p,0),s}};function n4(t,e,n,r,i){let o,s;if(i===ase(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Q3(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Q3(o,t[o],t[o+1],s);return s&&Sx(s,s.next)&&(gm(s),s=s.next),s}function Su(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Sx(n,n.next)||br(n.prev,n,n.next)===0)){if(gm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function pm(t,e,n,r,i,o,s){if(!t)return;!s&&o&&tse(t,r,i,o);let l=t,a,c;for(;t.prev!==t.next;){if(a=t.prev,c=t.next,o?Xoe(t,r,i,o):$oe(t)){e.push(a.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),gm(t),t=c.next,l=c.next;continue}if(t=c,t===l){s?s===1?(t=qoe(Su(t),e,n),pm(t,e,n,r,i,o,2)):s===2&&Yoe(t,e,n,r,i,o):pm(Su(t),e,n,r,i,o,1);break}}}function $oe(t){const e=t.prev,n=t,r=t.next;if(br(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,l=e.y,a=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,f=l<a?l<c?l:c:a<c?a:c,d=i>o?i>s?i:s:o>s?o:s,p=l>a?l>c?l:c:a>c?a:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=p&&Jf(i,l,o,a,s,c,g.x,g.y)&&br(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Xoe(t,e,n,r){const i=t.prev,o=t,s=t.next;if(br(i,o,s)>=0)return!1;const l=i.x,a=o.x,c=s.x,u=i.y,f=o.y,d=s.y,p=l<a?l<c?l:c:a<c?a:c,g=u<f?u<d?u:d:f<d?f:d,y=l>a?l>c?l:c:a>c?a:c,x=u>f?u>d?u:d:f>d?f:d,v=pE(p,g,e,n,r),b=pE(y,x,e,n,r);let _=t.prevZ,S=t.nextZ;for(;_&&_.z>=v&&S&&S.z<=b;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==s&&Jf(l,u,a,f,c,d,_.x,_.y)&&br(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=p&&S.x<=y&&S.y>=g&&S.y<=x&&S!==i&&S!==s&&Jf(l,u,a,f,c,d,S.x,S.y)&&br(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=v;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==s&&Jf(l,u,a,f,c,d,_.x,_.y)&&br(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=b;){if(S.x>=p&&S.x<=y&&S.y>=g&&S.y<=x&&S!==i&&S!==s&&Jf(l,u,a,f,c,d,S.x,S.y)&&br(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function qoe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!Sx(i,o)&&r4(i,r,r.next,o)&&mm(i,o)&&mm(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),gm(r),gm(r.next),r=t=o),r=r.next}while(r!==t);return Su(r)}function Yoe(t,e,n,r,i,o){let s=t;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&ise(s,l)){let a=i4(s,l);s=Su(s,s.next),a=Su(a,a.next),pm(s,e,n,r,i,o,0),pm(a,e,n,r,i,o,0);return}l=l.next}s=s.next}while(s!==t)}function Koe(t,e,n,r){const i=[];let o,s,l,a,c;for(o=0,s=e.length;o<s;o++)l=e[o]*r,a=o<s-1?e[o+1]*r:t.length,c=n4(t,l,a,r,!1),c===c.next&&(c.steiner=!0),i.push(rse(c));for(i.sort(Joe),o=0;o<i.length;o++)n=Zoe(i[o],n);return n}function Joe(t,e){return t.x-e.x}function Zoe(t,e){const n=Qoe(t,e);if(!n)return e;const r=i4(n,t);return Su(r,r.next),Su(n,n.next)}function Qoe(t,e){let n=e,r=-1/0,i;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const d=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const l=i,a=i.x,c=i.y;let u=1/0,f;n=i;do o>=n.x&&n.x>=a&&o!==n.x&&Jf(s<c?o:r,s,a,c,s<c?r:o,s,n.x,n.y)&&(f=Math.abs(s-n.y)/(o-n.x),mm(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&ese(i,n)))&&(i=n,u=f)),n=n.next;while(n!==l);return i}function ese(t,e){return br(t.prev,t,e.prev)<0&&br(e.next,t,t.next)<0}function tse(t,e,n,r){let i=t;do i.z===0&&(i.z=pE(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,nse(i)}function nse(t){let e,n,r,i,o,s,l,a,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,l=0,e=0;e<c&&(l++,r=r.nextZ,!!r);e++);for(a=c;l>0||a>0&&r;)l!==0&&(a===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return t}function pE(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function rse(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Jf(t,e,n,r,i,o,s,l){return(i-s)*(e-l)>=(t-s)*(o-l)&&(t-s)*(r-l)>=(n-s)*(e-l)&&(n-s)*(o-l)>=(i-s)*(r-l)}function ise(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ose(t,e)&&(mm(t,e)&&mm(e,t)&&sse(t,e)&&(br(t.prev,t,e.prev)||br(t,e.prev,e))||Sx(t,e)&&br(t.prev,t,t.next)>0&&br(e.prev,e,e.next)>0)}function br(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Sx(t,e){return t.x===e.x&&t.y===e.y}function r4(t,e,n,r){const i=j0(br(t,e,n)),o=j0(br(t,e,r)),s=j0(br(n,r,t)),l=j0(br(n,r,e));return!!(i!==o&&s!==l||i===0&&W0(t,n,e)||o===0&&W0(t,r,e)||s===0&&W0(n,t,r)||l===0&&W0(n,e,r))}function W0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function j0(t){return t>0?1:t<0?-1:0}function ose(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&r4(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function mm(t,e){return br(t.prev,t,t.next)<0?br(t,e,t.next)>=0&&br(t,t.prev,e)>=0:br(t,e,t.prev)<0||br(t,t.next,e)<0}function sse(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function i4(t,e){const n=new mE(t.i,t.x,t.y),r=new mE(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Q3(t,e,n,r){const i=new mE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function gm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function mE(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ase(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class ma{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return ma.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];eI(e),tI(r,e);let s=e.length;n.forEach(eI);for(let a=0;a<n.length;a++)i.push(s),s+=n[a].length,tI(r,n[a]);const l=joe.triangulate(r,i);for(let a=0;a<l.length;a+=3)o.push(l.slice(a,a+3));return o}}function eI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function tI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class qd extends nn{constructor(e=new cu([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let l=0,a=e.length;l<a;l++){const c=e[l];s(c)}this.setAttribute("position",new Ct(i,3)),this.setAttribute("uv",new Ct(o,2)),this.computeVertexNormals();function s(l){const a=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:p-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:lse;let _,S=!1,E,M,T,R;v&&(_=v.getSpacedPoints(u),S=!0,d=!1,E=v.computeFrenetFrames(u,!1),M=new ce,T=new ce,R=new ce),d||(x=0,p=0,g=0,y=0);const C=l.extractPoints(c);let P=C.shape;const F=C.holes;if(!ma.isClockWise(P)){P=P.reverse();for(let z=0,ge=F.length;z<ge;z++){const Me=F[z];ma.isClockWise(Me)&&(F[z]=Me.reverse())}}const V=ma.triangulateShape(P,F),B=P;for(let z=0,ge=F.length;z<ge;z++){const Me=F[z];P=P.concat(Me)}function X(z,ge,Me){return ge||console.error("THREE.ExtrudeGeometry: vec does not exist"),z.clone().addScaledVector(ge,Me)}const ee=P.length,te=V.length;function O(z,ge,Me){let Ie,Re,We;const ke=z.x-ge.x,je=z.y-ge.y,He=Me.x-z.x,Ne=Me.y-z.y,Ke=ke*ke+je*je,J=ke*Ne-je*He;if(Math.abs(J)>Number.EPSILON){const N=Math.sqrt(Ke),oe=Math.sqrt(He*He+Ne*Ne),Le=ge.x-je/N,Te=ge.y+ke/N,_e=Me.x-Ne/oe,ye=Me.y+He/oe,we=((_e-Le)*Ne-(ye-Te)*He)/(ke*Ne-je*He);Ie=Le+ke*we-z.x,Re=Te+je*we-z.y;const Se=Ie*Ie+Re*Re;if(Se<=2)return new it(Ie,Re);We=Math.sqrt(Se/2)}else{let N=!1;ke>Number.EPSILON?He>Number.EPSILON&&(N=!0):ke<-Number.EPSILON?He<-Number.EPSILON&&(N=!0):Math.sign(je)===Math.sign(Ne)&&(N=!0),N?(Ie=-je,Re=ke,We=Math.sqrt(Ke)):(Ie=ke,Re=je,We=Math.sqrt(Ke/2))}return new it(Ie/We,Re/We)}const D=[];for(let z=0,ge=B.length,Me=ge-1,Ie=z+1;z<ge;z++,Me++,Ie++)Me===ge&&(Me=0),Ie===ge&&(Ie=0),D[z]=O(B[z],B[Me],B[Ie]);const H=[];let $,W=D.concat();for(let z=0,ge=F.length;z<ge;z++){const Me=F[z];$=[];for(let Ie=0,Re=Me.length,We=Re-1,ke=Ie+1;Ie<Re;Ie++,We++,ke++)We===Re&&(We=0),ke===Re&&(ke=0),$[Ie]=O(Me[Ie],Me[We],Me[ke]);H.push($),W=W.concat($)}for(let z=0;z<x;z++){const ge=z/x,Me=p*Math.cos(ge*Math.PI/2),Ie=g*Math.sin(ge*Math.PI/2)+y;for(let Re=0,We=B.length;Re<We;Re++){const ke=X(B[Re],D[Re],Ie);fe(ke.x,ke.y,-Me)}for(let Re=0,We=F.length;Re<We;Re++){const ke=F[Re];$=H[Re];for(let je=0,He=ke.length;je<He;je++){const Ne=X(ke[je],$[je],Ie);fe(Ne.x,Ne.y,-Me)}}}const ie=g+y;for(let z=0;z<ee;z++){const ge=d?X(P[z],W[z],ie):P[z];S?(T.copy(E.normals[0]).multiplyScalar(ge.x),M.copy(E.binormals[0]).multiplyScalar(ge.y),R.copy(_[0]).add(T).add(M),fe(R.x,R.y,R.z)):fe(ge.x,ge.y,0)}for(let z=1;z<=u;z++)for(let ge=0;ge<ee;ge++){const Me=d?X(P[ge],W[ge],ie):P[ge];S?(T.copy(E.normals[z]).multiplyScalar(Me.x),M.copy(E.binormals[z]).multiplyScalar(Me.y),R.copy(_[z]).add(T).add(M),fe(R.x,R.y,R.z)):fe(Me.x,Me.y,f/u*z)}for(let z=x-1;z>=0;z--){const ge=z/x,Me=p*Math.cos(ge*Math.PI/2),Ie=g*Math.sin(ge*Math.PI/2)+y;for(let Re=0,We=B.length;Re<We;Re++){const ke=X(B[Re],D[Re],Ie);fe(ke.x,ke.y,f+Me)}for(let Re=0,We=F.length;Re<We;Re++){const ke=F[Re];$=H[Re];for(let je=0,He=ke.length;je<He;je++){const Ne=X(ke[je],$[je],Ie);S?fe(Ne.x,Ne.y+_[u-1].y,_[u-1].x+Me):fe(Ne.x,Ne.y,f+Me)}}}j(),Y();function j(){const z=i.length/3;if(d){let ge=0,Me=ee*ge;for(let Ie=0;Ie<te;Ie++){const Re=V[Ie];pe(Re[2]+Me,Re[1]+Me,Re[0]+Me)}ge=u+x*2,Me=ee*ge;for(let Ie=0;Ie<te;Ie++){const Re=V[Ie];pe(Re[0]+Me,Re[1]+Me,Re[2]+Me)}}else{for(let ge=0;ge<te;ge++){const Me=V[ge];pe(Me[2],Me[1],Me[0])}for(let ge=0;ge<te;ge++){const Me=V[ge];pe(Me[0]+ee*u,Me[1]+ee*u,Me[2]+ee*u)}}r.addGroup(z,i.length/3-z,0)}function Y(){const z=i.length/3;let ge=0;K(B,ge),ge+=B.length;for(let Me=0,Ie=F.length;Me<Ie;Me++){const Re=F[Me];K(Re,ge),ge+=Re.length}r.addGroup(z,i.length/3-z,1)}function K(z,ge){let Me=z.length;for(;--Me>=0;){const Ie=Me;let Re=Me-1;Re<0&&(Re=z.length-1);for(let We=0,ke=u+x*2;We<ke;We++){const je=ee*We,He=ee*(We+1),Ne=ge+Ie+je,Ke=ge+Re+je,J=ge+Re+He,N=ge+Ie+He;xe(Ne,Ke,J,N)}}}function fe(z,ge,Me){a.push(z),a.push(ge),a.push(Me)}function pe(z,ge,Me){Ge(z),Ge(ge),Ge(Me);const Ie=i.length/3,Re=b.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);Ae(Re[0]),Ae(Re[1]),Ae(Re[2])}function xe(z,ge,Me,Ie){Ge(z),Ge(ge),Ge(Ie),Ge(ge),Ge(Me),Ge(Ie);const Re=i.length/3,We=b.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);Ae(We[0]),Ae(We[1]),Ae(We[3]),Ae(We[1]),Ae(We[2]),Ae(We[3])}function Ge(z){i.push(a[z*3+0]),i.push(a[z*3+1]),i.push(a[z*3+2])}function Ae(z){o.push(z.x),o.push(z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return cse(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const l=n[e.shapes[o]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new z2[i.type]().fromJSON(i)),new qd(r,e.options)}}const lse={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],l=e[r*3],a=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new it(o,s),new it(l,a),new it(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],l=e[n*3+1],a=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],g=e[i*3+2],y=e[o*3],x=e[o*3+1],v=e[o*3+2];return Math.abs(l-u)<Math.abs(s-c)?[new it(s,1-a),new it(c,1-f),new it(d,1-g),new it(y,1-v)]:[new it(l,1-a),new it(u,1-f),new it(p,1-g),new it(x,1-v)]}};function cse(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class qm extends al{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qm(e.radius,e.detail)}}class Yd extends al{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Yd(e.radius,e.detail)}}class Ym extends nn{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const l=[],a=[],c=[],u=[];let f=e;const d=(n-e)/i,p=new ce,g=new it;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const v=o+x/r*s;p.x=f*Math.cos(v),p.y=f*Math.sin(v),a.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/n+1)/2,g.y=(p.y/n+1)/2,u.push(g.x,g.y)}f+=d}for(let y=0;y<i;y++){const x=y*(r+1);for(let v=0;v<r;v++){const b=v+x,_=b,S=b+r+1,E=b+r+2,M=b+1;l.push(_,S,M),l.push(S,E,M)}}this.setIndex(l),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(c,3)),this.setAttribute("uv",new Ct(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ym(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Km extends nn{constructor(e=new cu([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let l=0,a=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(l,a,u),l+=a,a=0;this.setIndex(r),this.setAttribute("position",new Ct(i,3)),this.setAttribute("normal",new Ct(o,3)),this.setAttribute("uv",new Ct(s,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let p=d.shape;const g=d.holes;ma.isClockWise(p)===!1&&(p=p.reverse());for(let x=0,v=g.length;x<v;x++){const b=g[x];ma.isClockWise(b)===!0&&(g[x]=b.reverse())}const y=ma.triangulateShape(p,g);for(let x=0,v=g.length;x<v;x++){const b=g[x];p=p.concat(b)}for(let x=0,v=p.length;x<v;x++){const b=p[x];i.push(b.x,b.y,0),o.push(0,0,1),s.push(b.x,b.y)}for(let x=0,v=y.length;x<v;x++){const b=y[x],_=b[0]+f,S=b[1]+f,E=b[2]+f;r.push(_,S,E),a+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return use(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new Km(r,e.curveSegments)}}function use(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Kd extends nn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const a=Math.min(s+l,Math.PI);let c=0;const u=[],f=new ce,d=new ce,p=[],g=[],y=[],x=[];for(let v=0;v<=r;v++){const b=[],_=v/r;let S=0;v===0&&s===0?S=.5/n:v===r&&a===Math.PI&&(S=-.5/n);for(let E=0;E<=n;E++){const M=E/n;f.x=-e*Math.cos(i+M*o)*Math.sin(s+_*l),f.y=e*Math.cos(s+_*l),f.z=e*Math.sin(i+M*o)*Math.sin(s+_*l),g.push(f.x,f.y,f.z),d.copy(f).normalize(),y.push(d.x,d.y,d.z),x.push(M+S,1-_),b.push(c++)}u.push(b)}for(let v=0;v<r;v++)for(let b=0;b<n;b++){const _=u[v][b+1],S=u[v][b],E=u[v+1][b],M=u[v+1][b+1];(v!==0||s>0)&&p.push(_,S,M),(v!==r-1||a<Math.PI)&&p.push(S,E,M)}this.setIndex(p),this.setAttribute("position",new Ct(g,3)),this.setAttribute("normal",new Ct(y,3)),this.setAttribute("uv",new Ct(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Jm extends al{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Jm(e.radius,e.detail)}}class Zm extends nn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],a=[],c=[],u=new ce,f=new ce,d=new ce;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const y=g/i*o,x=p/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(y),f.y=(e+n*Math.cos(x))*Math.sin(y),f.z=n*Math.sin(x),l.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),d.subVectors(f,u).normalize(),a.push(d.x,d.y,d.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const y=(i+1)*p+g-1,x=(i+1)*(p-1)+g-1,v=(i+1)*(p-1)+g,b=(i+1)*p+g;s.push(y,x,b),s.push(x,v,b)}this.setIndex(s),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(a,3)),this.setAttribute("uv",new Ct(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Qm extends nn{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const l=[],a=[],c=[],u=[],f=new ce,d=new ce,p=new ce,g=new ce,y=new ce,x=new ce,v=new ce;for(let _=0;_<=r;++_){const S=_/r*o*Math.PI*2;b(S,o,s,e,p),b(S+.01,o,s,e,g),x.subVectors(g,p),v.addVectors(g,p),y.crossVectors(x,v),v.crossVectors(y,x),y.normalize(),v.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,T=-n*Math.cos(M),R=n*Math.sin(M);f.x=p.x+(T*v.x+R*y.x),f.y=p.y+(T*v.y+R*y.y),f.z=p.z+(T*v.z+R*y.z),a.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(_/r),u.push(E/i)}}for(let _=1;_<=r;_++)for(let S=1;S<=i;S++){const E=(i+1)*(_-1)+(S-1),M=(i+1)*_+(S-1),T=(i+1)*_+S,R=(i+1)*(_-1)+S;l.push(E,M,R),l.push(M,T,R)}this.setIndex(l),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(c,3)),this.setAttribute("uv",new Ct(u,2));function b(_,S,E,M,T){const R=Math.cos(_),C=Math.sin(_),P=E/S*_,F=Math.cos(P);T.x=M*(2+F)*.5*R,T.y=M*(2+F)*C*.5,T.z=M*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class eg extends nn{constructor(e=new U2(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new ce,a=new ce,c=new it;let u=new ce;const f=[],d=[],p=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new Ct(f,3)),this.setAttribute("normal",new Ct(d,3)),this.setAttribute("uv",new Ct(p,2));function y(){for(let _=0;_<n;_++)x(_);x(o===!1?n:0),b(),v()}function x(_){u=e.getPointAt(_/n,u);const S=s.normals[_],E=s.binormals[_];for(let M=0;M<=i;M++){const T=M/i*Math.PI*2,R=Math.sin(T),C=-Math.cos(T);a.x=C*S.x+R*E.x,a.y=C*S.y+R*E.y,a.z=C*S.z+R*E.z,a.normalize(),d.push(a.x,a.y,a.z),l.x=u.x+r*a.x,l.y=u.y+r*a.y,l.z=u.z+r*a.z,f.push(l.x,l.y,l.z)}}function v(){for(let _=1;_<=n;_++)for(let S=1;S<=i;S++){const E=(i+1)*(_-1)+(S-1),M=(i+1)*_+(S-1),T=(i+1)*_+S,R=(i+1)*(_-1)+S;g.push(E,M,R),g.push(M,T,R)}}function b(){for(let _=0;_<=n;_++)for(let S=0;S<=i;S++)c.x=_/n,c.y=S/i,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new eg(new z2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class o4 extends nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ce,o=new ce;if(e.index!==null){const s=e.attributes.position,l=e.index;let a=e.groups;a.length===0&&(a=[{start:0,count:l.count,materialIndex:0}]);for(let c=0,u=a.length;c<u;++c){const f=a[c],d=f.start,p=f.count;for(let g=d,y=d+p;g<y;g+=3)for(let x=0;x<3;x++){const v=l.getX(g+x),b=l.getX(g+(x+1)%3);i.fromBufferAttribute(s,v),o.fromBufferAttribute(s,b),nI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let l=0,a=s.count/3;l<a;l++)for(let c=0;c<3;c++){const u=3*l+c,f=3*l+(c+1)%3;i.fromBufferAttribute(s,u),o.fromBufferAttribute(s,f),nI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Ct(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function nI(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var rI=Object.freeze({__proto__:null,BoxGeometry:Sa,CapsuleGeometry:Wm,CircleGeometry:jm,ConeGeometry:$m,CylinderGeometry:Ru,DodecahedronGeometry:Xm,EdgesGeometry:t4,ExtrudeGeometry:qd,IcosahedronGeometry:qm,LatheGeometry:Xd,OctahedronGeometry:Yd,PlaneGeometry:sl,PolyhedronGeometry:al,RingGeometry:Ym,ShapeGeometry:Km,SphereGeometry:Kd,TetrahedronGeometry:Jm,TorusGeometry:Zm,TorusKnotGeometry:Qm,TubeGeometry:eg,WireframeGeometry:o4});class s4 extends xi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class a4 extends ss{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class G2 extends xi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new yt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dc,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class l4 extends G2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class c4 extends xi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yt(16777215),this.specular=new yt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dc,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zf extends xi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dc,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class u4 extends xi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dc,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class f4 extends xi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dc,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d4 extends xi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dc,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class h4 extends Yi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yo(t,e,n){return H2(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function ru(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function H2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function p4(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function gE(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const l=n[o]*e;for(let a=0;a!==e;++a)i[s++]=t[l+a]}return i}function V2(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function fse(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let a=0;a<o.tracks.length;++a){const c=o.tracks[a],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<n||g>=r)){f.push(c.times[p]);for(let y=0;y<u;++y)d.push(c.values[p*u+y])}}f.length!==0&&(c.times=ru(f,c.times.constructor),c.values=ru(d,c.values.constructor),s.push(c))}o.tracks=s;let l=1/0;for(let a=0;a<o.tracks.length;++a)l>o.tracks[a].times[0]&&(l=o.tracks[a].times[0]);for(let a=0;a<o.tracks.length;++a)o.tracks[a].shift(-1*l);return o.resetDuration(),o}function dse(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const l=n.tracks[s],a=l.ValueTypeName;if(a==="bool"||a==="string")continue;const c=t.tracks.find(function(v){return v.name===l.name&&v.ValueTypeName===a});if(c===void 0)continue;let u=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const g=l.times.length-1;let y;if(o<=l.times[0]){const v=u,b=f-u;y=Yo(l.values,v,b)}else if(o>=l.times[g]){const v=g*f+u,b=v+f-u;y=Yo(l.values,v,b)}else{const v=l.createInterpolant(),b=u,_=f-u;v.evaluate(o),y=Yo(v.resultBuffer,b,_)}a==="quaternion"&&new co().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let v=0;v<x;++v){const b=v*p+d;if(a==="quaternion")co.multiplyQuaternionsFlat(c.values,b,y,0,c.values,b);else{const _=p-d*2;for(let S=0;S<_;++S)c.values[b+S]-=y[S]}}}return t.blendMode=b2,t}const hse={arraySlice:Yo,convertArray:ru,isTypedArray:H2,getKeyframeOrder:p4,sortedArray:gE,flattenJSON:V2,subclip:fse,makeClipAdditive:dse};class tg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const l=n[1];e<l&&(r=2,o=l);for(let a=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===a)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const l=r+s>>>1;e<n[l]?s=l:r=l+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class m4 extends tg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:eu,endingEnd:eu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,l=i[o],a=i[s];if(l===void 0)switch(this.getSettings_().endingStart){case tu:o=e,l=2*n-r;break;case cm:o=i.length-2,l=n+i[o]-i[o+1];break;default:o=e,l=r}if(a===void 0)switch(this.getSettings_().endingEnd){case tu:s=e,a=2*r-n;break;case cm:s=1,a=r+i[1]-i[0];break;default:s=e-1,a=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-l),this._weightNext=c/(a-r),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,l=this.valueSize,a=e*l,c=a-l,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,g=(r-n)/(i-n),y=g*g,x=y*g,v=-d*x+2*d*y-d*g,b=(1+d)*x+(-1.5-2*d)*y+(-.5+d)*g+1,_=(-1-p)*x+(1.5+p)*y+.5*g,S=p*x-p*y;for(let E=0;E!==l;++E)o[E]=v*s[u+E]+b*s[c+E]+_*s[a+E]+S*s[f+E];return o}}class W2 extends tg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,l=this.valueSize,a=e*l,c=a-l,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==l;++d)o[d]=s[c+d]*f+s[a+d]*u;return o}}class g4 extends tg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ru(n,this.TimeBufferType),this.values=ru(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ru(e.times,Array),values:ru(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new g4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new W2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new m4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case am:n=this.InterpolantFactoryMethodDiscrete;break;case lm:n=this.InterpolantFactoryMethodLinear;break;case Ov:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return am;case this.InterpolantFactoryMethodLinear:return lm;case this.InterpolantFactoryMethodSmooth:return Ov}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const l=this.getValueSize();this.times=Yo(r,o,s),this.values=Yo(this.values,o*l,s*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==o;l++){const a=r[l];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,a),e=!1;break}if(s!==null&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,a,s),e=!1;break}s=a}if(i!==void 0&&H2(i))for(let l=0,a=i.length;l!==a;++l){const c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}optimize(){const e=Yo(this.times),n=Yo(this.values),r=this.getValueSize(),i=this.getInterpolation()===Ov,o=e.length-1;let s=1;for(let l=1;l<o;++l){let a=!1;const c=e[l],u=e[l+1];if(c!==u&&(l!==1||c!==e[0]))if(i)a=!0;else{const f=l*r,d=f-r,p=f+r;for(let g=0;g!==r;++g){const y=n[f+g];if(y!==n[d+g]||y!==n[p+g]){a=!0;break}}}if(a){if(l!==s){e[s]=e[l];const f=l*r,d=s*r;for(let p=0;p!==r;++p)n[d+p]=n[f+p]}++s}}if(o>0){e[s]=e[o];for(let l=o*r,a=s*r,c=0;c!==r;++c)n[a+c]=n[l+c];++s}return s!==e.length?(this.times=Yo(e,0,s),this.values=Yo(n,0,s*r)):(this.times=e,this.values=n),this}clone(){const e=Yo(this.times,0),n=Yo(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Gs.prototype.TimeBufferType=Float32Array;Gs.prototype.ValueBufferType=Float32Array;Gs.prototype.DefaultInterpolation=lm;class Pu extends Gs{}Pu.prototype.ValueTypeName="bool";Pu.prototype.ValueBufferType=Array;Pu.prototype.DefaultInterpolation=am;Pu.prototype.InterpolantFactoryMethodLinear=void 0;Pu.prototype.InterpolantFactoryMethodSmooth=void 0;class j2 extends Gs{}j2.prototype.ValueTypeName="color";class vm extends Gs{}vm.prototype.ValueTypeName="number";class v4 extends tg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,l=this.valueSize,a=(r-n)/(i-n);let c=e*l;for(let u=c+l;c!==u;c+=4)co.slerpFlat(o,0,s,c-l,s,c,a);return o}}class Jd extends Gs{InterpolantFactoryMethodLinear(e){return new v4(this.times,this.values,this.getValueSize(),e)}}Jd.prototype.ValueTypeName="quaternion";Jd.prototype.DefaultInterpolation=lm;Jd.prototype.InterpolantFactoryMethodSmooth=void 0;class Iu extends Gs{}Iu.prototype.ValueTypeName="string";Iu.prototype.ValueBufferType=Array;Iu.prototype.DefaultInterpolation=am;Iu.prototype.InterpolantFactoryMethodLinear=void 0;Iu.prototype.InterpolantFactoryMethodSmooth=void 0;class ym extends Gs{}ym.prototype.ValueTypeName="vector";class xm{constructor(e,n=-1,r,i=cx){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Io(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,l=r.length;s!==l;++s)n.push(mse(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Gs.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let l=0;l<o;l++){let a=[],c=[];a.push((l+o-1)%o,l,(l+1)%o),c.push(0,1,0);const u=p4(a);a=gE(a,1,u),c=gE(c,1,u),!i&&a[0]===0&&(a.push(o),c.push(c[0])),s.push(new vm(".morphTargetInfluences["+n[l].name+"]",a,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let l=0,a=e.length;l<a;l++){const c=e[l],u=c.name.match(o);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const s=[];for(const l in i)s.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,p,g,y){if(p.length!==0){const x=[],v=[];V2(p,x,v,g),x.length!==0&&y.push(new f(d,x,v))}},i=[],o=e.name||"default",s=e.fps||30,l=e.blendMode;let a=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let y=0;y<d[g].morphTargets.length;y++)p[d[g].morphTargets[y]]=-1;for(const y in p){const x=[],v=[];for(let b=0;b!==d[g].morphTargets.length;++b){const _=d[g];x.push(_.time),v.push(_.morphTarget===y?1:0)}i.push(new vm(".morphTargetInfluence["+y+"]",x,v))}a=p.length*s}else{const p=".bones["+n[f].name+"]";r(ym,p+".position",d,"pos",i),r(Jd,p+".quaternion",d,"rot",i),r(ym,p+".scale",d,"scl",i)}}return i.length===0?null:new this(o,a,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pse(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vm;case"vector":case"vector2":case"vector3":case"vector4":return ym;case"color":return j2;case"quaternion":return Jd;case"bool":case"boolean":return Pu;case"string":return Iu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mse(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pse(t.type);if(t.times===void 0){const n=[],r=[];V2(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const wu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class $2{constructor(e,n,r){const i=this;let o=!1,s=0,l=0,a;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){l++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,l),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,l),s===l&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return a?a(u):u},this.setURLModifier=function(u){return a=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],g=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const y4=new $2;class ho{constructor(e){this.manager=e!==void 0?e:y4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Fa={};class gse extends Error{constructor(e,n){super(e),this.response=n}}class xa extends ho{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=wu.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Fa[e]!==void 0){Fa[e].push({onLoad:n,onProgress:r,onError:i});return}Fa[e]=[],Fa[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,a=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Fa[e],f=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),p=d?parseInt(d):0,g=p!==0;let y=0;const x=new ReadableStream({start(v){b();function b(){f.read().then(({done:_,value:S})=>{if(_)v.close();else{y+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:p});for(let M=0,T=u.length;M<T;M++){const R=u[M];R.onProgress&&R.onProgress(E)}v.enqueue(S),b()}})}}});return new Response(x)}else throw new gse(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(a){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,l));case"json":return c.json();default:if(l===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{wu.add(e,c);const u=Fa[e];delete Fa[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Fa[e];if(u===void 0)throw this.manager.itemError(e),c;delete Fa[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vse extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new xa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{n(o.parse(JSON.parse(l)))}catch(a){i?i(a):console.error(a),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=xm.parse(e[r]);n.push(i)}return n}}class yse extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],l=new N2,a=new xa(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(o.withCredentials);let c=0;function u(f){a.load(e[f],function(d){const p=o.parse(d,!0);s[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(l.minFilter=xr),l.image=s,l.format=p.format,l.needsUpdate=!0,n&&n(l))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else a.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let g=0;g<p;g++){s[g]={mipmaps:[]};for(let y=0;y<d.mipmapCount;y++)s[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+y]),s[g].format=d.format,s[g].width=d.width,s[g].height=d.height}l.image=s}else l.image.width=d.width,l.image.height=d.height,l.mipmaps=d.mipmaps;d.mipmapCount===1&&(l.minFilter=xr),l.format=d.format,l.needsUpdate=!0,n&&n(l)},r,i);return l}}class bm extends ho{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=wu.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const l=dm("img");function a(){u(),wu.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(f){u(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){l.removeEventListener("load",a,!1),l.removeEventListener("error",c,!1)}return l.addEventListener("load",a,!1),l.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(e),l.src=e,l}}class xse extends ho{constructor(e){super(e)}load(e,n,r,i){const o=new Hm;o.colorSpace=Jt;const s=new bm(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function a(c){s.load(e[c],function(u){o.images[c]=u,l++,l===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)a(c);return o}}class bse extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new hd,l=new xa(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(o.withCredentials),l.load(e,function(a){const c=o.parse(a);c&&(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Li,s.wrapT=c.wrapT!==void 0?c.wrapT:Li,s.magFilter=c.magFilter!==void 0?c.magFilter:xr,s.minFilter=c.minFilter!==void 0?c.minFilter:xr,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?s.colorSpace=c.colorSpace:c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=nc),c.mipmapCount===1&&(s.minFilter=xr),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c))},r,i),s}}class _se extends ho{constructor(e){super(e)}load(e,n,r,i){const o=new Sr,s=new bm(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){o.image=l,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class hc extends kn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new yt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class x4 extends hc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const X_=new qt,iI=new ce,oI=new ce;class X2{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.map=null,this.mapPass=null,this.matrix=new qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dx,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;iI.setFromMatrixPosition(e.matrixWorld),n.position.copy(iI),oI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(oI),n.updateMatrixWorld(),X_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(X_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Sse extends X2{constructor(){super(new ci(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Cd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class b4 extends hc{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.target=new kn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new Sse}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const sI=new qt,Gh=new ce,q_=new ce;class wse extends X2{constructor(){super(new ci(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new Un(2,1,1,1),new Un(0,1,1,1),new Un(3,1,1,1),new Un(1,1,1,1),new Un(3,0,1,1),new Un(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Gh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Gh),q_.copy(r.position),q_.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(q_),r.updateMatrixWorld(),i.makeTranslation(-Gh.x,-Gh.y,-Gh.z),sI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sI)}}class _4 extends hc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new wse}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ese extends X2{constructor(){super(new Vm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class S4 extends hc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.target=new kn,this.shadow=new Ese}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class w4 extends hc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class E4 extends hc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class M4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class wx extends hc{constructor(e=new M4,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Ex extends ho{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new xa(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(l){try{n(o.parse(JSON.parse(l)))}catch(a){i?i(a):console.error(a),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=Ex.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new yt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new yt().setHex(s.value);break;case"v2":i.uniforms[o].value=new it().fromArray(s.value);break;case"v3":i.uniforms[o].value=new ce().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Un().fromArray(s.value);break;case"m3":i.uniforms[o].value=new tn().fromArray(s.value);break;case"m4":i.uniforms[o].value=new qt().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new it().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:s4,SpriteMaterial:I2,RawShaderMaterial:a4,ShaderMaterial:ss,PointsMaterial:k2,MeshPhysicalMaterial:l4,MeshStandardMaterial:G2,MeshPhongMaterial:c4,MeshToonMaterial:Zf,MeshNormalMaterial:u4,MeshLambertMaterial:f4,MeshDepthMaterial:px,MeshDistanceMaterial:mx,MeshBasicMaterial:_a,MeshMatcapMaterial:d4,LineDashedMaterial:h4,LineBasicMaterial:Yi,Material:xi};return new n[e]}}class vE{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class q2 extends nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class T4 extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new xa(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(l){try{n(o.parse(JSON.parse(l)))}catch(a){i?i(a):console.error(a),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,g){if(n[g]!==void 0)return n[g];const x=p.interleavedBuffers[g],v=o(p,x.buffer),b=qf(x.type,v),_=new yx(b,x.stride);return _.uuid=x.uuid,n[g]=_,_}function o(p,g){if(r[g]!==void 0)return r[g];const x=p.arrayBuffers[g],v=new Uint32Array(x).buffer;return r[g]=v,v}const s=e.isInstancedBufferGeometry?new q2:new nn,l=e.data.index;if(l!==void 0){const p=qf(l.type,l.array);s.setIndex(new Qn(p,1))}const a=e.data.attributes;for(const p in a){const g=a[p];let y;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);y=new bu(x,g.itemSize,g.offset,g.normalized)}else{const x=qf(g.type,g.array),v=g.isInstancedBufferAttribute?_u:Qn;y=new v(x,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),g.updateRange!==void 0&&(y.updateRange.offset=g.updateRange.offset,y.updateRange.count=g.updateRange.count),s.setAttribute(p,y)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],y=[];for(let x=0,v=g.length;x<v;x++){const b=g[x];let _;if(b.isInterleavedBufferAttribute){const S=i(e.data,b.data);_=new bu(S,b.itemSize,b.offset,b.normalized)}else{const S=qf(b.type,b.array);_=new Qn(S,b.itemSize,b.normalized)}b.name!==void 0&&(_.name=b.name),y.push(_)}s.morphAttributes[p]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const y=f[p];s.addGroup(y.start,y.count,y.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new ce;d.center!==void 0&&p.fromArray(d.center),s.boundingSphere=new cs(p,d.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Mse extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?vE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new xa(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(a){let c=null;try{c=JSON.parse(a)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?vE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new xa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),l=JSON.parse(s),a=l.metadata;if(a===void 0||a.type===void 0||a.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),l=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,l),c=this.parseObject(e.object,o,a,l,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const d in s)if(s[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,l,s,n),c=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,c),a}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new cu().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const l=new xx().fromJSON(e[o],i);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new T4;for(let o=0,s=e.length;o<s;o++){let l;const a=e[o];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(a);break;default:a.type in rI?l=rI[a.type].fromJSON(a,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.userData!==void 0&&(l.userData=a.userData),r[a.uuid]=l}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new Ex;o.setTextures(n);for(let s=0,l=e.length;s<l;s++){const a=e[s];r[a.uuid]===void 0&&(r[a.uuid]=o.parse(a)),i[a.uuid]=r[a.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=xm.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(a){return r.manager.itemStart(a),o.load(a,function(){r.manager.itemEnd(a)},void 0,function(){r.manager.itemError(a),r.manager.itemEnd(a)})}function l(a){if(typeof a=="string"){const c=a,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return a.data?{data:qf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){const a=new $2(n);o=new bm(a),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let g=0,y=d.length;g<y;g++){const x=d[g],v=l(x);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new hd(v.data,v.width,v.height)))}i[f.uuid]=new nu(p)}else{const p=l(f.url);i[f.uuid]=new nu(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const l=s,a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await i.loadAsync(a)}else return s.data?{data:qf(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new bm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const a=e[s],c=a.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],g=await o(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new hd(g.data,g.width,g.height)))}r[a.uuid]=new nu(u)}else{const u=await o(a.url);r[a.uuid]=new nu(u)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const l=e[o];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const a=n[l.image],c=a.data;let u;Array.isArray(c)?(u=new Hm,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new hd:u=new Sr,c&&(u.needsUpdate=!0)),u.source=a,u.uuid=l.uuid,l.name!==void 0&&(u.name=l.name),l.mapping!==void 0&&(u.mapping=r(l.mapping,Tse)),l.channel!==void 0&&(u.channel=l.channel),l.offset!==void 0&&u.offset.fromArray(l.offset),l.repeat!==void 0&&u.repeat.fromArray(l.repeat),l.center!==void 0&&u.center.fromArray(l.center),l.rotation!==void 0&&(u.rotation=l.rotation),l.wrap!==void 0&&(u.wrapS=r(l.wrap[0],aI),u.wrapT=r(l.wrap[1],aI)),l.format!==void 0&&(u.format=l.format),l.internalFormat!==void 0&&(u.internalFormat=l.internalFormat),l.type!==void 0&&(u.type=l.type),l.colorSpace!==void 0&&(u.colorSpace=l.colorSpace),l.encoding!==void 0&&(u.encoding=l.encoding),l.minFilter!==void 0&&(u.minFilter=r(l.minFilter,lI)),l.magFilter!==void 0&&(u.magFilter=r(l.magFilter,lI)),l.anisotropy!==void 0&&(u.anisotropy=l.anisotropy),l.flipY!==void 0&&(u.flipY=l.flipY),l.generateMipmaps!==void 0&&(u.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(u.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(u.compareFunction=l.compareFunction),l.userData!==void 0&&(u.userData=l.userData),i[l.uuid]=u}return i}parseObject(e,n,r,i,o){let s;function l(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function a(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let g=0,y=d.length;g<y;g++){const x=d[g];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),p.push(r[x])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":s=new Oy,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new yt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new vx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new gx(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new ci(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Vm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new w4(e.color,e.intensity);break;case"DirectionalLight":s=new S4(e.color,e.intensity);break;case"PointLight":s=new _4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new E4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new b4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new x4(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new wx().fromJSON(e);break;case"SkinnedMesh":u=l(e.geometry),f=a(e.material),s=new $U(u,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=l(e.geometry),f=a(e.material),s=new pr(u,f);break;case"InstancedMesh":u=l(e.geometry),f=a(e.material);const d=e.count,p=e.instanceMatrix,g=e.instanceColor;s=new XU(u,f,d),s.instanceMatrix=new _u(new Float32Array(p.array),16),g!==void 0&&(s.instanceColor=new _u(new Float32Array(g.array),g.itemSize));break;case"LOD":s=new jU;break;case"Line":s=new rc(l(e.geometry),a(e.material));break;case"LineLoop":s=new qU(l(e.geometry),a(e.material));break;case"LineSegments":s=new wa(l(e.geometry),a(e.material));break;case"PointCloud":case"Points":s=new YU(l(e.geometry),a(e.material));break;case"Sprite":s=new WU(a(e.material));break;case"Group":s=new Kf;break;case"Bone":s=new L2;break;default:s=new kn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)s.add(this.parseObject(d[p],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const g=d[p];s.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const g=d[p],y=s.getObjectByProperty("uuid",g.object);y!==void 0&&s.addLevel(y,g.distance,g.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Tse={UVMapping:ax,CubeReflectionMapping:ec,CubeRefractionMapping:tc,EquirectangularReflectionMapping:rm,EquirectangularRefractionMapping:im,CubeUVReflectionMapping:Wd},aI={RepeatWrapping:om,ClampToEdgeWrapping:Li,MirroredRepeatWrapping:sm},lI={NearestFilter:Dr,NearestMipmapNearestFilter:Ly,NearestMipmapLinearFilter:Sp,LinearFilter:xr,LinearMipmapNearestFilter:h2,LinearMipmapLinearFilter:nc};class Ase extends ho{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=wu.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(a){wu.add(e,a),n&&n(a),o.manager.itemEnd(e)}).catch(function(a){i&&i(a),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let $0,Y2=class{static getContext(){return $0===void 0&&($0=new(window.AudioContext||window.webkitAudioContext)),$0}static setContext(e){$0=e}};class Cse extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new xa(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const c=a.slice(0);Y2.getContext().decodeAudioData(c,function(f){n(f)},l)}catch(c){l(c)}},r,i);function l(a){i?i(a):console.error(a),o.manager.itemError(e)}}}class Rse extends wx{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new yt().set(e),o=new yt().set(n),s=new ce(i.r,i.g,i.b),l=new ce(o.r,o.g,o.b),a=Math.sqrt(Math.PI),c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(l).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(l).multiplyScalar(c)}}class Pse extends wx{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new yt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const cI=new qt,uI=new qt,Ic=new qt;class Ise{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ci,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ci,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ic.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(au*n.fov*.5)/n.zoom;let l,a;uI.elements[12]=-i,cI.elements[12]=i,l=-s*n.aspect+o,a=s*n.aspect+o,Ic.elements[0]=2*n.near/(a-l),Ic.elements[8]=(a+l)/(a-l),this.cameraL.projectionMatrix.copy(Ic),l=-s*n.aspect-o,a=s*n.aspect-o,Ic.elements[0]=2*n.near/(a-l),Ic.elements[8]=(a+l)/(a-l),this.cameraR.projectionMatrix.copy(Ic)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(uI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(cI)}}class K2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=fI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=fI();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function fI(){return(typeof performance>"u"?Date:performance).now()}const Lc=new ce,dI=new co,Lse=new ce,kc=new ce;class kse extends kn{constructor(){super(),this.type="AudioListener",this.context=Y2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new K2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lc,dI,Lse),kc.set(0,0,-1).applyQuaternion(dI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Lc.x,i),n.positionY.linearRampToValueAtTime(Lc.y,i),n.positionZ.linearRampToValueAtTime(Lc.z,i),n.forwardX.linearRampToValueAtTime(kc.x,i),n.forwardY.linearRampToValueAtTime(kc.y,i),n.forwardZ.linearRampToValueAtTime(kc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Lc.x,Lc.y,Lc.z),n.setOrientation(kc.x,kc.y,kc.z,r.x,r.y,r.z)}}let A4=class extends kn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Nc=new ce,hI=new co,Nse=new ce,Oc=new ce;class Ose extends A4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Nc,hI,Nse),Oc.set(0,0,1).applyQuaternion(hI);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Nc.x,r),n.positionY.linearRampToValueAtTime(Nc.y,r),n.positionZ.linearRampToValueAtTime(Nc.z,r),n.orientationX.linearRampToValueAtTime(Oc.x,r),n.orientationY.linearRampToValueAtTime(Oc.y,r),n.orientationZ.linearRampToValueAtTime(Oc.z,r)}else n.setPosition(Nc.x,Nc.y,Nc.z),n.setOrientation(Oc.x,Oc.y,Oc.z)}}class Fse{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class C4{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==i;++l)r[o+l]=r[l];s=n}else{s+=n;const l=n/s;this._mixBufferRegion(r,o,0,l,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const a=n*this._origIndex;this._mixBufferRegion(r,i,a,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let a=n,c=n+n;a!==c;++a)if(r[a]!==r[a+n]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){co.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;co.multiplyQuaternionsFlat(e,s,e,n,e,r),co.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let l=0;l!==o;++l){const a=n+l;e[a]=e[a]*s+e[r+l]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]+e[r+s]*i}}}const J2="\\[\\]\\.:\\/",Dse=new RegExp("["+J2+"]","g"),Z2="[^"+J2+"]",Use="[^"+J2.replace("\\.","")+"]",Bse=/((?:WC+[\/:])*)/.source.replace("WC",Z2),zse=/(WCOD+)?/.source.replace("WCOD",Use),Gse=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Z2),Hse=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Z2),Vse=new RegExp("^"+Bse+zse+Gse+Hse+"$"),Wse=["material","materials","bones","map"];class jse{constructor(e,n,r){const i=r||An.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class An{constructor(e,n,r){this.path=n,this.parsedPath=r||An.parseTrackName(n),this.node=An.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new An.Composite(e,n,r):new An(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Dse,"")}static parseTrackName(e){const n=Vse.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Wse.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const l=o[s];if(l.name===n||l.uuid===n)return l;const a=r(l.children);if(a)return a}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=An.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}An.Composite=jse;An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray];An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $se{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Io(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let l,a=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let g=n[p];if(g===void 0){g=a++,n[p]=g,e.push(d);for(let y=0,x=s;y!==x;++y)o[y].push(new An(d,r[y],i[y]))}else if(g<c){l=e[g];const y=--c,x=e[y];n[x.uuid]=g,e[g]=x,n[p]=y,e[y]=d;for(let v=0,b=s;v!==b;++v){const _=o[v],S=_[y];let E=_[g];_[g]=S,E===void 0&&(E=new An(d,r[v],i[v])),_[y]=E}}else e[g]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const a=arguments[s],c=a.uuid,u=n[c];if(u!==void 0&&u>=o){const f=o++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=a;for(let p=0,g=i;p!==g;++p){const y=r[p],x=y[f],v=y[u];y[u]=x,y[f]=v}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let l=0,a=arguments.length;l!==a;++l){const c=arguments[l],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<o){const d=--o,p=e[d],g=--s,y=e[g];n[p.uuid]=f,e[f]=p,n[y.uuid]=d,e[d]=y,e.pop();for(let x=0,v=i;x!==v;++x){const b=r[x],_=b[d],S=b[g];b[f]=_,b[d]=S,b.pop()}}else{const d=--s,p=e[d];d>0&&(n[p.uuid]=f),e[f]=p,e.pop();for(let g=0,y=i;g!==y;++g){const x=r[g];x[f]=x[d],x.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,l=this._parsedPaths,a=this._objects,c=a.length,u=this.nCachedObjects_,f=new Array(c);i=o.length,r[e]=i,s.push(e),l.push(n),o.push(f);for(let d=u,p=a.length;d!==p;++d){const g=a[d];f[d]=new An(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length-1,a=s[l],c=e[l];n[c]=r,s[r]=a,s.pop(),o[r]=o[l],o.pop(),i[r]=i[l],i.pop()}}}class R4{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,l=new Array(s),a={endingStart:eu,endingEnd:eu};for(let c=0;c!==s;++c){const u=o[c].createInterpolant(null);l[c]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=mU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,l=i/o;e.warp(1,s,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const a=l.parameterPositions,c=l.sampleValues;return a[0]=o,a[1]=o+r,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const a=(e-o)*r;a<0||r===0?n=0:(this._startTime=null,n=r*a)}n*=this._updateTimeScale(e);const s=this._updateTime(n),l=this._updateWeight(e);if(l>0){const a=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case b2:for(let u=0,f=a.length;u!==f;++u)a[u].evaluate(s),c[u].accumulateAdditive(l);break;case cx:default:for(let u=0,f=a.length;u!==f;++u)a[u].evaluate(s),c[u].accumulate(i,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===gU;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===pU){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const l=Math.floor(i/n);i-=n*l,o+=Math.abs(l);const a=this.repetitions-o;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=tu,i.endingEnd=tu):(e?i.endingStart=this.zeroSlopeAtStart?tu:eu:i.endingStart=cm,n?i.endingEnd=this.zeroSlopeAtEnd?tu:eu:i.endingEnd=cm)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,a=s.sampleValues;return l[0]=o,a[0]=n,l[1]=o+e,a[1]=r,this}}const Xse=new Float32Array(1);class qse extends ol{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,l=e._interpolants,a=r.uuid,c=this._bindingsByRootAndName;let u=c[a];u===void 0&&(u={},c[a]=u);for(let f=0;f!==o;++f){const d=i[f],p=d.name;let g=u[p];if(g!==void 0)++g.referenceCount,s[f]=g;else{if(g=s[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,a,p));continue}const y=n&&n._propertyBindings[f].binding.parsedPath;g=new C4(An.create(r,p,y),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,a,p),s[f]=g}l[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,l=s[o],a=l.knownActions,c=a[a.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,a[u]=c,a.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],a.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,l=s[i],a=n[n.length-1],c=e._cacheIndex;a._cacheIndex=c,n[c]=a,n.pop(),delete l[o],Object.keys(l).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new W2(new Float32Array(2),new Float32Array(2),1,Xse),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?xm.findByName(i,e):e;const l=s!==null?s.uuid:e,a=this._actionsByClip[l];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=cx),a!==void 0){const f=a.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;c=a.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new R4(this,s,n,r);return this._bindAction(u,c),this._addInactiveAction(u,l,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?xm.findByName(r,e):e,s=o?o.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,s);const l=this._bindings,a=this._nActiveBindings;for(let c=0;c!==a;++c)l[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let l=0,a=s.length;l!==a;++l){const c=s[l];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const l=r[s].actionByRoot,a=l[n];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const l=o[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Q2{constructor(e){this.value=e}clone(){return new Q2(this.value.clone===void 0?this.value:this.value.clone())}}let Yse=0;class Kse extends ol{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Yse++}),this.name="",this.usage=um,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Jse extends yx{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Zse{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class P4{constructor(e,n,r=0,i=1/0){this.ray=new jd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new lu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return yE(e,this,r,n),r.sort(pI),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)yE(e[i],this,r,n);return r.sort(pI),r}}function pI(t,e){return t.distance-e.distance}function yE(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,s=i.length;o<s;o++)yE(i[o],e,n,!0)}}class I4{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Qse{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const mI=new it;class eae{constructor(e=new it(1/0,1/0),n=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=mI.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gI=new ce,X0=new ce;class tae{constructor(e=new ce,n=new ce){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){gI.subVectors(e,this.start),X0.subVectors(this.end,this.start);const r=X0.dot(X0);let o=X0.dot(gI)/r;return n&&(o=Pr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const vI=new ce;class nae extends kn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,a=32;s<a;s++,l++){const c=s/a*Math.PI*2,u=l/a*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ct(i,3));const o=new Yi({fog:!1,toneMapped:!1});this.cone=new wa(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),vI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ml=new ce,q0=new qt,Y_=new qt;class rae extends wa{constructor(e){const n=L4(e),r=new nn,i=[],o=[],s=new yt(0,0,1),l=new yt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(l.r,l.g,l.b))}r.setAttribute("position",new Ct(i,3)),r.setAttribute("color",new Ct(o,3));const a=new Yi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Y_.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const l=n[o];l.parent&&l.parent.isBone&&(q0.multiplyMatrices(Y_,l.matrixWorld),Ml.setFromMatrixPosition(q0),i.setXYZ(s,Ml.x,Ml.y,Ml.z),q0.multiplyMatrices(Y_,l.parent.matrixWorld),Ml.setFromMatrixPosition(q0),i.setXYZ(s+1,Ml.x,Ml.y,Ml.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function L4(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,L4(t.children[n]));return e}class iae extends pr{constructor(e,n,r){const i=new Kd(n,4,2),o=new _a({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oae=new ce,yI=new yt,xI=new yt;class sae extends kn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Yd(n);i.rotateY(Math.PI*.5),this.material=new _a({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Qn(s,3)),this.add(new pr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");yI.copy(this.light.color),xI.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?yI:xI;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oae.setFromMatrixPosition(this.light.matrixWorld).negate())}}class aae extends wa{constructor(e=10,n=10,r=4473924,i=8947848){r=new yt(r),i=new yt(i);const o=n/2,s=e/n,l=e/2,a=[],c=[];for(let d=0,p=0,g=-l;d<=n;d++,g+=s){a.push(-l,0,g,l,0,g),a.push(g,0,-l,g,0,l);const y=d===o?r:i;y.toArray(c,p),p+=3,y.toArray(c,p),p+=3,y.toArray(c,p),p+=3,y.toArray(c,p),p+=3}const u=new nn;u.setAttribute("position",new Ct(a,3)),u.setAttribute("color",new Ct(c,3));const f=new Yi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lae extends wa{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new yt(o),s=new yt(s);const l=[],a=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),p=Math.sin(d)*e,g=Math.cos(d)*e;l.push(0,0,0),l.push(p,0,g);const y=f&1?o:s;a.push(y.r,y.g,y.b),a.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const d=f&1?o:s,p=e-e/r*f;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),x=Math.sin(y)*p,v=Math.cos(y)*p;l.push(x,0,v),a.push(d.r,d.g,d.b),y=(g+1)/i*(Math.PI*2),x=Math.sin(y)*p,v=Math.cos(y)*p,l.push(x,0,v),a.push(d.r,d.g,d.b)}}const c=new nn;c.setAttribute("position",new Ct(l,3)),c.setAttribute("color",new Ct(a,3));const u=new Yi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const bI=new ce,Y0=new ce,_I=new ce;class cae extends kn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new nn;i.setAttribute("position",new Ct([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Yi({fog:!1,toneMapped:!1});this.lightPlane=new rc(i,o),this.add(this.lightPlane),i=new nn,i.setAttribute("position",new Ct([0,0,0,0,0,1],3)),this.targetLine=new rc(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),bI.setFromMatrixPosition(this.light.matrixWorld),Y0.setFromMatrixPosition(this.light.target.matrixWorld),_I.subVectors(Y0,bI),this.lightPlane.lookAt(Y0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Y0),this.targetLine.scale.z=_I.length()}}const K0=new ce,Tr=new Gm;class uae extends wa{constructor(e){const n=new nn,r=new Yi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(g,y){a(g),a(y)}function a(g){i.push(0,0,0),o.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}n.setAttribute("position",new Ct(i,3)),n.setAttribute("color",new Ct(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new yt(16755200),u=new yt(16711680),f=new yt(43775),d=new yt(16777215),p=new yt(3355443);this.setColors(c,u,f,d,p)}setColors(e,n,r,i,o){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,o.r,o.g,o.b),l.setXYZ(41,o.r,o.g,o.b),l.setXYZ(42,o.r,o.g,o.b),l.setXYZ(43,o.r,o.g,o.b),l.setXYZ(44,o.r,o.g,o.b),l.setXYZ(45,o.r,o.g,o.b),l.setXYZ(46,o.r,o.g,o.b),l.setXYZ(47,o.r,o.g,o.b),l.setXYZ(48,o.r,o.g,o.b),l.setXYZ(49,o.r,o.g,o.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Tr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fr("c",n,e,Tr,0,0,-1),Fr("t",n,e,Tr,0,0,1),Fr("n1",n,e,Tr,-r,-i,-1),Fr("n2",n,e,Tr,r,-i,-1),Fr("n3",n,e,Tr,-r,i,-1),Fr("n4",n,e,Tr,r,i,-1),Fr("f1",n,e,Tr,-r,-i,1),Fr("f2",n,e,Tr,r,-i,1),Fr("f3",n,e,Tr,-r,i,1),Fr("f4",n,e,Tr,r,i,1),Fr("u1",n,e,Tr,r*.7,i*1.1,-1),Fr("u2",n,e,Tr,-r*.7,i*1.1,-1),Fr("u3",n,e,Tr,0,i*2,-1),Fr("cf1",n,e,Tr,-r,0,1),Fr("cf2",n,e,Tr,r,0,1),Fr("cf3",n,e,Tr,0,-i,1),Fr("cf4",n,e,Tr,0,i,1),Fr("cn1",n,e,Tr,-r,0,-1),Fr("cn2",n,e,Tr,r,0,-1),Fr("cn3",n,e,Tr,0,-i,-1),Fr("cn4",n,e,Tr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fr(t,e,n,r,i,o,s){K0.set(i,o,s).unproject(r);const l=e[t];if(l!==void 0){const a=n.getAttribute("position");for(let c=0,u=l.length;c<u;c++)a.setXYZ(l[c],K0.x,K0.y,K0.z)}}const J0=new Bs;class fae extends wa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new nn;o.setIndex(new Qn(r,1)),o.setAttribute("position",new Qn(i,3)),super(o,new Yi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&J0.setFromObject(this.object),J0.isEmpty())return;const n=J0.min,r=J0.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dae extends wa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new nn;o.setIndex(new Qn(r,1)),o.setAttribute("position",new Ct(i,3)),super(o,new Yi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class hae extends rc{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new nn;s.setAttribute("position",new Ct(o,3)),s.computeBoundingSphere(),super(s,new Yi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new nn;a.setAttribute("position",new Ct(l,3)),a.computeBoundingSphere(),this.add(new pr(a,new _a({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const SI=new ce;let Z0,K_;class pae extends kn{constructor(e=new ce(0,0,1),n=new ce(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",Z0===void 0&&(Z0=new nn,Z0.setAttribute("position",new Ct([0,0,0,0,1,0],3)),K_=new Ru(0,.5,1,5,1),K_.translate(0,-.5,0)),this.position.copy(n),this.line=new rc(Z0,new Yi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pr(K_,new _a({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{SI.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(SI,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mae extends wa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new nn;i.setAttribute("position",new Ct(n,3)),i.setAttribute("color",new Ct(r,3));const o=new Yi({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new yt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class k4{constructor(){this.type="ShapePath",this.color=new yt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new hm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const b=[];for(let _=0,S=v.length;_<S;_++){const E=v[_],M=new cu;M.curves=E.curves,b.push(M)}return b}function r(v,b){const _=b.length;let S=!1;for(let E=_-1,M=0;M<_;E=M++){let T=b[E],R=b[M],C=R.x-T.x,P=R.y-T.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(T=b[M],C=-C,R=b[E],P=-P),v.y<T.y||v.y>R.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const F=P*(v.x-T.x)-C*(v.y-T.y);if(F===0)return!0;if(F<0)continue;S=!S}}else{if(v.y!==T.y)continue;if(R.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=R.x)return!0}}return S}const i=ma.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,l,a;const c=[];if(o.length===1)return l=o[0],a=new cu,a.curves=l.curves,c.push(a),c;let u=!i(o[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],g=0,y;d[g]=void 0,p[g]=[];for(let v=0,b=o.length;v<b;v++)l=o[v],y=l.getPoints(),s=i(y),s=e?!s:s,s?(!u&&d[g]&&g++,d[g]={s:new cu,p:y},d[g].s.curves=l.curves,u&&g++,p[g]=[]):p[g].push({h:l,p:y[0]});if(!d[0])return n(o);if(d.length>1){let v=!1,b=0;for(let _=0,S=d.length;_<S;_++)f[_]=[];for(let _=0,S=d.length;_<S;_++){const E=p[_];for(let M=0;M<E.length;M++){const T=E[M];let R=!0;for(let C=0;C<d.length;C++)r(T.p,d[C].p)&&(_!==C&&b++,R?(R=!1,f[C].push(T)):v=!0);R&&f[_].push(T)}}b>0&&v===!1&&(p=f)}let x;for(let v=0,b=d.length;v<b;v++){a=d[v].s,c.push(a),x=p[v];for(let _=0,S=x.length;_<S;_++)a.holes.push(x[_].h)}return c}}class gae extends Sa{constructor(e,n,r,i,o,s){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,o,s)}}class vae extends Wm{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class yae extends jm{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class xae extends $m{constructor(e,n,r,i,o,s,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,o,s,l)}}class bae extends Ru{constructor(e,n,r,i,o,s,l,a){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,o,s,l,a)}}class _ae extends Xm{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class Sae extends qd{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class wae extends qm{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class Eae extends Xd{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class Mae extends Yd{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class Tae extends sl{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class Aae extends al{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class Cae extends Ym{constructor(e,n,r,i,o,s){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,o,s)}}class Rae extends Km{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class Pae extends Kd{constructor(e,n,r,i,o,s,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,o,s,l)}}class Iae extends Jm{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class Lae extends Zm{constructor(e,n,r,i,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,o)}}class kae extends Qm{constructor(e,n,r,i,o,s){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,o,s)}}class Nae extends eg{constructor(e,n,r,i,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,o)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ox}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ox);const Oae=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:d2,AddEquation:$c,AddOperation:eU,AdditiveAnimationBlendMode:b2,AdditiveBlending:Py,AlphaFormat:aU,AlwaysCompare:AU,AlwaysDepth:XD,AlwaysStencilFunc:xU,AmbientLight:w4,AmbientLightProbe:Pse,AnimationAction:R4,AnimationClip:xm,AnimationLoader:vse,AnimationMixer:qse,AnimationObjectGroup:$se,AnimationUtils:hse,ArcCurve:KU,ArrayCamera:zU,ArrowHelper:pae,Audio:A4,AudioAnalyser:Fse,AudioContext:Y2,AudioListener:kse,AudioLoader:Cse,AxesHelper:mae,BackSide:vi,BasicDepthPacking:vU,BasicShadowMap:kD,Bone:L2,BooleanKeyframeTrack:Pu,Box2:eae,Box3:Bs,Box3Helper:dae,BoxBufferGeometry:gae,BoxGeometry:Sa,BoxHelper:fae,BufferAttribute:Qn,BufferGeometry:nn,BufferGeometryLoader:T4,ByteType:oU,Cache:wu,Camera:Gm,CameraHelper:uae,CanvasTexture:Doe,CapsuleBufferGeometry:vae,CapsuleGeometry:Wm,CatmullRomCurve3:JU,CineonToneMapping:rU,CircleBufferGeometry:yae,CircleGeometry:jm,ClampToEdgeWrapping:Li,Clock:K2,Color:yt,ColorKeyframeTrack:j2,ColorManagement:Xo,CompressedArrayTexture:Foe,CompressedTexture:N2,CompressedTextureLoader:yse,ConeBufferGeometry:xae,ConeGeometry:$m,CubeCamera:LU,CubeReflectionMapping:ec,CubeRefractionMapping:tc,CubeTexture:Hm,CubeTextureLoader:xse,CubeUVReflectionMapping:Wd,CubicBezierCurve:F2,CubicBezierCurve3:ZU,CubicInterpolant:m4,CullFaceBack:Ow,CullFaceFront:LD,CullFaceFrontBack:kQ,CullFaceNone:ID,Curve:zs,CurvePath:e4,CustomBlending:ND,CustomToneMapping:iU,CylinderBufferGeometry:bae,CylinderGeometry:Ru,Cylindrical:Qse,Data3DTexture:T2,DataArrayTexture:ux,DataTexture:hd,DataTextureLoader:bse,DataUtils:$ee,DecrementStencilOp:jQ,DecrementWrapStencilOp:XQ,DefaultLoadingManager:y4,DepthFormat:$l,DepthStencilFormat:xu,DepthTexture:GU,DirectionalLight:S4,DirectionalLightHelper:cae,DiscreteInterpolant:g4,DisplayP3ColorSpace:w2,DodecahedronBufferGeometry:_ae,DodecahedronGeometry:Xm,DoubleSide:Eo,DstAlphaFactor:GD,DstColorFactor:VD,DynamicCopyUsage:lee,DynamicDrawUsage:nee,DynamicReadUsage:oee,EdgesGeometry:t4,EllipseCurve:bx,EqualCompare:SU,EqualDepth:YD,EqualStencilFunc:JQ,EquirectangularReflectionMapping:rm,EquirectangularRefractionMapping:im,Euler:zm,EventDispatcher:ol,ExtrudeBufferGeometry:Sae,ExtrudeGeometry:qd,FileLoader:xa,Float16BufferAttribute:Zee,Float32BufferAttribute:Ct,Float64BufferAttribute:Qee,FloatType:la,Fog:vx,FogExp2:gx,FramebufferTexture:Ooe,FrontSide:ya,Frustum:dx,GLBufferAttribute:Zse,GLSL1:uee,GLSL3:cE,GreaterCompare:EU,GreaterDepth:JD,GreaterEqualCompare:TU,GreaterEqualDepth:KD,GreaterEqualStencilFunc:tee,GreaterStencilFunc:QQ,GridHelper:aae,Group:Kf,HalfFloatType:Ad,HemisphereLight:x4,HemisphereLightHelper:sae,HemisphereLightProbe:Rse,IcosahedronBufferGeometry:wae,IcosahedronGeometry:qm,ImageBitmapLoader:Ase,ImageLoader:bm,ImageUtils:M2,IncrementStencilOp:WQ,IncrementWrapStencilOp:$Q,InstancedBufferAttribute:_u,InstancedBufferGeometry:q2,InstancedInterleavedBuffer:Jse,InstancedMesh:XU,Int16BufferAttribute:Kee,Int32BufferAttribute:Jee,Int8BufferAttribute:Xee,IntType:p2,InterleavedBuffer:yx,InterleavedBufferAttribute:bu,Interpolant:tg,InterpolateDiscrete:am,InterpolateLinear:lm,InterpolateSmooth:Ov,InvertStencilOp:qQ,KeepStencilOp:Fv,KeyframeTrack:Gs,LOD:jU,LatheBufferGeometry:Eae,LatheGeometry:Xd,Layers:lu,LessCompare:_U,LessDepth:qD,LessEqualCompare:wU,LessEqualDepth:Iy,LessEqualStencilFunc:ZQ,LessStencilFunc:KQ,Light:hc,LightProbe:wx,Line:rc,Line3:tae,LineBasicMaterial:Yi,LineCurve:_x,LineCurve3:QU,LineDashedMaterial:h4,LineLoop:qU,LineSegments:wa,LinearEncoding:_2,LinearFilter:xr,LinearInterpolant:W2,LinearMipMapLinearFilter:UQ,LinearMipMapNearestFilter:DQ,LinearMipmapLinearFilter:nc,LinearMipmapNearestFilter:h2,LinearSRGBColorSpace:Fs,LinearToneMapping:tU,Loader:ho,LoaderUtils:vE,LoadingManager:$2,LoopOnce:pU,LoopPingPong:gU,LoopRepeat:mU,LuminanceAlphaFormat:cU,LuminanceFormat:lU,MOUSE:IQ,Material:xi,MaterialLoader:Ex,MathUtils:Eee,Matrix3:tn,Matrix4:qt,MaxEquation:Bw,Mesh:pr,MeshBasicMaterial:_a,MeshDepthMaterial:px,MeshDistanceMaterial:mx,MeshLambertMaterial:f4,MeshMatcapMaterial:d4,MeshNormalMaterial:u4,MeshPhongMaterial:c4,MeshPhysicalMaterial:l4,MeshStandardMaterial:G2,MeshToonMaterial:Zf,MinEquation:Uw,MirroredRepeatWrapping:sm,MixOperation:QD,MultiplyBlending:Dw,MultiplyOperation:Bm,NearestFilter:Dr,NearestMipMapLinearFilter:FQ,NearestMipMapNearestFilter:OQ,NearestMipmapLinearFilter:Sp,NearestMipmapNearestFilter:Ly,NeverCompare:bU,NeverDepth:$D,NeverStencilFunc:YQ,NoBlending:qa,NoColorSpace:ql,NoToneMapping:Ns,NormalAnimationBlendMode:cx,NormalBlending:su,NotEqualCompare:MU,NotEqualDepth:ZD,NotEqualStencilFunc:eee,NumberKeyframeTrack:vm,Object3D:kn,ObjectLoader:Mse,ObjectSpaceNormalMap:yU,OctahedronBufferGeometry:Mae,OctahedronGeometry:Yd,OneFactor:UD,OneMinusDstAlphaFactor:HD,OneMinusDstColorFactor:WD,OneMinusSrcAlphaFactor:f2,OneMinusSrcColorFactor:zD,OrthographicCamera:Vm,PCFShadowMap:sx,PCFSoftShadowMap:_p,PMREMGenerator:fE,Path:hm,PerspectiveCamera:ci,Plane:Ga,PlaneBufferGeometry:Tae,PlaneGeometry:sl,PlaneHelper:hae,PointLight:_4,PointLightHelper:iae,Points:YU,PointsMaterial:k2,PolarGridHelper:lae,PolyhedronBufferGeometry:Aae,PolyhedronGeometry:al,PositionalAudio:Ose,PropertyBinding:An,PropertyMixer:C4,QuadraticBezierCurve:D2,QuadraticBezierCurve3:U2,Quaternion:co,QuaternionKeyframeTrack:Jd,QuaternionLinearInterpolant:v4,RED_GREEN_RGTC2_Format:aE,RED_RGTC1_Format:hU,REVISION:ox,RGBADepthPacking:S2,RGBAFormat:io,RGBAIntegerFormat:x2,RGBA_ASTC_10x10_Format:rE,RGBA_ASTC_10x5_Format:eE,RGBA_ASTC_10x6_Format:tE,RGBA_ASTC_10x8_Format:nE,RGBA_ASTC_12x10_Format:iE,RGBA_ASTC_12x12_Format:oE,RGBA_ASTC_4x4_Format:$w,RGBA_ASTC_5x4_Format:Xw,RGBA_ASTC_5x5_Format:qw,RGBA_ASTC_6x5_Format:Yw,RGBA_ASTC_6x6_Format:Kw,RGBA_ASTC_8x5_Format:Jw,RGBA_ASTC_8x6_Format:Zw,RGBA_ASTC_8x8_Format:Qw,RGBA_BPTC_Format:Nv,RGBA_ETC2_EAC_Format:jw,RGBA_PVRTC_2BPPV1_Format:Vw,RGBA_PVRTC_4BPPV1_Format:Hw,RGBA_S3TC_DXT1_Format:Iv,RGBA_S3TC_DXT3_Format:Lv,RGBA_S3TC_DXT5_Format:kv,RGB_ETC1_Format:dU,RGB_ETC2_Format:Ww,RGB_PVRTC_2BPPV1_Format:Gw,RGB_PVRTC_4BPPV1_Format:zw,RGB_S3TC_DXT1_Format:Pv,RGFormat:fU,RGIntegerFormat:y2,RawShaderMaterial:a4,Ray:jd,Raycaster:P4,RectAreaLight:E4,RedFormat:uU,RedIntegerFormat:v2,ReinhardToneMapping:nU,RepeatWrapping:om,ReplaceStencilOp:VQ,ReverseSubtractEquation:FD,RingBufferGeometry:Cae,RingGeometry:Ym,SIGNED_RED_GREEN_RGTC2_Format:lE,SIGNED_RED_RGTC1_Format:sE,SRGBColorSpace:Jt,Scene:Oy,ShaderChunk:en,ShaderLib:Ps,ShaderMaterial:ss,ShadowMaterial:s4,Shape:cu,ShapeBufferGeometry:Rae,ShapeGeometry:Km,ShapePath:k4,ShapeUtils:ma,ShortType:sU,Skeleton:xx,SkeletonHelper:rae,SkinnedMesh:$U,Source:nu,Sphere:cs,SphereBufferGeometry:Pae,SphereGeometry:Kd,Spherical:I4,SphericalHarmonics3:M4,SplineCurve:B2,SpotLight:b4,SpotLightHelper:nae,Sprite:WU,SpriteMaterial:I2,SrcAlphaFactor:u2,SrcAlphaSaturateFactor:jD,SrcColorFactor:BD,StaticCopyUsage:aee,StaticDrawUsage:um,StaticReadUsage:iee,StereoCamera:Ise,StreamCopyUsage:cee,StreamDrawUsage:ree,StreamReadUsage:see,StringKeyframeTrack:Iu,SubtractEquation:OD,SubtractiveBlending:Fw,TOUCH:LQ,TangentSpaceNormalMap:dc,TetrahedronBufferGeometry:Iae,TetrahedronGeometry:Jm,Texture:Sr,TextureLoader:_se,TorusBufferGeometry:Lae,TorusGeometry:Zm,TorusKnotBufferGeometry:kae,TorusKnotGeometry:Qm,Triangle:ro,TriangleFanDrawMode:GQ,TriangleStripDrawMode:zQ,TrianglesDrawMode:BQ,TubeBufferGeometry:Nae,TubeGeometry:eg,TwoPassDoubleSide:NQ,UVMapping:ax,Uint16BufferAttribute:A2,Uint32BufferAttribute:C2,Uint8BufferAttribute:qee,Uint8ClampedBufferAttribute:Yee,Uniform:Q2,UniformsGroup:Kse,UniformsLib:pt,UniformsUtils:fx,UnsignedByteType:pa,UnsignedInt248Type:jl,UnsignedIntType:ja,UnsignedShort4444Type:m2,UnsignedShort5551Type:g2,UnsignedShortType:lx,VSMShadowMap:Ms,Vector2:it,Vector3:ce,Vector4:Un,VectorKeyframeTrack:ym,VideoTexture:Noe,WebGL1Renderer:HU,WebGL3DRenderTarget:Oee,WebGLArrayRenderTarget:Nee,WebGLCoordinateSystem:ca,WebGLCubeRenderTarget:kU,WebGLMultipleRenderTargets:Fee,WebGLRenderTarget:Ds,WebGLRenderer:P2,WebGLUtils:BU,WebGPUCoordinateSystem:fm,WireframeGeometry:o4,WrapAroundEnding:cm,ZeroCurvatureEnding:eu,ZeroFactor:DD,ZeroSlopeEnding:tu,ZeroStencilOp:HQ,_SRGBAFormat:ky,sRGBEncoding:Xl},Symbol.toStringTag,{value:"Module"}));var N4={exports:{}},Lu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Lu.ConcurrentRoot=1;Lu.ContinuousEventPriority=4;Lu.DefaultEventPriority=16;Lu.DiscreteEventPriority=1;Lu.IdleEventPriority=536870912;Lu.LegacyRoot=0;N4.exports=Lu;var Qf=N4.exports;function Fae(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(p=>p(e,d))}},i=()=>e,o=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const g=u(e);if(!f(d,g)){const y=d;c(d=g,y)}}return n.add(p),()=>n.delete(p)},a={setState:r,getState:i,subscribe:(c,u,f)=>u||f?o(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,a),a}const Dae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),wI=Dae?L.useEffect:L.useLayoutEffect;function Uae(t){const e=typeof t=="function"?Fae(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=L.useReducer(x=>x+1,0),s=e.getState(),l=L.useRef(s),a=L.useRef(r),c=L.useRef(i),u=L.useRef(!1),f=L.useRef();f.current===void 0&&(f.current=r(s));let d,p=!1;(l.current!==s||a.current!==r||c.current!==i||u.current)&&(d=r(s),p=!i(f.current,d)),wI(()=>{p&&(f.current=d),l.current=s,a.current=r,c.current=i,u.current=!1});const g=L.useRef(s);wI(()=>{const x=()=>{try{const b=e.getState(),_=a.current(b);c.current(f.current,_)||(l.current=b,f.current=_,o())}catch{u.current=!0,o()}},v=e.subscribe(x);return e.getState()!==g.current&&x(),v},[]);const y=p?d:f.current;return L.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var O4={exports:{}},J_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function Bae(){return EI||(EI=1,function(t){function e(O,D){var H=O.length;O.push(D);e:for(;0<H;){var $=H-1>>>1,W=O[$];if(0<i(W,D))O[$]=D,O[H]=W,H=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],H=O.pop();if(H!==D){O[0]=H;e:for(var $=0,W=O.length,ie=W>>>1;$<ie;){var j=2*($+1)-1,Y=O[j],K=j+1,fe=O[K];if(0>i(Y,H))K<W&&0>i(fe,Y)?(O[$]=fe,O[K]=H,$=K):(O[$]=Y,O[j]=H,$=j);else if(K<W&&0>i(fe,H))O[$]=fe,O[K]=H,$=K;else break e}}return D}function i(O,D){var H=O.sortIndex-D.sortIndex;return H!==0?H:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,f=null,d=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=O)r(c),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(c)}}function S(O){if(y=!1,_(O),!g)if(n(a)!==null)g=!0,ee(E);else{var D=n(c);D!==null&&te(S,D.startTime-O)}}function E(O,D){g=!1,y&&(y=!1,v(R),R=-1),p=!0;var H=d;try{for(_(D),f=n(a);f!==null&&(!(f.expirationTime>D)||O&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var W=$(f.expirationTime<=D);D=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(a)&&r(a),_(D)}else r(a);f=n(a)}if(f!==null)var ie=!0;else{var j=n(c);j!==null&&te(S,j.startTime-D),ie=!1}return ie}finally{f=null,d=H,p=!1}}var M=!1,T=null,R=-1,C=5,P=-1;function F(){return!(t.unstable_now()-P<C)}function G(){if(T!==null){var O=t.unstable_now();P=O;var D=!0;try{D=T(!0,O)}finally{D?V():(M=!1,T=null)}}else M=!1}var V;if(typeof b=="function")V=function(){b(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=G,V=function(){X.postMessage(null)}}else V=function(){x(G,0)};function ee(O){T=O,M||(M=!0,V())}function te(O,D){R=x(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ee(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var H=d;d=D;try{return O()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return D()}finally{d=H}},t.unstable_scheduleCallback=function(O,D,H){var $=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?$+H:$):H=$,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,O={id:u++,callback:D,priorityLevel:O,startTime:H,expirationTime:W,sortIndex:-1},H>$?(O.sortIndex=H,e(c,O),n(a)===null&&O===n(c)&&(y?(v(R),R=-1):y=!0,te(S,H-$))):(O.sortIndex=W,e(a,O),g||p||(g=!0,ee(E))),O},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(O){var D=d;return function(){var H=d;d=D;try{return O.apply(this,arguments)}finally{d=H}}}}(Z_)),Z_}var MI;function zae(){return MI||(MI=1,J_.exports=Bae()),J_.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gae=function(e){var n={},r=L,i=zae(),o=Object.assign;function s(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(h){return h===null||typeof h!="object"?null:(h=E&&h[E]||h["@@iterator"],typeof h=="function"?h:null)}function T(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case y:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case b:return m=h.displayName||null,m!==null?m:T(h.type)||"Memo";case _:m=h._payload,h=h._init;try{return T(h(m))}catch{}}return null}function R(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function C(h){var m=h,w=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(w=m.return),h=m.return;while(h)}return m.tag===3?w:null}function P(h){if(C(h)!==h)throw Error(s(188))}function F(h){var m=h.alternate;if(!m){if(m=C(h),m===null)throw Error(s(188));return m!==h?null:h}for(var w=h,A=m;;){var I=w.return;if(I===null)break;var k=I.alternate;if(k===null){if(A=I.return,A!==null){w=A;continue}break}if(I.child===k.child){for(k=I.child;k;){if(k===w)return P(I),h;if(k===A)return P(I),m;k=k.sibling}throw Error(s(188))}if(w.return!==A.return)w=I,A=k;else{for(var ve=!1,Oe=I.child;Oe;){if(Oe===w){ve=!0,w=I,A=k;break}if(Oe===A){ve=!0,A=I,w=k;break}Oe=Oe.sibling}if(!ve){for(Oe=k.child;Oe;){if(Oe===w){ve=!0,w=k,A=I;break}if(Oe===A){ve=!0,A=k,w=I;break}Oe=Oe.sibling}if(!ve)throw Error(s(189))}}if(w.alternate!==A)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?h:m}function G(h){return h=F(h),h!==null?V(h):null}function V(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=V(h);if(m!==null)return m;h=h.sibling}return null}function B(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=B(h);if(m!==null)return m}h=h.sibling}return null}var X=Array.isArray,ee=e.getPublicInstance,te=e.getRootHostContext,O=e.getChildHostContext,D=e.prepareForCommit,H=e.resetAfterCommit,$=e.createInstance,W=e.appendInitialChild,ie=e.finalizeInitialChildren,j=e.prepareUpdate,Y=e.shouldSetTextContent,K=e.createTextInstance,fe=e.scheduleTimeout,pe=e.cancelTimeout,xe=e.noTimeout,Ge=e.isPrimaryRenderer,Ae=e.supportsMutation,z=e.supportsPersistence,ge=e.supportsHydration,Me=e.getInstanceFromNode,Ie=e.preparePortalMount,Re=e.getCurrentEventPriority,We=e.detachDeletedInstance,ke=e.supportsMicrotasks,je=e.scheduleMicrotask,He=e.supportsTestSelectors,Ne=e.findFiberRoot,Ke=e.getBoundingRect,J=e.getTextContent,N=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,_e=e.appendChild,ye=e.appendChildToContainer,we=e.commitTextUpdate,Se=e.commitMount,be=e.commitUpdate,se=e.insertBefore,de=e.insertInContainerBefore,he=e.removeChild,me=e.removeChildFromContainer,Ue=e.resetTextContent,qe=e.hideInstance,re=e.hideTextInstance,Be=e.unhideInstance,Ee=e.unhideTextInstance,Ye=e.clearContainer,tt=e.cloneInstance,vt=e.createContainerChildSet,xt=e.appendChildToContainerChildSet,Et=e.finalizeContainerChildren,Gt=e.replaceContainerChildren,Xt=e.cloneHiddenInstance,jt=e.cloneHiddenTextInstance,Vt=e.canHydrateInstance,$n=e.canHydrateTextInstance,rr=e.canHydrateSuspenseInstance,fn=e.isSuspenseInstancePending,Pn=e.isSuspenseInstanceFallback,mr=e.registerSuspenseInstanceRetry,xn=e.getNextHydratableSibling,Ht=e.getFirstHydratableChild,bn=e.getFirstHydratableChildWithinContainer,ir=e.getFirstHydratableChildWithinSuspenseInstance,mn=e.hydrateInstance,ue=e.hydrateTextInstance,$e=e.hydrateSuspenseInstance,Ze=e.getNextHydratableInstanceAfterSuspenseInstance,Ve=e.commitHydratedContainer,et=e.commitHydratedSuspenseInstance,mt=e.clearSuspenseBoundary,Pt=e.clearSuspenseBoundaryFromContainer,Ot=e.shouldDeleteUnhydratedTailInstances,kt=e.didNotMatchHydratedContainerTextInstance,$t=e.didNotMatchHydratedTextInstance,st;function Nt(h){if(st===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);st=m&&m[1]||""}return`
`+st+h}var gn=!1;function _n(h,m){if(!h||gn)return"";gn=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ct){var A=ct}Reflect.construct(h,[],m)}else{try{m.call()}catch(ct){A=ct}h.call(m.prototype)}else{try{throw Error()}catch(ct){A=ct}h()}}catch(ct){if(ct&&A&&typeof ct.stack=="string"){for(var I=ct.stack.split(`
`),k=A.stack.split(`
`),ve=I.length-1,Oe=k.length-1;1<=ve&&0<=Oe&&I[ve]!==k[Oe];)Oe--;for(;1<=ve&&0<=Oe;ve--,Oe--)if(I[ve]!==k[Oe]){if(ve!==1||Oe!==1)do if(ve--,Oe--,0>Oe||I[ve]!==k[Oe]){var Qe=`
`+I[ve].replace(" at new "," at ");return h.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",h.displayName)),Qe}while(1<=ve&&0<=Oe);break}}}finally{gn=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?Nt(h):""}var Bt=Object.prototype.hasOwnProperty,Ir=[],vn=-1;function zt(h){return{current:h}}function Sn(h){0>vn||(h.current=Ir[vn],Ir[vn]=null,vn--)}function Ft(h,m){vn++,Ir[vn]=h.current,h.current=m}var Lr={},Xn=zt(Lr),Nn=zt(!1),Br=Lr;function Hn(h,m){var w=h.type.contextTypes;if(!w)return Lr;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var I={},k;for(k in w)I[k]=m[k];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=I),I}function En(h){return h=h.childContextTypes,h!=null}function Di(){Sn(Nn),Sn(Xn)}function Mt(h,m,w){if(Xn.current!==Lr)throw Error(s(168));Ft(Xn,m),Ft(Nn,w)}function po(h,m,w){var A=h.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var I in A)if(!(I in m))throw Error(s(108,R(h)||"Unknown",I));return o({},w,A)}function Ui(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Lr,Br=Xn.current,Ft(Xn,h),Ft(Nn,Nn.current),!0}function us(h,m,w){var A=h.stateNode;if(!A)throw Error(s(169));w?(h=po(h,m,Br),A.__reactInternalMemoizedMergedChildContext=h,Sn(Nn),Sn(Xn),Ft(Xn,h)):Sn(Nn),Ft(Nn,w)}var zr=Math.clz32?Math.clz32:Nu,Vs=Math.log,Ws=Math.LN2;function Nu(h){return h>>>=0,h===0?32:31-(Vs(h)/Ws|0)|0}var fs=64,ds=4194304;function hs(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ea(h,m){var w=h.pendingLanes;if(w===0)return 0;var A=0,I=h.suspendedLanes,k=h.pingedLanes,ve=w&268435455;if(ve!==0){var Oe=ve&~I;Oe!==0?A=hs(Oe):(k&=ve,k!==0&&(A=hs(k)))}else ve=w&~I,ve!==0?A=hs(ve):k!==0&&(A=hs(k));if(A===0)return 0;if(m!==0&&m!==A&&!(m&I)&&(I=A&-A,k=m&-m,I>=k||I===16&&(k&4194240)!==0))return m;if(A&4&&(A|=w&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=A;0<m;)w=31-zr(m),I=1<<w,A|=h[w],m&=~I;return A}function Ou(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(h,m){for(var w=h.suspendedLanes,A=h.pingedLanes,I=h.expirationTimes,k=h.pendingLanes;0<k;){var ve=31-zr(k),Oe=1<<ve,Qe=I[ve];Qe===-1?(!(Oe&w)||Oe&A)&&(I[ve]=Ou(Oe,m)):Qe<=m&&(h.expiredLanes|=Oe),k&=~Oe}}function ps(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function ll(h){for(var m=[],w=0;31>w;w++)m.push(h);return m}function Do(h,m,w){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-zr(m),h[m]=w}function js(h,m){var w=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<w;){var I=31-zr(w),k=1<<I;m[I]=0,A[I]=-1,h[I]=-1,w&=~k}}function Uo(h,m){var w=h.entangledLanes|=m;for(h=h.entanglements;w;){var A=31-zr(w),I=1<<A;I&m|h[A]&m&&(h[A]|=m),w&=~I}}var sn=0;function mc(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var ms=i.unstable_scheduleCallback,cl=i.unstable_cancelCallback,U=i.unstable_shouldYield,Z=i.unstable_requestPaint,le=i.unstable_now,Q=i.unstable_ImmediatePriority,ne=i.unstable_UserBlockingPriority,Ce=i.unstable_NormalPriority,Fe=i.unstable_IdlePriority,De=null,Pe=null;function ot(h){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(De,h,void 0,(h.current.flags&128)===128)}catch{}}function at(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var ht=typeof Object.is=="function"?Object.is:at,Dt=null,an=!1,qn=!1;function kr(h){Dt===null?Dt=[h]:Dt.push(h)}function Mn(h){an=!0,kr(h)}function wn(){if(!qn&&Dt!==null){qn=!0;var h=0,m=sn;try{var w=Dt;for(sn=1;h<w.length;h++){var A=w[h];do A=A(!0);while(A!==null)}Dt=null,an=!1}catch(I){throw Dt!==null&&(Dt=Dt.slice(h+1)),ms(Q,wn),I}finally{sn=m,qn=!1}}return null}var Bn=l.ReactCurrentBatchConfig;function er(h,m){if(ht(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var w=Object.keys(h),A=Object.keys(m);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var I=w[A];if(!Bt.call(m,I)||!ht(h[I],m[I]))return!1}return!0}function Yn(h){switch(h.tag){case 5:return Nt(h.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 2:case 15:return h=_n(h.type,!1),h;case 11:return h=_n(h.type.render,!1),h;case 1:return h=_n(h.type,!0),h;default:return""}}function dn(h,m){if(h&&h.defaultProps){m=o({},m),h=h.defaultProps;for(var w in h)m[w]===void 0&&(m[w]=h[w]);return m}return m}var Tn=zt(null),Er=null,lr=null,ii=null;function Xr(){ii=lr=Er=null}function mo(h,m,w){Ge?(Ft(Tn,m._currentValue),m._currentValue=w):(Ft(Tn,m._currentValue2),m._currentValue2=w)}function bi(h){var m=Tn.current;Sn(Tn),Ge?h._currentValue=m:h._currentValue2=m}function or(h,m,w){for(;h!==null;){var A=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),h===w)break;h=h.return}}function Nr(h,m){Er=h,ii=lr=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(yo=!0),h.firstContext=null)}function Vn(h){var m=Ge?h._currentValue:h._currentValue2;if(ii!==h)if(h={context:h,memoizedValue:m,next:null},lr===null){if(Er===null)throw Error(s(308));lr=h,Er.dependencies={lanes:0,firstContext:h}}else lr=lr.next=h;return m}var qr=null,gs=!1;function Ox(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mT(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ma(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function ul(h,m){var w=h.updateQueue;w!==null&&(w=w.shared,Gr!==null&&h.mode&1&&!(un&2)?(h=w.interleaved,h===null?(m.next=m,qr===null?qr=[w]:qr.push(w)):(m.next=h.next,h.next=m),w.interleaved=m):(h=w.pending,h===null?m.next=m:(m.next=h.next,h.next=m),w.pending=m))}function ig(h,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var A=m.lanes;A&=h.pendingLanes,w|=A,m.lanes=w,Uo(h,w)}}function gT(h,m){var w=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var I=null,k=null;if(w=w.firstBaseUpdate,w!==null){do{var ve={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};k===null?I=k=ve:k=k.next=ve,w=w.next}while(w!==null);k===null?I=k=m:k=k.next=m}else I=k=m;w={baseState:A.baseState,firstBaseUpdate:I,lastBaseUpdate:k,shared:A.shared,effects:A.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=m:h.next=m,w.lastBaseUpdate=m}function og(h,m,w,A){var I=h.updateQueue;gs=!1;var k=I.firstBaseUpdate,ve=I.lastBaseUpdate,Oe=I.shared.pending;if(Oe!==null){I.shared.pending=null;var Qe=Oe,ct=Qe.next;Qe.next=null,ve===null?k=ct:ve.next=ct,ve=Qe;var Tt=h.alternate;Tt!==null&&(Tt=Tt.updateQueue,Oe=Tt.lastBaseUpdate,Oe!==ve&&(Oe===null?Tt.firstBaseUpdate=ct:Oe.next=ct,Tt.lastBaseUpdate=Qe))}if(k!==null){var Yt=I.baseState;ve=0,Tt=ct=Qe=null,Oe=k;do{var Ut=Oe.lane,Jn=Oe.eventTime;if((A&Ut)===Ut){Tt!==null&&(Tt=Tt.next={eventTime:Jn,lane:0,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null});e:{var It=h,Ei=Oe;switch(Ut=m,Jn=w,Ei.tag){case 1:if(It=Ei.payload,typeof It=="function"){Yt=It.call(Jn,Yt,Ut);break e}Yt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ei.payload,Ut=typeof It=="function"?It.call(Jn,Yt,Ut):It,Ut==null)break e;Yt=o({},Yt,Ut);break e;case 2:gs=!0}}Oe.callback!==null&&Oe.lane!==0&&(h.flags|=64,Ut=I.effects,Ut===null?I.effects=[Oe]:Ut.push(Oe))}else Jn={eventTime:Jn,lane:Ut,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Tt===null?(ct=Tt=Jn,Qe=Yt):Tt=Tt.next=Jn,ve|=Ut;if(Oe=Oe.next,Oe===null){if(Oe=I.shared.pending,Oe===null)break;Ut=Oe,Oe=Ut.next,Ut.next=null,I.lastBaseUpdate=Ut,I.shared.pending=null}}while(1);if(Tt===null&&(Qe=Yt),I.baseState=Qe,I.firstBaseUpdate=ct,I.lastBaseUpdate=Tt,m=I.shared.interleaved,m!==null){I=m;do ve|=I.lane,I=I.next;while(I!==m)}else k===null&&(I.shared.lanes=0);Wu|=ve,h.lanes=ve,h.memoizedState=Yt}}function vT(h,m,w){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var A=h[m],I=A.callback;if(I!==null){if(A.callback=null,A=w,typeof I!="function")throw Error(s(191,I));I.call(A)}}}var yT=new r.Component().refs;function Fx(h,m,w,A){m=h.memoizedState,w=w(A,m),w=w==null?m:o({},m,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var sg={isMounted:function(h){return(h=h._reactInternals)?C(h)===h:!1},enqueueSetState:function(h,m,w){h=h._reactInternals;var A=zi(),I=hl(h),k=Ma(A,I);k.payload=m,w!=null&&(k.callback=w),ul(h,k),m=Vo(h,I,A),m!==null&&ig(m,h,I)},enqueueReplaceState:function(h,m,w){h=h._reactInternals;var A=zi(),I=hl(h),k=Ma(A,I);k.tag=1,k.payload=m,w!=null&&(k.callback=w),ul(h,k),m=Vo(h,I,A),m!==null&&ig(m,h,I)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var w=zi(),A=hl(h),I=Ma(w,A);I.tag=2,m!=null&&(I.callback=m),ul(h,I),m=Vo(h,A,w),m!==null&&ig(m,h,A)}};function xT(h,m,w,A,I,k,ve){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,k,ve):m.prototype&&m.prototype.isPureReactComponent?!er(w,A)||!er(I,k):!0}function bT(h,m,w){var A=!1,I=Lr,k=m.contextType;return typeof k=="object"&&k!==null?k=Vn(k):(I=En(m)?Br:Xn.current,A=m.contextTypes,k=(A=A!=null)?Hn(h,I):Lr),m=new m(w,k),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sg,h.stateNode=m,m._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=I,h.__reactInternalMemoizedMaskedChildContext=k),m}function _T(h,m,w,A){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,A),m.state!==h&&sg.enqueueReplaceState(m,m.state,null)}function Dx(h,m,w,A){var I=h.stateNode;I.props=w,I.state=h.memoizedState,I.refs=yT,Ox(h);var k=m.contextType;typeof k=="object"&&k!==null?I.context=Vn(k):(k=En(m)?Br:Xn.current,I.context=Hn(h,k)),I.state=h.memoizedState,k=m.getDerivedStateFromProps,typeof k=="function"&&(Fx(h,m,k,w),I.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(m=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),m!==I.state&&sg.enqueueReplaceState(I,I.state,null),og(h,w,I,A),I.state=h.memoizedState),typeof I.componentDidMount=="function"&&(h.flags|=4194308)}var Fu=[],Du=0,ag=null,lg=0,Bo=[],zo=0,gc=null,Ta=1,Aa="";function vc(h,m){Fu[Du++]=lg,Fu[Du++]=ag,ag=h,lg=m}function ST(h,m,w){Bo[zo++]=Ta,Bo[zo++]=Aa,Bo[zo++]=gc,gc=h;var A=Ta;h=Aa;var I=32-zr(A)-1;A&=~(1<<I),w+=1;var k=32-zr(m)+I;if(30<k){var ve=I-I%5;k=(A&(1<<ve)-1).toString(32),A>>=ve,I-=ve,Ta=1<<32-zr(m)+I|w<<I|A,Aa=k+h}else Ta=1<<k|w<<I|A,Aa=h}function Ux(h){h.return!==null&&(vc(h,1),ST(h,1,0))}function Bx(h){for(;h===ag;)ag=Fu[--Du],Fu[Du]=null,lg=Fu[--Du],Fu[Du]=null;for(;h===gc;)gc=Bo[--zo],Bo[zo]=null,Aa=Bo[--zo],Bo[zo]=null,Ta=Bo[--zo],Bo[zo]=null}var go=null,vo=null,cr=!1,Zd=!1,vs=null;function wT(h,m){var w=Wo(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=h,m=h.deletions,m===null?(h.deletions=[w],h.flags|=16):m.push(w)}function ET(h,m){switch(h.tag){case 5:return m=Vt(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,go=h,vo=Ht(m),!0):!1;case 6:return m=$n(m,h.pendingProps),m!==null?(h.stateNode=m,go=h,vo=null,!0):!1;case 13:if(m=rr(m),m!==null){var w=gc!==null?{id:Ta,overflow:Aa}:null;return h.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=Wo(18,null,null,0),w.stateNode=m,w.return=h,h.child=w,go=h,vo=null,!0}return!1;default:return!1}}function zx(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Gx(h){if(cr){var m=vo;if(m){var w=m;if(!ET(h,m)){if(zx(h))throw Error(s(418));m=xn(w);var A=go;m&&ET(h,m)?wT(A,w):(h.flags=h.flags&-4097|2,cr=!1,go=h)}}else{if(zx(h))throw Error(s(418));h.flags=h.flags&-4097|2,cr=!1,go=h}}}function MT(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;go=h}function Qd(h){if(!ge||h!==go)return!1;if(!cr)return MT(h),cr=!0,!1;if(h.tag!==3&&(h.tag!==5||Ot(h.type)&&!Y(h.type,h.memoizedProps))){var m=vo;if(m){if(zx(h)){for(h=vo;h;)h=xn(h);throw Error(s(418))}for(;m;)wT(h,m),m=xn(m)}}if(MT(h),h.tag===13){if(!ge)throw Error(s(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));vo=Ze(h)}else vo=go?xn(h.stateNode):null;return!0}function Uu(){ge&&(vo=go=null,Zd=cr=!1)}function Hx(h){vs===null?vs=[h]:vs.push(h)}function eh(h,m,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(s(309));var A=w.stateNode}if(!A)throw Error(s(147,h));var I=A,k=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===k?m.ref:(m=function(ve){var Oe=I.refs;Oe===yT&&(Oe=I.refs={}),ve===null?delete Oe[k]:Oe[k]=ve},m._stringRef=k,m)}if(typeof h!="string")throw Error(s(284));if(!w._owner)throw Error(s(290,h))}return h}function cg(h,m){throw h=Object.prototype.toString.call(m),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function TT(h){var m=h._init;return m(h._payload)}function AT(h){function m(Xe,ze){if(h){var Je=Xe.deletions;Je===null?(Xe.deletions=[ze],Xe.flags|=16):Je.push(ze)}}function w(Xe,ze){if(!h)return null;for(;ze!==null;)m(Xe,ze),ze=ze.sibling;return null}function A(Xe,ze){for(Xe=new Map;ze!==null;)ze.key!==null?Xe.set(ze.key,ze):Xe.set(ze.index,ze),ze=ze.sibling;return Xe}function I(Xe,ze){return Xe=ml(Xe,ze),Xe.index=0,Xe.sibling=null,Xe}function k(Xe,ze,Je){return Xe.index=Je,h?(Je=Xe.alternate,Je!==null?(Je=Je.index,Je<ze?(Xe.flags|=2,ze):Je):(Xe.flags|=2,ze)):(Xe.flags|=1048576,ze)}function ve(Xe){return h&&Xe.alternate===null&&(Xe.flags|=2),Xe}function Oe(Xe,ze,Je,bt){return ze===null||ze.tag!==6?(ze=Mb(Je,Xe.mode,bt),ze.return=Xe,ze):(ze=I(ze,Je),ze.return=Xe,ze)}function Qe(Xe,ze,Je,bt){var Rt=Je.type;return Rt===u?Tt(Xe,ze,Je.props.children,bt,Je.key):ze!==null&&(ze.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===_&&TT(Rt)===ze.type)?(bt=I(ze,Je.props),bt.ref=eh(Xe,ze,Je),bt.return=Xe,bt):(bt=zg(Je.type,Je.key,Je.props,null,Xe.mode,bt),bt.ref=eh(Xe,ze,Je),bt.return=Xe,bt)}function ct(Xe,ze,Je,bt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Je.containerInfo||ze.stateNode.implementation!==Je.implementation?(ze=Tb(Je,Xe.mode,bt),ze.return=Xe,ze):(ze=I(ze,Je.children||[]),ze.return=Xe,ze)}function Tt(Xe,ze,Je,bt,Rt){return ze===null||ze.tag!==7?(ze=Ec(Je,Xe.mode,bt,Rt),ze.return=Xe,ze):(ze=I(ze,Je),ze.return=Xe,ze)}function Yt(Xe,ze,Je){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ze=Mb(""+ze,Xe.mode,Je),ze.return=Xe,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case a:return Je=zg(ze.type,ze.key,ze.props,null,Xe.mode,Je),Je.ref=eh(Xe,null,ze),Je.return=Xe,Je;case c:return ze=Tb(ze,Xe.mode,Je),ze.return=Xe,ze;case _:var bt=ze._init;return Yt(Xe,bt(ze._payload),Je)}if(X(ze)||M(ze))return ze=Ec(ze,Xe.mode,Je,null),ze.return=Xe,ze;cg(Xe,ze)}return null}function Ut(Xe,ze,Je,bt){var Rt=ze!==null?ze.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Rt!==null?null:Oe(Xe,ze,""+Je,bt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case a:return Je.key===Rt?Qe(Xe,ze,Je,bt):null;case c:return Je.key===Rt?ct(Xe,ze,Je,bt):null;case _:return Rt=Je._init,Ut(Xe,ze,Rt(Je._payload),bt)}if(X(Je)||M(Je))return Rt!==null?null:Tt(Xe,ze,Je,bt,null);cg(Xe,Je)}return null}function Jn(Xe,ze,Je,bt,Rt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Xe=Xe.get(Je)||null,Oe(ze,Xe,""+bt,Rt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case a:return Xe=Xe.get(bt.key===null?Je:bt.key)||null,Qe(ze,Xe,bt,Rt);case c:return Xe=Xe.get(bt.key===null?Je:bt.key)||null,ct(ze,Xe,bt,Rt);case _:var ln=bt._init;return Jn(Xe,ze,Je,ln(bt._payload),Rt)}if(X(bt)||M(bt))return Xe=Xe.get(Je)||null,Tt(ze,Xe,bt,Rt,null);cg(ze,bt)}return null}function It(Xe,ze,Je,bt){for(var Rt=null,ln=null,Kt=ze,In=ze=0,si=null;Kt!==null&&In<Je.length;In++){Kt.index>In?(si=Kt,Kt=null):si=Kt.sibling;var Ln=Ut(Xe,Kt,Je[In],bt);if(Ln===null){Kt===null&&(Kt=si);break}h&&Kt&&Ln.alternate===null&&m(Xe,Kt),ze=k(Ln,ze,In),ln===null?Rt=Ln:ln.sibling=Ln,ln=Ln,Kt=si}if(In===Je.length)return w(Xe,Kt),cr&&vc(Xe,In),Rt;if(Kt===null){for(;In<Je.length;In++)Kt=Yt(Xe,Je[In],bt),Kt!==null&&(ze=k(Kt,ze,In),ln===null?Rt=Kt:ln.sibling=Kt,ln=Kt);return cr&&vc(Xe,In),Rt}for(Kt=A(Xe,Kt);In<Je.length;In++)si=Jn(Kt,Xe,In,Je[In],bt),si!==null&&(h&&si.alternate!==null&&Kt.delete(si.key===null?In:si.key),ze=k(si,ze,In),ln===null?Rt=si:ln.sibling=si,ln=si);return h&&Kt.forEach(function(gl){return m(Xe,gl)}),cr&&vc(Xe,In),Rt}function Ei(Xe,ze,Je,bt){var Rt=M(Je);if(typeof Rt!="function")throw Error(s(150));if(Je=Rt.call(Je),Je==null)throw Error(s(151));for(var ln=Rt=null,Kt=ze,In=ze=0,si=null,Ln=Je.next();Kt!==null&&!Ln.done;In++,Ln=Je.next()){Kt.index>In?(si=Kt,Kt=null):si=Kt.sibling;var gl=Ut(Xe,Kt,Ln.value,bt);if(gl===null){Kt===null&&(Kt=si);break}h&&Kt&&gl.alternate===null&&m(Xe,Kt),ze=k(gl,ze,In),ln===null?Rt=gl:ln.sibling=gl,ln=gl,Kt=si}if(Ln.done)return w(Xe,Kt),cr&&vc(Xe,In),Rt;if(Kt===null){for(;!Ln.done;In++,Ln=Je.next())Ln=Yt(Xe,Ln.value,bt),Ln!==null&&(ze=k(Ln,ze,In),ln===null?Rt=Ln:ln.sibling=Ln,ln=Ln);return cr&&vc(Xe,In),Rt}for(Kt=A(Xe,Kt);!Ln.done;In++,Ln=Je.next())Ln=Jn(Kt,Xe,In,Ln.value,bt),Ln!==null&&(h&&Ln.alternate!==null&&Kt.delete(Ln.key===null?In:Ln.key),ze=k(Ln,ze,In),ln===null?Rt=Ln:ln.sibling=Ln,ln=Ln);return h&&Kt.forEach(function(gB){return m(Xe,gB)}),cr&&vc(Xe,In),Rt}function jo(Xe,ze,Je,bt){if(typeof Je=="object"&&Je!==null&&Je.type===u&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case a:e:{for(var Rt=Je.key,ln=ze;ln!==null;){if(ln.key===Rt){if(Rt=Je.type,Rt===u){if(ln.tag===7){w(Xe,ln.sibling),ze=I(ln,Je.props.children),ze.return=Xe,Xe=ze;break e}}else if(ln.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===_&&TT(Rt)===ln.type){w(Xe,ln.sibling),ze=I(ln,Je.props),ze.ref=eh(Xe,ln,Je),ze.return=Xe,Xe=ze;break e}w(Xe,ln);break}else m(Xe,ln);ln=ln.sibling}Je.type===u?(ze=Ec(Je.props.children,Xe.mode,bt,Je.key),ze.return=Xe,Xe=ze):(bt=zg(Je.type,Je.key,Je.props,null,Xe.mode,bt),bt.ref=eh(Xe,ze,Je),bt.return=Xe,Xe=bt)}return ve(Xe);case c:e:{for(ln=Je.key;ze!==null;){if(ze.key===ln)if(ze.tag===4&&ze.stateNode.containerInfo===Je.containerInfo&&ze.stateNode.implementation===Je.implementation){w(Xe,ze.sibling),ze=I(ze,Je.children||[]),ze.return=Xe,Xe=ze;break e}else{w(Xe,ze);break}else m(Xe,ze);ze=ze.sibling}ze=Tb(Je,Xe.mode,bt),ze.return=Xe,Xe=ze}return ve(Xe);case _:return ln=Je._init,jo(Xe,ze,ln(Je._payload),bt)}if(X(Je))return It(Xe,ze,Je,bt);if(M(Je))return Ei(Xe,ze,Je,bt);cg(Xe,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,ze!==null&&ze.tag===6?(w(Xe,ze.sibling),ze=I(ze,Je),ze.return=Xe,Xe=ze):(w(Xe,ze),ze=Mb(Je,Xe.mode,bt),ze.return=Xe,Xe=ze),ve(Xe)):w(Xe,ze)}return jo}var Bu=AT(!0),CT=AT(!1),th={},Go=zt(th),nh=zt(th),zu=zt(th);function $s(h){if(h===th)throw Error(s(174));return h}function Vx(h,m){Ft(zu,m),Ft(nh,h),Ft(Go,th),h=te(m),Sn(Go),Ft(Go,h)}function Gu(){Sn(Go),Sn(nh),Sn(zu)}function RT(h){var m=$s(zu.current),w=$s(Go.current);m=O(w,h.type,m),w!==m&&(Ft(nh,h),Ft(Go,m))}function Wx(h){nh.current===h&&(Sn(Go),Sn(nh))}var gr=zt(0);function ug(h){for(var m=h;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||fn(w)||Pn(w)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var jx=[];function $x(){for(var h=0;h<jx.length;h++){var m=jx[h];Ge?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}jx.length=0}var fg=l.ReactCurrentDispatcher,Ho=l.ReactCurrentBatchConfig,Hu=0,Mr=null,_i=null,oi=null,dg=!1,rh=!1,ih=0,G5=0;function Si(){throw Error(s(321))}function Xx(h,m){if(m===null)return!1;for(var w=0;w<m.length&&w<h.length;w++)if(!ht(h[w],m[w]))return!1;return!0}function qx(h,m,w,A,I,k){if(Hu=k,Mr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,fg.current=h===null||h.memoizedState===null?j5:$5,h=w(A,I),rh){k=0;do{if(rh=!1,ih=0,25<=k)throw Error(s(301));k+=1,oi=_i=null,m.updateQueue=null,fg.current=X5,h=w(A,I)}while(rh)}if(fg.current=vg,m=_i!==null&&_i.next!==null,Hu=0,oi=_i=Mr=null,dg=!1,m)throw Error(s(300));return h}function Yx(){var h=ih!==0;return ih=0,h}function Ca(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Mr.memoizedState=oi=h:oi=oi.next=h,oi}function Xs(){if(_i===null){var h=Mr.alternate;h=h!==null?h.memoizedState:null}else h=_i.next;var m=oi===null?Mr.memoizedState:oi.next;if(m!==null)oi=m,_i=h;else{if(h===null)throw Error(s(310));_i=h,h={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},oi===null?Mr.memoizedState=oi=h:oi=oi.next=h}return oi}function yc(h,m){return typeof m=="function"?m(h):m}function hg(h){var m=Xs(),w=m.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=h;var A=_i,I=A.baseQueue,k=w.pending;if(k!==null){if(I!==null){var ve=I.next;I.next=k.next,k.next=ve}A.baseQueue=I=k,w.pending=null}if(I!==null){k=I.next,A=A.baseState;var Oe=ve=null,Qe=null,ct=k;do{var Tt=ct.lane;if((Hu&Tt)===Tt)Qe!==null&&(Qe=Qe.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),A=ct.hasEagerState?ct.eagerState:h(A,ct.action);else{var Yt={lane:Tt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};Qe===null?(Oe=Qe=Yt,ve=A):Qe=Qe.next=Yt,Mr.lanes|=Tt,Wu|=Tt}ct=ct.next}while(ct!==null&&ct!==k);Qe===null?ve=A:Qe.next=Oe,ht(A,m.memoizedState)||(yo=!0),m.memoizedState=A,m.baseState=ve,m.baseQueue=Qe,w.lastRenderedState=A}if(h=w.interleaved,h!==null){I=h;do k=I.lane,Mr.lanes|=k,Wu|=k,I=I.next;while(I!==h)}else I===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function pg(h){var m=Xs(),w=m.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=h;var A=w.dispatch,I=w.pending,k=m.memoizedState;if(I!==null){w.pending=null;var ve=I=I.next;do k=h(k,ve.action),ve=ve.next;while(ve!==I);ht(k,m.memoizedState)||(yo=!0),m.memoizedState=k,m.baseQueue===null&&(m.baseState=k),w.lastRenderedState=k}return[k,A]}function PT(){}function IT(h,m){var w=Mr,A=Xs(),I=m(),k=!ht(A.memoizedState,I);if(k&&(A.memoizedState=I,yo=!0),A=A.queue,sh(NT.bind(null,w,A,h),[h]),A.getSnapshot!==m||k||oi!==null&&oi.memoizedState.tag&1){if(w.flags|=2048,oh(9,kT.bind(null,w,A,I,m),void 0,null),Gr===null)throw Error(s(349));Hu&30||LT(w,m,I)}return I}function LT(h,m,w){h.flags|=16384,h={getSnapshot:m,value:w},m=Mr.updateQueue,m===null?(m={lastEffect:null,stores:null},Mr.updateQueue=m,m.stores=[h]):(w=m.stores,w===null?m.stores=[h]:w.push(h))}function kT(h,m,w,A){m.value=w,m.getSnapshot=A,OT(m)&&Vo(h,1,-1)}function NT(h,m,w){return w(function(){OT(m)&&Vo(h,1,-1)})}function OT(h){var m=h.getSnapshot;h=h.value;try{var w=m();return!ht(h,w)}catch{return!0}}function Kx(h){var m=Ca();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:h},m.queue=h,h=h.dispatch=W5.bind(null,Mr,h),[m.memoizedState,h]}function oh(h,m,w,A){return h={tag:h,create:m,destroy:w,deps:A,next:null},m=Mr.updateQueue,m===null?(m={lastEffect:null,stores:null},Mr.updateQueue=m,m.lastEffect=h.next=h):(w=m.lastEffect,w===null?m.lastEffect=h.next=h:(A=w.next,w.next=h,h.next=A,m.lastEffect=h)),h}function FT(){return Xs().memoizedState}function mg(h,m,w,A){var I=Ca();Mr.flags|=h,I.memoizedState=oh(1|m,w,void 0,A===void 0?null:A)}function gg(h,m,w,A){var I=Xs();A=A===void 0?null:A;var k=void 0;if(_i!==null){var ve=_i.memoizedState;if(k=ve.destroy,A!==null&&Xx(A,ve.deps)){I.memoizedState=oh(m,w,k,A);return}}Mr.flags|=h,I.memoizedState=oh(1|m,w,k,A)}function Jx(h,m){return mg(8390656,8,h,m)}function sh(h,m){return gg(2048,8,h,m)}function DT(h,m){return gg(4,2,h,m)}function UT(h,m){return gg(4,4,h,m)}function BT(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function zT(h,m,w){return w=w!=null?w.concat([h]):null,gg(4,4,BT.bind(null,m,h),w)}function Zx(){}function GT(h,m){var w=Xs();m=m===void 0?null:m;var A=w.memoizedState;return A!==null&&m!==null&&Xx(m,A[1])?A[0]:(w.memoizedState=[h,m],h)}function HT(h,m){var w=Xs();m=m===void 0?null:m;var A=w.memoizedState;return A!==null&&m!==null&&Xx(m,A[1])?A[0]:(h=h(),w.memoizedState=[h,m],h)}function H5(h,m){var w=sn;sn=w!==0&&4>w?w:4,h(!0);var A=Ho.transition;Ho.transition={};try{h(!1),m()}finally{sn=w,Ho.transition=A}}function VT(){return Xs().memoizedState}function V5(h,m,w){var A=hl(h);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},WT(h)?jT(m,w):($T(h,m,w),w=zi(),h=Vo(h,A,w),h!==null&&XT(h,m,A))}function W5(h,m,w){var A=hl(h),I={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(WT(h))jT(m,I);else{$T(h,m,I);var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=m.lastRenderedReducer,k!==null))try{var ve=m.lastRenderedState,Oe=k(ve,w);if(I.hasEagerState=!0,I.eagerState=Oe,ht(Oe,ve))return}catch{}finally{}w=zi(),h=Vo(h,A,w),h!==null&&XT(h,m,A)}}function WT(h){var m=h.alternate;return h===Mr||m!==null&&m===Mr}function jT(h,m){rh=dg=!0;var w=h.pending;w===null?m.next=m:(m.next=w.next,w.next=m),h.pending=m}function $T(h,m,w){Gr!==null&&h.mode&1&&!(un&2)?(h=m.interleaved,h===null?(w.next=w,qr===null?qr=[m]:qr.push(m)):(w.next=h.next,h.next=w),m.interleaved=w):(h=m.pending,h===null?w.next=w:(w.next=h.next,h.next=w),m.pending=w)}function XT(h,m,w){if(w&4194240){var A=m.lanes;A&=h.pendingLanes,w|=A,m.lanes=w,Uo(h,w)}}var vg={readContext:Vn,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},j5={readContext:Vn,useCallback:function(h,m){return Ca().memoizedState=[h,m===void 0?null:m],h},useContext:Vn,useEffect:Jx,useImperativeHandle:function(h,m,w){return w=w!=null?w.concat([h]):null,mg(4194308,4,BT.bind(null,m,h),w)},useLayoutEffect:function(h,m){return mg(4194308,4,h,m)},useInsertionEffect:function(h,m){return mg(4,2,h,m)},useMemo:function(h,m){var w=Ca();return m=m===void 0?null:m,h=h(),w.memoizedState=[h,m],h},useReducer:function(h,m,w){var A=Ca();return m=w!==void 0?w(m):m,A.memoizedState=A.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},A.queue=h,h=h.dispatch=V5.bind(null,Mr,h),[A.memoizedState,h]},useRef:function(h){var m=Ca();return h={current:h},m.memoizedState=h},useState:Kx,useDebugValue:Zx,useDeferredValue:function(h){var m=Kx(h),w=m[0],A=m[1];return Jx(function(){var I=Ho.transition;Ho.transition={};try{A(h)}finally{Ho.transition=I}},[h]),w},useTransition:function(){var h=Kx(!1),m=h[0];return h=H5.bind(null,h[1]),Ca().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,w){var A=Mr,I=Ca();if(cr){if(w===void 0)throw Error(s(407));w=w()}else{if(w=m(),Gr===null)throw Error(s(349));Hu&30||LT(A,m,w)}I.memoizedState=w;var k={value:w,getSnapshot:m};return I.queue=k,Jx(NT.bind(null,A,k,h),[h]),A.flags|=2048,oh(9,kT.bind(null,A,k,w,m),void 0,null),w},useId:function(){var h=Ca(),m=Gr.identifierPrefix;if(cr){var w=Aa,A=Ta;w=(A&~(1<<32-zr(A)-1)).toString(32)+w,m=":"+m+"R"+w,w=ih++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=G5++,m=":"+m+"r"+w.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},$5={readContext:Vn,useCallback:GT,useContext:Vn,useEffect:sh,useImperativeHandle:zT,useInsertionEffect:DT,useLayoutEffect:UT,useMemo:HT,useReducer:hg,useRef:FT,useState:function(){return hg(yc)},useDebugValue:Zx,useDeferredValue:function(h){var m=hg(yc),w=m[0],A=m[1];return sh(function(){var I=Ho.transition;Ho.transition={};try{A(h)}finally{Ho.transition=I}},[h]),w},useTransition:function(){var h=hg(yc)[0],m=Xs().memoizedState;return[h,m]},useMutableSource:PT,useSyncExternalStore:IT,useId:VT,unstable_isNewReconciler:!1},X5={readContext:Vn,useCallback:GT,useContext:Vn,useEffect:sh,useImperativeHandle:zT,useInsertionEffect:DT,useLayoutEffect:UT,useMemo:HT,useReducer:pg,useRef:FT,useState:function(){return pg(yc)},useDebugValue:Zx,useDeferredValue:function(h){var m=pg(yc),w=m[0],A=m[1];return sh(function(){var I=Ho.transition;Ho.transition={};try{A(h)}finally{Ho.transition=I}},[h]),w},useTransition:function(){var h=pg(yc)[0],m=Xs().memoizedState;return[h,m]},useMutableSource:PT,useSyncExternalStore:IT,useId:VT,unstable_isNewReconciler:!1};function Qx(h,m){try{var w="",A=m;do w+=Yn(A),A=A.return;while(A);var I=w}catch(k){I=`
Error generating stack: `+k.message+`
`+k.stack}return{value:h,source:m,stack:I}}function eb(h,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var q5=typeof WeakMap=="function"?WeakMap:Map;function qT(h,m,w){w=Ma(-1,w),w.tag=3,w.payload={element:null};var A=m.value;return w.callback=function(){kg||(kg=!0,yb=A),eb(h,m)},w}function YT(h,m,w){w=Ma(-1,w),w.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var I=m.value;w.payload=function(){return A(I)},w.callback=function(){eb(h,m)}}var k=h.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(w.callback=function(){eb(h,m),typeof A!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var ve=m.stack;this.componentDidCatch(m.value,{componentStack:ve!==null?ve:""})}),w}function KT(h,m,w){var A=h.pingCache;if(A===null){A=h.pingCache=new q5;var I=new Set;A.set(m,I)}else I=A.get(m),I===void 0&&(I=new Set,A.set(m,I));I.has(w)||(I.add(w),h=lB.bind(null,h,m,w),m.then(h,h))}function JT(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function ZT(h,m,w,A,I){return h.mode&1?(h.flags|=65536,h.lanes=I,h):(h===m?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=Ma(-1,1),m.tag=2,ul(w,m))),w.lanes|=1),h)}function qs(h){h.flags|=4}function QT(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var ah,lh,yg,xg;if(Ae)ah=function(h,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)W(h,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},lh=function(){},yg=function(h,m,w,A,I){if(h=h.memoizedProps,h!==A){var k=m.stateNode,ve=$s(Go.current);w=j(k,w,h,A,I,ve),(m.updateQueue=w)&&qs(m)}},xg=function(h,m,w,A){w!==A&&qs(m)};else if(z){ah=function(h,m,w,A){for(var I=m.child;I!==null;){if(I.tag===5){var k=I.stateNode;w&&A&&(k=Xt(k,I.type,I.memoizedProps,I)),W(h,k)}else if(I.tag===6)k=I.stateNode,w&&A&&(k=jt(k,I.memoizedProps,I)),W(h,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),ah(h,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var eA=function(h,m,w,A){for(var I=m.child;I!==null;){if(I.tag===5){var k=I.stateNode;w&&A&&(k=Xt(k,I.type,I.memoizedProps,I)),xt(h,k)}else if(I.tag===6)k=I.stateNode,w&&A&&(k=jt(k,I.memoizedProps,I)),xt(h,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),eA(h,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};lh=function(h,m){var w=m.stateNode;if(!QT(h,m)){h=w.containerInfo;var A=vt(h);eA(A,m,!1,!1),w.pendingChildren=A,qs(m),Et(h,A)}},yg=function(h,m,w,A,I){var k=h.stateNode,ve=h.memoizedProps;if((h=QT(h,m))&&ve===A)m.stateNode=k;else{var Oe=m.stateNode,Qe=$s(Go.current),ct=null;ve!==A&&(ct=j(Oe,w,ve,A,I,Qe)),h&&ct===null?m.stateNode=k:(k=tt(k,ct,w,ve,A,m,h,Oe),ie(k,w,A,I,Qe)&&qs(m),m.stateNode=k,h?qs(m):ah(k,m,!1,!1))}},xg=function(h,m,w,A){w!==A?(h=$s(zu.current),w=$s(Go.current),m.stateNode=K(A,h,w,m),qs(m)):m.stateNode=h.stateNode}}else lh=function(){},yg=function(){},xg=function(){};function ch(h,m){if(!cr)switch(h.tailMode){case"hidden":m=h.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function wi(h){var m=h.alternate!==null&&h.alternate.child===h.child,w=0,A=0;if(m)for(var I=h.child;I!==null;)w|=I.lanes|I.childLanes,A|=I.subtreeFlags&14680064,A|=I.flags&14680064,I.return=h,I=I.sibling;else for(I=h.child;I!==null;)w|=I.lanes|I.childLanes,A|=I.subtreeFlags,A|=I.flags,I.return=h,I=I.sibling;return h.subtreeFlags|=A,h.childLanes=w,m}function Y5(h,m,w){var A=m.pendingProps;switch(Bx(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(m),null;case 1:return En(m.type)&&Di(),wi(m),null;case 3:return A=m.stateNode,Gu(),Sn(Nn),Sn(Xn),$x(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(Qd(m)?qs(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,vs!==null&&(_b(vs),vs=null))),lh(h,m),wi(m),null;case 5:Wx(m),w=$s(zu.current);var I=m.type;if(h!==null&&m.stateNode!=null)yg(h,m,I,A,w),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(s(166));return wi(m),null}if(h=$s(Go.current),Qd(m)){if(!ge)throw Error(s(175));h=mn(m.stateNode,m.type,m.memoizedProps,w,h,m,!Zd),m.updateQueue=h,h!==null&&qs(m)}else{var k=$(I,A,w,h,m);ah(k,m,!1,!1),m.stateNode=k,ie(k,I,A,w,h)&&qs(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return wi(m),null;case 6:if(h&&m.stateNode!=null)xg(h,m,h.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(s(166));if(h=$s(zu.current),w=$s(Go.current),Qd(m)){if(!ge)throw Error(s(176));if(h=m.stateNode,A=m.memoizedProps,(w=ue(h,A,m,!Zd))&&(I=go,I!==null))switch(k=(I.mode&1)!==0,I.tag){case 3:kt(I.stateNode.containerInfo,h,A,k);break;case 5:$t(I.type,I.memoizedProps,I.stateNode,h,A,k)}w&&qs(m)}else m.stateNode=K(A,h,w,m)}return wi(m),null;case 13:if(Sn(gr),A=m.memoizedState,cr&&vo!==null&&m.mode&1&&!(m.flags&128)){for(h=vo;h;)h=xn(h);return Uu(),m.flags|=98560,m}if(A!==null&&A.dehydrated!==null){if(A=Qd(m),h===null){if(!A)throw Error(s(318));if(!ge)throw Error(s(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));$e(h,m)}else Uu(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return wi(m),null}return vs!==null&&(_b(vs),vs=null),m.flags&128?(m.lanes=w,m):(A=A!==null,w=!1,h===null?Qd(m):w=h.memoizedState!==null,A&&!w&&(m.child.flags|=8192,m.mode&1&&(h===null||gr.current&1?Yr===0&&(Yr=3):wb())),m.updateQueue!==null&&(m.flags|=4),wi(m),null);case 4:return Gu(),lh(h,m),h===null&&Ie(m.stateNode.containerInfo),wi(m),null;case 10:return bi(m.type._context),wi(m),null;case 17:return En(m.type)&&Di(),wi(m),null;case 19:if(Sn(gr),I=m.memoizedState,I===null)return wi(m),null;if(A=(m.flags&128)!==0,k=I.rendering,k===null)if(A)ch(I,!1);else{if(Yr!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(k=ug(h),k!==null){for(m.flags|=128,ch(I,!1),h=k.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=w,A=m.child;A!==null;)w=A,I=h,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=I,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,I=k.dependencies,w.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),A=A.sibling;return Ft(gr,gr.current&1|2),m.child}h=h.sibling}I.tail!==null&&le()>vb&&(m.flags|=128,A=!0,ch(I,!1),m.lanes=4194304)}else{if(!A)if(h=ug(k),h!==null){if(m.flags|=128,A=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),ch(I,!0),I.tail===null&&I.tailMode==="hidden"&&!k.alternate&&!cr)return wi(m),null}else 2*le()-I.renderingStartTime>vb&&w!==1073741824&&(m.flags|=128,A=!0,ch(I,!1),m.lanes=4194304);I.isBackwards?(k.sibling=m.child,m.child=k):(h=I.last,h!==null?h.sibling=k:m.child=k,I.last=k)}return I.tail!==null?(m=I.tail,I.rendering=m,I.tail=m.sibling,I.renderingStartTime=le(),m.sibling=null,h=gr.current,Ft(gr,A?h&1|2:h&1),m):(wi(m),null);case 22:case 23:return Sb(),A=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(m.flags|=8192),A&&m.mode&1?xo&1073741824&&(wi(m),Ae&&m.subtreeFlags&6&&(m.flags|=8192)):wi(m),null;case 24:return null;case 25:return null}throw Error(s(156,m.tag))}var K5=l.ReactCurrentOwner,yo=!1;function Bi(h,m,w,A){m.child=h===null?CT(m,null,w,A):Bu(m,h.child,w,A)}function tA(h,m,w,A,I){w=w.render;var k=m.ref;return Nr(m,I),A=qx(h,m,w,A,k,I),w=Yx(),h!==null&&!yo?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~I,Ra(h,m,I)):(cr&&w&&Ux(m),m.flags|=1,Bi(h,m,A,I),m.child)}function nA(h,m,w,A,I){if(h===null){var k=w.type;return typeof k=="function"&&!Eb(k)&&k.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=k,rA(h,m,k,A,I)):(h=zg(w.type,null,A,m,m.mode,I),h.ref=m.ref,h.return=m,m.child=h)}if(k=h.child,!(h.lanes&I)){var ve=k.memoizedProps;if(w=w.compare,w=w!==null?w:er,w(ve,A)&&h.ref===m.ref)return Ra(h,m,I)}return m.flags|=1,h=ml(k,A),h.ref=m.ref,h.return=m,m.child=h}function rA(h,m,w,A,I){if(h!==null&&er(h.memoizedProps,A)&&h.ref===m.ref)if(yo=!1,(h.lanes&I)!==0)h.flags&131072&&(yo=!0);else return m.lanes=h.lanes,Ra(h,m,I);return tb(h,m,w,A,I)}function iA(h,m,w){var A=m.pendingProps,I=A.children,k=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Ft(Vu,xo),xo|=w;else if(w&1073741824)m.memoizedState={baseLanes:0,cachePool:null},A=k!==null?k.baseLanes:w,Ft(Vu,xo),xo|=A;else return h=k!==null?k.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Ft(Vu,xo),xo|=h,null;else k!==null?(A=k.baseLanes|w,m.memoizedState=null):A=w,Ft(Vu,xo),xo|=A;return Bi(h,m,I,w),m.child}function oA(h,m){var w=m.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function tb(h,m,w,A,I){var k=En(w)?Br:Xn.current;return k=Hn(m,k),Nr(m,I),w=qx(h,m,w,A,k,I),A=Yx(),h!==null&&!yo?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~I,Ra(h,m,I)):(cr&&A&&Ux(m),m.flags|=1,Bi(h,m,w,I),m.child)}function sA(h,m,w,A,I){if(En(w)){var k=!0;Ui(m)}else k=!1;if(Nr(m,I),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),bT(m,w,A),Dx(m,w,A,I),A=!0;else if(h===null){var ve=m.stateNode,Oe=m.memoizedProps;ve.props=Oe;var Qe=ve.context,ct=w.contextType;typeof ct=="object"&&ct!==null?ct=Vn(ct):(ct=En(w)?Br:Xn.current,ct=Hn(m,ct));var Tt=w.getDerivedStateFromProps,Yt=typeof Tt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";Yt||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Oe!==A||Qe!==ct)&&_T(m,ve,A,ct),gs=!1;var Ut=m.memoizedState;ve.state=Ut,og(m,A,ve,I),Qe=m.memoizedState,Oe!==A||Ut!==Qe||Nn.current||gs?(typeof Tt=="function"&&(Fx(m,w,Tt,A),Qe=m.memoizedState),(Oe=gs||xT(m,w,Oe,A,Ut,Qe,ct))?(Yt||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=Qe),ve.props=A,ve.state=Qe,ve.context=ct,A=Oe):(typeof ve.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{ve=m.stateNode,mT(h,m),Oe=m.memoizedProps,ct=m.type===m.elementType?Oe:dn(m.type,Oe),ve.props=ct,Yt=m.pendingProps,Ut=ve.context,Qe=w.contextType,typeof Qe=="object"&&Qe!==null?Qe=Vn(Qe):(Qe=En(w)?Br:Xn.current,Qe=Hn(m,Qe));var Jn=w.getDerivedStateFromProps;(Tt=typeof Jn=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Oe!==Yt||Ut!==Qe)&&_T(m,ve,A,Qe),gs=!1,Ut=m.memoizedState,ve.state=Ut,og(m,A,ve,I);var It=m.memoizedState;Oe!==Yt||Ut!==It||Nn.current||gs?(typeof Jn=="function"&&(Fx(m,w,Jn,A),It=m.memoizedState),(ct=gs||xT(m,w,ct,A,Ut,It,Qe)||!1)?(Tt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(A,It,Qe),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(A,It,Qe)),typeof ve.componentDidUpdate=="function"&&(m.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Oe===h.memoizedProps&&Ut===h.memoizedState||(m.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Oe===h.memoizedProps&&Ut===h.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=It),ve.props=A,ve.state=It,ve.context=Qe,A=ct):(typeof ve.componentDidUpdate!="function"||Oe===h.memoizedProps&&Ut===h.memoizedState||(m.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Oe===h.memoizedProps&&Ut===h.memoizedState||(m.flags|=1024),A=!1)}return nb(h,m,w,A,k,I)}function nb(h,m,w,A,I,k){oA(h,m);var ve=(m.flags&128)!==0;if(!A&&!ve)return I&&us(m,w,!1),Ra(h,m,k);A=m.stateNode,K5.current=m;var Oe=ve&&typeof w.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,h!==null&&ve?(m.child=Bu(m,h.child,null,k),m.child=Bu(m,null,Oe,k)):Bi(h,m,Oe,k),m.memoizedState=A.state,I&&us(m,w,!0),m.child}function aA(h){var m=h.stateNode;m.pendingContext?Mt(h,m.pendingContext,m.pendingContext!==m.context):m.context&&Mt(h,m.context,!1),Vx(h,m.containerInfo)}function lA(h,m,w,A,I){return Uu(),Hx(I),m.flags|=256,Bi(h,m,w,A),m.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function _g(h){return{baseLanes:h,cachePool:null}}function cA(h,m,w){var A=m.pendingProps,I=gr.current,k=!1,ve=(m.flags&128)!==0,Oe;if((Oe=ve)||(Oe=h!==null&&h.memoizedState===null?!1:(I&2)!==0),Oe?(k=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(I|=1),Ft(gr,I&1),h===null)return Gx(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?Pn(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(I=A.children,h=A.fallback,k?(A=m.mode,k=m.child,I={mode:"hidden",children:I},!(A&1)&&k!==null?(k.childLanes=0,k.pendingProps=I):k=Gg(I,A,0,null),h=Ec(h,A,w,null),k.return=m,h.return=m,k.sibling=h,m.child=k,m.child.memoizedState=_g(w),m.memoizedState=bg,h):rb(m,I));if(I=h.memoizedState,I!==null){if(Oe=I.dehydrated,Oe!==null){if(ve)return m.flags&256?(m.flags&=-257,Sg(h,m,w,Error(s(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(k=A.fallback,I=m.mode,A=Gg({mode:"visible",children:A.children},I,0,null),k=Ec(k,I,w,null),k.flags|=2,A.return=m,k.return=m,A.sibling=k,m.child=A,m.mode&1&&Bu(m,h.child,null,w),m.child.memoizedState=_g(w),m.memoizedState=bg,k);if(!(m.mode&1))m=Sg(h,m,w,null);else if(Pn(Oe))m=Sg(h,m,w,Error(s(419)));else if(A=(w&h.childLanes)!==0,yo||A){if(A=Gr,A!==null){switch(w&-w){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}A=k&(A.suspendedLanes|w)?0:k,A!==0&&A!==I.retryLane&&(I.retryLane=A,Vo(h,A,-1))}wb(),m=Sg(h,m,w,Error(s(421)))}else fn(Oe)?(m.flags|=128,m.child=h.child,m=cB.bind(null,h),mr(Oe,m),m=null):(w=I.treeContext,ge&&(vo=ir(Oe),go=m,cr=!0,vs=null,Zd=!1,w!==null&&(Bo[zo++]=Ta,Bo[zo++]=Aa,Bo[zo++]=gc,Ta=w.id,Aa=w.overflow,gc=m)),m=rb(m,m.pendingProps.children),m.flags|=4096);return m}return k?(A=fA(h,m,A.children,A.fallback,w),k=m.child,I=h.child.memoizedState,k.memoizedState=I===null?_g(w):{baseLanes:I.baseLanes|w,cachePool:null},k.childLanes=h.childLanes&~w,m.memoizedState=bg,A):(w=uA(h,m,A.children,w),m.memoizedState=null,w)}return k?(A=fA(h,m,A.children,A.fallback,w),k=m.child,I=h.child.memoizedState,k.memoizedState=I===null?_g(w):{baseLanes:I.baseLanes|w,cachePool:null},k.childLanes=h.childLanes&~w,m.memoizedState=bg,A):(w=uA(h,m,A.children,w),m.memoizedState=null,w)}function rb(h,m){return m=Gg({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function uA(h,m,w,A){var I=h.child;return h=I.sibling,w=ml(I,{mode:"visible",children:w}),!(m.mode&1)&&(w.lanes=A),w.return=m,w.sibling=null,h!==null&&(A=m.deletions,A===null?(m.deletions=[h],m.flags|=16):A.push(h)),m.child=w}function fA(h,m,w,A,I){var k=m.mode;h=h.child;var ve=h.sibling,Oe={mode:"hidden",children:w};return!(k&1)&&m.child!==h?(w=m.child,w.childLanes=0,w.pendingProps=Oe,m.deletions=null):(w=ml(h,Oe),w.subtreeFlags=h.subtreeFlags&14680064),ve!==null?A=ml(ve,A):(A=Ec(A,k,I,null),A.flags|=2),A.return=m,w.return=m,w.sibling=A,m.child=w,A}function Sg(h,m,w,A){return A!==null&&Hx(A),Bu(m,h.child,null,w),h=rb(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function dA(h,m,w){h.lanes|=m;var A=h.alternate;A!==null&&(A.lanes|=m),or(h.return,m,w)}function ib(h,m,w,A,I){var k=h.memoizedState;k===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:I}:(k.isBackwards=m,k.rendering=null,k.renderingStartTime=0,k.last=A,k.tail=w,k.tailMode=I)}function hA(h,m,w){var A=m.pendingProps,I=A.revealOrder,k=A.tail;if(Bi(h,m,A.children,w),A=gr.current,A&2)A=A&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&dA(h,w,m);else if(h.tag===19)dA(h,w,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Ft(gr,A),!(m.mode&1))m.memoizedState=null;else switch(I){case"forwards":for(w=m.child,I=null;w!==null;)h=w.alternate,h!==null&&ug(h)===null&&(I=w),w=w.sibling;w=I,w===null?(I=m.child,m.child=null):(I=w.sibling,w.sibling=null),ib(m,!1,I,w,k);break;case"backwards":for(w=null,I=m.child,m.child=null;I!==null;){if(h=I.alternate,h!==null&&ug(h)===null){m.child=I;break}h=I.sibling,I.sibling=w,w=I,I=h}ib(m,!0,w,null,k);break;case"together":ib(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ra(h,m,w){if(h!==null&&(m.dependencies=h.dependencies),Wu|=m.lanes,!(w&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(s(153));if(m.child!==null){for(h=m.child,w=ml(h,h.pendingProps),m.child=w,w.return=m;h.sibling!==null;)h=h.sibling,w=w.sibling=ml(h,h.pendingProps),w.return=m;w.sibling=null}return m.child}function J5(h,m,w){switch(m.tag){case 3:aA(m),Uu();break;case 5:RT(m);break;case 1:En(m.type)&&Ui(m);break;case 4:Vx(m,m.stateNode.containerInfo);break;case 10:mo(m,m.type._context,m.memoizedProps.value);break;case 13:var A=m.memoizedState;if(A!==null)return A.dehydrated!==null?(Ft(gr,gr.current&1),m.flags|=128,null):w&m.child.childLanes?cA(h,m,w):(Ft(gr,gr.current&1),h=Ra(h,m,w),h!==null?h.sibling:null);Ft(gr,gr.current&1);break;case 19:if(A=(w&m.childLanes)!==0,h.flags&128){if(A)return hA(h,m,w);m.flags|=128}var I=m.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Ft(gr,gr.current),A)break;return null;case 22:case 23:return m.lanes=0,iA(h,m,w)}return Ra(h,m,w)}function Z5(h,m){switch(Bx(m),m.tag){case 1:return En(m.type)&&Di(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Gu(),Sn(Nn),Sn(Xn),$x(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return Wx(m),null;case 13:if(Sn(gr),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(s(340));Uu()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Sn(gr),null;case 4:return Gu(),null;case 10:return bi(m.type._context),null;case 22:case 23:return Sb(),null;case 24:return null;default:return null}}var wg=!1,xc=!1,Q5=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Eg(h,m){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){Qi(h,m,A)}else w.current=null}function ob(h,m,w){try{w()}catch(A){Qi(h,m,A)}}var pA=!1;function eB(h,m){for(D(h.containerInfo),gt=m;gt!==null;)if(h=gt,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,gt=m;else for(;gt!==null;){h=gt;try{var w=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,I=w.memoizedState,k=h.stateNode,ve=k.getSnapshotBeforeUpdate(h.elementType===h.type?A:dn(h.type,A),I);k.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:Ae&&Ye(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Oe){Qi(h,h.return,Oe)}if(m=h.sibling,m!==null){m.return=h.return,gt=m;break}gt=h.return}return w=pA,pA=!1,w}function bc(h,m,w){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var I=A=A.next;do{if((I.tag&h)===h){var k=I.destroy;I.destroy=void 0,k!==void 0&&ob(m,w,k)}I=I.next}while(I!==A)}}function uh(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&h)===h){var A=w.create;w.destroy=A()}w=w.next}while(w!==m)}}function sb(h){var m=h.ref;if(m!==null){var w=h.stateNode;switch(h.tag){case 5:h=ee(w);break;default:h=w}typeof m=="function"?m(h):m.current=h}}function mA(h,m,w){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(De,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var I=A,k=I.destroy;I=I.tag,k!==void 0&&(I&2||I&4)&&ob(m,w,k),A=A.next}while(A!==h)}break;case 1:if(Eg(m,w),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(ve){Qi(m,w,ve)}break;case 5:Eg(m,w);break;case 4:Ae?_A(h,m,w):z&&z&&(m=m.stateNode.containerInfo,w=vt(m),Gt(m,w))}}function gA(h,m,w){for(var A=m;;)if(mA(h,A,w),A.child===null||Ae&&A.tag===4){if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function vA(h){var m=h.alternate;m!==null&&(h.alternate=null,vA(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&We(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function yA(h){return h.tag===5||h.tag===3||h.tag===4}function xA(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||yA(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function bA(h){if(Ae){e:{for(var m=h.return;m!==null;){if(yA(m))break e;m=m.return}throw Error(s(160))}var w=m;switch(w.tag){case 5:m=w.stateNode,w.flags&32&&(Ue(m),w.flags&=-33),w=xA(h),lb(h,w,m);break;case 3:case 4:m=w.stateNode.containerInfo,w=xA(h),ab(h,w,m);break;default:throw Error(s(161))}}}function ab(h,m,w){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?de(w,h,m):ye(w,h);else if(A!==4&&(h=h.child,h!==null))for(ab(h,m,w),h=h.sibling;h!==null;)ab(h,m,w),h=h.sibling}function lb(h,m,w){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?se(w,h,m):_e(w,h);else if(A!==4&&(h=h.child,h!==null))for(lb(h,m,w),h=h.sibling;h!==null;)lb(h,m,w),h=h.sibling}function _A(h,m,w){for(var A=m,I=!1,k,ve;;){if(!I){I=A.return;e:for(;;){if(I===null)throw Error(s(160));switch(k=I.stateNode,I.tag){case 5:ve=!1;break e;case 3:k=k.containerInfo,ve=!0;break e;case 4:k=k.containerInfo,ve=!0;break e}I=I.return}I=!0}if(A.tag===5||A.tag===6)gA(h,A,w),ve?me(k,A.stateNode):he(k,A.stateNode);else if(A.tag===18)ve?Pt(k,A.stateNode):mt(k,A.stateNode);else if(A.tag===4){if(A.child!==null){k=A.stateNode.containerInfo,ve=!0,A.child.return=A,A=A.child;continue}}else if(mA(h,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return,A.tag===4&&(I=!1)}A.sibling.return=A.return,A=A.sibling}}function cb(h,m){if(Ae){switch(m.tag){case 0:case 11:case 14:case 15:bc(3,m,m.return),uh(3,m),bc(5,m,m.return);return;case 1:return;case 5:var w=m.stateNode;if(w!=null){var A=m.memoizedProps;h=h!==null?h.memoizedProps:A;var I=m.type,k=m.updateQueue;m.updateQueue=null,k!==null&&be(w,k,I,h,A,m)}return;case 6:if(m.stateNode===null)throw Error(s(162));w=m.memoizedProps,we(m.stateNode,h!==null?h.memoizedProps:w,w);return;case 3:ge&&h!==null&&h.memoizedState.isDehydrated&&Ve(m.stateNode.containerInfo);return;case 12:return;case 13:Mg(m);return;case 19:Mg(m);return;case 17:return}throw Error(s(163))}switch(m.tag){case 0:case 11:case 14:case 15:bc(3,m,m.return),uh(3,m),bc(5,m,m.return);return;case 12:return;case 13:Mg(m);return;case 19:Mg(m);return;case 3:ge&&h!==null&&h.memoizedState.isDehydrated&&Ve(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(z){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Gt(m.containerInfo,m.pendingChildren);break e}throw Error(s(163))}}function Mg(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new Q5),m.forEach(function(A){var I=uB.bind(null,h,A);w.has(A)||(w.add(A),A.then(I,I))})}}function tB(h,m){for(gt=m;gt!==null;){m=gt;var w=m.deletions;if(w!==null)for(var A=0;A<w.length;A++){var I=w[A];try{var k=h;Ae?_A(k,I,m):gA(k,I,m);var ve=I.alternate;ve!==null&&(ve.return=null),I.return=null}catch(Rt){Qi(I,m,Rt)}}if(w=m.child,m.subtreeFlags&12854&&w!==null)w.return=m,gt=w;else for(;gt!==null;){m=gt;try{var Oe=m.flags;if(Oe&32&&Ae&&Ue(m.stateNode),Oe&512){var Qe=m.alternate;if(Qe!==null){var ct=Qe.ref;ct!==null&&(typeof ct=="function"?ct(null):ct.current=null)}}if(Oe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Tt=m.alternate;(Tt===null||Tt.memoizedState===null)&&(gb=le())}break;case 22:var Yt=m.memoizedState!==null,Ut=m.alternate,Jn=Ut!==null&&Ut.memoizedState!==null;if(w=m,Ae){e:if(A=w,I=Yt,k=null,Ae)for(var It=A;;){if(It.tag===5){if(k===null){k=It;var Ei=It.stateNode;I?qe(Ei):Be(It.stateNode,It.memoizedProps)}}else if(It.tag===6){if(k===null){var jo=It.stateNode;I?re(jo):Ee(jo,It.memoizedProps)}}else if((It.tag!==22&&It.tag!==23||It.memoizedState===null||It===A)&&It.child!==null){It.child.return=It,It=It.child;continue}if(It===A)break;for(;It.sibling===null;){if(It.return===null||It.return===A)break e;k===It&&(k=null),It=It.return}k===It&&(k=null),It.sibling.return=It.return,It=It.sibling}}if(Yt&&!Jn&&w.mode&1){gt=w;for(var Xe=w.child;Xe!==null;){for(w=gt=Xe;gt!==null;){A=gt;var ze=A.child;switch(A.tag){case 0:case 11:case 14:case 15:bc(4,A,A.return);break;case 1:Eg(A,A.return);var Je=A.stateNode;if(typeof Je.componentWillUnmount=="function"){var bt=A.return;try{Je.props=A.memoizedProps,Je.state=A.memoizedState,Je.componentWillUnmount()}catch(Rt){Qi(A,bt,Rt)}}break;case 5:Eg(A,A.return);break;case 22:if(A.memoizedState!==null){EA(w);continue}}ze!==null?(ze.return=A,gt=ze):EA(w)}Xe=Xe.sibling}}}switch(Oe&4102){case 2:bA(m),m.flags&=-3;break;case 6:bA(m),m.flags&=-3,cb(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,cb(m.alternate,m);break;case 4:cb(m.alternate,m)}}catch(Rt){Qi(m,m.return,Rt)}if(w=m.sibling,w!==null){w.return=m.return,gt=w;break}gt=m.return}}}function nB(h,m,w){gt=h,SA(h)}function SA(h,m,w){for(var A=(h.mode&1)!==0;gt!==null;){var I=gt,k=I.child;if(I.tag===22&&A){var ve=I.memoizedState!==null||wg;if(!ve){var Oe=I.alternate,Qe=Oe!==null&&Oe.memoizedState!==null||xc;Oe=wg;var ct=xc;if(wg=ve,(xc=Qe)&&!ct)for(gt=I;gt!==null;)ve=gt,Qe=ve.child,ve.tag===22&&ve.memoizedState!==null?MA(I):Qe!==null?(Qe.return=ve,gt=Qe):MA(I);for(;k!==null;)gt=k,SA(k),k=k.sibling;gt=I,wg=Oe,xc=ct}wA(h)}else I.subtreeFlags&8772&&k!==null?(k.return=I,gt=k):wA(h)}}function wA(h){for(;gt!==null;){var m=gt;if(m.flags&8772){var w=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:xc||uh(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!xc)if(w===null)A.componentDidMount();else{var I=m.elementType===m.type?w.memoizedProps:dn(m.type,w.memoizedProps);A.componentDidUpdate(I,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var k=m.updateQueue;k!==null&&vT(m,k,A);break;case 3:var ve=m.updateQueue;if(ve!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=ee(m.child.stateNode);break;case 1:w=m.child.stateNode}vT(m,ve,w)}break;case 5:var Oe=m.stateNode;w===null&&m.flags&4&&Se(Oe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(ge&&m.memoizedState===null){var Qe=m.alternate;if(Qe!==null){var ct=Qe.memoizedState;if(ct!==null){var Tt=ct.dehydrated;Tt!==null&&et(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}xc||m.flags&512&&sb(m)}catch(Yt){Qi(m,m.return,Yt)}}if(m===h){gt=null;break}if(w=m.sibling,w!==null){w.return=m.return,gt=w;break}gt=m.return}}function EA(h){for(;gt!==null;){var m=gt;if(m===h){gt=null;break}var w=m.sibling;if(w!==null){w.return=m.return,gt=w;break}gt=m.return}}function MA(h){for(;gt!==null;){var m=gt;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{uh(4,m)}catch(Qe){Qi(m,w,Qe)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var I=m.return;try{A.componentDidMount()}catch(Qe){Qi(m,I,Qe)}}var k=m.return;try{sb(m)}catch(Qe){Qi(m,k,Qe)}break;case 5:var ve=m.return;try{sb(m)}catch(Qe){Qi(m,ve,Qe)}}}catch(Qe){Qi(m,m.return,Qe)}if(m===h){gt=null;break}var Oe=m.sibling;if(Oe!==null){Oe.return=m.return,gt=Oe;break}gt=m.return}}var Tg=0,Ag=1,Cg=2,Rg=3,Pg=4;if(typeof Symbol=="function"&&Symbol.for){var fh=Symbol.for;Tg=fh("selector.component"),Ag=fh("selector.has_pseudo_class"),Cg=fh("selector.role"),Rg=fh("selector.test_id"),Pg=fh("selector.text")}function ub(h){var m=Me(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(s(364));return m}if(h=Ne(h),h===null)throw Error(s(362));return h.stateNode.current}function fb(h,m){switch(m.$$typeof){case Tg:if(h.type===m.value)return!0;break;case Ag:e:{m=m.value,h=[h,0];for(var w=0;w<h.length;){var A=h[w++],I=h[w++],k=m[I];if(A.tag!==5||!N(A)){for(;k!=null&&fb(A,k);)I++,k=m[I];if(I===m.length){m=!0;break e}else for(A=A.child;A!==null;)h.push(A,I),A=A.sibling}}m=!1}return m;case Cg:if(h.tag===5&&oe(h.stateNode,m.value))return!0;break;case Pg:if((h.tag===5||h.tag===6)&&(h=J(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case Rg:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function db(h){switch(h.$$typeof){case Tg:return"<"+(T(h.value)||"Unknown")+">";case Ag:return":has("+(db(h)||"")+")";case Cg:return'[role="'+h.value+'"]';case Pg:return'"'+h.value+'"';case Rg:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function TA(h,m){var w=[];h=[h,0];for(var A=0;A<h.length;){var I=h[A++],k=h[A++],ve=m[k];if(I.tag!==5||!N(I)){for(;ve!=null&&fb(I,ve);)k++,ve=m[k];if(k===m.length)w.push(I);else for(I=I.child;I!==null;)h.push(I,k),I=I.sibling}}return w}function hb(h,m){if(!He)throw Error(s(363));h=ub(h),h=TA(h,m),m=[],h=Array.from(h);for(var w=0;w<h.length;){var A=h[w++];if(A.tag===5)N(A)||m.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return m}var rB=Math.ceil,Ig=l.ReactCurrentDispatcher,pb=l.ReactCurrentOwner,Or=l.ReactCurrentBatchConfig,un=0,Gr=null,Hr=null,di=0,xo=0,Vu=zt(0),Yr=0,dh=null,Wu=0,Lg=0,mb=0,hh=null,Ji=null,gb=0,vb=1/0;function ju(){vb=le()+500}var kg=!1,yb=null,fl=null,Ng=!1,dl=null,Og=0,ph=0,xb=null,Fg=-1,Dg=0;function zi(){return un&6?le():Fg!==-1?Fg:Fg=le()}function hl(h){return h.mode&1?un&2&&di!==0?di&-di:Bn.transition!==null?(Dg===0&&(h=fs,fs<<=1,!(fs&4194240)&&(fs=64),Dg=h),Dg):(h=sn,h!==0?h:Re()):1}function Vo(h,m,w){if(50<ph)throw ph=0,xb=null,Error(s(185));var A=Ug(h,m);return A===null?null:(Do(A,m,w),(!(un&2)||A!==Gr)&&(A===Gr&&(!(un&2)&&(Lg|=m),Yr===4&&pl(A,di)),Zi(A,w),m===1&&un===0&&!(h.mode&1)&&(ju(),an&&wn())),A)}function Ug(h,m){h.lanes|=m;var w=h.alternate;for(w!==null&&(w.lanes|=m),w=h,h=h.return;h!==null;)h.childLanes|=m,w=h.alternate,w!==null&&(w.childLanes|=m),w=h,h=h.return;return w.tag===3?w.stateNode:null}function Zi(h,m){var w=h.callbackNode;pc(h,m);var A=Ea(h,h===Gr?di:0);if(A===0)w!==null&&cl(w),h.callbackNode=null,h.callbackPriority=0;else if(m=A&-A,h.callbackPriority!==m){if(w!=null&&cl(w),m===1)h.tag===0?Mn(CA.bind(null,h)):kr(CA.bind(null,h)),ke?je(function(){un===0&&wn()}):ms(Q,wn),w=null;else{switch(mc(A)){case 1:w=Q;break;case 4:w=ne;break;case 16:w=Ce;break;case 536870912:w=Fe;break;default:w=Ce}w=DA(w,AA.bind(null,h))}h.callbackPriority=m,h.callbackNode=w}}function AA(h,m){if(Fg=-1,Dg=0,un&6)throw Error(s(327));var w=h.callbackNode;if(wc()&&h.callbackNode!==w)return null;var A=Ea(h,h===Gr?di:0);if(A===0)return null;if(A&30||A&h.expiredLanes||m)m=Bg(h,A);else{m=A;var I=un;un|=2;var k=IA();(Gr!==h||di!==m)&&(ju(),_c(h,m));do try{sB();break}catch(Oe){PA(h,Oe)}while(1);Xr(),Ig.current=k,un=I,Hr!==null?m=0:(Gr=null,di=0,m=Yr)}if(m!==0){if(m===2&&(I=ps(h),I!==0&&(A=I,m=bb(h,I))),m===1)throw w=dh,_c(h,0),pl(h,A),Zi(h,le()),w;if(m===6)pl(h,A);else{if(I=h.current.alternate,!(A&30)&&!iB(I)&&(m=Bg(h,A),m===2&&(k=ps(h),k!==0&&(A=k,m=bb(h,k))),m===1))throw w=dh,_c(h,0),pl(h,A),Zi(h,le()),w;switch(h.finishedWork=I,h.finishedLanes=A,m){case 0:case 1:throw Error(s(345));case 2:Sc(h,Ji);break;case 3:if(pl(h,A),(A&130023424)===A&&(m=gb+500-le(),10<m)){if(Ea(h,0)!==0)break;if(I=h.suspendedLanes,(I&A)!==A){zi(),h.pingedLanes|=h.suspendedLanes&I;break}h.timeoutHandle=fe(Sc.bind(null,h,Ji),m);break}Sc(h,Ji);break;case 4:if(pl(h,A),(A&4194240)===A)break;for(m=h.eventTimes,I=-1;0<A;){var ve=31-zr(A);k=1<<ve,ve=m[ve],ve>I&&(I=ve),A&=~k}if(A=I,A=le()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*rB(A/1960))-A,10<A){h.timeoutHandle=fe(Sc.bind(null,h,Ji),A);break}Sc(h,Ji);break;case 5:Sc(h,Ji);break;default:throw Error(s(329))}}}return Zi(h,le()),h.callbackNode===w?AA.bind(null,h):null}function bb(h,m){var w=hh;return h.current.memoizedState.isDehydrated&&(_c(h,m).flags|=256),h=Bg(h,m),h!==2&&(m=Ji,Ji=w,m!==null&&_b(m)),h}function _b(h){Ji===null?Ji=h:Ji.push.apply(Ji,h)}function iB(h){for(var m=h;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var I=w[A],k=I.getSnapshot;I=I.value;try{if(!ht(k(),I))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function pl(h,m){for(m&=~mb,m&=~Lg,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var w=31-zr(m),A=1<<w;h[w]=-1,m&=~A}}function CA(h){if(un&6)throw Error(s(327));wc();var m=Ea(h,0);if(!(m&1))return Zi(h,le()),null;var w=Bg(h,m);if(h.tag!==0&&w===2){var A=ps(h);A!==0&&(m=A,w=bb(h,A))}if(w===1)throw w=dh,_c(h,0),pl(h,m),Zi(h,le()),w;if(w===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Sc(h,Ji),Zi(h,le()),null}function RA(h){dl!==null&&dl.tag===0&&!(un&6)&&wc();var m=un;un|=1;var w=Or.transition,A=sn;try{if(Or.transition=null,sn=1,h)return h()}finally{sn=A,Or.transition=w,un=m,!(un&6)&&wn()}}function Sb(){xo=Vu.current,Sn(Vu)}function _c(h,m){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==xe&&(h.timeoutHandle=xe,pe(w)),Hr!==null)for(w=Hr.return;w!==null;){var A=w;switch(Bx(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Di();break;case 3:Gu(),Sn(Nn),Sn(Xn),$x();break;case 5:Wx(A);break;case 4:Gu();break;case 13:Sn(gr);break;case 19:Sn(gr);break;case 10:bi(A.type._context);break;case 22:case 23:Sb()}w=w.return}if(Gr=h,Hr=h=ml(h.current,null),di=xo=m,Yr=0,dh=null,mb=Lg=Wu=0,Ji=hh=null,qr!==null){for(m=0;m<qr.length;m++)if(w=qr[m],A=w.interleaved,A!==null){w.interleaved=null;var I=A.next,k=w.pending;if(k!==null){var ve=k.next;k.next=I,A.next=ve}w.pending=A}qr=null}return h}function PA(h,m){do{var w=Hr;try{if(Xr(),fg.current=vg,dg){for(var A=Mr.memoizedState;A!==null;){var I=A.queue;I!==null&&(I.pending=null),A=A.next}dg=!1}if(Hu=0,oi=_i=Mr=null,rh=!1,ih=0,pb.current=null,w===null||w.return===null){Yr=1,dh=m,Hr=null;break}e:{var k=h,ve=w.return,Oe=w,Qe=m;if(m=di,Oe.flags|=32768,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var ct=Qe,Tt=Oe,Yt=Tt.tag;if(!(Tt.mode&1)&&(Yt===0||Yt===11||Yt===15)){var Ut=Tt.alternate;Ut?(Tt.updateQueue=Ut.updateQueue,Tt.memoizedState=Ut.memoizedState,Tt.lanes=Ut.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Jn=JT(ve);if(Jn!==null){Jn.flags&=-257,ZT(Jn,ve,Oe,k,m),Jn.mode&1&&KT(k,ct,m),m=Jn,Qe=ct;var It=m.updateQueue;if(It===null){var Ei=new Set;Ei.add(Qe),m.updateQueue=Ei}else It.add(Qe);break e}else{if(!(m&1)){KT(k,ct,m),wb();break e}Qe=Error(s(426))}}else if(cr&&Oe.mode&1){var jo=JT(ve);if(jo!==null){!(jo.flags&65536)&&(jo.flags|=256),ZT(jo,ve,Oe,k,m),Hx(Qe);break e}}k=Qe,Yr!==4&&(Yr=2),hh===null?hh=[k]:hh.push(k),Qe=Qx(Qe,Oe),Oe=ve;do{switch(Oe.tag){case 3:Oe.flags|=65536,m&=-m,Oe.lanes|=m;var Xe=qT(Oe,Qe,m);gT(Oe,Xe);break e;case 1:k=Qe;var ze=Oe.type,Je=Oe.stateNode;if(!(Oe.flags&128)&&(typeof ze.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&(fl===null||!fl.has(Je)))){Oe.flags|=65536,m&=-m,Oe.lanes|=m;var bt=YT(Oe,k,m);gT(Oe,bt);break e}}Oe=Oe.return}while(Oe!==null)}kA(w)}catch(Rt){m=Rt,Hr===w&&w!==null&&(Hr=w=w.return);continue}break}while(1)}function IA(){var h=Ig.current;return Ig.current=vg,h===null?vg:h}function wb(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),Gr===null||!(Wu&268435455)&&!(Lg&268435455)||pl(Gr,di)}function Bg(h,m){var w=un;un|=2;var A=IA();Gr===h&&di===m||_c(h,m);do try{oB();break}catch(I){PA(h,I)}while(1);if(Xr(),un=w,Ig.current=A,Hr!==null)throw Error(s(261));return Gr=null,di=0,Yr}function oB(){for(;Hr!==null;)LA(Hr)}function sB(){for(;Hr!==null&&!U();)LA(Hr)}function LA(h){var m=FA(h.alternate,h,xo);h.memoizedProps=h.pendingProps,m===null?kA(h):Hr=m,pb.current=null}function kA(h){var m=h;do{var w=m.alternate;if(h=m.return,m.flags&32768){if(w=Z5(w,m),w!==null){w.flags&=32767,Hr=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Yr=6,Hr=null;return}}else if(w=Y5(w,m,xo),w!==null){Hr=w;return}if(m=m.sibling,m!==null){Hr=m;return}Hr=m=h}while(m!==null);Yr===0&&(Yr=5)}function Sc(h,m){var w=sn,A=Or.transition;try{Or.transition=null,sn=1,aB(h,m,w)}finally{Or.transition=A,sn=w}return null}function aB(h,m,w){do wc();while(dl!==null);if(un&6)throw Error(s(327));var A=h.finishedWork,I=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(s(177));h.callbackNode=null,h.callbackPriority=0;var k=A.lanes|A.childLanes;if(js(h,k),h===Gr&&(Hr=Gr=null,di=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Ng||(Ng=!0,DA(Ce,function(){return wc(),null})),k=(A.flags&15990)!==0,A.subtreeFlags&15990||k){k=Or.transition,Or.transition=null;var ve=sn;sn=1;var Oe=un;un|=4,pb.current=null,eB(h,A),tB(h,A),H(h.containerInfo),h.current=A,nB(A),Z(),un=Oe,sn=ve,Or.transition=k}else h.current=A;if(Ng&&(Ng=!1,dl=h,Og=I),k=h.pendingLanes,k===0&&(fl=null),ot(A.stateNode),Zi(h,le()),m!==null)for(w=h.onRecoverableError,A=0;A<m.length;A++)w(m[A]);if(kg)throw kg=!1,h=yb,yb=null,h;return Og&1&&h.tag!==0&&wc(),k=h.pendingLanes,k&1?h===xb?ph++:(ph=0,xb=h):ph=0,wn(),null}function wc(){if(dl!==null){var h=mc(Og),m=Or.transition,w=sn;try{if(Or.transition=null,sn=16>h?16:h,dl===null)var A=!1;else{if(h=dl,dl=null,Og=0,un&6)throw Error(s(331));var I=un;for(un|=4,gt=h.current;gt!==null;){var k=gt,ve=k.child;if(gt.flags&16){var Oe=k.deletions;if(Oe!==null){for(var Qe=0;Qe<Oe.length;Qe++){var ct=Oe[Qe];for(gt=ct;gt!==null;){var Tt=gt;switch(Tt.tag){case 0:case 11:case 15:bc(8,Tt,k)}var Yt=Tt.child;if(Yt!==null)Yt.return=Tt,gt=Yt;else for(;gt!==null;){Tt=gt;var Ut=Tt.sibling,Jn=Tt.return;if(vA(Tt),Tt===ct){gt=null;break}if(Ut!==null){Ut.return=Jn,gt=Ut;break}gt=Jn}}}var It=k.alternate;if(It!==null){var Ei=It.child;if(Ei!==null){It.child=null;do{var jo=Ei.sibling;Ei.sibling=null,Ei=jo}while(Ei!==null)}}gt=k}}if(k.subtreeFlags&2064&&ve!==null)ve.return=k,gt=ve;else e:for(;gt!==null;){if(k=gt,k.flags&2048)switch(k.tag){case 0:case 11:case 15:bc(9,k,k.return)}var Xe=k.sibling;if(Xe!==null){Xe.return=k.return,gt=Xe;break e}gt=k.return}}var ze=h.current;for(gt=ze;gt!==null;){ve=gt;var Je=ve.child;if(ve.subtreeFlags&2064&&Je!==null)Je.return=ve,gt=Je;else e:for(ve=ze;gt!==null;){if(Oe=gt,Oe.flags&2048)try{switch(Oe.tag){case 0:case 11:case 15:uh(9,Oe)}}catch(Rt){Qi(Oe,Oe.return,Rt)}if(Oe===ve){gt=null;break e}var bt=Oe.sibling;if(bt!==null){bt.return=Oe.return,gt=bt;break e}gt=Oe.return}}if(un=I,wn(),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(De,h)}catch{}A=!0}return A}finally{sn=w,Or.transition=m}}return!1}function NA(h,m,w){m=Qx(w,m),m=qT(h,m,1),ul(h,m),m=zi(),h=Ug(h,1),h!==null&&(Do(h,1,m),Zi(h,m))}function Qi(h,m,w){if(h.tag===3)NA(h,h,w);else for(;m!==null;){if(m.tag===3){NA(m,h,w);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(fl===null||!fl.has(A))){h=Qx(w,h),h=YT(m,h,1),ul(m,h),h=zi(),m=Ug(m,1),m!==null&&(Do(m,1,h),Zi(m,h));break}}m=m.return}}function lB(h,m,w){var A=h.pingCache;A!==null&&A.delete(m),m=zi(),h.pingedLanes|=h.suspendedLanes&w,Gr===h&&(di&w)===w&&(Yr===4||Yr===3&&(di&130023424)===di&&500>le()-gb?_c(h,0):mb|=w),Zi(h,m)}function OA(h,m){m===0&&(h.mode&1?(m=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):m=1);var w=zi();h=Ug(h,m),h!==null&&(Do(h,m,w),Zi(h,w))}function cB(h){var m=h.memoizedState,w=0;m!==null&&(w=m.retryLane),OA(h,w)}function uB(h,m){var w=0;switch(h.tag){case 13:var A=h.stateNode,I=h.memoizedState;I!==null&&(w=I.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(m),OA(h,w)}var FA;FA=function(h,m,w){if(h!==null)if(h.memoizedProps!==m.pendingProps||Nn.current)yo=!0;else{if(!(h.lanes&w)&&!(m.flags&128))return yo=!1,J5(h,m,w);yo=!!(h.flags&131072)}else yo=!1,cr&&m.flags&1048576&&ST(m,lg,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var I=Hn(m,Xn.current);Nr(m,w),I=qx(null,m,A,h,I,w);var k=Yx();return m.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,En(A)?(k=!0,Ui(m)):k=!1,m.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Ox(m),I.updater=sg,m.stateNode=I,I._reactInternals=m,Dx(m,A,h,w),m=nb(null,m,A,!0,k,w)):(m.tag=0,cr&&k&&Ux(m),Bi(null,m,I,w),m=m.child),m;case 16:A=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,I=A._init,A=I(A._payload),m.type=A,I=m.tag=dB(A),h=dn(A,h),I){case 0:m=tb(null,m,A,h,w);break e;case 1:m=sA(null,m,A,h,w);break e;case 11:m=tA(null,m,A,h,w);break e;case 14:m=nA(null,m,A,dn(A.type,h),w);break e}throw Error(s(306,A,""))}return m;case 0:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:dn(A,I),tb(h,m,A,I,w);case 1:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:dn(A,I),sA(h,m,A,I,w);case 3:e:{if(aA(m),h===null)throw Error(s(387));A=m.pendingProps,k=m.memoizedState,I=k.element,mT(h,m),og(m,A,null,w);var ve=m.memoizedState;if(A=ve.element,ge&&k.isDehydrated)if(k={element:A,isDehydrated:!1,cache:ve.cache,transitions:ve.transitions},m.updateQueue.baseState=k,m.memoizedState=k,m.flags&256){I=Error(s(423)),m=lA(h,m,A,w,I);break e}else if(A!==I){I=Error(s(424)),m=lA(h,m,A,w,I);break e}else for(ge&&(vo=bn(m.stateNode.containerInfo),go=m,cr=!0,vs=null,Zd=!1),w=CT(m,null,A,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Uu(),A===I){m=Ra(h,m,w);break e}Bi(h,m,A,w)}m=m.child}return m;case 5:return RT(m),h===null&&Gx(m),A=m.type,I=m.pendingProps,k=h!==null?h.memoizedProps:null,ve=I.children,Y(A,I)?ve=null:k!==null&&Y(A,k)&&(m.flags|=32),oA(h,m),Bi(h,m,ve,w),m.child;case 6:return h===null&&Gx(m),null;case 13:return cA(h,m,w);case 4:return Vx(m,m.stateNode.containerInfo),A=m.pendingProps,h===null?m.child=Bu(m,null,A,w):Bi(h,m,A,w),m.child;case 11:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:dn(A,I),tA(h,m,A,I,w);case 7:return Bi(h,m,m.pendingProps,w),m.child;case 8:return Bi(h,m,m.pendingProps.children,w),m.child;case 12:return Bi(h,m,m.pendingProps.children,w),m.child;case 10:e:{if(A=m.type._context,I=m.pendingProps,k=m.memoizedProps,ve=I.value,mo(m,A,ve),k!==null)if(ht(k.value,ve)){if(k.children===I.children&&!Nn.current){m=Ra(h,m,w);break e}}else for(k=m.child,k!==null&&(k.return=m);k!==null;){var Oe=k.dependencies;if(Oe!==null){ve=k.child;for(var Qe=Oe.firstContext;Qe!==null;){if(Qe.context===A){if(k.tag===1){Qe=Ma(-1,w&-w),Qe.tag=2;var ct=k.updateQueue;if(ct!==null){ct=ct.shared;var Tt=ct.pending;Tt===null?Qe.next=Qe:(Qe.next=Tt.next,Tt.next=Qe),ct.pending=Qe}}k.lanes|=w,Qe=k.alternate,Qe!==null&&(Qe.lanes|=w),or(k.return,w,m),Oe.lanes|=w;break}Qe=Qe.next}}else if(k.tag===10)ve=k.type===m.type?null:k.child;else if(k.tag===18){if(ve=k.return,ve===null)throw Error(s(341));ve.lanes|=w,Oe=ve.alternate,Oe!==null&&(Oe.lanes|=w),or(ve,w,m),ve=k.sibling}else ve=k.child;if(ve!==null)ve.return=k;else for(ve=k;ve!==null;){if(ve===m){ve=null;break}if(k=ve.sibling,k!==null){k.return=ve.return,ve=k;break}ve=ve.return}k=ve}Bi(h,m,I.children,w),m=m.child}return m;case 9:return I=m.type,A=m.pendingProps.children,Nr(m,w),I=Vn(I),A=A(I),m.flags|=1,Bi(h,m,A,w),m.child;case 14:return A=m.type,I=dn(A,m.pendingProps),I=dn(A.type,I),nA(h,m,A,I,w);case 15:return rA(h,m,m.type,m.pendingProps,w);case 17:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:dn(A,I),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,En(A)?(h=!0,Ui(m)):h=!1,Nr(m,w),bT(m,A,I),Dx(m,A,I,w),nb(null,m,A,!0,h,w);case 19:return hA(h,m,w);case 22:return iA(h,m,w)}throw Error(s(156,m.tag))};function DA(h,m){return ms(h,m)}function fB(h,m,w,A){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wo(h,m,w,A){return new fB(h,m,w,A)}function Eb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function dB(h){if(typeof h=="function")return Eb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===y)return 11;if(h===b)return 14}return 2}function ml(h,m){var w=h.alternate;return w===null?(w=Wo(h.tag,m,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=m,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,m=h.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function zg(h,m,w,A,I,k){var ve=2;if(A=h,typeof h=="function")Eb(h)&&(ve=1);else if(typeof h=="string")ve=5;else e:switch(h){case u:return Ec(w.children,I,k,m);case f:ve=8,I|=8;break;case d:return h=Wo(12,w,m,I|2),h.elementType=d,h.lanes=k,h;case x:return h=Wo(13,w,m,I),h.elementType=x,h.lanes=k,h;case v:return h=Wo(19,w,m,I),h.elementType=v,h.lanes=k,h;case S:return Gg(w,I,k,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:ve=10;break e;case g:ve=9;break e;case y:ve=11;break e;case b:ve=14;break e;case _:ve=16,A=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return m=Wo(ve,w,m,I),m.elementType=h,m.type=A,m.lanes=k,m}function Ec(h,m,w,A){return h=Wo(7,h,A,m),h.lanes=w,h}function Gg(h,m,w,A){return h=Wo(22,h,A,m),h.elementType=S,h.lanes=w,h.stateNode={},h}function Mb(h,m,w){return h=Wo(6,h,null,m),h.lanes=w,h}function Tb(h,m,w){return m=Wo(4,h.children!==null?h.children:[],h.key,m),m.lanes=w,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function hB(h,m,w,A,I){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=A,this.onRecoverableError=I,ge&&(this.mutableSourceEagerHydrationData=null)}function UA(h,m,w,A,I,k,ve,Oe,Qe){return h=new hB(h,m,w,Oe,Qe),m===1?(m=1,k===!0&&(m|=8)):m=0,k=Wo(3,null,null,m),h.current=k,k.stateNode=h,k.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},Ox(k),h}function BA(h){if(!h)return Lr;h=h._reactInternals;e:{if(C(h)!==h||h.tag!==1)throw Error(s(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(En(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(s(171))}if(h.tag===1){var w=h.type;if(En(w))return po(h,w,m)}return m}function zA(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=G(m),h===null?null:h.stateNode}function GA(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<m?w:m}}function Ab(h,m){GA(h,m),(h=h.alternate)&&GA(h,m)}function pB(h){return h=G(h),h===null?null:h.stateNode}function mB(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var m=zi();Vo(h,134217728,m),Ab(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=zi(),w=hl(h);Vo(h,w,m),Ab(h,w)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var w=hs(m.pendingLanes);w!==0&&(Uo(m,w|1),Zi(m,le()),!(un&6)&&(ju(),wn()))}break;case 13:var A=zi();RA(function(){return Vo(h,1,A)}),Ab(h,1)}},n.batchedUpdates=function(h,m){var w=un;un|=1;try{return h(m)}finally{un=w,un===0&&(ju(),an&&wn())}},n.createComponentSelector=function(h){return{$$typeof:Tg,value:h}},n.createContainer=function(h,m,w,A,I,k,ve){return UA(h,m,!1,null,w,A,I,k,ve)},n.createHasPseudoClassSelector=function(h){return{$$typeof:Ag,value:h}},n.createHydrationContainer=function(h,m,w,A,I,k,ve,Oe,Qe){return h=UA(w,A,!0,h,I,k,ve,Oe,Qe),h.context=BA(null),w=h.current,A=zi(),I=hl(w),k=Ma(A,I),k.callback=m??null,ul(w,k),h.current.lanes=I,Do(h,I,A),Zi(h,A),h},n.createPortal=function(h,m,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:h,containerInfo:m,implementation:w}},n.createRoleSelector=function(h){return{$$typeof:Cg,value:h}},n.createTestNameSelector=function(h){return{$$typeof:Rg,value:h}},n.createTextSelector=function(h){return{$$typeof:Pg,value:h}},n.deferredUpdates=function(h){var m=sn,w=Or.transition;try{return Or.transition=null,sn=16,h()}finally{sn=m,Or.transition=w}},n.discreteUpdates=function(h,m,w,A,I){var k=sn,ve=Or.transition;try{return Or.transition=null,sn=1,h(m,w,A,I)}finally{sn=k,Or.transition=ve,un===0&&ju()}},n.findAllNodes=hb,n.findBoundingRects=function(h,m){if(!He)throw Error(s(363));m=hb(h,m),h=[];for(var w=0;w<m.length;w++)h.push(Ke(m[w]));for(m=h.length-1;0<m;m--){w=h[m];for(var A=w.x,I=A+w.width,k=w.y,ve=k+w.height,Oe=m-1;0<=Oe;Oe--)if(m!==Oe){var Qe=h[Oe],ct=Qe.x,Tt=ct+Qe.width,Yt=Qe.y,Ut=Yt+Qe.height;if(A>=ct&&k>=Yt&&I<=Tt&&ve<=Ut){h.splice(m,1);break}else if(A!==ct||w.width!==Qe.width||Ut<k||Yt>ve){if(!(k!==Yt||w.height!==Qe.height||Tt<A||ct>I)){ct>A&&(Qe.width+=ct-A,Qe.x=A),Tt<I&&(Qe.width=I-ct),h.splice(m,1);break}}else{Yt>k&&(Qe.height+=Yt-k,Qe.y=k),Ut<ve&&(Qe.height=ve-Yt),h.splice(m,1);break}}}return h},n.findHostInstance=zA,n.findHostInstanceWithNoPortals=function(h){return h=F(h),h=h!==null?B(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return zA(h)},n.flushControlled=function(h){var m=un;un|=1;var w=Or.transition,A=sn;try{Or.transition=null,sn=1,h()}finally{sn=A,Or.transition=w,un=m,un===0&&(ju(),wn())}},n.flushPassiveEffects=wc,n.flushSync=RA,n.focusWithin=function(h,m){if(!He)throw Error(s(363));for(h=ub(h),m=TA(h,m),m=Array.from(m),h=0;h<m.length;){var w=m[h++];if(!N(w)){if(w.tag===5&&Le(w.stateNode))return!0;for(w=w.child;w!==null;)m.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return sn},n.getFindAllNodesFailureDescription=function(h,m){if(!He)throw Error(s(363));var w=0,A=[];h=[ub(h),0];for(var I=0;I<h.length;){var k=h[I++],ve=h[I++],Oe=m[ve];if((k.tag!==5||!N(k))&&(fb(k,Oe)&&(A.push(db(Oe)),ve++,ve>w&&(w=ve)),ve<m.length))for(k=k.child;k!==null;)h.push(k,ve),k=k.sibling}if(w<m.length){for(h=[];w<m.length;w++)h.push(db(m[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return ee(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:pB,findFiberByHostInstance:h.findFiberByHostInstance||mB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{De=m.inject(h),Pe=m}catch{}h=!!m.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,m,w,A){if(!He)throw Error(s(363));h=hb(h,m);var I=Te(h,w,A).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(h,m){var w=m._getVersion;w=w(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,w]:h.mutableSourceEagerHydrationData.push(m,w)},n.runWithPriority=function(h,m){var w=sn;try{return sn=h,m()}finally{sn=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,m,w,A){var I=m.current,k=zi(),ve=hl(I);return w=BA(w),m.context===null?m.context=w:m.pendingContext=w,m=Ma(k,ve),m.payload={element:h},A=A===void 0?null:A,A!==null&&(m.callback=A),ul(I,m),h=Vo(I,ve,k),h!==null&&ig(h,I,ve),ve},n};O4.exports=Gae;var Hae=O4.exports;const Vae=Ld(Hae);var F4={exports:{}},D4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var H=O.length;O.push(D);e:for(;0<H;){var $=H-1>>>1,W=O[$];if(0<i(W,D))O[$]=D,O[H]=W,H=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],H=O.pop();if(H!==D){O[0]=H;e:for(var $=0,W=O.length,ie=W>>>1;$<ie;){var j=2*($+1)-1,Y=O[j],K=j+1,fe=O[K];if(0>i(Y,H))K<W&&0>i(fe,Y)?(O[$]=fe,O[K]=H,$=K):(O[$]=Y,O[j]=H,$=j);else if(K<W&&0>i(fe,H))O[$]=fe,O[K]=H,$=K;else break e}}return D}function i(O,D){var H=O.sortIndex-D.sortIndex;return H!==0?H:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,f=null,d=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=O)r(c),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(c)}}function S(O){if(y=!1,_(O),!g)if(n(a)!==null)g=!0,ee(E);else{var D=n(c);D!==null&&te(S,D.startTime-O)}}function E(O,D){g=!1,y&&(y=!1,v(R),R=-1),p=!0;var H=d;try{for(_(D),f=n(a);f!==null&&(!(f.expirationTime>D)||O&&!F());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var W=$(f.expirationTime<=D);D=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(a)&&r(a),_(D)}else r(a);f=n(a)}if(f!==null)var ie=!0;else{var j=n(c);j!==null&&te(S,j.startTime-D),ie=!1}return ie}finally{f=null,d=H,p=!1}}var M=!1,T=null,R=-1,C=5,P=-1;function F(){return!(t.unstable_now()-P<C)}function G(){if(T!==null){var O=t.unstable_now();P=O;var D=!0;try{D=T(!0,O)}finally{D?V():(M=!1,T=null)}}else M=!1}var V;if(typeof b=="function")V=function(){b(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=G,V=function(){X.postMessage(null)}}else V=function(){x(G,0)};function ee(O){T=O,M||(M=!0,V())}function te(O,D){R=x(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ee(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var H=d;d=D;try{return O()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=d;d=O;try{return D()}finally{d=H}},t.unstable_scheduleCallback=function(O,D,H){var $=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?$+H:$):H=$,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,O={id:u++,callback:D,priorityLevel:O,startTime:H,expirationTime:W,sortIndex:-1},H>$?(O.sortIndex=H,e(c,O),n(a)===null&&O===n(c)&&(y?(v(R),R=-1):y=!0,te(S,H-$))):(O.sortIndex=W,e(a,O),g||p||(g=!0,ee(E))),O},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(O){var D=d;return function(){var H=d;d=D;try{return O.apply(this,arguments)}finally{d=H}}}})(D4);F4.exports=D4;var TI=F4.exports;const Wae=t=>typeof t=="object"&&typeof t.then=="function",Q0=[];function jae(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function $ae(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of Q0)if(jae(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=Q0.indexOf(i);o!==-1&&Q0.splice(o,1)},promise:(Wae(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(Q0.push(i),!n)throw i.promise}const Xae=(t,e,n)=>$ae(t,e,!1,n),eT={},U4=t=>void Object.assign(eT,t);function qae(t,e){function n(u,{args:f=[],attach:d,...p},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;x=Pf(v,{type:u,root:g,attach:d,primitive:!0})}else{const v=eT[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=Pf(new v(...f),{type:u,root:g,attach:d,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x instanceof nn?x.__r3f.attach="geometry":x instanceof xi&&(x.__r3f.attach="material")),y!=="inject"&&tS(x,p),x}function r(u,f){let d=!1;if(f){var p,g;(p=f.__r3f)!=null&&p.attach?eS(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Pf(f,{}),f.__r3f.parent=u,bE(f),If(f)}}function i(u,f,d){let p=!1;if(f){var g,y;if((g=f.__r3f)!=null&&g.attach)eS(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const x=u.children.filter(b=>b!==f),v=x.indexOf(d);u.children=[...x.slice(0,v),f,...x.slice(v)],p=!0}p||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Pf(f,{}),f.__r3f.parent=u,bE(f),If(f)}}function o(u,f,d=!1){u&&[...u].forEach(p=>s(f,p,d))}function s(u,f,d){if(f){var p,g,y;if(f.__r3f&&(f.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==f)),(g=f.__r3f)!=null&&g.attach)II(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var x;u.remove(f),(x=f.__r3f)!=null&&x.root&&tle(f.__r3f.root,f)}const b=(y=f.__r3f)==null?void 0:y.primitive,_=d===void 0?f.dispose!==null&&!b:d;if(!b){var v;o((v=f.__r3f)==null?void 0:v.objects,f,_),o(f.children,f,_)}delete f.__r3f,_&&f.dispose&&f.type!=="Scene"&&TI.unstable_scheduleCallback(TI.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),If(u)}}function l(u,f,d,p){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const x=n(f,d,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(x,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(x,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||s(y,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const a=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Vae({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&s(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const p=u.getState().scene;p.__r3f&&i(p,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const{args:g=[],children:y,...x}=p,{args:v=[],children:b,..._}=d;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((E,M)=>E!==v[M]))return[!0];const S=j4(u,x,_,!0);return S.changes.length?[!1,S]:null}},commitUpdate(u,[f,d],p,g,y,x){f?l(u,p,y,x):tS(u,d)},commitMount(u,f,d,p){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Pf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:p}=(f=u.__r3f)!=null?f:{};d&&p&&II(p,u,d),u.isObject3D&&(u.visible=!1),If(u)},unhideInstance(u,f){var d;const{attach:p,parent:g}=(d=u.__r3f)!=null?d:{};p&&g&&eS(g,u,p),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),If(u)},createTextInstance:a,hideTextInstance:a,unhideTextInstance:a,getCurrentEventPriority:()=>e?e():Qf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fr.fun(performance.now)?performance.now:fr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:tS}}var AI,CI;const Q_=t=>"colorSpace"in t||"outputColorSpace"in t,B4=()=>{var t;return(t=eT.ColorManagement)!=null?t:null},z4=t=>t&&t.isOrthographicCamera,Yae=t=>t&&t.hasOwnProperty("current"),ng=typeof window<"u"&&((AI=window.document)!=null&&AI.createElement||((CI=window.navigator)==null?void 0:CI.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function G4(t){const e=L.useRef(t);return ng(()=>void(e.current=t),[t]),e}function Kae({set:t}){return ng(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class H4 extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}H4.getDerivedStateFromError=()=>({error:!0});const V4="__default",RI=new Map,Jae=t=>t&&!!t.memoized&&!!t.changes;function W4(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Hh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},fr={obj:t=>t===Object(t)&&!fr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(fr.str(t)||fr.num(t))return t===e;const o=fr.obj(t);if(o&&r==="reference")return t===e;const s=fr.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(l in i?e:t)if(!fr.equ(t[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:t)if(t[l]!==e[l])return!1;if(fr.und(l)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Zae(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Pf(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function xE(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const PI=/-\d+$/;function eS(t,e,n){if(fr.str(n)){if(PI.test(n)){const o=n.replace(PI,""),{target:s,key:l}=xE(t,o);Array.isArray(s[l])||(s[l]=[])}const{target:r,key:i}=xE(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function II(t,e,n){var r,i;if(fr.str(n)){const{target:o,key:s}=xE(t,n),l=e.__r3f.previousAttach;l===void 0?delete o[s]:o[s]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function j4(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:l,...a}={},c=!1){var u;const f=(u=t==null?void 0:t.__r3f)!=null?u:{},d=Object.entries(i),p=[];if(c){const y=Object.keys(a);for(let x=0;x<y.length;x++)i.hasOwnProperty(y[x])||d.unshift([y[x],V4+"remove"])}d.forEach(([y,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&y==="object"||fr.equ(x,a[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,x,!0,[]]);let b=[];y.includes("-")&&(b=y.split("-")),p.push([y,x,!1,b]);for(const _ in i){const S=i[_];_.startsWith(`${y}-`)&&p.push([_,S,!1,_.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function tS(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},s=o.root,l=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:c}=Jae(e)?e:j4(t,e),u=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<c.length;d++){let[p,g,y,x]=c[d];if(Q_(t)){const S="srgb",E="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?S:E):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?S:E)}let v=t,b=v[p];if(x.length&&(b=x.reduce((_,S)=>_[S],t),!(b&&b.set))){const[_,...S]=x.reverse();v=S.reverse().reduce((E,M)=>E[M],t),p=_}if(g===V4+"remove")if(v.constructor){let _=RI.get(v.constructor);_||(_=new v.constructor,RI.set(v.constructor,_)),g=_[p]}else g=0;if(y)g?o.handlers[p]=g:delete o.handlers[p],o.eventCount=Object.keys(o.handlers).length;else if(b&&b.set&&(b.copy||b instanceof lu)){if(Array.isArray(g))b.fromArray?b.fromArray(g):b.set(...g);else if(b.copy&&g&&g.constructor&&b.constructor===g.constructor)b.copy(g);else if(g!==void 0){const _=b instanceof yt;!_&&b.setScalar?b.setScalar(g):b instanceof lu&&g instanceof lu?b.mask=g.mask:b.set(g),!B4()&&!l.linear&&_&&b.convertSRGBToLinear()}}else if(v[p]=g,v[p]instanceof Sr&&v[p].format===io&&v[p].type===pa){const _=v[p];Q_(_)&&Q_(l.gl)?_.colorSpace=l.gl.outputColorSpace:_.encoding=l.gl.outputEncoding}If(t)}if(o.parent&&l.internal&&t.raycast&&u!==o.eventCount){const d=l.internal.interaction.indexOf(t);d>-1&&l.internal.interaction.splice(d,1),o.eventCount&&l.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&bE(t),t}function If(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function bE(t){t.onUpdate==null||t.onUpdate(t)}function Qae(t,e){t.manual||(z4(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ev(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ele(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Qf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qf.ContinuousEventPriority;default:return Qf.DefaultEventPriority}}function $4(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function tle(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{$4(n.capturedMap,e,r,i)})}function nle(t){function e(a){const{internal:c}=t.getState(),u=a.offsetX-c.initialClick[0],f=a.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(a){return a.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(a,c){const u=t.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<p.length;v++){const b=Hh(p[v]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(a,u);function g(v){const b=Hh(v);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var _;b.events.compute==null||b.events.compute(a,b,(_=b.previousRoot)==null?void 0:_.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(v,!0):[]}let y=p.flatMap(g).sort((v,b)=>{const _=Hh(v.object),S=Hh(b.object);return!_||!S?v.distance-b.distance:S.events.priority-_.events.priority||v.distance-b.distance}).filter(v=>{const b=ev(v);return f.has(b)?!1:(f.add(b),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let b=v.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&d.push({...v,eventObject:b}),b=b.parent}}if("pointerId"in a&&u.internal.capturedMap.has(a.pointerId))for(let v of u.internal.capturedMap.get(a.pointerId).values())f.has(ev(v.intersection))||d.push(v.intersection);return d}function i(a,c,u,f){const d=t.getState();if(a.length){const p={stopped:!1};for(const g of a){const y=Hh(g.object)||d,{raycaster:x,pointer:v,camera:b,internal:_}=y,S=new ce(v.x,v.y,0).unproject(b),E=P=>{var F,G;return(F=(G=_.capturedMap.get(P))==null?void 0:G.has(g.eventObject))!=null?F:!1},M=P=>{const F={intersection:g,target:c.target};_.capturedMap.has(P)?_.capturedMap.get(P).set(g.eventObject,F):_.capturedMap.set(P,new Map([[g.eventObject,F]])),c.target.setPointerCapture(P)},T=P=>{const F=_.capturedMap.get(P);F&&$4(_.capturedMap,g.eventObject,F,P)};let R={};for(let P in c){let F=c[P];typeof F!="function"&&(R[P]=F)}let C={...g,...R,pointer:v,intersections:a,stopped:p.stopped,delta:u,unprojectedPoint:S,ray:x.ray,camera:b,stopPropagation(){const P="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!P||P.has(g.eventObject))&&(C.stopped=p.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(F=>F.eventObject===g.eventObject))){const F=a.slice(0,a.indexOf(g));o([...F,g])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},nativeEvent:c};if(f(C),p.stopped===!0)break}}return a}function o(a){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!a.length||!a.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(ev(u)),d!=null&&d.eventCount){const g={...u,intersections:a};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function s(a,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(a)}}function l(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const p=a==="onPointerMove",g=a==="onClick"||a==="onContextMenu"||a==="onDoubleClick",x=r(u,p?n:void 0),v=g?e(u):0;a==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=x.map(_=>_.eventObject)),g&&!x.length&&v<=2&&(s(u,d.interaction),f&&f(u)),p&&o(x);function b(_){const S=_.eventObject,E=S.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(p){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const T=ev(_),R=d.hovered.get(T);R?R.stopped&&_.stopPropagation():(d.hovered.set(T,_),M.onPointerOver==null||M.onPointerOver(_),M.onPointerEnter==null||M.onPointerEnter(_))}M.onPointerMove==null||M.onPointerMove(_)}else{const T=M[a];T?(!g||d.initialHits.includes(S))&&(s(u,d.interaction.filter(R=>!d.initialHits.includes(R))),T(_)):g&&d.initialHits.includes(S)&&s(u,d.interaction.filter(R=>!d.initialHits.includes(R)))}}i(x,u,v,b)}}return{handlePointer:l}}const X4=t=>!!(t!=null&&t.render),q4=L.createContext(null),rle=(t,e)=>{const n=Uae((l,a)=>{const c=new ce,u=new ce,f=new ce;function d(v=a().camera,b=u,_=a().size){const{width:S,height:E,top:M,left:T}=_,R=S/E;b instanceof ce?f.copy(b):f.set(...b);const C=v.getWorldPosition(c).distanceTo(f);if(z4(v))return{width:S/v.zoom,height:E/v.zoom,top:M,left:T,factor:1,distance:C,aspect:R};{const P=v.fov*Math.PI/180,F=2*Math.tan(P/2)*C,G=F*(S/E);return{width:G,height:F,top:M,left:T,factor:S/G,distance:C,aspect:R}}}let p;const g=v=>l(b=>({performance:{...b.performance,current:v}})),y=new it;return{set:l,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(a(),v),advance:(v,b)=>e(v,b,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new K2,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=a();p&&clearTimeout(p),v.performance.current!==v.performance.min&&g(v.performance.min),p=setTimeout(()=>g(a().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>l(b=>({...b,events:{...b.events,...v}})),setSize:(v,b,_,S,E)=>{const M=a().camera,T={width:v,height:b,top:S||0,left:E||0,updateStyle:_};l(R=>({size:T,viewport:{...R.viewport,...d(M,u,T)}}))},setDpr:v=>l(b=>{const _=W4(v);return{viewport:{...b.viewport,dpr:_,initialDpr:b.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const b=a().clock;b.stop(),b.elapsedTime=0,v!=="never"&&(b.start(),b.elapsedTime=0),l(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,b,_)=>{const S=a().internal;return S.priority=S.priority+(b>0?1:0),S.subscribers.push({ref:v,priority:b,store:_}),S.subscribers=S.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=a().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(b>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==v))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:l,size:a,viewport:c,gl:u,set:f}=n.getState();if(a!==i||c.dpr!==o){var d;i=a,o=c.dpr,Qae(l,a),u.setPixelRatio(c.dpr);const p=(d=a.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(a.width,a.height,p)}l!==s&&(s=l,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};let tv,ile=new Set,ole=new Set,sle=new Set;function nS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Vh(t,e){switch(t){case"before":return nS(ile,e);case"after":return nS(ole,e);case"tail":return nS(sle,e)}}let rS,iS;function oS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),rS=e.internal.subscribers,tv=0;tv<rS.length;tv++)iS=rS[tv],iS.ref.current(iS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function ale(t){let e=!1,n,r,i;function o(a){r=requestAnimationFrame(o),e=!0,n=0,Vh("before",a);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=oS(a,i))}if(Vh("after",a),n===0)return Vh("tail",a),e=!1,cancelAnimationFrame(r)}function s(a,c=1){var u;if(!a)return t.forEach(f=>s(f.store.getState()),c);(u=a.gl.xr)!=null&&u.isPresenting||!a.internal.active||a.frameloop==="never"||(a.internal.frames=Math.min(60,a.internal.frames+c),e||(e=!0,requestAnimationFrame(o)))}function l(a,c=!0,u,f){if(c&&Vh("before",a),u)oS(a,u,f);else for(const d of t.values())oS(a,d.store.getState());c&&Vh("after",a)}return{loop:o,invalidate:s,advance:l}}function Y4(){const t=L.useContext(q4);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function lle(t=n=>n,e){return Y4()(t,e)}function Hs(t,e=0){const n=Y4(),r=n.getState().internal.subscribe,i=G4(t);return ng(()=>r(i,e,n),[e,r,n]),null}const Pd=new Map,{invalidate:LI,advance:kI}=ale(Pd),{reconciler:Fy,applyProps:wf}=qae(Pd,ele),Ef={objects:"shallow",strict:!1},cle=(t,e)=>{const n=typeof t=="function"?t(e):t;return X4(n)?n:new P2({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function ule(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:o}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:o}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function fle(t){const e=Pd.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||rle(LI,kI),s=n||Fy.createContainer(o,Qf.ConcurrentRoot,null,!1,null,"",i,null);e||Pd.set(t,{fiber:s,store:o});let l,a=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:g,onCreated:y,shadows:x=!1,linear:v=!1,flat:b=!1,legacy:_=!1,orthographic:S=!1,frameloop:E="always",dpr:M=[1,2],performance:T,raycaster:R,camera:C,onPointerMissed:P}=u,F=o.getState(),G=F.gl;F.gl||F.set({gl:G=cle(f,t)});let V=F.raycaster;V||F.set({raycaster:V=new P4});const{params:B,...X}=R||{};if(fr.equ(X,V,Ef)||wf(V,{...X}),fr.equ(B,V.params,Ef)||wf(V,{params:{...V.params,...B}}),!F.camera||F.camera===c&&!fr.equ(c,C,Ef)){c=C;const $=C instanceof Gm,W=$?C:S?new Vm(0,0,0,0,.1,1e3):new ci(75,0,.1,1e3);$||(W.position.z=5,C&&wf(W,C),!F.camera&&!(C!=null&&C.rotation)&&W.lookAt(0,0,0)),F.set({camera:W})}if(!F.scene){let $;p instanceof Oy?$=p:($=new Oy,p&&wf($,p)),F.set({scene:Pf($)})}if(!F.xr){const $=(j,Y)=>{const K=o.getState();K.frameloop!=="never"&&kI(j,!0,K,Y)},W=()=>{const j=o.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?$:null),j.gl.xr.isPresenting||LI(j)},ie={connect(){const j=o.getState().gl;j.xr.addEventListener("sessionstart",W),j.xr.addEventListener("sessionend",W)},disconnect(){const j=o.getState().gl;j.xr.removeEventListener("sessionstart",W),j.xr.removeEventListener("sessionend",W)}};G.xr&&ie.connect(),F.set({xr:ie})}if(G.shadowMap){const $=G.shadowMap.enabled,W=G.shadowMap.type;if(G.shadowMap.enabled=!!x,fr.boo(x))G.shadowMap.type=_p;else if(fr.str(x)){var ee;const ie={basic:kD,percentage:sx,soft:_p,variance:Ms};G.shadowMap.type=(ee=ie[x])!=null?ee:_p}else fr.obj(x)&&Object.assign(G.shadowMap,x);($!==G.shadowMap.enabled||W!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const te=B4();te&&("enabled"in te?te.enabled=!_:"legacyMode"in te&&(te.legacyMode=_)),wf(G,{outputEncoding:v?3e3:3001,toneMapping:b?Ns:d2}),F.legacy!==_&&F.set(()=>({legacy:_})),F.linear!==v&&F.set(()=>({linear:v})),F.flat!==b&&F.set(()=>({flat:b})),f&&!fr.fun(f)&&!X4(f)&&!fr.equ(f,G,Ef)&&wf(G,f),g&&!F.events.handlers&&F.set({events:g(o)});const H=ule(t,d);return fr.equ(H,F.size,Ef)||F.setSize(H.width,H.height,H.updateStyle,H.top,H.left),M&&F.viewport.dpr!==W4(M)&&F.setDpr(M),F.frameloop!==E&&F.setFrameloop(E),F.onPointerMissed||F.set({onPointerMissed:P}),T&&!fr.equ(T,F.performance,Ef)&&F.set($=>({performance:{...$.performance,...T}})),l=y,a=!0,this},render(u){return a||this.configure(),Fy.updateContainer(L.createElement(dle,{store:o,children:u,onCreated:l,rootElement:t}),s,null,()=>{}),o},unmount(){K4(t)}}}function dle({store:t,children:e,onCreated:n,rootElement:r}){return ng(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.createElement(q4.Provider,{value:t},e)}function K4(t,e){const n=Pd.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Fy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,l,a;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(a=i.gl)!=null&&a.xr&&i.xr.disconnect(),Zae(i),Pd.delete(t),e&&e(t)}catch{}},500)})}}Fy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});function _E(t,e,n){var r,i,o,s,l;e==null&&(e=100);function a(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(a,e-u):(r=null,n||(l=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(a,e)),u&&(l=t.apply(o,i),o=i=null),l};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(l=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}_E.debounce=_E;var hle=_E;const NI=Ld(hle);function ple(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=L.useRef(!1);L.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,g]=L.useMemo(()=>{const b=()=>{if(!a.current.element)return;const{left:_,top:S,width:E,height:M,bottom:T,right:R,x:C,y:P}=a.current.element.getBoundingClientRect(),F={left:_,top:S,width:E,height:M,bottom:T,right:R,x:C,y:P};a.current.element instanceof HTMLElement&&i&&(F.height=a.current.element.offsetHeight,F.width=a.current.element.offsetWidth),Object.freeze(F),f.current&&!yle(a.current.lastBounds,F)&&l(a.current.lastBounds=F)};return[b,u?NI(b,u):b,c?NI(b,c):b]},[l,i,c,u]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null)}function x(){a.current.element&&(a.current.resizeObserver=new o(g),a.current.resizeObserver.observe(a.current.element),n&&a.current.scrollContainers&&a.current.scrollContainers.forEach(b=>b.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=b=>{!b||b===a.current.element||(y(),a.current.element=b,a.current.scrollContainers=J4(b),x())};return gle(g,!!n),mle(p),L.useEffect(()=>{y(),x()},[n,g,p]),L.useEffect(()=>y,[]),[v,s,d]}function mle(t){L.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function gle(t,e){L.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function J4(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...J4(t.parentElement)]}const vle=["x","y","top","bottom","left","right","width","height"],yle=(t,e)=>vle.every(n=>t[n]===e[n]);var xle=Object.defineProperty,ble=Object.defineProperties,_le=Object.getOwnPropertyDescriptors,OI=Object.getOwnPropertySymbols,Sle=Object.prototype.hasOwnProperty,wle=Object.prototype.propertyIsEnumerable,FI=(t,e,n)=>e in t?xle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DI=(t,e)=>{for(var n in e||(e={}))Sle.call(e,n)&&FI(t,n,e[n]);if(OI)for(var n of OI(e))wle.call(e,n)&&FI(t,n,e[n]);return t},Ele=(t,e)=>ble(t,_le(e));function Z4(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=Z4(r,e,n);if(i)return i;r=e?null:r.sibling}}function Q4(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const tT=Q4(L.createContext(null));class e5 extends L.Component{render(){return L.createElement(tT.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:UI,ReactCurrentDispatcher:BI}=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Mle(){const t=L.useContext(tT);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const r of[UI==null?void 0:UI.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=Z4(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function Tle(){var t,e;const n=Mle(),[r]=L.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==tT&&!r.has(o)&&r.set(o,(e=BI==null?void 0:BI.current)==null?void 0:e.readContext(Q4(o))),i=i.return}return r}function Ale(){const t=Tle();return L.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>L.createElement(e,null,L.createElement(n.Provider,Ele(DI({},r),{value:t.get(n)}))),e=>L.createElement(e5,DI({},e))),[t])}const sS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Cle(t){const{handlePointer:e}=nle(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(sS).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,l])=>{const[a,c]=sS[s];n.addEventListener(a,l,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[l]=sS[o];r.connected.removeEventListener(l,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const Rle=L.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=Cle,eventSource:l,eventPrefix:a,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:y,performance:x,raycaster:v,camera:b,onPointerMissed:_,onCreated:S,...E},M){L.useMemo(()=>U4(Oae),[]);const T=Ale(),[R,C]=ple({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=L.useRef(null),F=L.useRef(null);L.useImperativeHandle(M,()=>P.current);const G=G4(_),[V,B]=L.useState(!1),[X,ee]=L.useState(!1);if(V)throw V;if(X)throw X;const te=L.useRef(null);ng(()=>{const D=P.current;C.width>0&&C.height>0&&D&&(te.current||(te.current=fle(D)),te.current.configure({gl:o,events:s,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:y,performance:x,raycaster:v,camera:b,size:C,onPointerMissed:(...H)=>G.current==null?void 0:G.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(l?Yae(l)?l.current:l:F.current),a&&H.setEvents({compute:($,W)=>{const ie=$[a+"X"],j=$[a+"Y"];W.pointer.set(ie/W.size.width*2-1,-(j/W.size.height)*2+1),W.raycaster.setFromCamera(W.pointer,W.camera)}}),S==null||S(H)}}),te.current.render(L.createElement(T,null,L.createElement(H4,{set:ee},L.createElement(L.Suspense,{fallback:L.createElement(Kae,{set:B})},e)))))}),L.useEffect(()=>{const D=P.current;if(D)return()=>K4(D)},[]);const O=l?"none":"auto";return L.createElement("div",ae({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...i}},E),L.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},L.createElement("canvas",{ref:P,style:{display:"block"}},n)))}),nT=L.forwardRef(function(e,n){return L.createElement(e5,null,L.createElement(Rle,ae({},e,{ref:n})))}),t5=88,Ts=21;var Al=(t=>(t[t.C=0]="C",t[t.C_SHARP=1]="C_SHARP",t[t.D_FLAT=1]="D_FLAT",t[t.D=2]="D",t[t.D_SHARP=3]="D_SHARP",t[t.E_FLAT=3]="E_FLAT",t[t.E=4]="E",t[t.F=5]="F",t[t.F_SHARP=6]="F_SHARP",t[t.G_FLAT=6]="G_FLAT",t[t.G=7]="G",t[t.G_SHARP=8]="G_SHARP",t[t.A_FLAT=8]="A_FLAT",t[t.A=9]="A",t[t.A_SHARP=10]="A_SHARP",t[t.B_FLAT=10]="B_FLAT",t[t.B=11]="B",t))(Al||{});const Ple={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Mx={major:[0,2,4,5,7,9,11],minor:[0,2,3,5,7,8,10],ionian:[0,2,4,5,7,9,11],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],aeolian:[0,2,3,5,7,8,10],locrian:[0,1,3,5,6,8,10]},Pp=class{constructor(e){ys(this,"midiNumber");ys(this,"octave");ys(this,"keyName");ys(this,"pressed");this.midiNumber=e,this.keyName=Pp.getNoteNameFromMidiNumber(e),this.octave=Pp.getOctaveFromMidiNumber(e),this.pressed=!1}getPitchIndex(){return this.midiNumber%12}getIndexInOctave(){return this.getPitchIndex()}isWhiteKey(){switch(this.getPitchIndex()){case Al.A:case Al.B:case Al.C:case Al.D:case Al.E:case Al.F:case Al.G:return!0}return!1}};let kl=Pp;ys(kl,"getOctaveFromMidiNumber",e=>Math.floor(e/12-1)),ys(kl,"getNoteNameFromMidiNumber",e=>{const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=e%12;return n[r]+Pp.getOctaveFromMidiNumber(e).toString()}),ys(kl,"getKeyNameFromMidiNumber",e=>{const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=e%12;return n[r]});const Cs=Array.from({length:t5}).map((t,e)=>new kl(Ts+e)),Ile={},Lle=(t,e)=>{const n=Mx[e],r=Ple[t];return n.map(i=>(i+r)%12)},Uv=(t,e)=>Lle(t,e).map(r=>kl.getKeyNameFromMidiNumber(r%12));Cs.forEach(t=>{Ile[t.midiNumber]=t});var kle=Object.defineProperty,zI=Object.getOwnPropertySymbols,Nle=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,GI=(t,e,n)=>e in t?kle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fle=(t,e)=>{for(var n in e||(e={}))Nle.call(e,n)&&GI(t,n,e[n]);if(zI)for(var n of zI(e))Ole.call(e,n)&&GI(t,n,e[n]);return t},n5=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zn=(t,e,n)=>(n5(t,e,"read from private field"),n?n.call(t):e.get(t)),ta=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ko=(t,e,n,r)=>(n5(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Id=(t,e,n)=>new Promise((r,i)=>{var o=a=>{try{l(n.next(a))}catch(c){i(c)}},s=a=>{try{l(n.throw(a))}catch(c){i(c)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,s);l((n=n.apply(t,e)).next())});function r5(t,e,n){return Id(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const r=yield n.fetch(e);if(r.status!==200){console.warn("Error loading buffer. Invalid status: ",r.status,e);return}try{const i=yield r.arrayBuffer();return yield t.decodeAudioData(i)}catch(i){console.warn("Error loading buffer",i,e)}})}function Dle(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let n=0;n<t.length;n++){const r=t[n],i=e.canPlayType(`audio/${r}`);if(i==="probably"||i==="maybe")return r;if(r==="m4a"){const o=e.canPlayType("audio/aac");if(o==="probably"||o==="maybe")return r}}return null}var i5={fetch(t){return fetch(t)}};function Bv(t){const e=t.filter(n=>!!n);return e.reduce((n,r)=>{const i="output"in n?n.output:n,o="input"in r?r.input:r;return i.connect(o),r}),()=>{e.reduce((n,r)=>{const i="output"in n?n.output:n,o="input"in r?r.input:r;return i.disconnect(o),r})}}function Ule(t){const n=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!n)return;const r=n[1].toUpperCase();if(!r)return;const i=n[2],o=i[0]==="b"?-i.length:i.length,s=n[3]?+n[3]:4,l=(r.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][l]+o+12*(s+1)}function Ble(t){return t===void 0?void 0:typeof t=="number"?t:Ule(t)}function SE(t){return t*t/16129}function zle(t){let e=t;const n=new Set;function r(s){return n.add(s),s(e),()=>{n.delete(s)}}function i(s){e=s,n.forEach(l=>l(e))}function o(){return e}return{subscribe:r,set:i,get:o}}function Gle(){const t=new Set;function e(r){return t.add(r),()=>{t.delete(r)}}function n(r){t.forEach(i=>i(r))}return{subscribe:e,trigger:n}}function Hle(t){let e=!1;return()=>{e||(e=!0,t.forEach(n=>n==null?void 0:n()))}}var Vc,Cl,Lf,kf,zv,tp,Vle=class{constructor(t,e){this.context=t,ta(this,Vc,void 0),ta(this,Cl,void 0),ta(this,Lf,void 0),ta(this,kf,void 0),ta(this,zv,void 0),ta(this,tp,void 0);var n,r;Ko(this,tp,Object.freeze(Fle({destination:t.destination,volume:100,volumeToGain:SE},e))),this.input=new GainNode(this.context),Ko(this,Vc,new GainNode(this.context)),Ko(this,kf,Bv([this.input,zn(this,Vc),zn(this,tp).destination]));const i=zle((n=e.volume)!=null?n:100);this.setVolume=i.set;const o=(r=e.volumeToGain)!=null?r:SE;Ko(this,zv,i.subscribe(s=>{zn(this,Vc).gain.value=o(s)}))}addInsert(t){var e;(e=zn(this,Lf))!=null||Ko(this,Lf,[]),zn(this,Lf).push(t),zn(this,kf).call(this),Ko(this,kf,Bv([this.input,...zn(this,Lf),zn(this,Vc),zn(this,tp).destination]))}addEffect(t,e,n){var r;const i=new GainNode(this.context);i.gain.value=n;const o="input"in e?e.input:e,s=Bv([zn(this,Vc),i,o]);(r=zn(this,Cl))!=null||Ko(this,Cl,[]),zn(this,Cl).push({name:t,mix:i,disconnect:s})}sendEffect(t,e){var n;const r=(n=zn(this,Cl))==null?void 0:n.find(i=>i.name===t);r?r.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;zn(this,kf).call(this),zn(this,zv).call(this),(t=zn(this,Cl))==null||t.forEach(e=>e.disconnect()),Ko(this,Cl,void 0)}};Vc=new WeakMap;Cl=new WeakMap;Lf=new WeakMap;kf=new WeakMap;zv=new WeakMap;tp=new WeakMap;function Wle(t){var e,n,r;const i=t.destination.context,o=i.createBufferSource();o.buffer=t.buffer,o.detune.value=(e=t==null?void 0:t.detune)!=null?e:0;const s=t.lpfCutoffHz?new BiquadFilterNode(i,{type:"lowpass",frequency:t.lpfCutoffHz}):void 0,l=i.createGain();l.gain.value=(n=t==null?void 0:t.gain)!=null?n:1;const[a,c]=jle(i,t.decayTime),u=Hle([Bv([o,s,l,a,t.destination]),(r=t.stop)==null?void 0:r.call(t,p=>{(p===void 0||p.stopId===void 0||p.stopId===t.stopId)&&d(p==null?void 0:p.time)})]);o.onended=()=>{var p;u(),(p=t.onEnded)==null||p.call(t)};const f=t.time||i.currentTime;o.start(f);function d(p){if(p??(p=i.currentTime),p<=f)o.stop(p);else{const g=c(p);o.stop(g)}}return t.duration!==void 0&&d(f+t.duration),d}function jle(t,e=.2){let n=0;const r=new GainNode(t,{gain:1});function i(o){if(n)return n;r.gain.cancelScheduledValues(o);const s=o||t.currentTime;return n=s+e,r.gain.setValueAtTime(1,s),r.gain.linearRampToValueAtTime(0,n),n}return[r,i]}var qo,np,Gv,rp,$le=class{constructor(t,e={}){this.context=t,ta(this,qo,void 0),ta(this,np,void 0),ta(this,Gv,void 0),ta(this,rp,void 0);var n,r,i,o,s,l,a;Ko(this,qo,{destination:(n=e.destination)!=null?n:t.destination,detune:0,volume:(r=e.volume)!=null?r:100,velocity:(i=e.velocity)!=null?i:100,buffers:(o=e.buffers)!=null?o:{},volumeToGain:(s=e.volumeToGain)!=null?s:SE,noteToSample:(l=e.noteToSample)!=null?l:f=>[f.note.toString(),0]}),this.buffers={},Ko(this,np,Gle());const c=(a=e.storage)!=null?a:i5,u=typeof zn(this,qo).buffers=="function"?zn(this,qo).buffers:Xle(zn(this,qo).buffers,c);Ko(this,Gv,u(t,this.buffers)),Ko(this,rp,new Vle(t,zn(this,qo))),this.output=zn(this,rp)}loaded(){return Id(this,null,function*(){return yield zn(this,Gv),this})}start(t){var e,n,r;const i=typeof t=="object"?t:{note:t},[o,s]=zn(this,qo).noteToSample(i,this.buffers,zn(this,qo)),l=this.buffers[o];if(!l)return console.warn(`Sample not found: '${o}'`),()=>{};const a=i.onEnded;return Wle({buffer:l,destination:zn(this,rp).input,time:i.time,duration:i.duration,decayTime:i.decayTime,lpfCutoffHz:i.lpfCutoffHz,detune:s+((e=i.detune)!=null?e:zn(this,qo).detune),gain:zn(this,qo).volumeToGain((n=i.velocity)!=null?n:zn(this,qo).velocity),stop:zn(this,np).subscribe,stopId:(r=i.stopId)!=null?r:i.note,onEnded:a?()=>a(t):void 0})}stop(t){const e=typeof t=="object"?t:{stopId:t};zn(this,np).trigger(e)}};qo=new WeakMap;np=new WeakMap;Gv=new WeakMap;rp=new WeakMap;function Xle(t,e){return(n,r)=>Id(this,null,function*(){yield Promise.all([Object.keys(t).map(i=>Id(this,null,function*(){const o=t[i];if(o instanceof AudioBuffer)r[i]=o;else if(typeof o=="string"){const s=yield r5(n,o,e);s&&(r[i]=s)}}))])})}var qle="https://danigb.github.io/samples/splendid-grand-piano",Yle=class extends $le{constructor(t,e={}){var n,r,i;super(t,{destination:e.destination,detune:e.detune,volume:e.volume,velocity:e.velocity,decayTime:(n=e.decayTime)!=null?n:.5,lpfCutoffHz:e.lpfCutoffHz,buffers:Jle((r=e.baseUrl)!=null?r:qle,(i=e.storage)!=null?i:i5),noteToSample:(o,s,l)=>{var a;const c=Ble(o.note);if(!c)return[o.note,0];const u=(a=o.velocity)!=null?a:l.velocity,f=wE.findIndex(p=>u>=p.vel_range[0]&&u<=p.vel_range[1]),d=wE[f];return d?Kle(d.name,c,s):["",0]}})}};function Kle(t,e,n){let r=0;for(;n[t+(e+r)]===void 0&&r<128;)r>0?r=-r:r=-r+1;return r===127?[t+e,0]:[t+(e+r),-r*100]}function Jle(t,e){var n;const r=(n=Dle(["ogg","m4a"]))!=null?n:"ogg";return(i,o)=>Id(this,null,function*(){for(const s of wE)yield Promise.all(s.samples.map(l=>Id(this,[l],function*([a,c]){const u=`${t}/${c}.${r}`,f=yield r5(i,u,e);f&&(o[s.name+a]=f)})))})}var wE=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];const o5=L.createContext(null),Tx=()=>L.useContext(o5),rT=t=>{const e=L.useRef(),n=L.useCallback(f=>{e.current=f},[]),r=L.useRef(),i=L.useCallback(f=>{r.current=f},[]),o=L.useRef(),s=L.useCallback(f=>{o.current=f},[]),l=L.useRef(),a=L.useCallback(f=>{l.current=f},[]),[c,u]=L.useState(-1);return q.jsx(o5.Provider,{value:{refHandleMidiNoteDown:e,setHandleMidiNoteDown:n,refHandleMidiNoteUp:r,setHandleMidiNoteUp:i,refHandlePreviewNoteDown:o,setHandlePreviewNoteDown:s,refHandlePreviewNoteUp:l,setHandlePreviewNoteUp:a,midiIdx:c,setMidiIdx:u},children:t.children})};var Zle=Object.defineProperty,Qle=(t,e,n)=>e in t?Zle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s5=(t,e,n)=>(Qle(t,typeof e!="symbol"?e+"":e,n),n);const Hv={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new ce},up:{value:new ce(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <encodings_fragment>

      }
    `},a5=new ss({name:"SkyShader",fragmentShader:Hv.fragmentShader,vertexShader:Hv.vertexShader,uniforms:fx.clone(Hv.uniforms),side:vi,depthWrite:!1});let iT=class extends pr{constructor(){super(new Sa(1,1,1),a5)}};s5(iT,"SkyShader",Hv);s5(iT,"material",a5);function ece(){var t=Object.create(null);function e(i,o){var s=i.id,l=i.name,a=i.dependencies;a===void 0&&(a=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[s])try{a=a.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=t[d.id].value),d}),c=r("<"+l+">.init",c),u&&(u=r("<"+l+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,a):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:f,getTransferables:u},o(f)}catch(d){d&&d.noLog||console.error(d),o(d)}}function n(i,o){var s,l=i.id,a=i.args;(!t[l]||typeof t[l].value!="function")&&o(new Error("Worker module "+l+": not found or its 'init' did not return a function"));try{var c=(s=t[l]).value.apply(s,a);c&&typeof c.then=="function"?c.then(u,function(f){return o(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){o(f)}function u(f){try{var d=t[l].getTransferables&&t[l].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),o(f,d)}catch(p){console.error(p),o(p)}}}function r(i,o){var s=void 0;self.troikaDefine=function(a){return s=a};var l=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(l)}catch(a){console.error(a)}return URL.revokeObjectURL(l),delete self.troikaDefine,s}self.addEventListener("message",function(i){var o=i.data,s=o.messageId,l=o.action,a=o.data;try{l==="registerModule"&&e(a,function(c){c instanceof Error?postMessage({messageId:s,success:!1,error:c.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof c=="function"}})}),l==="callModule"&&n(a,function(c,u){c instanceof Error?postMessage({messageId:s,success:!1,error:c.message}):postMessage({messageId:s,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:s,success:!1,error:c.stack})}})}function tce(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(o){return o&&o._getInitResult?o._getInitResult():o}):[];var i=Promise.all(n).then(function(o){return r.apply(null,o)});return e._getInitResult=function(){return i},i},e}var l5=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return l5=function(){return t},t},nce=0,rce=0,aS=!1,Ap=Object.create(null),Cp=Object.create(null),EE=Object.create(null);function rg(t){if((!t||typeof t.init!="function")&&!aS)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!l5())return tce(t);i==null&&(i="#default");var o="workerModule"+ ++nce,s=t.name||o,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(aS=!0,c=rg({workerId:i,name:"<"+s+"> function dependency: "+c.name,init:`function(){return (
`+Vv(c)+`
)}`}),aS=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function a(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!l){l=HI(i,"registerModule",a.workerModuleData);var f=function(){l=null,Cp[i].delete(f)};(Cp[i]||(Cp[i]=new Set)).add(f)}return l.then(function(d){var p=d.isCallable;if(p)return HI(i,"callModule",{id:o,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return a.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:e,init:Vv(n),getTransferables:r&&Vv(r)},a}function ice(t){Cp[t]&&Cp[t].forEach(function(e){e()}),Ap[t]&&(Ap[t].terminate(),delete Ap[t])}function Vv(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function oce(t){var e=Ap[t];if(!e){var n=Vv(ece);e=Ap[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,o=i.messageId,s=EE[o];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete EE[o],s(i)}}return e}function HI(t,e,n){return new Promise(function(r,i){var o=++rce;EE[o]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},oce(t).postMessage({messageId:o,action:e,data:n})})}function c5(){var t=function(e){function n(D,H,$,W,ie,j,Y,K){var fe=1-Y;K.x=fe*fe*D+2*fe*Y*$+Y*Y*ie,K.y=fe*fe*H+2*fe*Y*W+Y*Y*j}function r(D,H,$,W,ie,j,Y,K,fe,pe){var xe=1-fe;pe.x=xe*xe*xe*D+3*xe*xe*fe*$+3*xe*fe*fe*ie+fe*fe*fe*Y,pe.y=xe*xe*xe*H+3*xe*xe*fe*W+3*xe*fe*fe*j+fe*fe*fe*K}function i(D,H){for(var $=/([MLQCZ])([^MLQCZ]*)/g,W,ie,j,Y,K;W=$.exec(D);){var fe=W[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(pe){return parseFloat(pe)});switch(W[1]){case"M":Y=ie=fe[0],K=j=fe[1];break;case"L":(fe[0]!==Y||fe[1]!==K)&&H("L",Y,K,Y=fe[0],K=fe[1]);break;case"Q":{H("Q",Y,K,Y=fe[2],K=fe[3],fe[0],fe[1]);break}case"C":{H("C",Y,K,Y=fe[4],K=fe[5],fe[0],fe[1],fe[2],fe[3]);break}case"Z":(Y!==ie||K!==j)&&H("L",Y,K,ie,j);break}}}function o(D,H,$){$===void 0&&($=16);var W={x:0,y:0};i(D,function(ie,j,Y,K,fe,pe,xe,Ge,Ae){switch(ie){case"L":H(j,Y,K,fe);break;case"Q":{for(var z=j,ge=Y,Me=1;Me<$;Me++)n(j,Y,pe,xe,K,fe,Me/($-1),W),H(z,ge,W.x,W.y),z=W.x,ge=W.y;break}case"C":{for(var Ie=j,Re=Y,We=1;We<$;We++)r(j,Y,pe,xe,Ge,Ae,K,fe,We/($-1),W),H(Ie,Re,W.x,W.y),Ie=W.x,Re=W.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",a=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(D,H){var $=D.getContext?D.getContext("webgl",c):D,W=a.get($);if(!W){let Ie=function(Ne){var Ke=j[Ne];if(!Ke&&(Ke=j[Ne]=$.getExtension(Ne),!Ke))throw new Error(Ne+" not supported");return Ke},Re=function(Ne,Ke){var J=$.createShader(Ke);return $.shaderSource(J,Ne),$.compileShader(J),J},We=function(Ne,Ke,J,N){if(!Y[Ne]){var oe={},Le={},Te=$.createProgram();$.attachShader(Te,Re(Ke,$.VERTEX_SHADER)),$.attachShader(Te,Re(J,$.FRAGMENT_SHADER)),$.linkProgram(Te),Y[Ne]={program:Te,transaction:function(ye){$.useProgram(Te),ye({setUniform:function(Se,be){for(var se=[],de=arguments.length-2;de-- >0;)se[de]=arguments[de+2];var he=Le[be]||(Le[be]=$.getUniformLocation(Te,be));$["uniform"+Se].apply($,[he].concat(se))},setAttribute:function(Se,be,se,de,he){var me=oe[Se];me||(me=oe[Se]={buf:$.createBuffer(),loc:$.getAttribLocation(Te,Se),data:null}),$.bindBuffer($.ARRAY_BUFFER,me.buf),$.vertexAttribPointer(me.loc,be,$.FLOAT,!1,0,0),$.enableVertexAttribArray(me.loc),ie?$.vertexAttribDivisor(me.loc,de):Ie("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(me.loc,de),he!==me.data&&($.bufferData($.ARRAY_BUFFER,he,se),me.data=he)}})}}}Y[Ne].transaction(N)},ke=function(Ne,Ke){fe++;try{$.activeTexture($.TEXTURE0+fe);var J=K[Ne];J||(J=K[Ne]=$.createTexture(),$.bindTexture($.TEXTURE_2D,J),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.NEAREST),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.NEAREST)),$.bindTexture($.TEXTURE_2D,J),Ke(J,fe)}finally{fe--}},je=function(Ne,Ke,J){var N=$.createFramebuffer();pe.push(N),$.bindFramebuffer($.FRAMEBUFFER,N),$.activeTexture($.TEXTURE0+Ke),$.bindTexture($.TEXTURE_2D,Ne),$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Ne,0);try{J(N)}finally{$.deleteFramebuffer(N),$.bindFramebuffer($.FRAMEBUFFER,pe[--pe.length-1]||null)}},He=function(){j={},Y={},K={},fe=-1,pe.length=0};var xe=Ie,Ge=Re,Ae=We,z=ke,ge=je,Me=He,ie=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext,j={},Y={},K={},fe=-1,pe=[];$.canvas.addEventListener("webglcontextlost",function(Ne){He(),Ne.preventDefault()},!1),a.set($,W={gl:$,isWebGL2:ie,getExtension:Ie,withProgram:We,withTexture:ke,withTextureFramebuffer:je,handleContextLoss:He})}H(W)}function f(D,H,$,W,ie,j,Y,K){Y===void 0&&(Y=15),K===void 0&&(K=null),u(D,function(fe){var pe=fe.gl,xe=fe.withProgram,Ge=fe.withTexture;Ge("copy",function(Ae,z){pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,ie,j,0,pe.RGBA,pe.UNSIGNED_BYTE,H),xe("copy",s,l,function(ge){var Me=ge.setUniform,Ie=ge.setAttribute;Ie("aUV",2,pe.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",z),pe.bindFramebuffer(pe.FRAMEBUFFER,K||null),pe.disable(pe.BLEND),pe.colorMask(Y&8,Y&4,Y&2,Y&1),pe.viewport($,W,ie,j),pe.scissor($,W,ie,j),pe.drawArrays(pe.TRIANGLES,0,3)})})})}function d(D,H,$){var W=D.width,ie=D.height;u(D,function(j){var Y=j.gl,K=new Uint8Array(W*ie*4);Y.readPixels(0,0,W,ie,Y.RGBA,Y.UNSIGNED_BYTE,K),D.width=H,D.height=$,f(Y,K,0,0,W,ie)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(D,H,$,W,ie,j){j===void 0&&(j=1);var Y=new Uint8Array(D*H),K=W[2]-W[0],fe=W[3]-W[1],pe=[];o($,function(Ie,Re,We,ke){pe.push({x1:Ie,y1:Re,x2:We,y2:ke,minX:Math.min(Ie,We),minY:Math.min(Re,ke),maxX:Math.max(Ie,We),maxY:Math.max(Re,ke)})}),pe.sort(function(Ie,Re){return Ie.maxX-Re.maxX});for(var xe=0;xe<D;xe++)for(var Ge=0;Ge<H;Ge++){var Ae=ge(W[0]+K*(xe+.5)/D,W[1]+fe*(Ge+.5)/H),z=Math.pow(1-Math.abs(Ae)/ie,j)/2;Ae<0&&(z=1-z),z=Math.max(0,Math.min(255,Math.round(z*255))),Y[Ge*D+xe]=z}return Y;function ge(Ie,Re){for(var We=1/0,ke=1/0,je=pe.length;je--;){var He=pe[je];if(He.maxX+ke<=Ie)break;if(Ie+ke>He.minX&&Re-ke<He.maxY&&Re+ke>He.minY){var Ne=v(Ie,Re,He.x1,He.y1,He.x2,He.y2);Ne<We&&(We=Ne,ke=Math.sqrt(We))}}return Me(Ie,Re)&&(ke=-ke),ke}function Me(Ie,Re){for(var We=0,ke=pe.length;ke--;){var je=pe[ke];if(je.maxX<=Ie)break;var He=je.y1>Re!=je.y2>Re&&Ie<(je.x2-je.x1)*(Re-je.y1)/(je.y2-je.y1)+je.x1;He&&(We+=je.y1<je.y2?1:-1)}return We!==0}}function y(D,H,$,W,ie,j,Y,K,fe,pe){j===void 0&&(j=1),K===void 0&&(K=0),fe===void 0&&(fe=0),pe===void 0&&(pe=0),x(D,H,$,W,ie,j,Y,null,K,fe,pe)}function x(D,H,$,W,ie,j,Y,K,fe,pe,xe){j===void 0&&(j=1),fe===void 0&&(fe=0),pe===void 0&&(pe=0),xe===void 0&&(xe=0);for(var Ge=g(D,H,$,W,ie,j),Ae=new Uint8Array(Ge.length*4),z=0;z<Ge.length;z++)Ae[z*4+xe]=Ge[z];f(Y,Ae,fe,pe,D,H,1<<3-xe,K)}function v(D,H,$,W,ie,j){var Y=ie-$,K=j-W,fe=Y*Y+K*K,pe=fe?Math.max(0,Math.min(1,((D-$)*Y+(H-W)*K)/fe)):0,xe=D-($+pe*Y),Ge=H-(W+pe*K);return xe*xe+Ge*Ge}var b=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:y,generateIntoFramebuffer:x}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),T=null,R=!1,C={},P=new WeakMap;function F(D){if(!R&&!X(D))throw new Error("WebGL generation not supported")}function G(D,H,$,W,ie,j,Y){if(j===void 0&&(j=1),Y===void 0&&(Y=null),!Y&&(Y=T,!Y)){var K=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!K)throw new Error("OffscreenCanvas or DOM canvas not supported");Y=T=K.getContext("webgl",{depth:!1})}F(Y);var fe=new Uint8Array(D*H*4);u(Y,function(Ae){var z=Ae.gl,ge=Ae.withTexture,Me=Ae.withTextureFramebuffer;ge("readable",function(Ie,Re){z.texImage2D(z.TEXTURE_2D,0,z.RGBA,D,H,0,z.RGBA,z.UNSIGNED_BYTE,null),Me(Ie,Re,function(We){B(D,H,$,W,ie,j,z,We,0,0,0),z.readPixels(0,0,D,H,z.RGBA,z.UNSIGNED_BYTE,fe)})})});for(var pe=new Uint8Array(D*H),xe=0,Ge=0;xe<fe.length;xe+=4)pe[Ge++]=fe[xe];return pe}function V(D,H,$,W,ie,j,Y,K,fe,pe){j===void 0&&(j=1),K===void 0&&(K=0),fe===void 0&&(fe=0),pe===void 0&&(pe=0),B(D,H,$,W,ie,j,Y,null,K,fe,pe)}function B(D,H,$,W,ie,j,Y,K,fe,pe,xe){j===void 0&&(j=1),fe===void 0&&(fe=0),pe===void 0&&(pe=0),xe===void 0&&(xe=0),F(Y);var Ge=[];o($,function(Ae,z,ge,Me){Ge.push(Ae,z,ge,Me)}),Ge=new Float32Array(Ge),u(Y,function(Ae){var z=Ae.gl,ge=Ae.isWebGL2,Me=Ae.getExtension,Ie=Ae.withProgram,Re=Ae.withTexture,We=Ae.withTextureFramebuffer,ke=Ae.handleContextLoss;if(Re("rawDistances",function(je,He){(D!==je._lastWidth||H!==je._lastHeight)&&z.texImage2D(z.TEXTURE_2D,0,z.RGBA,je._lastWidth=D,je._lastHeight=H,0,z.RGBA,z.UNSIGNED_BYTE,null),Ie("main",_,S,function(Ne){var Ke=Ne.setAttribute,J=Ne.setUniform,N=!ge&&Me("ANGLE_instanced_arrays"),oe=!ge&&Me("EXT_blend_minmax");Ke("aUV",2,z.STATIC_DRAW,0,M),Ke("aLineSegment",4,z.DYNAMIC_DRAW,1,Ge),J.apply(void 0,["4f","uGlyphBounds"].concat(W)),J("1f","uMaxDistance",ie),J("1f","uExponent",j),We(je,He,function(Le){z.enable(z.BLEND),z.colorMask(!0,!0,!0,!0),z.viewport(0,0,D,H),z.scissor(0,0,D,H),z.blendFunc(z.ONE,z.ONE),z.blendEquationSeparate(z.FUNC_ADD,ge?z.MAX:oe.MAX_EXT),z.clear(z.COLOR_BUFFER_BIT),ge?z.drawArraysInstanced(z.TRIANGLES,0,3,Ge.length/4):N.drawArraysInstancedANGLE(z.TRIANGLES,0,3,Ge.length/4)})}),Ie("post",s,E,function(Ne){Ne.setAttribute("aUV",2,z.STATIC_DRAW,0,M),Ne.setUniform("1i","tex",He),z.bindFramebuffer(z.FRAMEBUFFER,K),z.disable(z.BLEND),z.colorMask(xe===0,xe===1,xe===2,xe===3),z.viewport(fe,pe,D,H),z.scissor(fe,pe,D,H),z.drawArrays(z.TRIANGLES,0,3)})}),z.isContextLost())throw ke(),new Error("webgl context lost")})}function X(D){var H=!D||D===T?C:D.canvas||D,$=P.get(H);if($===void 0){R=!0;var W=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],j=G(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,D);$=j&&ie.length===j.length&&j.every(function(Y,K){return Y===ie[K]}),$||(W="bad trial run results",console.info(ie,j))}catch(Y){$=!1,W=Y.message}W&&console.warn("WebGL SDF generation not supported:",W),R=!1,P.set(H,$)}return $}var ee=Object.freeze({__proto__:null,generate:G,generateIntoCanvas:V,generateIntoFramebuffer:B,isSupported:X});function te(D,H,$,W,ie,j){ie===void 0&&(ie=Math.max(W[2]-W[0],W[3]-W[1])/2),j===void 0&&(j=1);try{return G.apply(ee,arguments)}catch(Y){return console.info("WebGL SDF generation failed, falling back to JS",Y),g.apply(b,arguments)}}function O(D,H,$,W,ie,j,Y,K,fe,pe){ie===void 0&&(ie=Math.max(W[2]-W[0],W[3]-W[1])/2),j===void 0&&(j=1),K===void 0&&(K=0),fe===void 0&&(fe=0),pe===void 0&&(pe=0);try{return V.apply(ee,arguments)}catch(xe){return console.info("WebGL SDF generation failed, falling back to JS",xe),y.apply(b,arguments)}}return e.forEachPathCommand=i,e.generate=te,e.generateIntoCanvas=O,e.javascript=b,e.pathToLineSegments=o,e.webgl=ee,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function sce(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ke,je){r[ke]=1<<je+1,i[r[ke]]=ke}),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,l=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,a=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|o|r.PDI|a,u=null;function f(){if(!u){u=new Map;var ke=function(He){if(n.hasOwnProperty(He)){var Ne=0;n[He].split(",").forEach(function(Ke){var J=Ke.split("+"),N=J[0],oe=J[1];N=parseInt(N,36),oe=oe?parseInt(oe,36):0,u.set(Ne+=N,r[He]);for(var Le=0;Le<oe;Le++)u.set(++Ne,r[He])})}};for(var je in n)ke(je)}}function d(ke){return f(),u.get(ke.codePointAt(0))||r.L}function p(ke){return i[d(ke)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(ke,je){var He=36,Ne=0,Ke=new Map,J=je&&new Map,N;return ke.split(",").forEach(function oe(Le){if(Le.indexOf("+")!==-1)for(var Te=+Le;Te--;)oe(N);else{N=Le;var _e=Le.split(">"),ye=_e[0],we=_e[1];ye=String.fromCodePoint(Ne+=parseInt(ye,He)),we=String.fromCodePoint(Ne+=parseInt(we,He)),Ke.set(ye,we),je&&J.set(we,ye)}}),{map:Ke,reverseMap:J}}var x,v,b;function _(){if(!x){var ke=y(g.pairs,!0),je=ke.map,He=ke.reverseMap;x=je,v=He,b=y(g.canonical,!1).map}}function S(ke){return _(),x.get(ke)||null}function E(ke){return _(),v.get(ke)||null}function M(ke){return _(),b.get(ke)||null}var T=r.L,R=r.R,C=r.EN,P=r.ES,F=r.ET,G=r.AN,V=r.CS,B=r.B,X=r.S,ee=r.ON,te=r.BN,O=r.NSM,D=r.AL,H=r.LRO,$=r.RLO,W=r.LRE,ie=r.RLE,j=r.PDF,Y=r.LRI,K=r.RLI,fe=r.FSI,pe=r.PDI;function xe(ke,je){for(var He=125,Ne=new Uint32Array(ke.length),Ke=0;Ke<ke.length;Ke++)Ne[Ke]=d(ke[Ke]);var J=new Map;function N(or,Nr){var Vn=Ne[or];Ne[or]=Nr,J.set(Vn,J.get(Vn)-1),Vn&l&&J.set(l,J.get(l)-1),J.set(Nr,(J.get(Nr)||0)+1),Nr&l&&J.set(l,(J.get(l)||0)+1)}for(var oe=new Uint8Array(ke.length),Le=new Map,Te=[],_e=null,ye=0;ye<ke.length;ye++)_e||Te.push(_e={start:ye,end:ke.length-1,level:je==="rtl"?1:je==="ltr"?0:Xr(ye,!1)}),Ne[ye]&B&&(_e.end=ye,_e=null);for(var we=ie|W|$|H|o|pe|j|B,Se=function(or){return or+(or&1?1:2)},be=function(or){return or+(or&1?2:1)},se=0;se<Te.length;se++){_e=Te[se];var de=[{_level:_e.level,_override:0,_isolate:0}],he=void 0,me=0,Ue=0,qe=0;J.clear();for(var re=_e.start;re<=_e.end;re++){var Be=Ne[re];if(he=de[de.length-1],J.set(Be,(J.get(Be)||0)+1),Be&l&&J.set(l,(J.get(l)||0)+1),Be&we)if(Be&(ie|W)){oe[re]=he._level;var Ee=(Be===ie?be:Se)(he._level);Ee<=He&&!me&&!Ue?de.push({_level:Ee,_override:0,_isolate:0}):me||Ue++}else if(Be&($|H)){oe[re]=he._level;var Ye=(Be===$?be:Se)(he._level);Ye<=He&&!me&&!Ue?de.push({_level:Ye,_override:Be&$?R:T,_isolate:0}):me||Ue++}else if(Be&o){Be&fe&&(Be=Xr(re+1,!0)===1?K:Y),oe[re]=he._level,he._override&&N(re,he._override);var tt=(Be===K?be:Se)(he._level);tt<=He&&me===0&&Ue===0?(qe++,de.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:re})):me++}else if(Be&pe){if(me>0)me--;else if(qe>0){for(Ue=0;!de[de.length-1]._isolate;)de.pop();var vt=de[de.length-1]._isolInitIndex;vt!=null&&(Le.set(vt,re),Le.set(re,vt)),de.pop(),qe--}he=de[de.length-1],oe[re]=he._level,he._override&&N(re,he._override)}else Be&j?(me===0&&(Ue>0?Ue--:!he._isolate&&de.length>1&&(de.pop(),he=de[de.length-1])),oe[re]=he._level):Be&B&&(oe[re]=_e.level);else oe[re]=he._level,he._override&&Be!==te&&N(re,he._override)}for(var xt=[],Et=null,Gt=_e.start;Gt<=_e.end;Gt++){var Xt=Ne[Gt];if(!(Xt&a)){var jt=oe[Gt],Vt=Xt&o,$n=Xt===pe;Et&&jt===Et._level?(Et._end=Gt,Et._endsWithIsolInit=Vt):xt.push(Et={_start:Gt,_end:Gt,_level:jt,_startsWithPDI:$n,_endsWithIsolInit:Vt})}}for(var rr=[],fn=0;fn<xt.length;fn++){var Pn=xt[fn];if(!Pn._startsWithPDI||Pn._startsWithPDI&&!Le.has(Pn._start)){for(var mr=[Et=Pn],xn=void 0;Et&&Et._endsWithIsolInit&&(xn=Le.get(Et._end))!=null;)for(var Ht=fn+1;Ht<xt.length;Ht++)if(xt[Ht]._start===xn){mr.push(Et=xt[Ht]);break}for(var bn=[],ir=0;ir<mr.length;ir++)for(var mn=mr[ir],ue=mn._start;ue<=mn._end;ue++)bn.push(ue);for(var $e=oe[bn[0]],Ze=_e.level,Ve=bn[0]-1;Ve>=0;Ve--)if(!(Ne[Ve]&a)){Ze=oe[Ve];break}var et=bn[bn.length-1],mt=oe[et],Pt=_e.level;if(!(Ne[et]&o)){for(var Ot=et+1;Ot<=_e.end;Ot++)if(!(Ne[Ot]&a)){Pt=oe[Ot];break}}rr.push({_seqIndices:bn,_sosType:Math.max(Ze,$e)%2?R:T,_eosType:Math.max(Pt,mt)%2?R:T})}}for(var kt=0;kt<rr.length;kt++){var $t=rr[kt],st=$t._seqIndices,Nt=$t._sosType,gn=$t._eosType;if(J.get(O))for(var _n=0;_n<st.length;_n++){var Bt=st[_n];if(Ne[Bt]&O){for(var Ir=Nt,vn=_n-1;vn>=0;vn--)if(!(Ne[st[vn]]&a)){Ir=Ne[st[vn]];break}N(Bt,Ir&(o|pe)?ee:Ir)}}if(J.get(C))for(var zt=0;zt<st.length;zt++){var Sn=st[zt];if(Ne[Sn]&C)for(var Ft=zt-1;Ft>=-1;Ft--){var Lr=Ft===-1?Nt:Ne[st[Ft]];if(Lr&s){Lr===D&&N(Sn,G);break}}}if(J.get(D))for(var Xn=0;Xn<st.length;Xn++){var Nn=st[Xn];Ne[Nn]&D&&N(Nn,R)}if(J.get(P)||J.get(V))for(var Br=1;Br<st.length-1;Br++){var Hn=st[Br];if(Ne[Hn]&(P|V)){for(var En=0,Di=0,Mt=Br-1;Mt>=0&&(En=Ne[st[Mt]],!!(En&a));Mt--);for(var po=Br+1;po<st.length&&(Di=Ne[st[po]],!!(Di&a));po++);En===Di&&(Ne[Hn]===P?En===C:En&(C|G))&&N(Hn,En)}}if(J.get(C))for(var Ui=0;Ui<st.length;Ui++){var us=st[Ui];if(Ne[us]&C){for(var zr=Ui-1;zr>=0&&Ne[st[zr]]&(F|a);zr--)N(st[zr],C);for(var Vs=Ui+1;Vs<st.length&&Ne[st[Vs]]&(F|a);Vs++)N(st[Vs],C)}}if(J.get(F)||J.get(P)||J.get(V))for(var Ws=0;Ws<st.length;Ws++){var Nu=st[Ws];if(Ne[Nu]&(F|P|V)){N(Nu,ee);for(var fs=Ws-1;fs>=0&&Ne[st[fs]]&a;fs--)N(st[fs],ee);for(var ds=Ws+1;ds<st.length&&Ne[st[ds]]&a;ds++)N(st[ds],ee)}}if(J.get(C))for(var hs=0,Ea=Nt;hs<st.length;hs++){var Ou=st[hs],pc=Ne[Ou];pc&C?Ea===T&&N(Ou,T):pc&s&&(Ea=pc)}if(J.get(l)){var ps=R|C|G,ll=ps|T,Do=[];{for(var js=[],Uo=0;Uo<st.length;Uo++)if(Ne[st[Uo]]&l){var sn=ke[st[Uo]],mc=void 0;if(S(sn)!==null)if(js.length<63)js.push({char:sn,seqIndex:Uo});else break;else if((mc=E(sn))!==null)for(var ms=js.length-1;ms>=0;ms--){var cl=js[ms].char;if(cl===mc||cl===E(M(sn))||S(M(cl))===sn){Do.push([js[ms].seqIndex,Uo]),js.length=ms;break}}}Do.sort(function(or,Nr){return or[0]-Nr[0]})}for(var U=0;U<Do.length;U++){for(var Z=Do[U],le=Z[0],Q=Z[1],ne=!1,Ce=0,Fe=le+1;Fe<Q;Fe++){var De=st[Fe];if(Ne[De]&ll){ne=!0;var Pe=Ne[De]&ps?R:T;if(Pe===bi(De)){Ce=Pe;break}}}if(ne&&!Ce){Ce=Nt;for(var ot=le-1;ot>=0;ot--){var at=st[ot];if(Ne[at]&ll){var ht=Ne[at]&ps?R:T;ht!==bi(at)?Ce=ht:Ce=bi(at);break}}}if(Ce){if(Ne[st[le]]=Ne[st[Q]]=Ce,Ce!==bi(st[le])){for(var Dt=le+1;Dt<st.length;Dt++)if(!(Ne[st[Dt]]&a)){d(ke[st[Dt]])&O&&(Ne[st[Dt]]=Ce);break}}if(Ce!==bi(st[Q])){for(var an=Q+1;an<st.length;an++)if(!(Ne[st[an]]&a)){d(ke[st[an]])&O&&(Ne[st[an]]=Ce);break}}}}for(var qn=0;qn<st.length;qn++)if(Ne[st[qn]]&l){for(var kr=qn,Mn=qn,wn=Nt,Bn=qn-1;Bn>=0;Bn--)if(Ne[st[Bn]]&a)kr=Bn;else{wn=Ne[st[Bn]]&ps?R:T;break}for(var er=gn,Yn=qn+1;Yn<st.length;Yn++)if(Ne[st[Yn]]&(l|a))Mn=Yn;else{er=Ne[st[Yn]]&ps?R:T;break}for(var dn=kr;dn<=Mn;dn++)Ne[st[dn]]=wn===er?wn:bi(st[dn]);qn=Mn}}}for(var Tn=_e.start;Tn<=_e.end;Tn++){var Er=oe[Tn],lr=Ne[Tn];if(Er&1?lr&(T|C|G)&&oe[Tn]++:lr&R?oe[Tn]++:lr&(G|C)&&(oe[Tn]+=2),lr&a&&(oe[Tn]=Tn===0?_e.level:oe[Tn-1]),Tn===_e.end||d(ke[Tn])&(X|B))for(var ii=Tn;ii>=0&&d(ke[ii])&c;ii--)oe[ii]=_e.level}}return{levels:oe,paragraphs:Te};function Xr(or,Nr){for(var Vn=or;Vn<ke.length;Vn++){var qr=Ne[Vn];if(qr&(R|D))return 1;if(qr&(B|T)||Nr&&qr===pe)return 0;if(qr&o){var gs=mo(Vn);Vn=gs===-1?ke.length:gs}}return 0}function mo(or){for(var Nr=1,Vn=or+1;Vn<ke.length;Vn++){var qr=Ne[Vn];if(qr&B)break;if(qr&pe){if(--Nr===0)return Vn}else qr&o&&Nr++}return-1}function bi(or){return oe[or]&1?R:T}}var Ge="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ae;function z(){if(!Ae){var ke=y(Ge,!0),je=ke.map,He=ke.reverseMap;He.forEach(function(Ne,Ke){je.set(Ke,Ne)}),Ae=je}}function ge(ke){return z(),Ae.get(ke)||null}function Me(ke,je,He,Ne){var Ke=ke.length;He=Math.max(0,He==null?0:+He),Ne=Math.min(Ke-1,Ne==null?Ke-1:+Ne);for(var J=new Map,N=He;N<=Ne;N++)if(je[N]&1){var oe=ge(ke[N]);oe!==null&&J.set(N,oe)}return J}function Ie(ke,je,He,Ne){var Ke=ke.length;He=Math.max(0,He==null?0:+He),Ne=Math.min(Ke-1,Ne==null?Ke-1:+Ne);var J=[];return je.paragraphs.forEach(function(N){var oe=Math.max(He,N.start),Le=Math.min(Ne,N.end);if(oe<Le){for(var Te=je.levels.slice(oe,Le+1),_e=Le;_e>=oe&&d(ke[_e])&c;_e--)Te[_e]=N.level;for(var ye=N.level,we=1/0,Se=0;Se<Te.length;Se++){var be=Te[Se];be>ye&&(ye=be),be<we&&(we=be|1)}for(var se=ye;se>=we;se--)for(var de=0;de<Te.length;de++)if(Te[de]>=se){for(var he=de;de+1<Te.length&&Te[de+1]>=se;)de++;de>he&&J.push([he+He,de+He])}}}),J}function Re(ke,je,He,Ne){var Ke=We(ke,je,He,Ne),J=[].concat(ke);return Ke.forEach(function(N,oe){J[oe]=(je.levels[N]&1?ge(ke[N]):null)||ke[N]}),J.join("")}function We(ke,je,He,Ne){for(var Ke=Ie(ke,je,He,Ne),J=[],N=0;N<ke.length;N++)J[N]=N;return Ke.forEach(function(oe){for(var Le=oe[0],Te=oe[1],_e=J.slice(Le,Te+1),ye=_e.length;ye--;)J[Te-ye]=_e[ye]}),J}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=M,e.getEmbeddingLevels=xe,e.getMirroredCharacter=ge,e.getMirroredCharactersMap=Me,e.getReorderSegments=Ie,e.getReorderedIndices=We,e.getReorderedString=Re,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const u5=/\bvoid\s+main\s*\(\s*\)\s*{/g;function ME(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let o=en[i];return o?ME(o):r}return t.replace(e,n)}const hi=[];for(let t=0;t<256;t++)hi[t]=(t<16?"0":"")+t.toString(16);function ace(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(hi[t&255]+hi[t>>8&255]+hi[t>>16&255]+hi[t>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[n&63|128]+hi[n>>8&255]+"-"+hi[n>>16&255]+hi[n>>24&255]+hi[r&255]+hi[r>>8&255]+hi[r>>16&255]+hi[r>>24&255]).toUpperCase()}const Fc=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},lce=Date.now(),VI=new WeakMap,WI=new Map;let cce=1e10;function TE(t,e){const n=hce(e);let r=VI.get(t);if(r||VI.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,o=function(c,u){t.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=WI[f];if(!d){const p=uce(this,c,e,n);d=WI[f]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,Fc(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-lce}}),this[i]&&this[i](c)},s=function(){return l(e.chained?t:t.clone())},l=function(c){const u=Object.create(c,a);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:cce++}),u.uuid=ace(),u.uniforms=Fc({},c.uniforms,e.uniforms),u.defines=Fc({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=Fc({},c.extensions,e.extensions),u._listeners=void 0,u},a={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return o},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Fc(this.extensions,c.extensions),Fc(this.defines,c.defines),Fc(this.uniforms,fx.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return l(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=TE(t.isDerivedMaterial?t.getDepthMaterial():new px({depthPacking:S2}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=TE(t.isDerivedMaterial?t.getDistanceMaterial():new mx,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=s,new s}function uce(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:s,vertexMainOutro:l,vertexTransform:a,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:g}=r;if(o=o||"",s=s||"",l=l||"",c=c||"",u=u||"",f=f||"",(a||p)&&(e=ME(e)),(d||p)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=ME(n)),p){let y=p({vertexShader:e,fragmentShader:n});e=y.vertexShader,n=y.fragmentShader}if(d){let y=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(y.push(x),"")),f=`${d}
${y.join(`
`)}
${f}`}if(g){const y=`
uniform float ${g};
`;o=y+o,c=y+c}return a&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${a}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,x,v,b)=>/\battribute\s+vec[23]\s+$/.test(b.substr(0,v))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=jI(e,i,o,s,l),n=jI(n,i,c,u,f),{vertexShader:e,fragmentShader:n}}function jI(t,e,n,r,i){return(r||i||n)&&(t=t.replace(u5,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function fce(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let dce=0;const $I=new Map;function hce(t){const e=JSON.stringify(t,fce);let n=$I.get(e);return n==null&&$I.set(e,n=++dce),n}function pce(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),o=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,l="[^\\S\\u00A0]",a=new RegExp(`${l}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(b,_){function S(){const E=M=>{console.error(`Failure loading font ${b}${b===r?"":"; trying fallback"}`,M),b!==r&&(b=r,S())};try{const M=new XMLHttpRequest;M.open("get",b,!0),M.responseType="arraybuffer",M.onload=function(){if(M.status>=400)E(new Error(M.statusText));else if(M.status>0)try{const T=t(M.response);_(T)}catch(T){E(T)}},M.onerror=E,M.send()}catch(M){E(M)}}S()}function u(b,_){b||(b=r);let S=i[b];S?S.pending?S.pending.push(_):_(S):(i[b]={pending:[_]},c(b,E=>{let M=i[b].pending;i[b]=E,M.forEach(T=>T(E))}))}function f({text:b="",font:_=r,sdfGlyphSize:S=64,fontSize:E=1,letterSpacing:M=0,lineHeight:T="normal",maxWidth:R=o,direction:C,textAlign:P="left",textIndent:F=0,whiteSpace:G="normal",overflowWrap:V="normal",anchorX:B=0,anchorY:X=0,includeCaretPositions:ee=!1,chunkedBoundsSize:te=8192,colorRanges:O=null},D,H=!1){const $=y(),W={fontLoad:0,typesetting:0};b.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),b=b.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,M=+M,R=+R,T=T||"normal",F=+F,u(_,ie=>{const j=isFinite(R);let Y=null,K=null,fe=null,pe=null,xe=null,Ge=null,Ae=null,z=0,ge=0,Me=G!=="nowrap";const{ascender:Ie,descender:Re,unitsPerEm:We,lineGap:ke,capHeight:je,xHeight:He}=ie;W.fontLoad=y()-$;const Ne=y(),Ke=E/We;T==="normal"&&(T=(Ie-Re+ke)/We),T=T*E;const J=(T-(Ie-Re)*Ke)/2,N=-(Ie*Ke+J),oe=Math.min(T,(Ie-Re)*Ke),Le=(Ie+Re)/2*Ke-oe/2;let Te=F,_e=new x;const ye=[_e];ie.forEachGlyph(b,E,M,(be,se,de)=>{const he=b.charAt(de),me=be.advanceWidth*Ke,Ue=_e.count;let qe;if("isEmpty"in be||(be.isWhitespace=!!he&&new RegExp(l).test(he),be.canBreakAfter=!!he&&a.test(he),be.isEmpty=be.xMin===be.xMax||be.yMin===be.yMax||s.test(he)),!be.isWhitespace&&!be.isEmpty&&ge++,Me&&j&&!be.isWhitespace&&se+me+Te>R&&Ue){if(_e.glyphAt(Ue-1).glyphObj.canBreakAfter)qe=new x,Te=-se;else for(let Be=Ue;Be--;)if(Be===0&&V==="break-word"){qe=new x,Te=-se;break}else if(_e.glyphAt(Be).glyphObj.canBreakAfter){qe=_e.splitAt(Be+1);const Ee=qe.glyphAt(0).x;Te-=Ee;for(let Ye=qe.count;Ye--;)qe.glyphAt(Ye).x-=Ee;break}qe&&(_e.isSoftWrapped=!0,_e=qe,ye.push(_e),z=R)}let re=_e.glyphAt(_e.count);re.glyphObj=be,re.x=se+Te,re.width=me,re.charIndex=de,he===`
`&&(_e=new x,ye.push(_e),Te=-(se+me+M*E)+F)}),ye.forEach(be=>{for(let se=be.count;se--;){let{glyphObj:de,x:he,width:me}=be.glyphAt(se);if(!de.isWhitespace){be.width=he+me,be.width>z&&(z=be.width);return}}});let we=0,Se=0;if(B&&(typeof B=="number"?we=-B:typeof B=="string"&&(we=-z*(B==="left"?0:B==="center"?.5:B==="right"?1:p(B)))),X){if(typeof X=="number")Se=-X;else if(typeof X=="string"){let be=ye.length*T;Se=X==="top"?0:X==="top-baseline"?-N:X==="top-cap"?-N-je*Ke:X==="top-ex"?-N-He*Ke:X==="middle"?be/2:X==="bottom"?be:X==="bottom-baseline"?be-J+Re*Ke:p(X)*be}}if(!H){const be=e.getEmbeddingLevels(b,C);Y=new Uint16Array(ge),K=new Float32Array(ge*2),fe={},Ge=[o,o,-o,-o],Ae=[];let se=N;ee&&(xe=new Float32Array(b.length*3)),O&&(pe=new Uint8Array(ge*3));let de=0,he=-1,me=-1,Ue,qe;if(ye.forEach((re,Be)=>{let{count:Ee,width:Ye}=re;if(Ee>0){let tt=0;for(let jt=Ee;jt--&&re.glyphAt(jt).glyphObj.isWhitespace;)tt++;let vt=0,xt=0;if(P==="center")vt=(z-Ye)/2;else if(P==="right")vt=z-Ye;else if(P==="justify"&&re.isSoftWrapped){let jt=0;for(let Vt=Ee-tt;Vt--;)re.glyphAt(Vt).glyphObj.isWhitespace&&jt++;xt=(z-Ye)/jt}if(xt||vt){let jt=0;for(let Vt=0;Vt<Ee;Vt++){let $n=re.glyphAt(Vt);const rr=$n.glyphObj;$n.x+=vt+jt,xt!==0&&rr.isWhitespace&&Vt<Ee-tt&&(jt+=xt,$n.width+=xt)}}const Et=e.getReorderSegments(b,be,re.glyphAt(0).charIndex,re.glyphAt(re.count-1).charIndex);for(let jt=0;jt<Et.length;jt++){const[Vt,$n]=Et[jt];let rr=1/0,fn=-1/0;for(let Pn=0;Pn<Ee;Pn++)if(re.glyphAt(Pn).charIndex>=Vt){let mr=Pn,xn=Pn;for(;xn<Ee;xn++){let Ht=re.glyphAt(xn);if(Ht.charIndex>$n)break;xn<Ee-tt&&(rr=Math.min(rr,Ht.x),fn=Math.max(fn,Ht.x+Ht.width))}for(let Ht=mr;Ht<xn;Ht++){const bn=re.glyphAt(Ht);bn.x=fn-(bn.x+bn.width-rr)}break}}let Gt;const Xt=jt=>Gt=jt;for(let jt=0;jt<Ee;jt++){let Vt=re.glyphAt(jt);Gt=Vt.glyphObj;const $n=Gt.index,rr=be.levels[Vt.charIndex]&1;if(rr){const fn=e.getMirroredCharacter(b[Vt.charIndex]);fn&&ie.forEachGlyph(fn,0,0,Xt)}if(ee){const{charIndex:fn}=Vt,Pn=Vt.x+we,mr=Vt.x+Vt.width+we;xe[fn*3]=rr?mr:Pn,xe[fn*3+1]=rr?Pn:mr,xe[fn*3+2]=se+Le+Se;const xn=fn-he;xn>1&&g(xe,he,xn),he=fn}if(O){const{charIndex:fn}=Vt;for(;fn>me;)me++,O.hasOwnProperty(me)&&(qe=O[me])}if(!Gt.isWhitespace&&!Gt.isEmpty){const fn=de++;fe[$n]||(fe[$n]={path:Gt.path,pathBounds:[Gt.xMin,Gt.yMin,Gt.xMax,Gt.yMax]});const Pn=Vt.x+we,mr=se+Se;K[fn*2]=Pn,K[fn*2+1]=mr;const xn=Pn+Gt.xMin*Ke,Ht=mr+Gt.yMin*Ke,bn=Pn+Gt.xMax*Ke,ir=mr+Gt.yMax*Ke;xn<Ge[0]&&(Ge[0]=xn),Ht<Ge[1]&&(Ge[1]=Ht),bn>Ge[2]&&(Ge[2]=bn),ir>Ge[3]&&(Ge[3]=ir),fn%te===0&&(Ue={start:fn,end:fn,rect:[o,o,-o,-o]},Ae.push(Ue)),Ue.end++;const mn=Ue.rect;if(xn<mn[0]&&(mn[0]=xn),Ht<mn[1]&&(mn[1]=Ht),bn>mn[2]&&(mn[2]=bn),ir>mn[3]&&(mn[3]=ir),Y[fn]=$n,O){const ue=fn*3;pe[ue]=qe>>16&255,pe[ue+1]=qe>>8&255,pe[ue+2]=qe&255}}}}se-=T}),xe){const re=b.length-he;re>1&&g(xe,he,re)}}W.typesetting=y()-Ne,D({glyphIds:Y,glyphPositions:K,glyphData:fe,caretPositions:xe,caretHeight:oe,glyphColors:pe,chunkedBounds:Ae,fontSize:E,unitsPerEm:We,ascender:Ie*Ke,descender:Re*Ke,capHeight:je*Ke,xHeight:He*Ke,lineHeight:T,topBaseline:N,blockBounds:[we,Se-ye.length*T,we+z,Se],visibleBounds:Ge,timings:W})})}function d(b,_){f(b,S=>{const[E,M,T,R]=S.blockBounds;_({width:T-E,height:R-M})},{metricsOnly:!0})}function p(b){let _=b.match(/^([\d.]+)%$/),S=_?parseFloat(_[1]):NaN;return isNaN(S)?0:S/100}function g(b,_,S){const E=b[_*3],M=b[_*3+1],T=b[_*3+2],R=(M-E)/S;for(let C=0;C<S;C++){const P=(_+C)*3;b[P]=E+R*C,b[P+1]=E+R*(C+1),b[P+2]=T}}function y(){return(self.performance||Date).now()}function x(){this.data=[]}const v=["glyphObj","x","width","charIndex"];return x.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt(b){let _=x.flyweight;return _.data=this.data,_.index=b,_},splitAt(b){let _=new x;return _.data=this.data.splice(b*v.length),_}},x.flyweight=v.reduce((b,_,S,E)=>(Object.defineProperty(b,_,{get(){return this.data[this.index*v.length+S]},set(M){this.data[this.index*v.length+S]=M}}),b),{data:null,index:0}),{typeset:f,measure:d,loadFont:u}}const uu=()=>(self.performance||Date).now(),Ax=c5();let XI;function mce(t,e,n,r,i,o,s,l,a,c,u=!0){return u?vce(t,e,n,r,i,o,s,l,a,c).then(null,f=>(XI||(console.warn("WebGL SDF generation failed, falling back to JS",f),XI=!0),YI(t,e,n,r,i,o,s,l,a,c))):YI(t,e,n,r,i,o,s,l,a,c)}const Wv=[],gce=5;let AE=0;function f5(){const t=uu();for(;Wv.length&&uu()-t<gce;)Wv.shift()();AE=Wv.length?setTimeout(f5,0):0}const vce=(...t)=>new Promise((e,n)=>{Wv.push(()=>{const r=uu();try{Ax.webgl.generateIntoCanvas(...t),e({timing:uu()-r})}catch(i){n(i)}}),AE||(AE=setTimeout(f5,0))}),yce=4,xce=2e3,qI={};let bce=0;function YI(t,e,n,r,i,o,s,l,a,c){const u="TroikaTextSDFGenerator_JS_"+bce++%yce;let f=qI[u];return f||(f=qI[u]={workerModule:rg({name:u,workerId:u,dependencies:[c5,uu],init(d,p){const g=d().javascript.generate;return function(...y){const x=p();return{textureData:g(...y),timing:p()-x}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,o).then(({textureData:d,timing:p})=>{const g=uu(),y=new Uint8Array(d.length*4);for(let x=0;x<d.length;x++)y[x*4+c]=d[x];return Ax.webglUtils.renderImageData(s,y,l,a,t,e,1<<3-c),p+=uu()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{ice(u)},xce)),{timing:p}})}function _ce(t){t._warm||(Ax.webgl.isSupported(t),t._warm=!0)}const Sce=Ax.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function wce(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var o=e._bin,s=new Uint8Array(i);if(o.readASCII(s,0,4)=="ttcf"){var l=4;o.readUshort(s,l),l+=2,o.readUshort(s,l),l+=2;var a=o.readUint(s,l);l+=4;for(var c=[],u=0;u<a;u++){var f=o.readUint(s,l);l+=4,c.push(e._readFont(s,f))}return c}return[e._readFont(s,0)]},_readFont:function(i,o){var s=e._bin,l=o;s.readFixed(i,o),o+=4;var a=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:l},f={},d=0;d<a;d++){var p=s.readASCII(i,o,4);o+=4,s.readUint(i,o),o+=4;var g=s.readUint(i,o);o+=4;var y=s.readUint(i,o);o+=4,f[p]={offset:g,length:y}}for(d=0;d<c.length;d++){var x=c[d];f[x]&&(u[x.trim()]=e[x.trim()].parse(i,f[x].offset,f[x].length,u))}return u},_tabOffset:function(i,o,s){for(var l=e._bin,a=l.readUshort(i,s+4),c=s+12,u=0;u<a;u++){var f=l.readASCII(i,c,4);c+=4,l.readUint(i,c),c+=4;var d=l.readUint(i,c);if(c+=4,l.readUint(i,c),c+=4,f==o)return d}return 0}};e._bin={readFixed:function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<8|i[o+3])/65540},readF2dot14:function(i,o){return e._bin.readShort(i,o)/16384},readInt:function(i,o){return e._bin._view(i).getInt32(o)},readInt8:function(i,o){return e._bin._view(i).getInt8(o)},readShort:function(i,o){return e._bin._view(i).getInt16(o)},readUshort:function(i,o){return e._bin._view(i).getUint16(o)},readUshorts:function(i,o,s){for(var l=[],a=0;a<s;a++)l.push(e._bin.readUshort(i,o+2*a));return l},readUint:function(i,o){return e._bin._view(i).getUint32(o)},readUint64:function(i,o){return 4294967296*e._bin.readUint(i,o)+e._bin.readUint(i,o+4)},readASCII:function(i,o,s){for(var l="",a=0;a<s;a++)l+=String.fromCharCode(i[o+a]);return l},readUnicode:function(i,o,s){for(var l="",a=0;a<s;a++){var c=i[o++]<<8|i[o++];l+=String.fromCharCode(c)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,o,s){var l=e._bin._tdec;return l&&o==0&&s==i.length?l.decode(i):e._bin.readASCII(i,o,s)},readBytes:function(i,o,s){for(var l=[],a=0;a<s;a++)l.push(i[o+a]);return l},readASCIIArray:function(i,o,s){for(var l=[],a=0;a<s;a++)l.push(String.fromCharCode(i[o+a]));return l},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,o,s,l,a){var c=e._bin,u={},f=o;c.readFixed(i,o),o+=4;var d=c.readUshort(i,o);o+=2;var p=c.readUshort(i,o);o+=2;var g=c.readUshort(i,o);return o+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+p),u.lookupList=e._lctf.readLookupList(i,f+g,a),u},e._lctf.readLookupList=function(i,o,s){var l=e._bin,a=o,c=[],u=l.readUshort(i,o);o+=2;for(var f=0;f<u;f++){var d=l.readUshort(i,o);o+=2;var p=e._lctf.readLookupTable(i,a+d,s);c.push(p)}return c},e._lctf.readLookupTable=function(i,o,s){var l=e._bin,a=o,c={tabs:[]};c.ltype=l.readUshort(i,o),o+=2,c.flag=l.readUshort(i,o),o+=2;var u=l.readUshort(i,o);o+=2;for(var f=c.ltype,d=0;d<u;d++){var p=l.readUshort(i,o);o+=2;var g=s(i,f,a+p,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var o=0,s=0;s<32;s++)i>>>s&1&&o++;return o},e._lctf.readClassDef=function(i,o){var s=e._bin,l=[],a=s.readUshort(i,o);if(o+=2,a==1){var c=s.readUshort(i,o);o+=2;var u=s.readUshort(i,o);o+=2;for(var f=0;f<u;f++)l.push(c+f),l.push(c+f),l.push(s.readUshort(i,o)),o+=2}if(a==2){var d=s.readUshort(i,o);for(o+=2,f=0;f<d;f++)l.push(s.readUshort(i,o)),o+=2,l.push(s.readUshort(i,o)),o+=2,l.push(s.readUshort(i,o)),o+=2}return l},e._lctf.getInterval=function(i,o){for(var s=0;s<i.length;s+=3){var l=i[s],a=i[s+1];if(i[s+2],l<=o&&o<=a)return s}return-1},e._lctf.readCoverage=function(i,o){var s=e._bin,l={};l.fmt=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);return o+=2,l.fmt==1&&(l.tab=s.readUshorts(i,o,a)),l.fmt==2&&(l.tab=s.readUshorts(i,o,3*a)),l},e._lctf.coverageIndex=function(i,o){var s=i.tab;if(i.fmt==1)return s.indexOf(o);if(i.fmt==2){var l=e._lctf.getInterval(s,o);if(l!=-1)return s[l+2]+(o-s[l])}return-1},e._lctf.readFeatureList=function(i,o){var s=e._bin,l=o,a=[],c=s.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=s.readASCII(i,o,4);o+=4;var d=s.readUshort(i,o);o+=2;var p=e._lctf.readFeatureTable(i,l+d);p.tag=f.trim(),a.push(p)}return a},e._lctf.readFeatureTable=function(i,o){var s=e._bin,l=o,a={},c=s.readUshort(i,o);o+=2,c>0&&(a.featureParams=l+c);var u=s.readUshort(i,o);o+=2,a.tab=[];for(var f=0;f<u;f++)a.tab.push(s.readUshort(i,o+2*f));return a},e._lctf.readScriptList=function(i,o){var s=e._bin,l=o,a={},c=s.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=s.readASCII(i,o,4);o+=4;var d=s.readUshort(i,o);o+=2,a[f.trim()]=e._lctf.readScriptTable(i,l+d)}return a},e._lctf.readScriptTable=function(i,o){var s=e._bin,l=o,a={},c=s.readUshort(i,o);o+=2,a.default=e._lctf.readLangSysTable(i,l+c);var u=s.readUshort(i,o);o+=2;for(var f=0;f<u;f++){var d=s.readASCII(i,o,4);o+=4;var p=s.readUshort(i,o);o+=2,a[d.trim()]=e._lctf.readLangSysTable(i,l+p)}return a},e._lctf.readLangSysTable=function(i,o){var s=e._bin,l={};s.readUshort(i,o),o+=2,l.reqFeature=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);return o+=2,l.features=s.readUshorts(i,o,a),l},e.CFF={},e.CFF.parse=function(i,o,s){var l=e._bin;(i=new Uint8Array(i.buffer,o,s))[o=0],i[++o],i[++o],i[++o],o++;var a=[];o=e.CFF.readIndex(i,o,a);for(var c=[],u=0;u<a.length-1;u++)c.push(l.readASCII(i,o+a[u],a[u+1]-a[u]));o+=a[a.length-1];var f=[];o=e.CFF.readIndex(i,o,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,o+f[u],o+f[u+1]));o+=f[f.length-1];var p=d[0],g=[];o=e.CFF.readIndex(i,o,g);var y=[];for(u=0;u<g.length-1;u++)y.push(l.readASCII(i,o+g[u],g[u+1]-g[u]));if(o+=g[g.length-1],e.CFF.readSubrs(i,o,p),p.CharStrings){o=p.CharStrings,g=[],o=e.CFF.readIndex(i,o,g);var x=[];for(u=0;u<g.length-1;u++)x.push(l.readBytes(i,o+g[u],g[u+1]-g[u]));p.CharStrings=x}if(p.ROS){o=p.FDArray;var v=[];for(o=e.CFF.readIndex(i,o,v),p.FDArray=[],u=0;u<v.length-1;u++){var b=e.CFF.readDict(i,o+v[u],o+v[u+1]);e.CFF._readFDict(i,b,y),p.FDArray.push(b)}o+=v[v.length-1],o=p.FDSelect,p.FDSelect=[];var _=i[o];if(o++,_!=3)throw _;var S=l.readUshort(i,o);for(o+=2,u=0;u<S+1;u++)p.FDSelect.push(l.readUshort(i,o),i[o+2]),o+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,y),p},e.CFF._readFDict=function(i,o,s){var l;for(var a in o.Private&&(l=o.Private[1],o.Private=e.CFF.readDict(i,l,l+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(i,l+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)!=-1&&(o[a]=s[o[a]-426+35])},e.CFF.readSubrs=function(i,o,s){var l=e._bin,a=[];o=e.CFF.readIndex(i,o,a);var c,u=a.length;c=u<1240?107:u<33900?1131:32768,s.Bias=c,s.Subrs=[];for(var f=0;f<a.length-1;f++)s.Subrs.push(l.readBytes(i,o+a[f],a[f+1]-a[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,o){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==o)return s;return-1},e.CFF.glyphBySE=function(i,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[o])},e.CFF.readEncoding=function(i,o,s){e._bin;var l=[".notdef"],a=i[o];if(o++,a!=0)throw"error: unknown encoding format: "+a;var c=i[o];o++;for(var u=0;u<c;u++)l.push(i[o+u]);return l},e.CFF.readCharset=function(i,o,s){var l=e._bin,a=[".notdef"],c=i[o];if(o++,c==0)for(var u=0;u<s;u++){var f=l.readUshort(i,o);o+=2,a.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;a.length<s;){f=l.readUshort(i,o),o+=2;var d=0;for(c==1?(d=i[o],o++):(d=l.readUshort(i,o),o+=2),u=0;u<=d;u++)a.push(f),f++}}return a},e.CFF.readIndex=function(i,o,s){var l=e._bin,a=l.readUshort(i,o)+1,c=i[o+=2];if(o++,c==1)for(var u=0;u<a;u++)s.push(i[o+u]);else if(c==2)for(u=0;u<a;u++)s.push(l.readUshort(i,o+2*u));else if(c==3)for(u=0;u<a;u++)s.push(16777215&l.readUint(i,o+3*u-1));else if(a!=1)throw"unsupported offset size: "+c+", count: "+a;return(o+=a*c)-1},e.CFF.getCharString=function(i,o,s){var l=e._bin,a=i[o],c=i[o+1];i[o+2],i[o+3],i[o+4];var u=1,f=null,d=null;a<=20&&(f=a,u=1),a==12&&(f=100*a+c,u=2),21<=a&&a<=27&&(f=a,u=1),a==28&&(d=l.readShort(i,o+1),u=3),29<=a&&a<=31&&(f=a,u=1),32<=a&&a<=246&&(d=a-139,u=1),247<=a&&a<=250&&(d=256*(a-247)+c+108,u=2),251<=a&&a<=254&&(d=256*-(a-251)-c-108,u=2),a==255&&(d=l.readInt(i,o+1)/65535,u=5),s.val=d??"o"+f,s.size=u},e.CFF.readCharString=function(i,o,s){for(var l=o+s,a=e._bin,c=[];o<l;){var u=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,p=null,g=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(g=a.readShort(i,o+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=a.readInt(i,o+1)/65535,d=5),c.push(g??"o"+p),o+=d}return c},e.CFF.readDict=function(i,o,s){for(var l=e._bin,a={},c=[];o<s;){var u=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,p=null,g=null;if(u==28&&(g=l.readShort(i,o+1),d=3),u==29&&(g=l.readInt(i,o+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=l.readInt(i,o+1)/65535,d=5,"unknown number";if(u==30){var y=[];for(d=1;;){var x=i[o+d];d++;var v=x>>4,b=15&x;if(v!=15&&y.push(v),b!=15&&y.push(b),b==15)break}for(var _="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<y.length;E++)_+=S[y[E]];g=parseFloat(_)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(a[p]=c.length==1?c[0]:c,c=[]):c.push(g),o+=d}return a},e.cmap={},e.cmap.parse=function(i,o,s){i=new Uint8Array(i.buffer,o,s),o=0;var l=e._bin,a={};l.readUshort(i,o),o+=2;var c=l.readUshort(i,o);o+=2;var u=[];a.tables=[];for(var f=0;f<c;f++){var d=l.readUshort(i,o);o+=2;var p=l.readUshort(i,o);o+=2;var g=l.readUint(i,o);o+=4;var y="p"+d+"e"+p,x=u.indexOf(g);if(x==-1){var v;x=a.tables.length,u.push(g);var b=l.readUshort(i,g);b==0?v=e.cmap.parse0(i,g):b==4?v=e.cmap.parse4(i,g):b==6?v=e.cmap.parse6(i,g):b==12?v=e.cmap.parse12(i,g):console.debug("unknown format: "+b,d,p,g),a.tables.push(v)}if(a[y]!=null)throw"multiple tables for one platform+encoding";a[y]=x}return a},e.cmap.parse0=function(i,o){var s=e._bin,l={};l.format=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,l.map=[];for(var c=0;c<a-6;c++)l.map.push(i[o+c]);return l},e.cmap.parse4=function(i,o){var s=e._bin,l=o,a={};a.format=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2;var u=s.readUshort(i,o);o+=2;var f=u/2;a.searchRange=s.readUshort(i,o),o+=2,a.entrySelector=s.readUshort(i,o),o+=2,a.rangeShift=s.readUshort(i,o),o+=2,a.endCount=s.readUshorts(i,o,f),o+=2*f,o+=2,a.startCount=s.readUshorts(i,o,f),o+=2*f,a.idDelta=[];for(var d=0;d<f;d++)a.idDelta.push(s.readShort(i,o)),o+=2;for(a.idRangeOffset=s.readUshorts(i,o,f),o+=2*f,a.glyphIdArray=[];o<l+c;)a.glyphIdArray.push(s.readUshort(i,o)),o+=2;return a},e.cmap.parse6=function(i,o){var s=e._bin,l={};l.format=s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,l.firstCode=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);o+=2,l.glyphIdArray=[];for(var c=0;c<a;c++)l.glyphIdArray.push(s.readUshort(i,o)),o+=2;return l},e.cmap.parse12=function(i,o){var s=e._bin,l={};l.format=s.readUshort(i,o),o+=2,o+=2,s.readUint(i,o),o+=4,s.readUint(i,o),o+=4;var a=s.readUint(i,o);o+=4,l.groups=[];for(var c=0;c<a;c++){var u=o+12*c,f=s.readUint(i,u+0),d=s.readUint(i,u+4),p=s.readUint(i,u+8);l.groups.push([f,d,p])}return l},e.glyf={},e.glyf.parse=function(i,o,s,l){for(var a=[],c=0;c<l.maxp.numGlyphs;c++)a.push(null);return a},e.glyf._parseGlyf=function(i,o){var s=e._bin,l=i._data,a=e._tabOffset(l,"glyf",i._offset)+i.loca[o];if(i.loca[o]==i.loca[o+1])return null;var c={};if(c.noc=s.readShort(l,a),a+=2,c.xMin=s.readShort(l,a),a+=2,c.yMin=s.readShort(l,a),a+=2,c.xMax=s.readShort(l,a),a+=2,c.yMax=s.readShort(l,a),a+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(s.readUshort(l,a)),a+=2;var f=s.readUshort(l,a);if(a+=2,l.length-a<f)return null;c.instructions=s.readBytes(l,a,f),a+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=l[a];if(a++,c.flags.push(p),(8&p)!=0){var g=l[a];a++;for(var y=0;y<g;y++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var x=(2&c.flags[u])!=0,v=(16&c.flags[u])!=0;x?(c.xs.push(v?l[a]:-l[a]),a++):v?c.xs.push(0):(c.xs.push(s.readShort(l,a)),a+=2)}for(c.ys=[],u=0;u<d;u++)x=(4&c.flags[u])!=0,v=(32&c.flags[u])!=0,x?(c.ys.push(v?l[a]:-l[a]),a++):v?c.ys.push(0):(c.ys.push(s.readShort(l,a)),a+=2);var b=0,_=0;for(u=0;u<d;u++)b+=c.xs[u],_+=c.ys[u],c.xs[u]=b,c.ys[u]=_}else{var S;c.parts=[];do{S=s.readUshort(l,a),a+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=s.readUshort(l,a),a+=2,1&S){var M=s.readShort(l,a);a+=2;var T=s.readShort(l,a);a+=2}else M=s.readInt8(l,a),a++,T=s.readInt8(l,a),a++;2&S?(E.m.tx=M,E.m.ty=T):(E.p1=M,E.p2=T),8&S?(E.m.a=E.m.d=s.readF2dot14(l,a),a+=2):64&S?(E.m.a=s.readF2dot14(l,a),a+=2,E.m.d=s.readF2dot14(l,a),a+=2):128&S&&(E.m.a=s.readF2dot14(l,a),a+=2,E.m.b=s.readF2dot14(l,a),a+=2,E.m.c=s.readF2dot14(l,a),a+=2,E.m.d=s.readF2dot14(l,a),a+=2)}while(32&S);if(256&S){var R=s.readUshort(l,a);for(a+=2,c.instr=[],u=0;u<R;u++)c.instr.push(l[a]),a++}}return c},e.GPOS={},e.GPOS.parse=function(i,o,s,l){return e._lctf.parse(i,o,s,l,e.GPOS.subt)},e.GPOS.subt=function(i,o,s,l){var a=e._bin,c=s,u={};if(u.fmt=a.readUshort(i,s),s+=2,o==1||o==2||o==3||o==7||o==8&&u.fmt<=2){var f=a.readUshort(i,s);s+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(o==1&&u.fmt==1){var d=a.readUshort(i,s);s+=2;var p=e._lctf.numOfOnes(d);d!=0&&(u.pos=e.GPOS.readValueRecord(i,s,d))}else if(o==2&&u.fmt>=1&&u.fmt<=2){d=a.readUshort(i,s),s+=2;var g=a.readUshort(i,s);s+=2,p=e._lctf.numOfOnes(d);var y=e._lctf.numOfOnes(g);if(u.fmt==1){u.pairsets=[];var x=a.readUshort(i,s);s+=2;for(var v=0;v<x;v++){var b=c+a.readUshort(i,s);s+=2;var _=a.readUshort(i,b);b+=2;for(var S=[],E=0;E<_;E++){var M=a.readUshort(i,b);b+=2,d!=0&&(G=e.GPOS.readValueRecord(i,b,d),b+=2*p),g!=0&&(V=e.GPOS.readValueRecord(i,b,g),b+=2*y),S.push({gid2:M,val1:G,val2:V})}u.pairsets.push(S)}}if(u.fmt==2){var T=a.readUshort(i,s);s+=2;var R=a.readUshort(i,s);s+=2;var C=a.readUshort(i,s);s+=2;var P=a.readUshort(i,s);for(s+=2,u.classDef1=e._lctf.readClassDef(i,c+T),u.classDef2=e._lctf.readClassDef(i,c+R),u.matrix=[],v=0;v<C;v++){var F=[];for(E=0;E<P;E++){var G=null,V=null;d!=0&&(G=e.GPOS.readValueRecord(i,s,d),s+=2*p),g!=0&&(V=e.GPOS.readValueRecord(i,s,g),s+=2*y),F.push({val1:G,val2:V})}u.matrix.push(F)}}}else{if(o==9&&u.fmt==1){var B=a.readUshort(i,s);s+=2;var X=a.readUint(i,s);if(s+=4,l.ltype==9)l.ltype=B;else if(l.ltype!=B)throw"invalid extension substitution";return e.GPOS.subt(i,l.ltype,c+X)}console.debug("unsupported GPOS table LookupType",o,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,o,s){var l=e._bin,a=[];return a.push(1&s?l.readShort(i,o):0),o+=1&s?2:0,a.push(2&s?l.readShort(i,o):0),o+=2&s?2:0,a.push(4&s?l.readShort(i,o):0),o+=4&s?2:0,a.push(8&s?l.readShort(i,o):0),o+=8&s?2:0,a},e.GSUB={},e.GSUB.parse=function(i,o,s,l){return e._lctf.parse(i,o,s,l,e.GSUB.subt)},e.GSUB.subt=function(i,o,s,l){var a=e._bin,c=s,u={};if(u.fmt=a.readUshort(i,s),s+=2,o!=1&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==4||o==5&&u.fmt<=2||o==6&&u.fmt<=2){var f=a.readUshort(i,s);s+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(o==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=a.readShort(i,s),s+=2;else if(u.fmt==2){var d=a.readUshort(i,s);s+=2,u.newg=a.readUshorts(i,s,d),s+=2*u.newg.length}}else if(o==4){u.vals=[],d=a.readUshort(i,s),s+=2;for(var p=0;p<d;p++){var g=a.readUshort(i,s);s+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+g))}}else if(o==5&&u.fmt==2){if(u.fmt==2){var y=a.readUshort(i,s);s+=2,u.cDef=e._lctf.readClassDef(i,c+y),u.scset=[];var x=a.readUshort(i,s);for(s+=2,p=0;p<x;p++){var v=a.readUshort(i,s);s+=2,u.scset.push(v==0?null:e.GSUB.readSubClassSet(i,c+v))}}}else if(o==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=a.readUshort(i,s),s+=2;for(var b=[],_=0;_<d;_++)b.push(e._lctf.readCoverage(i,c+a.readUshort(i,s+2*_)));s+=2*d,p==0&&(u.backCvg=b),p==1&&(u.inptCvg=b),p==2&&(u.ahedCvg=b)}d=a.readUshort(i,s),s+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,s,d)}}else{if(o==7&&u.fmt==1){var S=a.readUshort(i,s);s+=2;var E=a.readUint(i,s);if(s+=4,l.ltype==9)l.ltype=S;else if(l.ltype!=S)throw"invalid extension substitution";return e.GSUB.subt(i,l.ltype,c+E)}console.debug("unsupported GSUB table LookupType",o,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,o){var s=e._bin.readUshort,l=o,a=[],c=s(i,o);o+=2;for(var u=0;u<c;u++){var f=s(i,o);o+=2,a.push(e.GSUB.readSubClassRule(i,l+f))}return a},e.GSUB.readSubClassRule=function(i,o){var s=e._bin.readUshort,l={},a=s(i,o),c=s(i,o+=2);o+=2,l.input=[];for(var u=0;u<a-1;u++)l.input.push(s(i,o)),o+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(i,o,c),l},e.GSUB.readSubstLookupRecords=function(i,o,s){for(var l=e._bin.readUshort,a=[],c=0;c<s;c++)a.push(l(i,o),l(i,o+2)),o+=4;return a},e.GSUB.readChainSubClassSet=function(i,o){var s=e._bin,l=o,a=[],c=s.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=s.readUshort(i,o);o+=2,a.push(e.GSUB.readChainSubClassRule(i,l+f))}return a},e.GSUB.readChainSubClassRule=function(i,o){for(var s=e._bin,l={},a=["backtrack","input","lookahead"],c=0;c<a.length;c++){var u=s.readUshort(i,o);o+=2,c==1&&u--,l[a[c]]=s.readUshorts(i,o,u),o+=2*l[a[c]].length}return u=s.readUshort(i,o),o+=2,l.subst=s.readUshorts(i,o,2*u),o+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(i,o){var s=e._bin,l=o,a=[],c=s.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=s.readUshort(i,o);o+=2,a.push(e.GSUB.readLigature(i,l+f))}return a},e.GSUB.readLigature=function(i,o){var s=e._bin,l={chain:[]};l.nglyph=s.readUshort(i,o),o+=2;var a=s.readUshort(i,o);o+=2;for(var c=0;c<a-1;c++)l.chain.push(s.readUshort(i,o)),o+=2;return l},e.head={},e.head.parse=function(i,o,s){var l=e._bin,a={};return l.readFixed(i,o),o+=4,a.fontRevision=l.readFixed(i,o),o+=4,l.readUint(i,o),o+=4,l.readUint(i,o),o+=4,a.flags=l.readUshort(i,o),o+=2,a.unitsPerEm=l.readUshort(i,o),o+=2,a.created=l.readUint64(i,o),o+=8,a.modified=l.readUint64(i,o),o+=8,a.xMin=l.readShort(i,o),o+=2,a.yMin=l.readShort(i,o),o+=2,a.xMax=l.readShort(i,o),o+=2,a.yMax=l.readShort(i,o),o+=2,a.macStyle=l.readUshort(i,o),o+=2,a.lowestRecPPEM=l.readUshort(i,o),o+=2,a.fontDirectionHint=l.readShort(i,o),o+=2,a.indexToLocFormat=l.readShort(i,o),o+=2,a.glyphDataFormat=l.readShort(i,o),o+=2,a},e.hhea={},e.hhea.parse=function(i,o,s){var l=e._bin,a={};return l.readFixed(i,o),o+=4,a.ascender=l.readShort(i,o),o+=2,a.descender=l.readShort(i,o),o+=2,a.lineGap=l.readShort(i,o),o+=2,a.advanceWidthMax=l.readUshort(i,o),o+=2,a.minLeftSideBearing=l.readShort(i,o),o+=2,a.minRightSideBearing=l.readShort(i,o),o+=2,a.xMaxExtent=l.readShort(i,o),o+=2,a.caretSlopeRise=l.readShort(i,o),o+=2,a.caretSlopeRun=l.readShort(i,o),o+=2,a.caretOffset=l.readShort(i,o),o+=2,o+=8,a.metricDataFormat=l.readShort(i,o),o+=2,a.numberOfHMetrics=l.readUshort(i,o),o+=2,a},e.hmtx={},e.hmtx.parse=function(i,o,s,l){for(var a=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<l.maxp.numGlyphs;d++)d<l.hhea.numberOfHMetrics&&(u=a.readUshort(i,o),o+=2,f=a.readShort(i,o),o+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,o,s,l){var a=e._bin,c=a.readUshort(i,o);if(o+=2,c==1)return e.kern.parseV1(i,o-2,s,l);var u=a.readUshort(i,o);o+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){o+=2,s=a.readUshort(i,o),o+=2;var p=a.readUshort(i,o);o+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;o=e.kern.readFormat0(i,o,f)}return f},e.kern.parseV1=function(i,o,s,l){var a=e._bin;a.readFixed(i,o),o+=4;var c=a.readUint(i,o);o+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){a.readUint(i,o),o+=4;var d=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;o=e.kern.readFormat0(i,o,u)}return u},e.kern.readFormat0=function(i,o,s){var l=e._bin,a=-1,c=l.readUshort(i,o);o+=2,l.readUshort(i,o),o+=2,l.readUshort(i,o),o+=2,l.readUshort(i,o),o+=2;for(var u=0;u<c;u++){var f=l.readUshort(i,o);o+=2;var d=l.readUshort(i,o);o+=2;var p=l.readShort(i,o);o+=2,f!=a&&(s.glyph1.push(f),s.rval.push({glyph2:[],vals:[]}));var g=s.rval[s.rval.length-1];g.glyph2.push(d),g.vals.push(p),a=f}return o},e.loca={},e.loca.parse=function(i,o,s,l){var a=e._bin,c=[],u=l.head.indexToLocFormat,f=l.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(a.readUshort(i,o+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(a.readUint(i,o+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,o,s){var l=e._bin,a={},c=l.readUint(i,o);return o+=4,a.numGlyphs=l.readUshort(i,o),o+=2,c==65536&&(a.maxPoints=l.readUshort(i,o),o+=2,a.maxContours=l.readUshort(i,o),o+=2,a.maxCompositePoints=l.readUshort(i,o),o+=2,a.maxCompositeContours=l.readUshort(i,o),o+=2,a.maxZones=l.readUshort(i,o),o+=2,a.maxTwilightPoints=l.readUshort(i,o),o+=2,a.maxStorage=l.readUshort(i,o),o+=2,a.maxFunctionDefs=l.readUshort(i,o),o+=2,a.maxInstructionDefs=l.readUshort(i,o),o+=2,a.maxStackElements=l.readUshort(i,o),o+=2,a.maxSizeOfInstructions=l.readUshort(i,o),o+=2,a.maxComponentElements=l.readUshort(i,o),o+=2,a.maxComponentDepth=l.readUshort(i,o),o+=2),a},e.name={},e.name.parse=function(i,o,s){var l=e._bin,a={};l.readUshort(i,o),o+=2;var c=l.readUshort(i,o);o+=2,l.readUshort(i,o);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=o+=2,p=0;p<c;p++){var g=l.readUshort(i,o);o+=2;var y=l.readUshort(i,o);o+=2;var x=l.readUshort(i,o);o+=2;var v=l.readUshort(i,o);o+=2;var b=l.readUshort(i,o);o+=2;var _=l.readUshort(i,o);o+=2;var S,E=f[v],M=d+12*c+_;if(g==0)S=l.readUnicode(i,M,b/2);else if(g==3&&y==0)S=l.readUnicode(i,M,b/2);else if(y==0)S=l.readASCII(i,M,b);else if(y==1)S=l.readUnicode(i,M,b/2);else if(y==3)S=l.readUnicode(i,M,b/2);else{if(g!=1)throw"unknown encoding "+y+", platformID: "+g;S=l.readASCII(i,M,b),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var T="p"+g+","+x.toString(16);a[T]==null&&(a[T]={}),a[T][E!==void 0?E:v]=S,a[T]._lang=x}for(var R in a)if(a[R].postScriptName!=null&&a[R]._lang==1033)return a[R];for(var R in a)if(a[R].postScriptName!=null&&a[R]._lang==0)return a[R];for(var R in a)if(a[R].postScriptName!=null&&a[R]._lang==3084)return a[R];for(var R in a)if(a[R].postScriptName!=null)return a[R];for(var R in a){u=R;break}return console.debug("returning name table with languageID "+a[u]._lang),a[u]},e["OS/2"]={},e["OS/2"].parse=function(i,o,s){var l=e._bin.readUshort(i,o);o+=2;var a={};if(l==0)e["OS/2"].version0(i,o,a);else if(l==1)e["OS/2"].version1(i,o,a);else if(l==2||l==3||l==4)e["OS/2"].version2(i,o,a);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(i,o,a)}return a},e["OS/2"].version0=function(i,o,s){var l=e._bin;return s.xAvgCharWidth=l.readShort(i,o),o+=2,s.usWeightClass=l.readUshort(i,o),o+=2,s.usWidthClass=l.readUshort(i,o),o+=2,s.fsType=l.readUshort(i,o),o+=2,s.ySubscriptXSize=l.readShort(i,o),o+=2,s.ySubscriptYSize=l.readShort(i,o),o+=2,s.ySubscriptXOffset=l.readShort(i,o),o+=2,s.ySubscriptYOffset=l.readShort(i,o),o+=2,s.ySuperscriptXSize=l.readShort(i,o),o+=2,s.ySuperscriptYSize=l.readShort(i,o),o+=2,s.ySuperscriptXOffset=l.readShort(i,o),o+=2,s.ySuperscriptYOffset=l.readShort(i,o),o+=2,s.yStrikeoutSize=l.readShort(i,o),o+=2,s.yStrikeoutPosition=l.readShort(i,o),o+=2,s.sFamilyClass=l.readShort(i,o),o+=2,s.panose=l.readBytes(i,o,10),o+=10,s.ulUnicodeRange1=l.readUint(i,o),o+=4,s.ulUnicodeRange2=l.readUint(i,o),o+=4,s.ulUnicodeRange3=l.readUint(i,o),o+=4,s.ulUnicodeRange4=l.readUint(i,o),o+=4,s.achVendID=[l.readInt8(i,o),l.readInt8(i,o+1),l.readInt8(i,o+2),l.readInt8(i,o+3)],o+=4,s.fsSelection=l.readUshort(i,o),o+=2,s.usFirstCharIndex=l.readUshort(i,o),o+=2,s.usLastCharIndex=l.readUshort(i,o),o+=2,s.sTypoAscender=l.readShort(i,o),o+=2,s.sTypoDescender=l.readShort(i,o),o+=2,s.sTypoLineGap=l.readShort(i,o),o+=2,s.usWinAscent=l.readUshort(i,o),o+=2,s.usWinDescent=l.readUshort(i,o),o+=2},e["OS/2"].version1=function(i,o,s){var l=e._bin;return o=e["OS/2"].version0(i,o,s),s.ulCodePageRange1=l.readUint(i,o),o+=4,s.ulCodePageRange2=l.readUint(i,o),o+=4},e["OS/2"].version2=function(i,o,s){var l=e._bin;return o=e["OS/2"].version1(i,o,s),s.sxHeight=l.readShort(i,o),o+=2,s.sCapHeight=l.readShort(i,o),o+=2,s.usDefault=l.readUshort(i,o),o+=2,s.usBreak=l.readUshort(i,o),o+=2,s.usMaxContext=l.readUshort(i,o),o+=2},e["OS/2"].version5=function(i,o,s){var l=e._bin;return o=e["OS/2"].version2(i,o,s),s.usLowerOpticalPointSize=l.readUshort(i,o),o+=2,s.usUpperOpticalPointSize=l.readUshort(i,o),o+=2},e.post={},e.post.parse=function(i,o,s){var l=e._bin,a={};return a.version=l.readFixed(i,o),o+=4,a.italicAngle=l.readFixed(i,o),o+=4,a.underlinePosition=l.readShort(i,o),o+=2,a.underlineThickness=l.readShort(i,o),o+=2,a},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,o){var s=i.cmap,l=-1;if(s.p0e4!=null?l=s.p0e4:s.p3e1!=null?l=s.p3e1:s.p1e0!=null?l=s.p1e0:s.p0e3!=null&&(l=s.p0e3),l==-1)throw"no familiar platform and encoding!";var a=s.tables[l];if(a.format==0)return o>=a.map.length?0:a.map[o];if(a.format==4){for(var c=-1,u=0;u<a.endCount.length;u++)if(o<=a.endCount[u]){c=u;break}return c==-1||a.startCount[c]>o?0:65535&(a.idRangeOffset[c]!=0?a.glyphIdArray[o-a.startCount[c]+(a.idRangeOffset[c]>>1)-(a.idRangeOffset.length-c)]:o+a.idDelta[c])}if(a.format==12){if(o>a.groups[a.groups.length-1][1])return 0;for(u=0;u<a.groups.length;u++){var f=a.groups[u];if(f[0]<=o&&o<=f[1])return f[2]+(o-f[0])}return 0}throw"unknown cmap table format "+a.format},e.U.glyphToPath=function(i,o){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[o]){var l=i.SVG.entries[o];return l==null?s:(typeof l=="string"&&(l=e.SVG.toPath(l),i.SVG.entries[o]=l),l)}if(i.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=o;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[o],a,c,u,s)}else i.glyf&&e.U._drawGlyf(o,i,s);return s},e.U._drawGlyf=function(i,o,s){var l=o.glyf[i];l==null&&(l=o.glyf[i]=e.glyf._parseGlyf(o,i)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,s):e.U._compoGlyph(l,o,s))},e.U._simpleGlyph=function(i,o){for(var s=0;s<i.noc;s++){for(var l=s==0?0:i.endPts[s-1]+1,a=i.endPts[s],c=l;c<=a;c++){var u=c==l?a:c-1,f=c==a?l:c+1,d=1&i.flags[c],p=1&i.flags[u],g=1&i.flags[f],y=i.xs[c],x=i.ys[c];if(c==l)if(d){if(!p){e.U.P.moveTo(o,y,x);continue}e.U.P.moveTo(o,i.xs[u],i.ys[u])}else p?e.U.P.moveTo(o,i.xs[u],i.ys[u]):e.U.P.moveTo(o,(i.xs[u]+y)/2,(i.ys[u]+x)/2);d?p&&e.U.P.lineTo(o,y,x):g?e.U.P.qcurveTo(o,y,x,i.xs[f],i.ys[f]):e.U.P.qcurveTo(o,y,x,(y+i.xs[f])/2,(x+i.ys[f])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(i,o,s){for(var l=0;l<i.parts.length;l++){var a={cmds:[],crds:[]},c=i.parts[l];e.U._drawGlyf(c.glyphIndex,o,a);for(var u=c.m,f=0;f<a.crds.length;f+=2){var d=a.crds[f],p=a.crds[f+1];s.crds.push(d*u.a+p*u.b+u.tx),s.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<a.cmds.length;f++)s.cmds.push(a.cmds[f])}},e.U._getGlyphClass=function(i,o){var s=e._lctf.getInterval(o,i);return s==-1?0:o[s+2]},e.U.getPairAdjustment=function(i,o,s){var l=!1;if(i.GPOS)for(var a=i.GPOS,c=a.lookupList,u=a.featureList,f=[],d=0;d<u.length;d++){var p=u[d];if(p.tag=="kern"){l=!0;for(var g=0;g<p.tab.length;g++)if(!f[p.tab[g]]){f[p.tab[g]]=!0;for(var y=c[p.tab[g]],x=0;x<y.tabs.length;x++)if(y.tabs[x]!=null){var v,b=y.tabs[x];if((!b.coverage||(v=e._lctf.coverageIndex(b.coverage,o))!=-1)&&y.ltype!=1){if(y.ltype==2){var _=null;if(b.fmt==1){var S=b.pairsets[v];for(d=0;d<S.length;d++)S[d].gid2==s&&(_=S[d])}else if(b.fmt==2){var E=e.U._getGlyphClass(o,b.classDef1),M=e.U._getGlyphClass(s,b.classDef2);_=b.matrix[E][M]}if(_){var T=0;return _.val1&&_.val1[2]&&(T+=_.val1[2]),_.val2&&_.val2[0]&&(T+=_.val2[0]),T}}}}}}}if(i.kern&&!l){var R=i.kern.glyph1.indexOf(o);if(R!=-1){var C=i.kern.rval[R].glyph2.indexOf(s);if(C!=-1)return i.kern.rval[R].vals[C]}}return 0},e.U._applySubs=function(i,o,s,l){for(var a=i.length-o-1,c=0;c<s.tabs.length;c++)if(s.tabs[c]!=null){var u,f=s.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[o]))!=-1){if(s.ltype==1)i[o],f.fmt==1?i[o]=i[o]+f.delta:i[o]=f.newg[u];else if(s.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var g=d[p],y=g.chain.length;if(!(y>a)){for(var x=!0,v=0,b=0;b<y;b++){for(;i[o+v+(1+b)]==-1;)v++;g.chain[b]!=i[o+v+(1+b)]&&(x=!1)}if(x){for(i[o]=g.nglyph,b=0;b<y+v;b++)i[o+b+1]=-1;break}}}else if(s.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[o]),S=f.cDef[_+2],E=f.scset[S],M=0;M<E.length;M++){var T=E[M],R=T.input;if(!(R.length>a)){for(x=!0,b=0;b<R.length;b++){var C=e._lctf.getInterval(f.cDef,i[o+1+b]);if(_==-1&&f.cDef[C+2]!=R[b]){x=!1;break}}if(x){var P=T.substLookupRecords;for(p=0;p<P.length;p+=2)P[p],P[p+1]}}}else if(s.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,o-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,o)||!e.U._glsCovered(i,f.ahedCvg,o+f.inptCvg.length))continue;var F=f.lookupRec;for(M=0;M<F.length;M+=2){_=F[M];var G=l[F[M+1]];e.U._applySubs(i,o+_,G,l)}}}}},e.U._glsCovered=function(i,o,s){for(var l=0;l<o.length;l++)if(e._lctf.coverageIndex(o[l],i[s+l])==-1)return!1;return!0},e.U.glyphsToPath=function(i,o,s){for(var l={cmds:[],crds:[]},a=0,c=0;c<o.length;c++){var u=o[c];if(u!=-1){for(var f=c<o.length-1&&o[c+1]!=-1?o[c+1]:0,d=e.U.glyphToPath(i,u),p=0;p<d.crds.length;p+=2)l.crds.push(d.crds[p]+a),l.crds.push(d.crds[p+1]);for(s&&l.cmds.push(s),p=0;p<d.cmds.length;p++)l.cmds.push(d.cmds[p]);s&&l.cmds.push("X"),a+=i.hmtx.aWidth[u],c<o.length-1&&(a+=e.U.getPairAdjustment(i,u,f))}}return l},e.U.P={},e.U.P.moveTo=function(i,o,s){i.cmds.push("M"),i.crds.push(o,s)},e.U.P.lineTo=function(i,o,s){i.cmds.push("L"),i.crds.push(o,s)},e.U.P.curveTo=function(i,o,s,l,a,c,u){i.cmds.push("C"),i.crds.push(o,s,l,a,c,u)},e.U.P.qcurveTo=function(i,o,s,l,a){i.cmds.push("Q"),i.crds.push(o,s,l,a)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,o,s,l,a){for(var c=o.stack,u=o.nStems,f=o.haveWidth,d=o.width,p=o.open,g=0,y=o.x,x=o.y,v=0,b=0,_=0,S=0,E=0,M=0,T=0,R=0,C=0,P=0,F={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,F);var G=F.val;if(g+=F.size,G=="o1"||G=="o18")c.length%2!=0&&!f&&(d=c.shift()+l.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(G=="o3"||G=="o23")c.length%2!=0&&!f&&(d=c.shift()+l.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(G=="o4")c.length>1&&!f&&(d=c.shift()+l.nominalWidthX,f=!0),p&&e.U.P.closePath(a),x+=c.pop(),e.U.P.moveTo(a,y,x),p=!0;else if(G=="o5")for(;c.length>0;)y+=c.shift(),x+=c.shift(),e.U.P.lineTo(a,y,x);else if(G=="o6"||G=="o7")for(var V=c.length,B=G=="o6",X=0;X<V;X++){var ee=c.shift();B?y+=ee:x+=ee,B=!B,e.U.P.lineTo(a,y,x)}else if(G=="o8"||G=="o24"){V=c.length;for(var te=0;te+6<=V;)v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),S=b+c.shift(),y=_+c.shift(),x=S+c.shift(),e.U.P.curveTo(a,v,b,_,S,y,x),te+=6;G=="o24"&&(y+=c.shift(),x+=c.shift(),e.U.P.lineTo(a,y,x))}else{if(G=="o11")break;if(G=="o1234"||G=="o1235"||G=="o1236"||G=="o1237")G=="o1234"&&(b=x,_=(v=y+c.shift())+c.shift(),P=S=b+c.shift(),M=S,R=x,y=(T=(E=(C=_+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(a,v,b,_,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x)),G=="o1235"&&(v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),S=b+c.shift(),C=_+c.shift(),P=S+c.shift(),E=C+c.shift(),M=P+c.shift(),T=E+c.shift(),R=M+c.shift(),y=T+c.shift(),x=R+c.shift(),c.shift(),e.U.P.curveTo(a,v,b,_,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x)),G=="o1236"&&(v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),P=S=b+c.shift(),M=S,T=(E=(C=_+c.shift())+c.shift())+c.shift(),R=M+c.shift(),y=T+c.shift(),e.U.P.curveTo(a,v,b,_,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x)),G=="o1237"&&(v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),S=b+c.shift(),C=_+c.shift(),P=S+c.shift(),E=C+c.shift(),M=P+c.shift(),T=E+c.shift(),R=M+c.shift(),Math.abs(T-y)>Math.abs(R-x)?y=T+c.shift():x=R+c.shift(),e.U.P.curveTo(a,v,b,_,S,C,P),e.U.P.curveTo(a,E,M,T,R,y,x));else if(G=="o14"){if(c.length>0&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),c.length==4){var O=c.shift(),D=c.shift(),H=c.shift(),$=c.shift(),W=e.CFF.glyphBySE(s,H),ie=e.CFF.glyphBySE(s,$);e.U._drawCFF(s.CharStrings[W],o,s,l,a),o.x=O,o.y=D,e.U._drawCFF(s.CharStrings[ie],o,s,l,a)}p&&(e.U.P.closePath(a),p=!1)}else if(G=="o19"||G=="o20")c.length%2!=0&&!f&&(d=c.shift()+l.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(G=="o21")c.length>2&&!f&&(d=c.shift()+l.nominalWidthX,f=!0),x+=c.pop(),y+=c.pop(),p&&e.U.P.closePath(a),e.U.P.moveTo(a,y,x),p=!0;else if(G=="o22")c.length>1&&!f&&(d=c.shift()+l.nominalWidthX,f=!0),y+=c.pop(),p&&e.U.P.closePath(a),e.U.P.moveTo(a,y,x),p=!0;else if(G=="o25"){for(;c.length>6;)y+=c.shift(),x+=c.shift(),e.U.P.lineTo(a,y,x);v=y+c.shift(),b=x+c.shift(),_=v+c.shift(),S=b+c.shift(),y=_+c.shift(),x=S+c.shift(),e.U.P.curveTo(a,v,b,_,S,y,x)}else if(G=="o26")for(c.length%2&&(y+=c.shift());c.length>0;)v=y,b=x+c.shift(),y=_=v+c.shift(),x=(S=b+c.shift())+c.shift(),e.U.P.curveTo(a,v,b,_,S,y,x);else if(G=="o27")for(c.length%2&&(x+=c.shift());c.length>0;)b=x,_=(v=y+c.shift())+c.shift(),S=b+c.shift(),y=_+c.shift(),x=S,e.U.P.curveTo(a,v,b,_,S,y,x);else if(G=="o10"||G=="o29"){var j=G=="o10"?l:s;if(c.length==0)console.debug("error: empty stack");else{var Y=c.pop(),K=j.Subrs[Y+j.Bias];o.x=y,o.y=x,o.nStems=u,o.haveWidth=f,o.width=d,o.open=p,e.U._drawCFF(K,o,s,l,a),y=o.x,x=o.y,u=o.nStems,f=o.haveWidth,d=o.width,p=o.open}}else if(G=="o30"||G=="o31"){var fe=c.length,pe=(te=0,G=="o31");for(te+=fe-(V=-3&fe);te<V;)pe?(b=x,_=(v=y+c.shift())+c.shift(),x=(S=b+c.shift())+c.shift(),V-te==5?(y=_+c.shift(),te++):y=_,pe=!1):(v=y,b=x+c.shift(),_=v+c.shift(),S=b+c.shift(),y=_+c.shift(),V-te==5?(x=S+c.shift(),te++):x=S,pe=!0),e.U.P.curveTo(a,v,b,_,S,y,x),te+=4}else{if((G+"").charAt(0)=="o")throw console.debug("Unknown operation: "+G,i),G;c.push(G)}}}o.x=y,o.y=x,o.nStems=u,o.haveWidth=f,o.width=d,o.open=p};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Ece(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(G,V){for(var B=new n(31),X=0;X<31;++X)B[X]=V+=1<<G[X-1];var ee=new r(B[30]);for(X=1;X<30;++X)for(var te=B[X];te<B[X+1];++te)ee[te]=te-B[X]<<5|X;return[B,ee]},a=l(i,2),c=a[0],u=a[1];c[28]=258,u[258]=28;for(var f=l(o,0)[0],d=new n(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var y=function(G,V,B){for(var X=G.length,ee=0,te=new n(V);ee<X;++ee)++te[G[ee]-1];var O,D=new n(V);for(ee=0;ee<V;++ee)D[ee]=D[ee-1]+te[ee-1]<<1;if(B){O=new n(1<<V);var H=15-V;for(ee=0;ee<X;++ee)if(G[ee])for(var $=ee<<4|G[ee],W=V-G[ee],ie=D[G[ee]-1]++<<W,j=ie|(1<<W)-1;ie<=j;++ie)O[d[ie]>>>H]=$}else for(O=new n(X),ee=0;ee<X;++ee)G[ee]&&(O[ee]=d[D[G[ee]-1]++]>>>15-G[ee]);return O},x=new e(288);for(p=0;p<144;++p)x[p]=8;for(p=144;p<256;++p)x[p]=9;for(p=256;p<280;++p)x[p]=7;for(p=280;p<288;++p)x[p]=8;var v=new e(32);for(p=0;p<32;++p)v[p]=5;var b=y(x,9,1),_=y(v,5,1),S=function(G){for(var V=G[0],B=1;B<G.length;++B)G[B]>V&&(V=G[B]);return V},E=function(G,V,B){var X=V/8|0;return(G[X]|G[X+1]<<8)>>(7&V)&B},M=function(G,V){var B=V/8|0;return(G[B]|G[B+1]<<8|G[B+2]<<16)>>(7&V)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(G,V,B){var X=new Error(V||T[G]);if(X.code=G,Error.captureStackTrace&&Error.captureStackTrace(X,R),!B)throw X;return X},C=function(G,V,B){var X=G.length;if(!X||B&&!B.l&&X<5)return V||new e(0);var ee=!V||B,te=!B||B.i;B||(B={}),V||(V=new e(3*X));var O,D=function(he){var me=V.length;if(he>me){var Ue=new e(Math.max(2*me,he));Ue.set(V),V=Ue}},H=B.f||0,$=B.p||0,W=B.b||0,ie=B.l,j=B.d,Y=B.m,K=B.n,fe=8*X;do{if(!ie){B.f=H=E(G,$,1);var pe=E(G,$+1,3);if($+=3,!pe){var xe=G[(He=((O=$)/8|0)+(7&O&&1)+4)-4]|G[He-3]<<8,Ge=He+xe;if(Ge>X){te&&R(0);break}ee&&D(W+xe),V.set(G.subarray(He,Ge),W),B.b=W+=xe,B.p=$=8*Ge;continue}if(pe==1)ie=b,j=_,Y=9,K=5;else if(pe==2){var Ae=E(G,$,31)+257,z=E(G,$+10,15)+4,ge=Ae+E(G,$+5,31)+1;$+=14;for(var Me=new e(ge),Ie=new e(19),Re=0;Re<z;++Re)Ie[s[Re]]=E(G,$+3*Re,7);$+=3*z;var We=S(Ie),ke=(1<<We)-1,je=y(Ie,We,1);for(Re=0;Re<ge;){var He,Ne=je[E(G,$,ke)];if($+=15&Ne,(He=Ne>>>4)<16)Me[Re++]=He;else{var Ke=0,J=0;for(He==16?(J=3+E(G,$,3),$+=2,Ke=Me[Re-1]):He==17?(J=3+E(G,$,7),$+=3):He==18&&(J=11+E(G,$,127),$+=7);J--;)Me[Re++]=Ke}}var N=Me.subarray(0,Ae),oe=Me.subarray(Ae);Y=S(N),K=S(oe),ie=y(N,Y,1),j=y(oe,K,1)}else R(1);if($>fe){te&&R(0);break}}ee&&D(W+131072);for(var Le=(1<<Y)-1,Te=(1<<K)-1,_e=$;;_e=$){var ye=(Ke=ie[M(G,$)&Le])>>>4;if(($+=15&Ke)>fe){te&&R(0);break}if(Ke||R(2),ye<256)V[W++]=ye;else{if(ye==256){_e=$,ie=null;break}var we=ye-254;if(ye>264){var Se=i[Re=ye-257];we=E(G,$,(1<<Se)-1)+c[Re],$+=Se}var be=j[M(G,$)&Te],se=be>>>4;if(be||R(3),$+=15&be,oe=f[se],se>3&&(Se=o[se],oe+=M(G,$)&(1<<Se)-1,$+=Se),$>fe){te&&R(0);break}ee&&D(W+131072);for(var de=W+we;W<de;W+=4)V[W]=V[W-oe],V[W+1]=V[W+1-oe],V[W+2]=V[W+2-oe],V[W+3]=V[W+3-oe];W=de}}B.l=ie,B.p=_e,B.b=W,ie&&(H=1,B.m=Y,B.d=j,B.n=K)}while(!H);return W==V.length?V:function(he,me,Ue){(me==null||me<0)&&(me=0),(Ue==null||Ue>he.length)&&(Ue=he.length);var qe=new(he instanceof n?n:he instanceof r?r:e)(Ue-me);return qe.set(he.subarray(me,Ue)),qe}(V,0,W)},P=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(P,{stream:!0})}catch{}return t.convert_streams=function(G){var V=new DataView(G),B=0;function X(){var Ae=V.getUint16(B);return B+=2,Ae}function ee(){var Ae=V.getUint32(B);return B+=4,Ae}function te(Ae){xe.setUint16(Ge,Ae),Ge+=2}function O(Ae){xe.setUint32(Ge,Ae),Ge+=4}for(var D={signature:ee(),flavor:ee(),length:ee(),numTables:X(),reserved:X(),totalSfntSize:ee(),majorVersion:X(),minorVersion:X(),metaOffset:ee(),metaLength:ee(),metaOrigLength:ee(),privOffset:ee(),privLength:ee()},H=0;Math.pow(2,H)<=D.numTables;)H++;H--;for(var $=16*Math.pow(2,H),W=16*D.numTables-$,ie=12,j=[],Y=0;Y<D.numTables;Y++)j.push({tag:ee(),offset:ee(),compLength:ee(),origLength:ee(),origChecksum:ee()}),ie+=16;var K,fe=new Uint8Array(12+16*j.length+j.reduce(function(Ae,z){return Ae+z.origLength+4},0)),pe=fe.buffer,xe=new DataView(pe),Ge=0;return O(D.flavor),te(D.numTables),te($),te(H),te(W),j.forEach(function(Ae){O(Ae.tag),O(Ae.origChecksum),O(ie),O(Ae.origLength),Ae.outOffset=ie,(ie+=Ae.origLength)%4!=0&&(ie+=4-ie%4)}),j.forEach(function(Ae){var z,ge=G.slice(Ae.offset,Ae.offset+Ae.compLength);if(Ae.compLength!=Ae.origLength){var Me=new Uint8Array(Ae.origLength);z=new Uint8Array(ge,2),C(z,Me)}else Me=new Uint8Array(ge);fe.set(Me,Ae.outOffset);var Ie=0;(ie=Ae.outOffset+Ae.origLength)%4!=0&&(Ie=4-ie%4),fe.set(new Uint8Array(Ie).buffer,Ae.outOffset+Ae.origLength),K=ie+Ie}),pe.slice(0,K)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Mce(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,o=2,s=4,l=8,a=16,c=32;let u;function f(E){if(!u){const M={R:o,L:i,D:s,C:a,U:c,T:l};u=new Map;for(let T in r){let R=0;r[T].split(",").forEach(C=>{let[P,F]=C.split("+");P=parseInt(P,36),F=F?parseInt(F,36):0,u.set(R+=P,M[T]);for(let G=F;G--;)u.set(++R,M[T])})}}return u.get(E)||c}const d=1,p=2,g=3,y=4,x=[null,"isol","init","fina","medi"];function v(E){const M=new Uint8Array(E.length);let T=c,R=d,C=-1;for(let P=0;P<E.length;P++){const F=E.codePointAt(P);let G=f(F)|0,V=d;G&l||(T&(i|s|a)?G&(o|s|a)?(V=g,(R===d||R===g)&&M[C]++):G&(i|c)&&(R===p||R===y)&&M[C]--:T&(o|c)&&(R===p||R===y)&&M[C]--,R=M[P]=V,T=G,C=P,F>65535&&P++)}return M}function b(E,M){const T=[];for(let C=0;C<M.length;C++){const P=M.codePointAt(C);P>65535&&C++,T.push(t.U.codeToGlyph(E,P))}const R=E.GSUB;if(R){const{lookupList:C,featureList:P}=R;let F;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,V=[];P.forEach(B=>{if(G.test(B.tag))for(let X=0;X<B.tab.length;X++){if(V[B.tab[X]])continue;V[B.tab[X]]=!0;const ee=C[B.tab[X]],te=/^(isol|init|fina|medi)$/.test(B.tag);te&&!F&&(F=v(M));for(let O=0;O<T.length;O++)(!F||!te||x[F[O]]===B.tag)&&t.U._applySubs(T,O,ee,C)}})}return T}function _(...E){for(let M=0;M<E.length;M++)if(typeof E[M]=="number")return E[M]}function S(E){const M=Object.create(null),T=E["OS/2"],R=E.hhea,C=E.head.unitsPerEm,P=_(T&&T.sTypoAscender,R&&R.ascender,C),F={unitsPerEm:C,ascender:P,descender:_(T&&T.sTypoDescender,R&&R.descender,0),capHeight:_(T&&T.sCapHeight,P),xHeight:_(T&&T.sxHeight,P),lineGap:_(T&&T.sTypoLineGap,R&&R.lineGap),forEachGlyph(G,V,B,X){let ee=0;const te=1/F.unitsPerEm*V,O=b(E,G);let D=0,H=-1;return O.forEach(($,W)=>{if($!==-1){let ie=M[$];if(!ie){const{cmds:j,crds:Y}=t.U.glyphToPath(E,$);let K="",fe=0;for(let z=0,ge=j.length;z<ge;z++){const Me=n[j[z]];K+=j[z];for(let Ie=1;Ie<=Me;Ie++)K+=(Ie>1?",":"")+Y[fe++]}let pe,xe,Ge,Ae;if(Y.length){pe=xe=1/0,Ge=Ae=-1/0;for(let z=0,ge=Y.length;z<ge;z+=2){let Me=Y[z],Ie=Y[z+1];Me<pe&&(pe=Me),Ie<xe&&(xe=Ie),Me>Ge&&(Ge=Me),Ie>Ae&&(Ae=Ie)}}else pe=Ge=xe=Ae=0;ie=M[$]={index:$,advanceWidth:E.hmtx.aWidth[$],xMin:pe,yMin:xe,xMax:Ge,yMax:Ae,path:K,pathCommandCount:j.length}}H!==-1&&(ee+=t.U.getPairAdjustment(E,H,$)*te),X.call(null,ie,ee,D),ie.advanceWidth&&(ee+=ie.advanceWidth*te),B&&(ee+=B*V),H=$}D+=G.codePointAt(D)>65535?2:1}),ee}};return F}return function(M){const T=new Uint8Array(M,0,4),R=t._bin.readASCII(T,0,4);if(R==="wOFF")M=e(M);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return S(t.parse(M)[0])}}const Tce=rg({name:"Typr Font Parser",dependencies:[wce,Ece,Mce],init(t,e,n){const r=t(),i=e();return n(r,i)}}),ed={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Ace=new yt;function Mf(){return(self.performance||Date).now()}const KI=Object.create(null);function d5(t,e){t=Pce({},t);const n=Mf();if(t.font=Ice(t.font||ed.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||ed.sdfGlyphSize,t.colorRanges!=null){let f={};for(let d in t.colorRanges)if(t.colorRanges.hasOwnProperty(d)){let p=t.colorRanges[d];typeof p!="number"&&(p=Ace.set(p).getHex()),f[d]=p}t.colorRanges=f}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=ed,{sdfGlyphSize:o}=t,s=r/o*4;let l=KI[o];if(!l){const f=document.createElement("canvas");f.width=r,f.height=o*256/s,l=KI[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:f,sdfTexture:new Sr(f,void 0,void 0,void 0,xr,xr),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,Cce(l)}const{sdfTexture:a,sdfCanvas:c}=l;let u=l.glyphsByFont.get(t.font);u||l.glyphsByFont.set(t.font,u=new Map),kce(t).then(f=>{const{glyphIds:d,glyphPositions:p,fontSize:g,unitsPerEm:y,timings:x}=f,v=[],b=new Float32Array(d.length*4),_=g/y;let S=0,E=0;const M=Mf();d.forEach((F,G)=>{let V=u.get(F);if(!V){const{path:te,pathBounds:O}=f.glyphData[F],D=Math.max(O[2]-O[0],O[3]-O[1])/o*(ed.sdfMargin*o+.5),H=l.glyphCount++,$=[O[0]-D,O[1]-D,O[2]+D,O[3]+D];u.set(F,V={path:te,atlasIndex:H,sdfViewBox:$}),v.push(V)}const{sdfViewBox:B}=V,X=p[E++],ee=p[E++];b[S++]=X+B[0]*_,b[S++]=ee+B[1]*_,b[S++]=X+B[2]*_,b[S++]=ee+B[3]*_,d[G]=V.atlasIndex}),x.quads=(x.quads||0)+(Mf()-M);const T=Mf();x.sdf={};const R=c.height,C=Math.ceil(l.glyphCount/s),P=Math.pow(2,Math.ceil(Math.log2(C*o)));P>R&&(console.info(`Increasing SDF texture size ${R}->${P}`),Sce(c,r,P),a.dispose()),Promise.all(v.map(F=>h5(F,l,t.gpuAccelerateSDF).then(({timing:G})=>{x.sdf[F.atlasIndex]=G}))).then(()=>{v.length&&!l.contextLost&&(p5(l),a.needsUpdate=!0),x.sdfTotal=Mf()-T,x.total=Mf()-n,e(Object.freeze({parameters:t,sdfTexture:a,sdfGlyphSize:o,sdfExponent:i,glyphBounds:b,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{l.contextLost||_ce(c)})}function h5({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},s){if(o)return Promise.resolve({timing:-1});const{textureWidth:l,sdfExponent:a}=ed,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(l/r)*r,d=Math.floor(u/(l/r))*r,p=e%4;return mce(r,r,t,n,c,a,i,f,d,p,s)}function Cce(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(o=>{r.push(h5(o,t,!0))})}),Promise.all(r).then(()=>{p5(t),t.sdfTexture.needsUpdate=!0})})}function Rce({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;d5({font:t,sdfGlyphSize:n,text:i},r)}function Pce(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let nv;function Ice(t){return nv||(nv=typeof document>"u"?{}:document.createElement("a")),nv.href=t,nv.href}function p5(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,o=t.sdfCanvas.getContext("webgl");let s=n.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),n.image={width:r,height:i,data:s},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s)}}const Lce=rg({name:"Typesetter",dependencies:[ed,Tce,pce,sce],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),kce=rg({name:"Typesetter",dependencies:[Lce],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),JI={};function Nce(t){let e=JI[t];if(!e){const n=new sl(1,1,t,t),r=n.clone(),i=n.attributes,o=r.attributes,s=new nn,l=i.uv.count;for(let a=0;a<l;a++)o.position.array[a*3]*=-1,o.normal.array[a*3+2]*=-1;["position","normal","uv"].forEach(a=>{s.setAttribute(a,new Ct([...i[a].array,...o[a].array],i[a].itemSize))}),s.setIndex([...n.index.array,...r.index.array.map(a=>a+l)]),s.translate(.5,.5,0),e=JI[t]=s}return e}const Oce="aTroikaGlyphBounds",ZI="aTroikaGlyphIndex",Fce="aTroikaGlyphColor";class Dce extends q2{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new cs,this.boundingBox=new Bs}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===vi?n/2:0,e===Eo?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Nce(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,o){lS(this,Oce,e,4),lS(this,ZI,n,1),lS(this,Fce,o,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:o,min:s,max:l,sin:a,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(n),p=e[0]/d,g=e[2]/d,y=o((p+u)/f)!==o((g+u)/f)?-d:s(a(p)*d,a(g)*d),x=o((p-u)/f)!==o((g-u)/f)?d:l(a(p)*d,a(g)*d),v=o((p+i)/f)!==o((g+i)/f)?d*2:l(d-c(p)*d,d-c(g)*d);r.min.set(y,e[1],n<0?-v:0),r.max.set(x,e[3],n<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(ZI).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=n}}function lS(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new _u(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const Uce=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Bce=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,zce=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Gce=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Hce(t){const e=TE(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new it},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Un(0,0,0,0)},uTroikaClipRect:{value:new Un(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new it},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new yt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new tn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Uce,vertexTransform:Bce,fragmentDefs:zce,fragmentColorTransform:Gce,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(u5,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const oT=new _a({color:16777215,side:Eo,transparent:!0}),QI=8421504,eL=new qt,rv=new ce,cS=new ce,Wh=[],Vce=new ce,uS="+x+y";function tL(t){return Array.isArray(t)?t[0]:t}let m5=()=>{const t=new pr(new sl(1,1),oT);return m5=()=>t,t},g5=()=>{const t=new pr(new sl(1,1,32,1),oT);return g5=()=>t,t};const Wce={type:"syncstart"},jce={type:"synccomplete"},v5=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],$ce=v5.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let y5=class extends pr{constructor(){const e=new Dce;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=QI,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=uS,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Wce),d5({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(jce),e&&e()})))}onBeforeRender(e,n,r,i,o,s){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o),o._hadOwnSide=o.hasOwnProperty("side"),this.geometry.setSide(o._actualSide=o.side),o.side=ya}onAfterRender(e,n,r,i,o,s){o._hadOwnSide?o.side=o._actualSide:delete o.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=oT.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=Hce(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return tL(this.material).getDepthMaterial()}get customDistanceMaterial(){return tL(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:l,blockBounds:a}=i;r.uTroikaSDFTexture.value=l,r.uTroikaSDFTextureSize.value.set(l.image.width,l.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(a),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,f=0,d,p,g,y=0,x=0;if(n){let{outlineWidth:b,outlineOffsetX:_,outlineOffsetY:S,outlineBlur:E,outlineOpacity:M}=this;c=this._parsePercent(b)||0,u=Math.max(0,this._parsePercent(E)||0),d=M,y=this._parsePercent(_)||0,x=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??QI),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(y,x),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)r.uTroikaClipRect.value.fromArray(v);else{const b=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(a[0]-b,a[1]-b,a[2]+b,a[3]+b)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=n?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const l=e.hasOwnProperty("color")?e.color:e.color=new yt;(o!==l._input||typeof o=="object")&&l.set(l._input=o)}let s=this.orientation||uS;if(s!==e._orientation){let l=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let a=s!==uS&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,c,u,f,d]=a;rv.set(0,0,0)[u]=c==="-"?1:-1,cS.set(0,0,0)[d]=f==="-"?-1:1,eL.lookAt(Vce,rv.cross(cS),cS),l.setFromMatrix4(eL)}else l.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new it){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new it){return rv.copy(e),this.localPositionToTextCoords(this.worldToLocal(rv),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const o=r.blockBounds,s=i?g5():m5(),l=s.geometry,{position:a,uv:c}=l.attributes;for(let u=0;u<c.count;u++){let f=o[0]+c.getX(u)*(o[2]-o[0]);const d=o[1]+c.getY(u)*(o[3]-o[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),a.setXYZ(u,f,d,p)}l.boundingSphere=this.geometry.boundingSphere,l.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Wh.length=0,s.raycast(e,Wh);for(let u=0;u<Wh.length;u++)Wh[u].object=this,n.push(Wh[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,$ce.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};v5.forEach(t=>{const e="_private_"+t;Object.defineProperty(y5.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const Eu=L.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:o,characters:s,onSync:l,...a},c)=>{const u=lle(({invalidate:g})=>g),[f]=L.useState(()=>new y5),[d,p]=L.useMemo(()=>{const g=[];let y="";return L.Children.forEach(o,x=>{typeof x=="string"||typeof x=="number"?y+=x:g.push(x)}),[g,y]},[o]);return Xae(()=>new Promise(g=>Rce({font:r,characters:s},g)),["troika-text",r,s]),L.useLayoutEffect(()=>void f.sync(()=>{u(),l&&l(f)})),L.useEffect(()=>()=>f.dispose(),[f]),L.createElement("primitive",ae({object:f,ref:c,font:r,text:p,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},a),d)});function Xce(t,e,n=new ce){const r=Math.PI*(t-.5),i=2*Math.PI*(e-.5);return n.x=Math.cos(i),n.y=Math.sin(r),n.z=Math.sin(i),n}const qce=L.forwardRef(({inclination:t=.6,azimuth:e=.1,distance:n=1e3,mieCoefficient:r=.005,mieDirectionalG:i=.8,rayleigh:o=.5,turbidity:s=10,sunPosition:l=Xce(t,e),...a},c)=>{const u=L.useMemo(()=>new ce().setScalar(n),[n]),[f]=L.useState(()=>new iT);return L.createElement("primitive",ae({object:f,ref:c,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":i,"material-uniforms-rayleigh-value":o,"material-uniforms-sunPosition-value":l,"material-uniforms-turbidity-value":s,scale:u},a))});class Yce extends ss{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const Kce=t=>new ce().setFromSpherical(new I4(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Jce=L.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:o=!1,speed:s=1},l)=>{const a=L.useRef(),[c,u,f]=L.useMemo(()=>{const p=[],g=[],y=Array.from({length:n},()=>(.5+.5*Math.random())*i),x=new yt;let v=t+e;const b=e/n;for(let _=0;_<n;_++)v-=b*Math.random(),p.push(...Kce(v).toArray()),x.setHSL(_/n,r,.9),g.push(x.r,x.g,x.b);return[new Float32Array(p),new Float32Array(g),new Float32Array(y)]},[n,e,i,t,r]);Hs(p=>a.current&&(a.current.uniforms.time.value=p.clock.getElapsedTime()*s));const[d]=L.useState(()=>new Yce);return L.createElement("points",{ref:l},L.createElement("bufferGeometry",null,L.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),L.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),L.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),L.createElement("primitive",{ref:a,object:d,attach:"material",blending:Py,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Zce=-1.2,x5=L.createContext(null),ku=()=>L.useContext(x5),sT=t=>{const[e,n]=L.useState("stopped"),[r,i]=L.useState("preview"),[o,s]=L.useState(Zce);return q.jsx(x5.Provider,{value:{playingState:e,setPlayingState:n,playingMode:r,setPlayingMode:i,railAngle:o,setRailAngle:s},children:t.children})},nL={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,q:60,2:61,w:62,3:63,e:64,r:65,5:66,t:67,6:68,y:69,7:70,u:71},Qce=new AudioContext,ip=new Yle(Qce,{decayTime:1.2});ip.loaded().then(()=>{console.log("--- virtual piano player is ready")});let b5=0;const rL=.5,iL=1.3,oL=.3,sL=.9,eue=.03,_m={};for(let t=0,e=0;e<Cs.length;e++){const n=Cs[e],[r,i,o]=n.isWhiteKey()?[rL,iL,.2]:[oL,sL,.25],s=n.isWhiteKey()?[t,-iL*.5,-.1]:[t-oL*.8,-sL*.5,1e-4];_m[n.midiNumber]={x:s[0],y:s[1],z:s[2],w:r,h:i,d:o,name:n.keyName,color:n.isWhiteKey()?"white":"black"},t=t+(n.isWhiteKey()?rL+eue:0),e<Cs.length-1&&(b5=t)}Object.keys(_m).forEach(t=>{_m[t].x-=b5*.5});const aT=t=>{const e=L.useRef([]),{refHandleMidiNoteDown:n,refHandleMidiNoteUp:r,setHandlePreviewNoteDown:i,setHandlePreviewNoteUp:o}=Tx(),{playingState:s}=ku(),[l,a]=L.useState(0),c=g=>{g.pressed=!1,e.current[g.midiNumber-Ts].color.set(Cs[g.midiNumber-Ts].isWhiteKey()?"white":"black")},u=L.useCallback(()=>{Cs.forEach(g=>c(g))},[]);L.useEffect(()=>{s==="stopped"&&u()},[u,s]);const f=L.useCallback(g=>{if(g.code==="ArrowLeft")a(-1);else if(g.code==="ArrowRight")a(1);else{const y=nL[g.key]+12*l,x=Cs.find(v=>v.midiNumber===y);x&&x.pressed===!1&&(x.pressed=!0,e.current[y-Ts].color.set("blue"),ip.start({note:y,velocity:80}),n.current&&n.current(x.midiNumber,80))}},[l,n]),d=L.useCallback(g=>{if(g.code==="ArrowLeft"||g.code==="ArrowRight")a(0);else{const y=nL[g.key]+12*l,x=Cs.find(v=>v.midiNumber===y);x&&(x.pressed=!1,e.current[y-Ts].color.set(Cs[y-Ts].isWhiteKey()?"white":"black"),ip.stop(y),r.current&&r.current(x.midiNumber,80))}},[r,l]);L.useEffect(()=>{i((g,y,x)=>{e.current[g-Ts].color.set("blue"),x&&ip.start({note:g,velocity:y})}),o((g,y,x)=>{e.current[g-Ts].color.set(Cs[g-Ts].isWhiteKey()?"white":"black"),x&&ip.stop(g)})},[i,o]),L.useEffect(()=>(document.addEventListener("keydown",f),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",d)}),[f,d]);const p=L.useRef();return q.jsxs("group",{ref:p,position:t.position,children:[Cs.map((g,y)=>{const x=_m[g.midiNumber];return q.jsxs("mesh",{position:[x.x,x.y,x.z],children:[q.jsx("boxGeometry",{args:[x.w,x.h,x.d]}),q.jsx("meshStandardMaterial",{ref:v=>{e.current[y]=v},color:g.isWhiteKey()?"white":"black"}),q.jsx(Eu,{scale:[.1,.1,.1],position:g.isWhiteKey()?[0,-.4,.33]:[0,-.2,.23],color:g.isWhiteKey()?"black":"white",anchorX:"center",anchorY:"middle"})]},y)})," "]})};var _5={exports:{}};/*! For license information please see midicube.js.LICENSE.txt */(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={9662:(s,l,a)=>{var c=a(614),u=a(6330),f=TypeError;s.exports=function(d){if(c(d))return d;throw f(u(d)+" is not a function")}},9483:(s,l,a)=>{var c=a(4411),u=a(6330),f=TypeError;s.exports=function(d){if(c(d))return d;throw f(u(d)+" is not a constructor")}},6077:(s,l,a)=>{var c=a(614),u=String,f=TypeError;s.exports=function(d){if(typeof d=="object"||c(d))return d;throw f("Can't set "+u(d)+" as a prototype")}},1223:(s,l,a)=>{var c=a(5112),u=a(30),f=a(3070).f,d=c("unscopables"),p=Array.prototype;p[d]==null&&f(p,d,{configurable:!0,value:u(null)}),s.exports=function(g){p[d][g]=!0}},1530:(s,l,a)=>{var c=a(8710).charAt;s.exports=function(u,f,d){return f+(d?c(u,f).length:1)}},5787:(s,l,a)=>{var c=a(7976),u=TypeError;s.exports=function(f,d){if(c(d,f))return f;throw u("Incorrect invocation")}},9670:(s,l,a)=>{var c=a(111),u=String,f=TypeError;s.exports=function(d){if(c(d))return d;throw f(u(d)+" is not an object")}},3013:s=>{s.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},260:(s,l,a)=>{var c,u,f,d=a(3013),p=a(9781),g=a(7854),y=a(614),x=a(111),v=a(2597),b=a(648),_=a(6330),S=a(8880),E=a(8052),M=a(3070).f,T=a(7976),R=a(9518),C=a(7674),P=a(5112),F=a(9711),G=a(9909),V=G.enforce,B=G.get,X=g.Int8Array,ee=X&&X.prototype,te=g.Uint8ClampedArray,O=te&&te.prototype,D=X&&R(X),H=ee&&R(ee),$=Object.prototype,W=g.TypeError,ie=P("toStringTag"),j=F("TYPED_ARRAY_TAG"),Y="TypedArrayConstructor",K=d&&!!C&&b(g.opera)!=="Opera",fe=!1,pe={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},xe={BigInt64Array:8,BigUint64Array:8},Ge=function(z){var ge=R(z);if(x(ge)){var Me=B(ge);return Me&&v(Me,Y)?Me[Y]:Ge(ge)}},Ae=function(z){if(!x(z))return!1;var ge=b(z);return v(pe,ge)||v(xe,ge)};for(c in pe)(f=(u=g[c])&&u.prototype)?V(f)[Y]=u:K=!1;for(c in xe)(f=(u=g[c])&&u.prototype)&&(V(f)[Y]=u);if((!K||!y(D)||D===Function.prototype)&&(D=function(){throw W("Incorrect invocation")},K))for(c in pe)g[c]&&C(g[c],D);if((!K||!H||H===$)&&(H=D.prototype,K))for(c in pe)g[c]&&C(g[c].prototype,H);if(K&&R(O)!==H&&C(O,H),p&&!v(H,ie))for(c in fe=!0,M(H,ie,{get:function(){return x(this)?this[j]:void 0}}),pe)g[c]&&S(g[c],j,c);s.exports={NATIVE_ARRAY_BUFFER_VIEWS:K,TYPED_ARRAY_TAG:fe&&j,aTypedArray:function(z){if(Ae(z))return z;throw W("Target is not a typed array")},aTypedArrayConstructor:function(z){if(y(z)&&(!C||T(D,z)))return z;throw W(_(z)+" is not a typed array constructor")},exportTypedArrayMethod:function(z,ge,Me,Ie){if(p){if(Me)for(var Re in pe){var We=g[Re];if(We&&v(We.prototype,z))try{delete We.prototype[z]}catch{try{We.prototype[z]=ge}catch{}}}H[z]&&!Me||E(H,z,Me?ge:K&&ee[z]||ge,Ie)}},exportTypedArrayStaticMethod:function(z,ge,Me){var Ie,Re;if(p){if(C){if(Me){for(Ie in pe)if((Re=g[Ie])&&v(Re,z))try{delete Re[z]}catch{}}if(D[z]&&!Me)return;try{return E(D,z,Me?ge:K&&D[z]||ge)}catch{}}for(Ie in pe)!(Re=g[Ie])||Re[z]&&!Me||E(Re,z,ge)}},getTypedArrayConstructor:Ge,isView:function(z){if(!x(z))return!1;var ge=b(z);return ge==="DataView"||v(pe,ge)||v(xe,ge)},isTypedArray:Ae,TypedArray:D,TypedArrayPrototype:H}},3331:(s,l,a)=>{var c=a(7854),u=a(1702),f=a(9781),d=a(3013),p=a(6530),g=a(8880),y=a(9190),x=a(7293),v=a(5787),b=a(9303),_=a(7466),S=a(7067),E=a(1179),M=a(9518),T=a(7674),R=a(8006).f,C=a(3070).f,P=a(1285),F=a(1589),G=a(8003),V=a(9909),B=p.PROPER,X=p.CONFIGURABLE,ee=V.get,te=V.set,O="ArrayBuffer",D="DataView",H="prototype",$="Wrong index",W=c[O],ie=W,j=ie&&ie[H],Y=c[D],K=Y&&Y[H],fe=Object.prototype,pe=c.Array,xe=c.RangeError,Ge=u(P),Ae=u([].reverse),z=E.pack,ge=E.unpack,Me=function(ye){return[255&ye]},Ie=function(ye){return[255&ye,ye>>8&255]},Re=function(ye){return[255&ye,ye>>8&255,ye>>16&255,ye>>24&255]},We=function(ye){return ye[3]<<24|ye[2]<<16|ye[1]<<8|ye[0]},ke=function(ye){return z(ye,23,4)},je=function(ye){return z(ye,52,8)},He=function(ye,we){C(ye[H],we,{get:function(){return ee(this)[we]}})},Ne=function(ye,we,Se,be){var se=S(Se),de=ee(ye);if(se+we>de.byteLength)throw xe($);var he=ee(de.buffer).bytes,me=se+de.byteOffset,Ue=F(he,me,me+we);return be?Ue:Ae(Ue)},Ke=function(ye,we,Se,be,se,de){var he=S(Se),me=ee(ye);if(he+we>me.byteLength)throw xe($);for(var Ue=ee(me.buffer).bytes,qe=he+me.byteOffset,re=be(+se),Be=0;Be<we;Be++)Ue[qe+Be]=re[de?Be:we-Be-1]};if(d){var J=B&&W.name!==O;if(x(function(){W(1)})&&x(function(){new W(-1)})&&!x(function(){return new W,new W(1.5),new W(NaN),W.length!=1||J&&!X}))J&&X&&g(W,"name",O);else{(ie=function(ye){return v(this,j),new W(S(ye))})[H]=j;for(var N,oe=R(W),Le=0;oe.length>Le;)(N=oe[Le++])in ie||g(ie,N,W[N]);j.constructor=ie}T&&M(K)!==fe&&T(K,fe);var Te=new Y(new ie(2)),_e=u(K.setInt8);Te.setInt8(0,2147483648),Te.setInt8(1,2147483649),!Te.getInt8(0)&&Te.getInt8(1)||y(K,{setInt8:function(ye,we){_e(this,ye,we<<24>>24)},setUint8:function(ye,we){_e(this,ye,we<<24>>24)}},{unsafe:!0})}else j=(ie=function(ye){v(this,j);var we=S(ye);te(this,{bytes:Ge(pe(we),0),byteLength:we}),f||(this.byteLength=we)})[H],K=(Y=function(ye,we,Se){v(this,K),v(ye,j);var be=ee(ye).byteLength,se=b(we);if(se<0||se>be)throw xe("Wrong offset");if(se+(Se=Se===void 0?be-se:_(Se))>be)throw xe("Wrong length");te(this,{buffer:ye,byteLength:Se,byteOffset:se}),f||(this.buffer=ye,this.byteLength=Se,this.byteOffset=se)})[H],f&&(He(ie,"byteLength"),He(Y,"buffer"),He(Y,"byteLength"),He(Y,"byteOffset")),y(K,{getInt8:function(ye){return Ne(this,1,ye)[0]<<24>>24},getUint8:function(ye){return Ne(this,1,ye)[0]},getInt16:function(ye){var we=Ne(this,2,ye,arguments.length>1?arguments[1]:void 0);return(we[1]<<8|we[0])<<16>>16},getUint16:function(ye){var we=Ne(this,2,ye,arguments.length>1?arguments[1]:void 0);return we[1]<<8|we[0]},getInt32:function(ye){return We(Ne(this,4,ye,arguments.length>1?arguments[1]:void 0))},getUint32:function(ye){return We(Ne(this,4,ye,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(ye){return ge(Ne(this,4,ye,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(ye){return ge(Ne(this,8,ye,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(ye,we){Ke(this,1,ye,Me,we)},setUint8:function(ye,we){Ke(this,1,ye,Me,we)},setInt16:function(ye,we){Ke(this,2,ye,Ie,we,arguments.length>2?arguments[2]:void 0)},setUint16:function(ye,we){Ke(this,2,ye,Ie,we,arguments.length>2?arguments[2]:void 0)},setInt32:function(ye,we){Ke(this,4,ye,Re,we,arguments.length>2?arguments[2]:void 0)},setUint32:function(ye,we){Ke(this,4,ye,Re,we,arguments.length>2?arguments[2]:void 0)},setFloat32:function(ye,we){Ke(this,4,ye,ke,we,arguments.length>2?arguments[2]:void 0)},setFloat64:function(ye,we){Ke(this,8,ye,je,we,arguments.length>2?arguments[2]:void 0)}});G(ie,O),G(Y,D),s.exports={ArrayBuffer:ie,DataView:Y}},1048:(s,l,a)=>{var c=a(7908),u=a(1400),f=a(6244),d=a(5117),p=Math.min;s.exports=[].copyWithin||function(g,y){var x=c(this),v=f(x),b=u(g,v),_=u(y,v),S=arguments.length>2?arguments[2]:void 0,E=p((S===void 0?v:u(S,v))-_,v-b),M=1;for(_<b&&b<_+E&&(M=-1,_+=E-1,b+=E-1);E-- >0;)_ in x?x[b]=x[_]:d(x,b),b+=M,_+=M;return x}},1285:(s,l,a)=>{var c=a(7908),u=a(1400),f=a(6244);s.exports=function(d){for(var p=c(this),g=f(p),y=arguments.length,x=u(y>1?arguments[1]:void 0,g),v=y>2?arguments[2]:void 0,b=v===void 0?g:u(v,g);b>x;)p[x++]=d;return p}},7745:(s,l,a)=>{var c=a(6244);s.exports=function(u,f){for(var d=0,p=c(f),g=new u(p);p>d;)g[d]=f[d++];return g}},8457:(s,l,a)=>{var c=a(9974),u=a(6916),f=a(7908),d=a(3411),p=a(7659),g=a(4411),y=a(6244),x=a(6135),v=a(4121),b=a(1246),_=Array;s.exports=function(S){var E=f(S),M=g(this),T=arguments.length,R=T>1?arguments[1]:void 0,C=R!==void 0;C&&(R=c(R,T>2?arguments[2]:void 0));var P,F,G,V,B,X,ee=b(E),te=0;if(!ee||this===_&&p(ee))for(P=y(E),F=M?new this(P):_(P);P>te;te++)X=C?R(E[te],te):E[te],x(F,te,X);else for(B=(V=v(E,ee)).next,F=M?new this:[];!(G=u(B,V)).done;te++)X=C?d(V,R,[G.value,te],!0):G.value,x(F,te,X);return F.length=te,F}},1318:(s,l,a)=>{var c=a(5656),u=a(1400),f=a(6244),d=function(p){return function(g,y,x){var v,b=c(g),_=f(b),S=u(x,_);if(p&&y!=y){for(;_>S;)if((v=b[S++])!=v)return!0}else for(;_>S;S++)if((p||S in b)&&b[S]===y)return p||S||0;return!p&&-1}};s.exports={includes:d(!0),indexOf:d(!1)}},2092:(s,l,a)=>{var c=a(9974),u=a(1702),f=a(8361),d=a(7908),p=a(6244),g=a(5417),y=u([].push),x=function(v){var b=v==1,_=v==2,S=v==3,E=v==4,M=v==6,T=v==7,R=v==5||M;return function(C,P,F,G){for(var V,B,X=d(C),ee=f(X),te=c(P,F),O=p(ee),D=0,H=G||g,$=b?H(C,O):_||T?H(C,0):void 0;O>D;D++)if((R||D in ee)&&(B=te(V=ee[D],D,X),v))if(b)$[D]=B;else if(B)switch(v){case 3:return!0;case 5:return V;case 6:return D;case 2:y($,V)}else switch(v){case 4:return!1;case 7:y($,V)}return M?-1:S||E?E:$}};s.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},6583:(s,l,a)=>{var c=a(2104),u=a(5656),f=a(9303),d=a(6244),p=a(9341),g=Math.min,y=[].lastIndexOf,x=!!y&&1/[1].lastIndexOf(1,-0)<0,v=p("lastIndexOf"),b=x||!v;s.exports=b?function(_){if(x)return c(y,this,arguments)||0;var S=u(this),E=d(S),M=E-1;for(arguments.length>1&&(M=g(M,f(arguments[1]))),M<0&&(M=E+M);M>=0;M--)if(M in S&&S[M]===_)return M||0;return-1}:y},1194:(s,l,a)=>{var c=a(7293),u=a(5112),f=a(7392),d=u("species");s.exports=function(p){return f>=51||!c(function(){var g=[];return(g.constructor={})[d]=function(){return{foo:1}},g[p](Boolean).foo!==1})}},9341:(s,l,a)=>{var c=a(7293);s.exports=function(u,f){var d=[][u];return!!d&&c(function(){d.call(null,f||function(){return 1},1)})}},3671:(s,l,a)=>{var c=a(9662),u=a(7908),f=a(8361),d=a(6244),p=TypeError,g=function(y){return function(x,v,b,_){c(v);var S=u(x),E=f(S),M=d(S),T=y?M-1:0,R=y?-1:1;if(b<2)for(;;){if(T in E){_=E[T],T+=R;break}if(T+=R,y?T<0:M<=T)throw p("Reduce of empty array with no initial value")}for(;y?T>=0:M>T;T+=R)T in E&&(_=v(_,E[T],T,S));return _}};s.exports={left:g(!1),right:g(!0)}},1589:(s,l,a)=>{var c=a(1400),u=a(6244),f=a(6135),d=Array,p=Math.max;s.exports=function(g,y,x){for(var v=u(g),b=c(y,v),_=c(x===void 0?v:x,v),S=d(p(_-b,0)),E=0;b<_;b++,E++)f(S,E,g[b]);return S.length=E,S}},206:(s,l,a)=>{var c=a(1702);s.exports=c([].slice)},4362:(s,l,a)=>{var c=a(1589),u=Math.floor,f=function(g,y){var x=g.length,v=u(x/2);return x<8?d(g,y):p(g,f(c(g,0,v),y),f(c(g,v),y),y)},d=function(g,y){for(var x,v,b=g.length,_=1;_<b;){for(v=_,x=g[_];v&&y(g[v-1],x)>0;)g[v]=g[--v];v!==_++&&(g[v]=x)}return g},p=function(g,y,x,v){for(var b=y.length,_=x.length,S=0,E=0;S<b||E<_;)g[S+E]=S<b&&E<_?v(y[S],x[E])<=0?y[S++]:x[E++]:S<b?y[S++]:x[E++];return g};s.exports=f},7475:(s,l,a)=>{var c=a(3157),u=a(4411),f=a(111),d=a(5112)("species"),p=Array;s.exports=function(g){var y;return c(g)&&(y=g.constructor,(u(y)&&(y===p||c(y.prototype))||f(y)&&(y=y[d])===null)&&(y=void 0)),y===void 0?p:y}},5417:(s,l,a)=>{var c=a(7475);s.exports=function(u,f){return new(c(u))(f===0?0:f)}},3411:(s,l,a)=>{var c=a(9670),u=a(9212);s.exports=function(f,d,p,g){try{return g?d(c(p)[0],p[1]):d(p)}catch(y){u(f,"throw",y)}}},7072:(s,l,a)=>{var c=a(5112)("iterator"),u=!1;try{var f=0,d={next:function(){return{done:!!f++}},return:function(){u=!0}};d[c]=function(){return this},Array.from(d,function(){throw 2})}catch{}s.exports=function(p,g){if(!g&&!u)return!1;var y=!1;try{var x={};x[c]=function(){return{next:function(){return{done:y=!0}}}},p(x)}catch{}return y}},4326:(s,l,a)=>{var c=a(1702),u=c({}.toString),f=c("".slice);s.exports=function(d){return f(u(d),8,-1)}},648:(s,l,a)=>{var c=a(1694),u=a(614),f=a(4326),d=a(5112)("toStringTag"),p=Object,g=f(function(){return arguments}())=="Arguments";s.exports=c?f:function(y){var x,v,b;return y===void 0?"Undefined":y===null?"Null":typeof(v=function(_,S){try{return _[S]}catch{}}(x=p(y),d))=="string"?v:g?f(x):(b=f(x))=="Object"&&u(x.callee)?"Arguments":b}},9920:(s,l,a)=>{var c=a(2597),u=a(3887),f=a(1236),d=a(3070);s.exports=function(p,g,y){for(var x=u(g),v=d.f,b=f.f,_=0;_<x.length;_++){var S=x[_];c(p,S)||y&&c(y,S)||v(p,S,b(g,S))}}},8544:(s,l,a)=>{var c=a(7293);s.exports=!c(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},6178:s=>{s.exports=function(l,a){return{value:l,done:a}}},8880:(s,l,a)=>{var c=a(9781),u=a(3070),f=a(9114);s.exports=c?function(d,p,g){return u.f(d,p,f(1,g))}:function(d,p,g){return d[p]=g,d}},9114:s=>{s.exports=function(l,a){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:a}}},6135:(s,l,a)=>{var c=a(4948),u=a(3070),f=a(9114);s.exports=function(d,p,g){var y=c(p);y in d?u.f(d,y,f(0,g)):d[y]=g}},8709:(s,l,a)=>{var c=a(9670),u=a(2140),f=TypeError;s.exports=function(d){if(c(this),d==="string"||d==="default")d="string";else if(d!=="number")throw f("Incorrect hint");return u(this,d)}},8052:(s,l,a)=>{var c=a(614),u=a(3070),f=a(6339),d=a(3072);s.exports=function(p,g,y,x){x||(x={});var v=x.enumerable,b=x.name!==void 0?x.name:g;if(c(y)&&f(y,b,x),x.global)v?p[g]=y:d(g,y);else{try{x.unsafe?p[g]&&(v=!0):delete p[g]}catch{}v?p[g]=y:u.f(p,g,{value:y,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return p}},9190:(s,l,a)=>{var c=a(8052);s.exports=function(u,f,d){for(var p in f)c(u,p,f[p],d);return u}},3072:(s,l,a)=>{var c=a(7854),u=Object.defineProperty;s.exports=function(f,d){try{u(c,f,{value:d,configurable:!0,writable:!0})}catch{c[f]=d}return d}},5117:(s,l,a)=>{var c=a(6330),u=TypeError;s.exports=function(f,d){if(!delete f[d])throw u("Cannot delete property "+c(d)+" of "+c(f))}},9781:(s,l,a)=>{var c=a(7293);s.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:s=>{var l=typeof document=="object"&&document.all,a=l===void 0&&l!==void 0;s.exports={all:l,IS_HTMLDDA:a}},317:(s,l,a)=>{var c=a(7854),u=a(111),f=c.document,d=u(f)&&u(f.createElement);s.exports=function(p){return d?f.createElement(p):{}}},8324:s=>{s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(s,l,a)=>{var c=a(317)("span").classList,u=c&&c.constructor&&c.constructor.prototype;s.exports=u===Object.prototype?void 0:u},8886:(s,l,a)=>{var c=a(8113).match(/firefox\/(\d+)/i);s.exports=!!c&&+c[1]},9363:s=>{s.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},256:(s,l,a)=>{var c=a(8113);s.exports=/MSIE|Trident/.test(c)},8113:(s,l,a)=>{var c=a(5005);s.exports=c("navigator","userAgent")||""},7392:(s,l,a)=>{var c,u,f=a(7854),d=a(8113),p=f.process,g=f.Deno,y=p&&p.versions||g&&g.version,x=y&&y.v8;x&&(u=(c=x.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!u&&d&&(!(c=d.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=d.match(/Chrome\/(\d+)/))&&(u=+c[1]),s.exports=u},8008:(s,l,a)=>{var c=a(8113).match(/AppleWebKit\/(\d+)\./);s.exports=!!c&&+c[1]},748:s=>{s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(s,l,a)=>{var c=a(7854),u=a(1236).f,f=a(8880),d=a(8052),p=a(3072),g=a(9920),y=a(4705);s.exports=function(x,v){var b,_,S,E,M,T=x.target,R=x.global,C=x.stat;if(b=R?c:C?c[T]||p(T,{}):(c[T]||{}).prototype)for(_ in v){if(E=v[_],S=x.dontCallGetSet?(M=u(b,_))&&M.value:b[_],!y(R?_:T+(C?".":"#")+_,x.forced)&&S!==void 0){if(typeof E==typeof S)continue;g(E,S)}(x.sham||S&&S.sham)&&f(E,"sham",!0),d(b,_,E,x)}}},7293:s=>{s.exports=function(l){try{return!!l()}catch{return!0}}},7007:(s,l,a)=>{a(4916);var c=a(1470),u=a(8052),f=a(2261),d=a(7293),p=a(5112),g=a(8880),y=p("species"),x=RegExp.prototype;s.exports=function(v,b,_,S){var E=p(v),M=!d(function(){var P={};return P[E]=function(){return 7},""[v](P)!=7}),T=M&&!d(function(){var P=!1,F=/a/;return v==="split"&&((F={}).constructor={},F.constructor[y]=function(){return F},F.flags="",F[E]=/./[E]),F.exec=function(){return P=!0,null},F[E](""),!P});if(!M||!T||_){var R=c(/./[E]),C=b(E,""[v],function(P,F,G,V,B){var X=c(P),ee=F.exec;return ee===f||ee===x.exec?M&&!B?{done:!0,value:R(F,G,V)}:{done:!0,value:X(G,F,V)}:{done:!1}});u(String.prototype,v,C[0]),u(x,E,C[1])}S&&g(x[E],"sham",!0)}},2104:(s,l,a)=>{var c=a(4374),u=Function.prototype,f=u.apply,d=u.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(c?d.bind(f):function(){return d.apply(f,arguments)})},9974:(s,l,a)=>{var c=a(1470),u=a(9662),f=a(4374),d=c(c.bind);s.exports=function(p,g){return u(p),g===void 0?p:f?d(p,g):function(){return p.apply(g,arguments)}}},4374:(s,l,a)=>{var c=a(7293);s.exports=!c(function(){var u=function(){}.bind();return typeof u!="function"||u.hasOwnProperty("prototype")})},7065:(s,l,a)=>{var c=a(1702),u=a(9662),f=a(111),d=a(2597),p=a(206),g=a(4374),y=Function,x=c([].concat),v=c([].join),b={},_=function(S,E,M){if(!d(b,E)){for(var T=[],R=0;R<E;R++)T[R]="a["+R+"]";b[E]=y("C,a","return new C("+v(T,",")+")")}return b[E](S,M)};s.exports=g?y.bind:function(S){var E=u(this),M=E.prototype,T=p(arguments,1),R=function(){var C=x(T,p(arguments));return this instanceof R?_(E,C.length,C):E.apply(S,C)};return f(M)&&(R.prototype=M),R}},6916:(s,l,a)=>{var c=a(4374),u=Function.prototype.call;s.exports=c?u.bind(u):function(){return u.apply(u,arguments)}},6530:(s,l,a)=>{var c=a(9781),u=a(2597),f=Function.prototype,d=c&&Object.getOwnPropertyDescriptor,p=u(f,"name"),g=p&&function(){}.name==="something",y=p&&(!c||c&&d(f,"name").configurable);s.exports={EXISTS:p,PROPER:g,CONFIGURABLE:y}},1470:(s,l,a)=>{var c=a(4326),u=a(1702);s.exports=function(f){if(c(f)==="Function")return u(f)}},1702:(s,l,a)=>{var c=a(4374),u=Function.prototype,f=u.call,d=c&&u.bind.bind(f,f);s.exports=c?d:function(p){return function(){return f.apply(p,arguments)}}},5005:(s,l,a)=>{var c=a(7854),u=a(614),f=function(d){return u(d)?d:void 0};s.exports=function(d,p){return arguments.length<2?f(c[d]):c[d]&&c[d][p]}},1246:(s,l,a)=>{var c=a(648),u=a(8173),f=a(8554),d=a(7497),p=a(5112)("iterator");s.exports=function(g){if(!f(g))return u(g,p)||u(g,"@@iterator")||d[c(g)]}},4121:(s,l,a)=>{var c=a(6916),u=a(9662),f=a(9670),d=a(6330),p=a(1246),g=TypeError;s.exports=function(y,x){var v=arguments.length<2?p(y):x;if(u(v))return f(c(v,y));throw g(d(y)+" is not iterable")}},8173:(s,l,a)=>{var c=a(9662),u=a(8554);s.exports=function(f,d){var p=f[d];return u(p)?void 0:c(p)}},647:(s,l,a)=>{var c=a(1702),u=a(7908),f=Math.floor,d=c("".charAt),p=c("".replace),g=c("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,x=/\$([$&'`]|\d{1,2})/g;s.exports=function(v,b,_,S,E,M){var T=_+v.length,R=S.length,C=x;return E!==void 0&&(E=u(E),C=y),p(M,C,function(P,F){var G;switch(d(F,0)){case"$":return"$";case"&":return v;case"`":return g(b,0,_);case"'":return g(b,T);case"<":G=E[g(F,1,-1)];break;default:var V=+F;if(V===0)return P;if(V>R){var B=f(V/10);return B===0?P:B<=R?S[B-1]===void 0?d(F,1):S[B-1]+d(F,1):P}G=S[V-1]}return G===void 0?"":G})}},7854:(s,l,a)=>{var c=function(u){return u&&u.Math==Math&&u};s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof a.g=="object"&&a.g)||function(){return this}()||Function("return this")()},2597:(s,l,a)=>{var c=a(1702),u=a(7908),f=c({}.hasOwnProperty);s.exports=Object.hasOwn||function(d,p){return f(u(d),p)}},3501:s=>{s.exports={}},490:(s,l,a)=>{var c=a(5005);s.exports=c("document","documentElement")},4664:(s,l,a)=>{var c=a(9781),u=a(7293),f=a(317);s.exports=!c&&!u(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},1179:s=>{var l=Array,a=Math.abs,c=Math.pow,u=Math.floor,f=Math.log,d=Math.LN2;s.exports={pack:function(p,g,y){var x,v,b,_=l(y),S=8*y-g-1,E=(1<<S)-1,M=E>>1,T=g===23?c(2,-24)-c(2,-77):0,R=p<0||p===0&&1/p<0?1:0,C=0;for((p=a(p))!=p||p===1/0?(v=p!=p?1:0,x=E):(x=u(f(p)/d),p*(b=c(2,-x))<1&&(x--,b*=2),(p+=x+M>=1?T/b:T*c(2,1-M))*b>=2&&(x++,b/=2),x+M>=E?(v=0,x=E):x+M>=1?(v=(p*b-1)*c(2,g),x+=M):(v=p*c(2,M-1)*c(2,g),x=0));g>=8;)_[C++]=255&v,v/=256,g-=8;for(x=x<<g|v,S+=g;S>0;)_[C++]=255&x,x/=256,S-=8;return _[--C]|=128*R,_},unpack:function(p,g){var y,x=p.length,v=8*x-g-1,b=(1<<v)-1,_=b>>1,S=v-7,E=x-1,M=p[E--],T=127&M;for(M>>=7;S>0;)T=256*T+p[E--],S-=8;for(y=T&(1<<-S)-1,T>>=-S,S+=g;S>0;)y=256*y+p[E--],S-=8;if(T===0)T=1-_;else{if(T===b)return y?NaN:M?-1/0:1/0;y+=c(2,g),T-=_}return(M?-1:1)*y*c(2,T-g)}}},8361:(s,l,a)=>{var c=a(1702),u=a(7293),f=a(4326),d=Object,p=c("".split);s.exports=u(function(){return!d("z").propertyIsEnumerable(0)})?function(g){return f(g)=="String"?p(g,""):d(g)}:d},9587:(s,l,a)=>{var c=a(614),u=a(111),f=a(7674);s.exports=function(d,p,g){var y,x;return f&&c(y=p.constructor)&&y!==g&&u(x=y.prototype)&&x!==g.prototype&&f(d,x),d}},2788:(s,l,a)=>{var c=a(1702),u=a(614),f=a(5465),d=c(Function.toString);u(f.inspectSource)||(f.inspectSource=function(p){return d(p)}),s.exports=f.inspectSource},9909:(s,l,a)=>{var c,u,f,d=a(4811),p=a(7854),g=a(111),y=a(8880),x=a(2597),v=a(5465),b=a(6200),_=a(3501),S="Object already initialized",E=p.TypeError,M=p.WeakMap;if(d||v.state){var T=v.state||(v.state=new M);T.get=T.get,T.has=T.has,T.set=T.set,c=function(C,P){if(T.has(C))throw E(S);return P.facade=C,T.set(C,P),P},u=function(C){return T.get(C)||{}},f=function(C){return T.has(C)}}else{var R=b("state");_[R]=!0,c=function(C,P){if(x(C,R))throw E(S);return P.facade=C,y(C,R,P),P},u=function(C){return x(C,R)?C[R]:{}},f=function(C){return x(C,R)}}s.exports={set:c,get:u,has:f,enforce:function(C){return f(C)?u(C):c(C,{})},getterFor:function(C){return function(P){var F;if(!g(P)||(F=u(P)).type!==C)throw E("Incompatible receiver, "+C+" required");return F}}}},7659:(s,l,a)=>{var c=a(5112),u=a(7497),f=c("iterator"),d=Array.prototype;s.exports=function(p){return p!==void 0&&(u.Array===p||d[f]===p)}},3157:(s,l,a)=>{var c=a(4326);s.exports=Array.isArray||function(u){return c(u)=="Array"}},4067:(s,l,a)=>{var c=a(648),u=a(1702)("".slice);s.exports=function(f){return u(c(f),0,3)==="Big"}},614:(s,l,a)=>{var c=a(4154),u=c.all;s.exports=c.IS_HTMLDDA?function(f){return typeof f=="function"||f===u}:function(f){return typeof f=="function"}},4411:(s,l,a)=>{var c=a(1702),u=a(7293),f=a(614),d=a(648),p=a(5005),g=a(2788),y=function(){},x=[],v=p("Reflect","construct"),b=/^\s*(?:class|function)\b/,_=c(b.exec),S=!b.exec(y),E=function(T){if(!f(T))return!1;try{return v(y,x,T),!0}catch{return!1}},M=function(T){if(!f(T))return!1;switch(d(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!_(b,g(T))}catch{return!0}};M.sham=!0,s.exports=!v||u(function(){var T;return E(E.call)||!E(Object)||!E(function(){T=!0})||T})?M:E},4705:(s,l,a)=>{var c=a(7293),u=a(614),f=/#|\.prototype\./,d=function(v,b){var _=g[p(v)];return _==x||_!=y&&(u(b)?c(b):!!b)},p=d.normalize=function(v){return String(v).replace(f,".").toLowerCase()},g=d.data={},y=d.NATIVE="N",x=d.POLYFILL="P";s.exports=d},5988:(s,l,a)=>{var c=a(111),u=Math.floor;s.exports=Number.isInteger||function(f){return!c(f)&&isFinite(f)&&u(f)===f}},8554:s=>{s.exports=function(l){return l==null}},111:(s,l,a)=>{var c=a(614),u=a(4154),f=u.all;s.exports=u.IS_HTMLDDA?function(d){return typeof d=="object"?d!==null:c(d)||d===f}:function(d){return typeof d=="object"?d!==null:c(d)}},1913:s=>{s.exports=!1},2190:(s,l,a)=>{var c=a(5005),u=a(614),f=a(7976),d=a(3307),p=Object;s.exports=d?function(g){return typeof g=="symbol"}:function(g){var y=c("Symbol");return u(y)&&f(y.prototype,p(g))}},9212:(s,l,a)=>{var c=a(6916),u=a(9670),f=a(8173);s.exports=function(d,p,g){var y,x;u(d);try{if(!(y=f(d,"return"))){if(p==="throw")throw g;return g}y=c(y,d)}catch(v){x=!0,y=v}if(p==="throw")throw g;if(x)throw y;return u(y),g}},3061:(s,l,a)=>{var c=a(3383).IteratorPrototype,u=a(30),f=a(9114),d=a(8003),p=a(7497),g=function(){return this};s.exports=function(y,x,v,b){var _=x+" Iterator";return y.prototype=u(c,{next:f(+!b,v)}),d(y,_,!1,!0),p[_]=g,y}},1656:(s,l,a)=>{var c=a(2109),u=a(6916),f=a(1913),d=a(6530),p=a(614),g=a(3061),y=a(9518),x=a(7674),v=a(8003),b=a(8880),_=a(8052),S=a(5112),E=a(7497),M=a(3383),T=d.PROPER,R=d.CONFIGURABLE,C=M.IteratorPrototype,P=M.BUGGY_SAFARI_ITERATORS,F=S("iterator"),G="keys",V="values",B="entries",X=function(){return this};s.exports=function(ee,te,O,D,H,$,W){g(O,te,D);var ie,j,Y,K=function(ge){if(ge===H&&Ae)return Ae;if(!P&&ge in xe)return xe[ge];switch(ge){case G:case V:case B:return function(){return new O(this,ge)}}return function(){return new O(this)}},fe=te+" Iterator",pe=!1,xe=ee.prototype,Ge=xe[F]||xe["@@iterator"]||H&&xe[H],Ae=!P&&Ge||K(H),z=te=="Array"&&xe.entries||Ge;if(z&&(ie=y(z.call(new ee)))!==Object.prototype&&ie.next&&(f||y(ie)===C||(x?x(ie,C):p(ie[F])||_(ie,F,X)),v(ie,fe,!0,!0),f&&(E[fe]=X)),T&&H==V&&Ge&&Ge.name!==V&&(!f&&R?b(xe,"name",V):(pe=!0,Ae=function(){return u(Ge,this)})),H)if(j={values:K(V),keys:$?Ae:K(G),entries:K(B)},W)for(Y in j)(P||pe||!(Y in xe))&&_(xe,Y,j[Y]);else c({target:te,proto:!0,forced:P||pe},j);return f&&!W||xe[F]===Ae||_(xe,F,Ae,{name:H}),E[te]=Ae,j}},3383:(s,l,a)=>{var c,u,f,d=a(7293),p=a(614),g=a(111),y=a(30),x=a(9518),v=a(8052),b=a(5112),_=a(1913),S=b("iterator"),E=!1;[].keys&&("next"in(f=[].keys())?(u=x(x(f)))!==Object.prototype&&(c=u):E=!0),!g(c)||d(function(){var M={};return c[S].call(M)!==M})?c={}:_&&(c=y(c)),p(c[S])||v(c,S,function(){return this}),s.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:E}},7497:s=>{s.exports={}},6244:(s,l,a)=>{var c=a(7466);s.exports=function(u){return c(u.length)}},6339:(s,l,a)=>{var c=a(7293),u=a(614),f=a(2597),d=a(9781),p=a(6530).CONFIGURABLE,g=a(2788),y=a(9909),x=y.enforce,v=y.get,b=Object.defineProperty,_=d&&!c(function(){return b(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),E=s.exports=function(M,T,R){String(T).slice(0,7)==="Symbol("&&(T="["+String(T).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),R&&R.getter&&(T="get "+T),R&&R.setter&&(T="set "+T),(!f(M,"name")||p&&M.name!==T)&&(d?b(M,"name",{value:T,configurable:!0}):M.name=T),_&&R&&f(R,"arity")&&M.length!==R.arity&&b(M,"length",{value:R.arity});try{R&&f(R,"constructor")&&R.constructor?d&&b(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch{}var C=x(M);return f(C,"source")||(C.source=S.join(typeof T=="string"?T:"")),M};Function.prototype.toString=E(function(){return u(this)&&v(this).source||g(this)},"toString")},4758:s=>{var l=Math.ceil,a=Math.floor;s.exports=Math.trunc||function(c){var u=+c;return(u>0?a:l)(u)}},2814:(s,l,a)=>{var c=a(7854),u=a(7293),f=a(1702),d=a(1340),p=a(3111).trim,g=a(1361),y=f("".charAt),x=c.parseFloat,v=c.Symbol,b=v&&v.iterator,_=1/x(g+"-0")!=-1/0||b&&!u(function(){x(Object(b))});s.exports=_?function(S){var E=p(d(S)),M=x(E);return M===0&&y(E,0)=="-"?-0:M}:x},3009:(s,l,a)=>{var c=a(7854),u=a(7293),f=a(1702),d=a(1340),p=a(3111).trim,g=a(1361),y=c.parseInt,x=c.Symbol,v=x&&x.iterator,b=/^[+-]?0x/i,_=f(b.exec),S=y(g+"08")!==8||y(g+"0x16")!==22||v&&!u(function(){y(Object(v))});s.exports=S?function(E,M){var T=p(d(E));return y(T,M>>>0||(_(b,T)?16:10))}:y},30:(s,l,a)=>{var c,u=a(9670),f=a(6048),d=a(748),p=a(3501),g=a(490),y=a(317),x=a(6200),v="prototype",b="script",_=x("IE_PROTO"),S=function(){},E=function(R){return"<"+b+">"+R+"</"+b+">"},M=function(R){R.write(E("")),R.close();var C=R.parentWindow.Object;return R=null,C},T=function(){try{c=new ActiveXObject("htmlfile")}catch{}var R,C,P;T=typeof document<"u"?document.domain&&c?M(c):(C=y("iframe"),P="java"+b+":",C.style.display="none",g.appendChild(C),C.src=String(P),(R=C.contentWindow.document).open(),R.write(E("document.F=Object")),R.close(),R.F):M(c);for(var F=d.length;F--;)delete T[v][d[F]];return T()};p[_]=!0,s.exports=Object.create||function(R,C){var P;return R!==null?(S[v]=u(R),P=new S,S[v]=null,P[_]=R):P=T(),C===void 0?P:f.f(P,C)}},6048:(s,l,a)=>{var c=a(9781),u=a(3353),f=a(3070),d=a(9670),p=a(5656),g=a(1956);l.f=c&&!u?Object.defineProperties:function(y,x){d(y);for(var v,b=p(x),_=g(x),S=_.length,E=0;S>E;)f.f(y,v=_[E++],b[v]);return y}},3070:(s,l,a)=>{var c=a(9781),u=a(4664),f=a(3353),d=a(9670),p=a(4948),g=TypeError,y=Object.defineProperty,x=Object.getOwnPropertyDescriptor,v="enumerable",b="configurable",_="writable";l.f=c?f?function(S,E,M){if(d(S),E=p(E),d(M),typeof S=="function"&&E==="prototype"&&"value"in M&&_ in M&&!M[_]){var T=x(S,E);T&&T[_]&&(S[E]=M.value,M={configurable:b in M?M[b]:T[b],enumerable:v in M?M[v]:T[v],writable:!1})}return y(S,E,M)}:y:function(S,E,M){if(d(S),E=p(E),d(M),u)try{return y(S,E,M)}catch{}if("get"in M||"set"in M)throw g("Accessors not supported");return"value"in M&&(S[E]=M.value),S}},1236:(s,l,a)=>{var c=a(9781),u=a(6916),f=a(5296),d=a(9114),p=a(5656),g=a(4948),y=a(2597),x=a(4664),v=Object.getOwnPropertyDescriptor;l.f=c?v:function(b,_){if(b=p(b),_=g(_),x)try{return v(b,_)}catch{}if(y(b,_))return d(!u(f.f,b,_),b[_])}},1156:(s,l,a)=>{var c=a(4326),u=a(5656),f=a(8006).f,d=a(1589),p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(g){return p&&c(g)=="Window"?function(y){try{return f(y)}catch{return d(p)}}(g):f(u(g))}},8006:(s,l,a)=>{var c=a(6324),u=a(748).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(f){return c(f,u)}},5181:(s,l)=>{l.f=Object.getOwnPropertySymbols},9518:(s,l,a)=>{var c=a(2597),u=a(614),f=a(7908),d=a(6200),p=a(8544),g=d("IE_PROTO"),y=Object,x=y.prototype;s.exports=p?y.getPrototypeOf:function(v){var b=f(v);if(c(b,g))return b[g];var _=b.constructor;return u(_)&&b instanceof _?_.prototype:b instanceof y?x:null}},7976:(s,l,a)=>{var c=a(1702);s.exports=c({}.isPrototypeOf)},6324:(s,l,a)=>{var c=a(1702),u=a(2597),f=a(5656),d=a(1318).indexOf,p=a(3501),g=c([].push);s.exports=function(y,x){var v,b=f(y),_=0,S=[];for(v in b)!u(p,v)&&u(b,v)&&g(S,v);for(;x.length>_;)u(b,v=x[_++])&&(~d(S,v)||g(S,v));return S}},1956:(s,l,a)=>{var c=a(6324),u=a(748);s.exports=Object.keys||function(f){return c(f,u)}},5296:(s,l)=>{var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!a.call({1:2},1);l.f=u?function(f){var d=c(this,f);return!!d&&d.enumerable}:a},7674:(s,l,a)=>{var c=a(1702),u=a(9670),f=a(6077);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d,p=!1,g={};try{(d=c(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(g,[]),p=g instanceof Array}catch{}return function(y,x){return u(y),f(x),p?d(y,x):y.__proto__=x,y}}():void 0)},4699:(s,l,a)=>{var c=a(9781),u=a(1702),f=a(1956),d=a(5656),p=u(a(5296).f),g=u([].push),y=function(x){return function(v){for(var b,_=d(v),S=f(_),E=S.length,M=0,T=[];E>M;)b=S[M++],c&&!p(_,b)||g(T,x?[b,_[b]]:_[b]);return T}};s.exports={entries:y(!0),values:y(!1)}},288:(s,l,a)=>{var c=a(1694),u=a(648);s.exports=c?{}.toString:function(){return"[object "+u(this)+"]"}},2140:(s,l,a)=>{var c=a(6916),u=a(614),f=a(111),d=TypeError;s.exports=function(p,g){var y,x;if(g==="string"&&u(y=p.toString)&&!f(x=c(y,p))||u(y=p.valueOf)&&!f(x=c(y,p))||g!=="string"&&u(y=p.toString)&&!f(x=c(y,p)))return x;throw d("Can't convert object to primitive value")}},3887:(s,l,a)=>{var c=a(5005),u=a(1702),f=a(8006),d=a(5181),p=a(9670),g=u([].concat);s.exports=c("Reflect","ownKeys")||function(y){var x=f.f(p(y)),v=d.f;return v?g(x,v(y)):x}},857:(s,l,a)=>{var c=a(7854);s.exports=c},7651:(s,l,a)=>{var c=a(6916),u=a(9670),f=a(614),d=a(4326),p=a(2261),g=TypeError;s.exports=function(y,x){var v=y.exec;if(f(v)){var b=c(v,y,x);return b!==null&&u(b),b}if(d(y)==="RegExp")return c(p,y,x);throw g("RegExp#exec called on incompatible receiver")}},2261:(s,l,a)=>{var c,u,f=a(6916),d=a(1702),p=a(1340),g=a(7066),y=a(2999),x=a(2309),v=a(30),b=a(9909).get,_=a(9441),S=a(7168),E=x("native-string-replace",String.prototype.replace),M=RegExp.prototype.exec,T=M,R=d("".charAt),C=d("".indexOf),P=d("".replace),F=d("".slice),G=(u=/b*/g,f(M,c=/a/,"a"),f(M,u,"a"),c.lastIndex!==0||u.lastIndex!==0),V=y.BROKEN_CARET,B=/()??/.exec("")[1]!==void 0;(G||B||V||_||S)&&(T=function(X){var ee,te,O,D,H,$,W,ie=this,j=b(ie),Y=p(X),K=j.raw;if(K)return K.lastIndex=ie.lastIndex,ee=f(T,K,Y),ie.lastIndex=K.lastIndex,ee;var fe=j.groups,pe=V&&ie.sticky,xe=f(g,ie),Ge=ie.source,Ae=0,z=Y;if(pe&&(xe=P(xe,"y",""),C(xe,"g")===-1&&(xe+="g"),z=F(Y,ie.lastIndex),ie.lastIndex>0&&(!ie.multiline||ie.multiline&&R(Y,ie.lastIndex-1)!==`
`)&&(Ge="(?: "+Ge+")",z=" "+z,Ae++),te=new RegExp("^(?:"+Ge+")",xe)),B&&(te=new RegExp("^"+Ge+"$(?!\\s)",xe)),G&&(O=ie.lastIndex),D=f(M,pe?te:ie,z),pe?D?(D.input=F(D.input,Ae),D[0]=F(D[0],Ae),D.index=ie.lastIndex,ie.lastIndex+=D[0].length):ie.lastIndex=0:G&&D&&(ie.lastIndex=ie.global?D.index+D[0].length:O),B&&D&&D.length>1&&f(E,D[0],te,function(){for(H=1;H<arguments.length-2;H++)arguments[H]===void 0&&(D[H]=void 0)}),D&&fe)for(D.groups=$=v(null),H=0;H<fe.length;H++)$[(W=fe[H])[0]]=D[W[1]];return D}),s.exports=T},7066:(s,l,a)=>{var c=a(9670);s.exports=function(){var u=c(this),f="";return u.hasIndices&&(f+="d"),u.global&&(f+="g"),u.ignoreCase&&(f+="i"),u.multiline&&(f+="m"),u.dotAll&&(f+="s"),u.unicode&&(f+="u"),u.unicodeSets&&(f+="v"),u.sticky&&(f+="y"),f}},4706:(s,l,a)=>{var c=a(6916),u=a(2597),f=a(7976),d=a(7066),p=RegExp.prototype;s.exports=function(g){var y=g.flags;return y!==void 0||"flags"in p||u(g,"flags")||!f(p,g)?y:c(d,g)}},2999:(s,l,a)=>{var c=a(7293),u=a(7854).RegExp,f=c(function(){var g=u("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),d=f||c(function(){return!u("a","y").sticky}),p=f||c(function(){var g=u("^r","gy");return g.lastIndex=2,g.exec("str")!=null});s.exports={BROKEN_CARET:p,MISSED_STICKY:d,UNSUPPORTED_Y:f}},9441:(s,l,a)=>{var c=a(7293),u=a(7854).RegExp;s.exports=c(function(){var f=u(".","s");return!(f.dotAll&&f.exec(`
`)&&f.flags==="s")})},7168:(s,l,a)=>{var c=a(7293),u=a(7854).RegExp;s.exports=c(function(){var f=u("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"})},4488:(s,l,a)=>{var c=a(8554),u=TypeError;s.exports=function(f){if(c(f))throw u("Can't call method on "+f);return f}},7152:(s,l,a)=>{var c,u=a(7854),f=a(2104),d=a(614),p=a(9363),g=a(8113),y=a(206),x=a(8053),v=u.Function,b=/MSIE .\./.test(g)||p&&((c=u.Bun.version.split(".")).length<3||c[0]==0&&(c[1]<3||c[1]==3&&c[2]==0));s.exports=function(_,S){var E=S?2:1;return b?function(M,T){var R=x(arguments.length,1)>E,C=d(M)?M:v(M),P=R?y(arguments,E):[],F=R?function(){f(C,this,P)}:C;return S?_(F,T):_(F)}:_}},6340:(s,l,a)=>{var c=a(5005),u=a(3070),f=a(5112),d=a(9781),p=f("species");s.exports=function(g){var y=c(g),x=u.f;d&&y&&!y[p]&&x(y,p,{configurable:!0,get:function(){return this}})}},8003:(s,l,a)=>{var c=a(3070).f,u=a(2597),f=a(5112)("toStringTag");s.exports=function(d,p,g){d&&!g&&(d=d.prototype),d&&!u(d,f)&&c(d,f,{configurable:!0,value:p})}},6200:(s,l,a)=>{var c=a(2309),u=a(9711),f=c("keys");s.exports=function(d){return f[d]||(f[d]=u(d))}},5465:(s,l,a)=>{var c=a(7854),u=a(3072),f="__core-js_shared__",d=c[f]||u(f,{});s.exports=d},2309:(s,l,a)=>{var c=a(1913),u=a(5465);(s.exports=function(f,d){return u[f]||(u[f]=d!==void 0?d:{})})("versions",[]).push({version:"3.27.1",mode:c?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(s,l,a)=>{var c=a(9670),u=a(9483),f=a(8554),d=a(5112)("species");s.exports=function(p,g){var y,x=c(p).constructor;return x===void 0||f(y=c(x)[d])?g:u(y)}},8710:(s,l,a)=>{var c=a(1702),u=a(9303),f=a(1340),d=a(4488),p=c("".charAt),g=c("".charCodeAt),y=c("".slice),x=function(v){return function(b,_){var S,E,M=f(d(b)),T=u(_),R=M.length;return T<0||T>=R?v?"":void 0:(S=g(M,T))<55296||S>56319||T+1===R||(E=g(M,T+1))<56320||E>57343?v?p(M,T):S:v?y(M,T,T+2):E-56320+(S-55296<<10)+65536}};s.exports={codeAt:x(!1),charAt:x(!0)}},3111:(s,l,a)=>{var c=a(1702),u=a(4488),f=a(1340),d=a(1361),p=c("".replace),g="["+d+"]",y=RegExp("^"+g+g+"*"),x=RegExp(g+g+"*$"),v=function(b){return function(_){var S=f(u(_));return 1&b&&(S=p(S,y,"")),2&b&&(S=p(S,x,"")),S}};s.exports={start:v(1),end:v(2),trim:v(3)}},6293:(s,l,a)=>{var c=a(7392),u=a(7293);s.exports=!!Object.getOwnPropertySymbols&&!u(function(){var f=Symbol();return!String(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&c&&c<41})},6532:(s,l,a)=>{var c=a(6916),u=a(5005),f=a(5112),d=a(8052);s.exports=function(){var p=u("Symbol"),g=p&&p.prototype,y=g&&g.valueOf,x=f("toPrimitive");g&&!g[x]&&d(g,x,function(v){return c(y,this)},{arity:1})}},2015:(s,l,a)=>{var c=a(6293);s.exports=c&&!!Symbol.for&&!!Symbol.keyFor},863:(s,l,a)=>{var c=a(1702);s.exports=c(1 .valueOf)},1400:(s,l,a)=>{var c=a(9303),u=Math.max,f=Math.min;s.exports=function(d,p){var g=c(d);return g<0?u(g+p,0):f(g,p)}},4599:(s,l,a)=>{var c=a(7593),u=TypeError;s.exports=function(f){var d=c(f,"number");if(typeof d=="number")throw u("Can't convert number to bigint");return BigInt(d)}},7067:(s,l,a)=>{var c=a(9303),u=a(7466),f=RangeError;s.exports=function(d){if(d===void 0)return 0;var p=c(d),g=u(p);if(p!==g)throw f("Wrong length or index");return g}},5656:(s,l,a)=>{var c=a(8361),u=a(4488);s.exports=function(f){return c(u(f))}},9303:(s,l,a)=>{var c=a(4758);s.exports=function(u){var f=+u;return f!=f||f===0?0:c(f)}},7466:(s,l,a)=>{var c=a(9303),u=Math.min;s.exports=function(f){return f>0?u(c(f),9007199254740991):0}},7908:(s,l,a)=>{var c=a(4488),u=Object;s.exports=function(f){return u(c(f))}},4590:(s,l,a)=>{var c=a(3002),u=RangeError;s.exports=function(f,d){var p=c(f);if(p%d)throw u("Wrong offset");return p}},3002:(s,l,a)=>{var c=a(9303),u=RangeError;s.exports=function(f){var d=c(f);if(d<0)throw u("The argument can't be less than 0");return d}},7593:(s,l,a)=>{var c=a(6916),u=a(111),f=a(2190),d=a(8173),p=a(2140),g=a(5112),y=TypeError,x=g("toPrimitive");s.exports=function(v,b){if(!u(v)||f(v))return v;var _,S=d(v,x);if(S){if(b===void 0&&(b="default"),_=c(S,v,b),!u(_)||f(_))return _;throw y("Can't convert object to primitive value")}return b===void 0&&(b="number"),p(v,b)}},4948:(s,l,a)=>{var c=a(7593),u=a(2190);s.exports=function(f){var d=c(f,"string");return u(d)?d:d+""}},1694:(s,l,a)=>{var c={};c[a(5112)("toStringTag")]="z",s.exports=String(c)==="[object z]"},1340:(s,l,a)=>{var c=a(648),u=String;s.exports=function(f){if(c(f)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return u(f)}},6330:s=>{var l=String;s.exports=function(a){try{return l(a)}catch{return"Object"}}},9843:(s,l,a)=>{var c=a(2109),u=a(7854),f=a(6916),d=a(9781),p=a(3832),g=a(260),y=a(3331),x=a(5787),v=a(9114),b=a(8880),_=a(5988),S=a(7466),E=a(7067),M=a(4590),T=a(4948),R=a(2597),C=a(648),P=a(111),F=a(2190),G=a(30),V=a(7976),B=a(7674),X=a(8006).f,ee=a(7321),te=a(2092).forEach,O=a(6340),D=a(3070),H=a(1236),$=a(9909),W=a(9587),ie=$.get,j=$.set,Y=$.enforce,K=D.f,fe=H.f,pe=Math.round,xe=u.RangeError,Ge=y.ArrayBuffer,Ae=Ge.prototype,z=y.DataView,ge=g.NATIVE_ARRAY_BUFFER_VIEWS,Me=g.TYPED_ARRAY_TAG,Ie=g.TypedArray,Re=g.TypedArrayPrototype,We=g.aTypedArrayConstructor,ke=g.isTypedArray,je="BYTES_PER_ELEMENT",He="Wrong length",Ne=function(Te,_e){We(Te);for(var ye=0,we=_e.length,Se=new Te(we);we>ye;)Se[ye]=_e[ye++];return Se},Ke=function(Te,_e){K(Te,_e,{get:function(){return ie(this)[_e]}})},J=function(Te){var _e;return V(Ae,Te)||(_e=C(Te))=="ArrayBuffer"||_e=="SharedArrayBuffer"},N=function(Te,_e){return ke(Te)&&!F(_e)&&_e in Te&&_(+_e)&&_e>=0},oe=function(Te,_e){return _e=T(_e),N(Te,_e)?v(2,Te[_e]):fe(Te,_e)},Le=function(Te,_e,ye){return _e=T(_e),!(N(Te,_e)&&P(ye)&&R(ye,"value"))||R(ye,"get")||R(ye,"set")||ye.configurable||R(ye,"writable")&&!ye.writable||R(ye,"enumerable")&&!ye.enumerable?K(Te,_e,ye):(Te[_e]=ye.value,Te)};d?(ge||(H.f=oe,D.f=Le,Ke(Re,"buffer"),Ke(Re,"byteOffset"),Ke(Re,"byteLength"),Ke(Re,"length")),c({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:oe,defineProperty:Le}),s.exports=function(Te,_e,ye){var we=Te.match(/\d+$/)[0]/8,Se=Te+(ye?"Clamped":"")+"Array",be="get"+Te,se="set"+Te,de=u[Se],he=de,me=he&&he.prototype,Ue={},qe=function(Be,Ee){K(Be,Ee,{get:function(){return function(Ye,tt){var vt=ie(Ye);return vt.view[be](tt*we+vt.byteOffset,!0)}(this,Ee)},set:function(Ye){return function(tt,vt,xt){var Et=ie(tt);ye&&(xt=(xt=pe(xt))<0?0:xt>255?255:255&xt),Et.view[se](vt*we+Et.byteOffset,xt,!0)}(this,Ee,Ye)},enumerable:!0})};ge?p&&(he=_e(function(Be,Ee,Ye,tt){return x(Be,me),W(P(Ee)?J(Ee)?tt!==void 0?new de(Ee,M(Ye,we),tt):Ye!==void 0?new de(Ee,M(Ye,we)):new de(Ee):ke(Ee)?Ne(he,Ee):f(ee,he,Ee):new de(E(Ee)),Be,he)}),B&&B(he,Ie),te(X(de),function(Be){Be in he||b(he,Be,de[Be])}),he.prototype=me):(he=_e(function(Be,Ee,Ye,tt){x(Be,me);var vt,xt,Et,Gt=0,Xt=0;if(P(Ee)){if(!J(Ee))return ke(Ee)?Ne(he,Ee):f(ee,he,Ee);vt=Ee,Xt=M(Ye,we);var jt=Ee.byteLength;if(tt===void 0){if(jt%we||(xt=jt-Xt)<0)throw xe(He)}else if((xt=S(tt)*we)+Xt>jt)throw xe(He);Et=xt/we}else Et=E(Ee),vt=new Ge(xt=Et*we);for(j(Be,{buffer:vt,byteOffset:Xt,byteLength:xt,length:Et,view:new z(vt)});Gt<Et;)qe(Be,Gt++)}),B&&B(he,Ie),me=he.prototype=G(Re)),me.constructor!==he&&b(me,"constructor",he),Y(me).TypedArrayConstructor=he,Me&&b(me,Me,Se);var re=he!=de;Ue[Se]=he,c({global:!0,constructor:!0,forced:re,sham:!ge},Ue),je in he||b(he,je,we),je in me||b(me,je,we),O(Se)}):s.exports=function(){}},3832:(s,l,a)=>{var c=a(7854),u=a(7293),f=a(7072),d=a(260).NATIVE_ARRAY_BUFFER_VIEWS,p=c.ArrayBuffer,g=c.Int8Array;s.exports=!d||!u(function(){g(1)})||!u(function(){new g(-1)})||!f(function(y){new g,new g(null),new g(1.5),new g(y)},!0)||u(function(){return new g(new p(2),1,void 0).length!==1})},3074:(s,l,a)=>{var c=a(7745),u=a(6304);s.exports=function(f,d){return c(u(f),d)}},7321:(s,l,a)=>{var c=a(9974),u=a(6916),f=a(9483),d=a(7908),p=a(6244),g=a(4121),y=a(1246),x=a(7659),v=a(4067),b=a(260).aTypedArrayConstructor,_=a(4599);s.exports=function(S){var E,M,T,R,C,P,F,G,V=f(this),B=d(S),X=arguments.length,ee=X>1?arguments[1]:void 0,te=ee!==void 0,O=y(B);if(O&&!x(O))for(G=(F=g(B,O)).next,B=[];!(P=u(G,F)).done;)B.push(P.value);for(te&&X>2&&(ee=c(ee,arguments[2])),M=p(B),T=new(b(V))(M),R=v(T),E=0;M>E;E++)C=te?ee(B[E],E):B[E],T[E]=R?_(C):+C;return T}},6304:(s,l,a)=>{var c=a(260),u=a(6707),f=c.aTypedArrayConstructor,d=c.getTypedArrayConstructor;s.exports=function(p){return f(u(p,d(p)))}},9711:(s,l,a)=>{var c=a(1702),u=0,f=Math.random(),d=c(1 .toString);s.exports=function(p){return"Symbol("+(p===void 0?"":p)+")_"+d(++u+f,36)}},3307:(s,l,a)=>{var c=a(6293);s.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(s,l,a)=>{var c=a(9781),u=a(7293);s.exports=c&&u(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:s=>{var l=TypeError;s.exports=function(a,c){if(a<c)throw l("Not enough arguments");return a}},4811:(s,l,a)=>{var c=a(7854),u=a(614),f=c.WeakMap;s.exports=u(f)&&/native code/.test(String(f))},6800:(s,l,a)=>{var c=a(857),u=a(2597),f=a(6061),d=a(3070).f;s.exports=function(p){var g=c.Symbol||(c.Symbol={});u(g,p)||d(g,p,{value:f.f(p)})}},6061:(s,l,a)=>{var c=a(5112);l.f=c},5112:(s,l,a)=>{var c=a(7854),u=a(2309),f=a(2597),d=a(9711),p=a(6293),g=a(3307),y=u("wks"),x=c.Symbol,v=x&&x.for,b=g?x:x&&x.withoutSetter||d;s.exports=function(_){if(!f(y,_)||!p&&typeof y[_]!="string"){var S="Symbol."+_;p&&f(x,_)?y[_]=x[_]:y[_]=g&&v?v(S):b(S)}return y[_]}},1361:s=>{s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8264:(s,l,a)=>{var c=a(2109),u=a(7854),f=a(3331),d=a(6340),p="ArrayBuffer",g=f[p];c({global:!0,constructor:!0,forced:u[p]!==g},{ArrayBuffer:g}),d(p)},9575:(s,l,a)=>{var c=a(2109),u=a(1470),f=a(7293),d=a(3331),p=a(9670),g=a(1400),y=a(7466),x=a(6707),v=d.ArrayBuffer,b=d.DataView,_=b.prototype,S=u(v.prototype.slice),E=u(_.getUint8),M=u(_.setUint8);c({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f(function(){return!new v(2).slice(1,void 0).byteLength})},{slice:function(T,R){if(S&&R===void 0)return S(p(this),T);for(var C=p(this).byteLength,P=g(T,C),F=g(R===void 0?C:R,C),G=new(x(this,v))(y(F-P)),V=new b(this),B=new b(G),X=0;P<F;)M(B,X++,E(V,P++));return G}})},1038:(s,l,a)=>{var c=a(2109),u=a(8457);c({target:"Array",stat:!0,forced:!a(7072)(function(f){Array.from(f)})},{from:u})},2772:(s,l,a)=>{var c=a(2109),u=a(1470),f=a(1318).indexOf,d=a(9341),p=u([].indexOf),g=!!p&&1/p([1],1,-0)<0,y=d("indexOf");c({target:"Array",proto:!0,forced:g||!y},{indexOf:function(x){var v=arguments.length>1?arguments[1]:void 0;return g?p(this,x,v)||0:f(this,x,v)}})},9753:(s,l,a)=>{a(2109)({target:"Array",stat:!0},{isArray:a(3157)})},6992:(s,l,a)=>{var c=a(5656),u=a(1223),f=a(7497),d=a(9909),p=a(3070).f,g=a(1656),y=a(6178),x=a(1913),v=a(9781),b="Array Iterator",_=d.set,S=d.getterFor(b);s.exports=g(Array,"Array",function(M,T){_(this,{type:b,target:c(M),index:0,kind:T})},function(){var M=S(this),T=M.target,R=M.kind,C=M.index++;return!T||C>=T.length?(M.target=void 0,y(void 0,!0)):y(R=="keys"?C:R=="values"?T[C]:[C,T[C]],!1)},"values");var E=f.Arguments=f.Array;if(u("keys"),u("values"),u("entries"),!x&&v&&E.name!=="values")try{p(E,"name",{value:"values"})}catch{}},9600:(s,l,a)=>{var c=a(2109),u=a(1702),f=a(8361),d=a(5656),p=a(9341),g=u([].join),y=f!=Object,x=p("join",",");c({target:"Array",proto:!0,forced:y||!x},{join:function(v){return g(d(this),v===void 0?",":v)}})},7042:(s,l,a)=>{var c=a(2109),u=a(3157),f=a(4411),d=a(111),p=a(1400),g=a(6244),y=a(5656),x=a(6135),v=a(5112),b=a(1194),_=a(206),S=b("slice"),E=v("species"),M=Array,T=Math.max;c({target:"Array",proto:!0,forced:!S},{slice:function(R,C){var P,F,G,V=y(this),B=g(V),X=p(R,B),ee=p(C===void 0?B:C,B);if(u(V)&&(P=V.constructor,(f(P)&&(P===M||u(P.prototype))||d(P)&&(P=P[E])===null)&&(P=void 0),P===M||P===void 0))return _(V,X,ee);for(F=new(P===void 0?M:P)(T(ee-X,0)),G=0;X<ee;X++,G++)X in V&&x(F,G,V[X]);return F.length=G,F}})},3843:(s,l,a)=>{var c=a(2109),u=a(1702),f=Date,d=u(f.prototype.getTime);c({target:"Date",stat:!0},{now:function(){return d(new f)}})},6078:(s,l,a)=>{var c=a(2597),u=a(8052),f=a(8709),d=a(5112)("toPrimitive"),p=Date.prototype;c(p,d)||u(p,d,f)},3710:(s,l,a)=>{var c=a(1702),u=a(8052),f=Date.prototype,d="Invalid Date",p="toString",g=c(f[p]),y=c(f.getTime);String(new Date(NaN))!=d&&u(f,p,function(){var x=y(this);return x==x?g(this):d})},4812:(s,l,a)=>{var c=a(2109),u=a(7065);c({target:"Function",proto:!0,forced:Function.bind!==u},{bind:u})},8309:(s,l,a)=>{var c=a(9781),u=a(6530).EXISTS,f=a(1702),d=a(3070).f,p=Function.prototype,g=f(p.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,x=f(y.exec);c&&!u&&d(p,"name",{configurable:!0,get:function(){try{return x(y,g(this))[1]}catch{return""}}})},8862:(s,l,a)=>{var c=a(2109),u=a(5005),f=a(2104),d=a(6916),p=a(1702),g=a(7293),y=a(3157),x=a(614),v=a(111),b=a(2190),_=a(206),S=a(6293),E=u("JSON","stringify"),M=p(/./.exec),T=p("".charAt),R=p("".charCodeAt),C=p("".replace),P=p(1 .toString),F=/[\uD800-\uDFFF]/g,G=/^[\uD800-\uDBFF]$/,V=/^[\uDC00-\uDFFF]$/,B=!S||g(function(){var O=u("Symbol")();return E([O])!="[null]"||E({a:O})!="{}"||E(Object(O))!="{}"}),X=g(function(){return E("\uDF06\uD834")!=='"\\udf06\\ud834"'||E("\uDEAD")!=='"\\udead"'}),ee=function(O,D){var H=_(arguments),$=D;if((v(D)||O!==void 0)&&!b(O))return y(D)||(D=function(W,ie){if(x($)&&(ie=d($,this,W,ie)),!b(ie))return ie}),H[1]=D,f(E,null,H)},te=function(O,D,H){var $=T(H,D-1),W=T(H,D+1);return M(G,O)&&!M(V,W)||M(V,O)&&!M(G,$)?"\\u"+P(R(O,0),16):O};E&&c({target:"JSON",stat:!0,arity:3,forced:B||X},{stringify:function(O,D,H){var $=_(arguments),W=f(B?ee:E,null,$);return X&&typeof W=="string"?C(W,F,te):W}})},9653:(s,l,a)=>{var c=a(2109),u=a(1913),f=a(9781),d=a(7854),p=a(857),g=a(1702),y=a(4705),x=a(2597),v=a(9587),b=a(7976),_=a(2190),S=a(7593),E=a(7293),M=a(8006).f,T=a(1236).f,R=a(3070).f,C=a(863),P=a(3111).trim,F="Number",G=d[F],V=p[F],B=G.prototype,X=d.TypeError,ee=g("".slice),te=g("".charCodeAt),O=function(j){var Y=S(j,"number");return typeof Y=="bigint"?Y:D(Y)},D=function(j){var Y,K,fe,pe,xe,Ge,Ae,z,ge=S(j,"number");if(_(ge))throw X("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=P(ge),(Y=te(ge,0))===43||Y===45){if((K=te(ge,2))===88||K===120)return NaN}else if(Y===48){switch(te(ge,1)){case 66:case 98:fe=2,pe=49;break;case 79:case 111:fe=8,pe=55;break;default:return+ge}for(Ge=(xe=ee(ge,2)).length,Ae=0;Ae<Ge;Ae++)if((z=te(xe,Ae))<48||z>pe)return NaN;return parseInt(xe,fe)}}return+ge},H=y(F,!G(" 0o1")||!G("0b1")||G("+0x1")),$=function(j){return b(B,j)&&E(function(){C(j)})},W=function(j){var Y=arguments.length<1?0:G(O(j));return $(this)?v(Object(Y),this,W):Y};W.prototype=B,H&&!u&&(B.constructor=W),c({global:!0,constructor:!0,wrap:!0,forced:H},{Number:W});var ie=function(j,Y){for(var K,fe=f?M(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),pe=0;fe.length>pe;pe++)x(Y,K=fe[pe])&&!x(j,K)&&R(j,K,T(Y,K))};u&&V&&ie(p[F],V),(H||u)&&ie(p[F],G)},4048:(s,l,a)=>{a(2109)({target:"Number",stat:!0},{isNaN:function(c){return c!=c}})},8011:(s,l,a)=>{a(2109)({target:"Object",stat:!0,sham:!a(9781)},{create:a(30)})},9070:(s,l,a)=>{var c=a(2109),u=a(9781),f=a(3070).f;c({target:"Object",stat:!0,forced:Object.defineProperty!==f,sham:!u},{defineProperty:f})},9720:(s,l,a)=>{var c=a(2109),u=a(4699).entries;c({target:"Object",stat:!0},{entries:function(f){return u(f)}})},9660:(s,l,a)=>{var c=a(2109),u=a(6293),f=a(7293),d=a(5181),p=a(7908);c({target:"Object",stat:!0,forced:!u||f(function(){d.f(1)})},{getOwnPropertySymbols:function(g){var y=d.f;return y?y(p(g)):[]}})},489:(s,l,a)=>{var c=a(2109),u=a(7293),f=a(7908),d=a(9518),p=a(8544);c({target:"Object",stat:!0,forced:u(function(){d(1)}),sham:!p},{getPrototypeOf:function(g){return d(f(g))}})},7941:(s,l,a)=>{var c=a(2109),u=a(7908),f=a(1956);c({target:"Object",stat:!0,forced:a(7293)(function(){f(1)})},{keys:function(d){return f(u(d))}})},8304:(s,l,a)=>{a(2109)({target:"Object",stat:!0},{setPrototypeOf:a(7674)})},1539:(s,l,a)=>{var c=a(1694),u=a(8052),f=a(288);c||u(Object.prototype,"toString",f,{unsafe:!0})},4678:(s,l,a)=>{var c=a(2109),u=a(2814);c({global:!0,forced:parseFloat!=u},{parseFloat:u})},1058:(s,l,a)=>{var c=a(2109),u=a(3009);c({global:!0,forced:parseInt!=u},{parseInt:u})},2419:(s,l,a)=>{var c=a(2109),u=a(5005),f=a(2104),d=a(7065),p=a(9483),g=a(9670),y=a(111),x=a(30),v=a(7293),b=u("Reflect","construct"),_=Object.prototype,S=[].push,E=v(function(){function R(){}return!(b(function(){},[],R)instanceof R)}),M=!v(function(){b(function(){})}),T=E||M;c({target:"Reflect",stat:!0,forced:T,sham:T},{construct:function(R,C){p(R),g(C);var P=arguments.length<3?R:p(arguments[2]);if(M&&!E)return b(R,C,P);if(R==P){switch(C.length){case 0:return new R;case 1:return new R(C[0]);case 2:return new R(C[0],C[1]);case 3:return new R(C[0],C[1],C[2]);case 4:return new R(C[0],C[1],C[2],C[3])}var F=[null];return f(S,F,C),new(f(d,R,F))}var G=P.prototype,V=x(y(G)?G:_),B=f(R,V,C);return y(B)?B:V}})},4916:(s,l,a)=>{var c=a(2109),u=a(2261);c({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},9714:(s,l,a)=>{var c=a(6530).PROPER,u=a(8052),f=a(9670),d=a(1340),p=a(7293),g=a(4706),y="toString",x=RegExp.prototype[y],v=p(function(){return x.call({source:"a",flags:"b"})!="/a/b"}),b=c&&x.name!=y;(v||b)&&u(RegExp.prototype,y,function(){var _=f(this);return"/"+d(_.source)+"/"+d(g(_))},{unsafe:!0})},8783:(s,l,a)=>{var c=a(8710).charAt,u=a(1340),f=a(9909),d=a(1656),p=a(6178),g="String Iterator",y=f.set,x=f.getterFor(g);d(String,"String",function(v){y(this,{type:g,string:u(v),index:0})},function(){var v,b=x(this),_=b.string,S=b.index;return S>=_.length?p(void 0,!0):(v=c(_,S),b.index+=v.length,p(v,!1))})},5306:(s,l,a)=>{var c=a(2104),u=a(6916),f=a(1702),d=a(7007),p=a(7293),g=a(9670),y=a(614),x=a(8554),v=a(9303),b=a(7466),_=a(1340),S=a(4488),E=a(1530),M=a(8173),T=a(647),R=a(7651),C=a(5112)("replace"),P=Math.max,F=Math.min,G=f([].concat),V=f([].push),B=f("".indexOf),X=f("".slice),ee="a".replace(/./,"$0")==="$0",te=!!/./[C]&&/./[C]("a","$0")==="";d("replace",function(O,D,H){var $=te?"$":"$0";return[function(W,ie){var j=S(this),Y=x(W)?void 0:M(W,C);return Y?u(Y,W,j,ie):u(D,_(j),W,ie)},function(W,ie){var j=g(this),Y=_(W);if(typeof ie=="string"&&B(ie,$)===-1&&B(ie,"$<")===-1){var K=H(D,j,Y,ie);if(K.done)return K.value}var fe=y(ie);fe||(ie=_(ie));var pe=j.global;if(pe){var xe=j.unicode;j.lastIndex=0}for(var Ge=[];;){var Ae=R(j,Y);if(Ae===null||(V(Ge,Ae),!pe))break;_(Ae[0])===""&&(j.lastIndex=E(Y,b(j.lastIndex),xe))}for(var z,ge="",Me=0,Ie=0;Ie<Ge.length;Ie++){for(var Re=_((Ae=Ge[Ie])[0]),We=P(F(v(Ae.index),Y.length),0),ke=[],je=1;je<Ae.length;je++)V(ke,(z=Ae[je])===void 0?z:String(z));var He=Ae.groups;if(fe){var Ne=G([Re],ke,We,Y);He!==void 0&&V(Ne,He);var Ke=_(c(ie,void 0,Ne))}else Ke=T(Re,Y,We,ke,He,ie);We>=Me&&(ge+=X(Y,Me,We)+Ke,Me=We+Re.length)}return ge+X(Y,Me)}]},!!p(function(){var O=/./;return O.exec=function(){var D=[];return D.groups={a:"7"},D},"".replace(O,"$<a>")!=="7"})||!ee||te)},4032:(s,l,a)=>{var c=a(2109),u=a(7854),f=a(6916),d=a(1702),p=a(1913),g=a(9781),y=a(6293),x=a(7293),v=a(2597),b=a(7976),_=a(9670),S=a(5656),E=a(4948),M=a(1340),T=a(9114),R=a(30),C=a(1956),P=a(8006),F=a(1156),G=a(5181),V=a(1236),B=a(3070),X=a(6048),ee=a(5296),te=a(8052),O=a(2309),D=a(6200),H=a(3501),$=a(9711),W=a(5112),ie=a(6061),j=a(6800),Y=a(6532),K=a(8003),fe=a(9909),pe=a(2092).forEach,xe=D("hidden"),Ge="Symbol",Ae="prototype",z=fe.set,ge=fe.getterFor(Ge),Me=Object[Ae],Ie=u.Symbol,Re=Ie&&Ie[Ae],We=u.TypeError,ke=u.QObject,je=V.f,He=B.f,Ne=F.f,Ke=ee.f,J=d([].push),N=O("symbols"),oe=O("op-symbols"),Le=O("wks"),Te=!ke||!ke[Ae]||!ke[Ae].findChild,_e=g&&x(function(){return R(He({},"a",{get:function(){return He(this,"a",{value:7}).a}})).a!=7})?function(me,Ue,qe){var re=je(Me,Ue);re&&delete Me[Ue],He(me,Ue,qe),re&&me!==Me&&He(Me,Ue,re)}:He,ye=function(me,Ue){var qe=N[me]=R(Re);return z(qe,{type:Ge,tag:me,description:Ue}),g||(qe.description=Ue),qe},we=function(me,Ue,qe){me===Me&&we(oe,Ue,qe),_(me);var re=E(Ue);return _(qe),v(N,re)?(qe.enumerable?(v(me,xe)&&me[xe][re]&&(me[xe][re]=!1),qe=R(qe,{enumerable:T(0,!1)})):(v(me,xe)||He(me,xe,T(1,{})),me[xe][re]=!0),_e(me,re,qe)):He(me,re,qe)},Se=function(me,Ue){_(me);var qe=S(Ue),re=C(qe).concat(he(qe));return pe(re,function(Be){g&&!f(be,qe,Be)||we(me,Be,qe[Be])}),me},be=function(me){var Ue=E(me),qe=f(Ke,this,Ue);return!(this===Me&&v(N,Ue)&&!v(oe,Ue))&&(!(qe||!v(this,Ue)||!v(N,Ue)||v(this,xe)&&this[xe][Ue])||qe)},se=function(me,Ue){var qe=S(me),re=E(Ue);if(qe!==Me||!v(N,re)||v(oe,re)){var Be=je(qe,re);return!Be||!v(N,re)||v(qe,xe)&&qe[xe][re]||(Be.enumerable=!0),Be}},de=function(me){var Ue=Ne(S(me)),qe=[];return pe(Ue,function(re){v(N,re)||v(H,re)||J(qe,re)}),qe},he=function(me){var Ue=me===Me,qe=Ne(Ue?oe:S(me)),re=[];return pe(qe,function(Be){!v(N,Be)||Ue&&!v(Me,Be)||J(re,N[Be])}),re};y||(te(Re=(Ie=function(){if(b(Re,this))throw We("Symbol is not a constructor");var me=arguments.length&&arguments[0]!==void 0?M(arguments[0]):void 0,Ue=$(me),qe=function(re){this===Me&&f(qe,oe,re),v(this,xe)&&v(this[xe],Ue)&&(this[xe][Ue]=!1),_e(this,Ue,T(1,re))};return g&&Te&&_e(Me,Ue,{configurable:!0,set:qe}),ye(Ue,me)})[Ae],"toString",function(){return ge(this).tag}),te(Ie,"withoutSetter",function(me){return ye($(me),me)}),ee.f=be,B.f=we,X.f=Se,V.f=se,P.f=F.f=de,G.f=he,ie.f=function(me){return ye(W(me),me)},g&&(He(Re,"description",{configurable:!0,get:function(){return ge(this).description}}),p||te(Me,"propertyIsEnumerable",be,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:Ie}),pe(C(Le),function(me){j(me)}),c({target:Ge,stat:!0,forced:!y},{useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),c({target:"Object",stat:!0,forced:!y,sham:!g},{create:function(me,Ue){return Ue===void 0?R(me):Se(R(me),Ue)},defineProperty:we,defineProperties:Se,getOwnPropertyDescriptor:se}),c({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:de}),Y(),K(Ie,Ge),H[xe]=!0},1817:(s,l,a)=>{var c=a(2109),u=a(9781),f=a(7854),d=a(1702),p=a(2597),g=a(614),y=a(7976),x=a(1340),v=a(3070).f,b=a(9920),_=f.Symbol,S=_&&_.prototype;if(u&&g(_)&&(!("description"in S)||_().description!==void 0)){var E={},M=function(){var V=arguments.length<1||arguments[0]===void 0?void 0:x(arguments[0]),B=y(S,this)?new _(V):V===void 0?_():_(V);return V===""&&(E[B]=!0),B};b(M,_),M.prototype=S,S.constructor=M;var T=String(_("test"))=="Symbol(test)",R=d(S.valueOf),C=d(S.toString),P=/^Symbol\((.*)\)[^)]+$/,F=d("".replace),G=d("".slice);v(S,"description",{configurable:!0,get:function(){var V=R(this);if(p(E,V))return"";var B=C(V),X=T?G(B,7,-1):F(B,P,"$1");return X===""?void 0:X}}),c({global:!0,constructor:!0,forced:!0},{Symbol:M})}},763:(s,l,a)=>{var c=a(2109),u=a(5005),f=a(2597),d=a(1340),p=a(2309),g=a(2015),y=p("string-to-symbol-registry"),x=p("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!g},{for:function(v){var b=d(v);if(f(y,b))return y[b];var _=u("Symbol")(b);return y[b]=_,x[_]=b,_}})},2165:(s,l,a)=>{a(6800)("iterator")},2526:(s,l,a)=>{a(4032),a(763),a(6620),a(8862),a(9660)},6620:(s,l,a)=>{var c=a(2109),u=a(2597),f=a(2190),d=a(6330),p=a(2309),g=a(2015),y=p("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!g},{keyFor:function(x){if(!f(x))throw TypeError(d(x)+" is not a symbol");if(u(y,x))return y[x]}})},6649:(s,l,a)=>{var c=a(6800),u=a(6532);c("toPrimitive"),u()},2990:(s,l,a)=>{var c=a(1702),u=a(260),f=c(a(1048)),d=u.aTypedArray;(0,u.exportTypedArrayMethod)("copyWithin",function(p,g){return f(d(this),p,g,arguments.length>2?arguments[2]:void 0)})},8927:(s,l,a)=>{var c=a(260),u=a(2092).every,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("every",function(d){return u(f(this),d,arguments.length>1?arguments[1]:void 0)})},3105:(s,l,a)=>{var c=a(260),u=a(1285),f=a(4599),d=a(648),p=a(6916),g=a(1702),y=a(7293),x=c.aTypedArray,v=c.exportTypedArrayMethod,b=g("".slice);v("fill",function(_){var S=arguments.length;x(this);var E=b(d(this),0,3)==="Big"?f(_):+_;return p(u,this,E,S>1?arguments[1]:void 0,S>2?arguments[2]:void 0)},y(function(){var _=0;return new Int8Array(2).fill({valueOf:function(){return _++}}),_!==1}))},5035:(s,l,a)=>{var c=a(260),u=a(2092).filter,f=a(3074),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("filter",function(p){var g=u(d(this),p,arguments.length>1?arguments[1]:void 0);return f(this,g)})},7174:(s,l,a)=>{var c=a(260),u=a(2092).findIndex,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("findIndex",function(d){return u(f(this),d,arguments.length>1?arguments[1]:void 0)})},4345:(s,l,a)=>{var c=a(260),u=a(2092).find,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("find",function(d){return u(f(this),d,arguments.length>1?arguments[1]:void 0)})},2846:(s,l,a)=>{var c=a(260),u=a(2092).forEach,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("forEach",function(d){u(f(this),d,arguments.length>1?arguments[1]:void 0)})},4731:(s,l,a)=>{var c=a(260),u=a(1318).includes,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("includes",function(d){return u(f(this),d,arguments.length>1?arguments[1]:void 0)})},7209:(s,l,a)=>{var c=a(260),u=a(1318).indexOf,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("indexOf",function(d){return u(f(this),d,arguments.length>1?arguments[1]:void 0)})},6319:(s,l,a)=>{var c=a(7854),u=a(7293),f=a(1702),d=a(260),p=a(6992),g=a(5112)("iterator"),y=c.Uint8Array,x=f(p.values),v=f(p.keys),b=f(p.entries),_=d.aTypedArray,S=d.exportTypedArrayMethod,E=y&&y.prototype,M=!u(function(){E[g].call([1])}),T=!!E&&E.values&&E[g]===E.values&&E.values.name==="values",R=function(){return x(_(this))};S("entries",function(){return b(_(this))},M),S("keys",function(){return v(_(this))},M),S("values",R,M||!T,{name:"values"}),S(g,R,M||!T,{name:"values"})},8867:(s,l,a)=>{var c=a(260),u=a(1702),f=c.aTypedArray,d=c.exportTypedArrayMethod,p=u([].join);d("join",function(g){return p(f(this),g)})},7789:(s,l,a)=>{var c=a(260),u=a(2104),f=a(6583),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("lastIndexOf",function(p){var g=arguments.length;return u(f,d(this),g>1?[p,arguments[1]]:[p])})},3739:(s,l,a)=>{var c=a(260),u=a(2092).map,f=a(6304),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("map",function(p){return u(d(this),p,arguments.length>1?arguments[1]:void 0,function(g,y){return new(f(g))(y)})})},4483:(s,l,a)=>{var c=a(260),u=a(3671).right,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduceRight",function(d){var p=arguments.length;return u(f(this),d,p,p>1?arguments[1]:void 0)})},9368:(s,l,a)=>{var c=a(260),u=a(3671).left,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduce",function(d){var p=arguments.length;return u(f(this),d,p,p>1?arguments[1]:void 0)})},2056:(s,l,a)=>{var c=a(260),u=c.aTypedArray,f=c.exportTypedArrayMethod,d=Math.floor;f("reverse",function(){for(var p,g=this,y=u(g).length,x=d(y/2),v=0;v<x;)p=g[v],g[v++]=g[--y],g[y]=p;return g})},3462:(s,l,a)=>{var c=a(7854),u=a(6916),f=a(260),d=a(6244),p=a(4590),g=a(7908),y=a(7293),x=c.RangeError,v=c.Int8Array,b=v&&v.prototype,_=b&&b.set,S=f.aTypedArray,E=f.exportTypedArrayMethod,M=!y(function(){var R=new Uint8ClampedArray(2);return u(_,R,{length:1,0:3},1),R[1]!==3}),T=M&&f.NATIVE_ARRAY_BUFFER_VIEWS&&y(function(){var R=new v(2);return R.set(1),R.set("2",1),R[0]!==0||R[1]!==2});E("set",function(R){S(this);var C=p(arguments.length>1?arguments[1]:void 0,1),P=g(R);if(M)return u(_,this,P,C);var F=this.length,G=d(P),V=0;if(G+C>F)throw x("Wrong length");for(;V<G;)this[C+V]=P[V++]},!M||T)},678:(s,l,a)=>{var c=a(260),u=a(6304),f=a(7293),d=a(206),p=c.aTypedArray;(0,c.exportTypedArrayMethod)("slice",function(g,y){for(var x=d(p(this),g,y),v=u(this),b=0,_=x.length,S=new v(_);_>b;)S[b]=x[b++];return S},f(function(){new Int8Array(1).slice()}))},7462:(s,l,a)=>{var c=a(260),u=a(2092).some,f=c.aTypedArray;(0,c.exportTypedArrayMethod)("some",function(d){return u(f(this),d,arguments.length>1?arguments[1]:void 0)})},3824:(s,l,a)=>{var c=a(7854),u=a(1470),f=a(7293),d=a(9662),p=a(4362),g=a(260),y=a(8886),x=a(256),v=a(7392),b=a(8008),_=g.aTypedArray,S=g.exportTypedArrayMethod,E=c.Uint16Array,M=E&&u(E.prototype.sort),T=!(!M||f(function(){M(new E(2),null)})&&f(function(){M(new E(2),{})})),R=!!M&&!f(function(){if(v)return v<74;if(y)return y<67;if(x)return!0;if(b)return b<602;var C,P,F=new E(516),G=Array(516);for(C=0;C<516;C++)P=C%4,F[C]=515-C,G[C]=C-2*P+3;for(M(F,function(V,B){return(V/4|0)-(B/4|0)}),C=0;C<516;C++)if(F[C]!==G[C])return!0});S("sort",function(C){return C!==void 0&&d(C),R?M(this,C):p(_(this),function(P){return function(F,G){return P!==void 0?+P(F,G)||0:G!=G?-1:F!=F?1:F===0&&G===0?1/F>0&&1/G<0?1:-1:F>G}}(C))},!R||T)},5021:(s,l,a)=>{var c=a(260),u=a(7466),f=a(1400),d=a(6304),p=c.aTypedArray;(0,c.exportTypedArrayMethod)("subarray",function(g,y){var x=p(this),v=x.length,b=f(g,v);return new(d(x))(x.buffer,x.byteOffset+b*x.BYTES_PER_ELEMENT,u((y===void 0?v:f(y,v))-b))})},2974:(s,l,a)=>{var c=a(7854),u=a(2104),f=a(260),d=a(7293),p=a(206),g=c.Int8Array,y=f.aTypedArray,x=f.exportTypedArrayMethod,v=[].toLocaleString,b=!!g&&d(function(){v.call(new g(1))});x("toLocaleString",function(){return u(v,b?p(y(this)):y(this),p(arguments))},d(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!d(function(){g.prototype.toLocaleString.call([1,2])}))},5016:(s,l,a)=>{var c=a(260).exportTypedArrayMethod,u=a(7293),f=a(7854),d=a(1702),p=f.Uint8Array,g=p&&p.prototype||{},y=[].toString,x=d([].join);u(function(){y.call({})})&&(y=function(){return x(this)});var v=g.toString!=y;c("toString",y,v)},2472:(s,l,a)=>{a(9843)("Uint8",function(c){return function(u,f,d){return c(this,u,f,d)}})},3948:(s,l,a)=>{var c=a(7854),u=a(8324),f=a(8509),d=a(6992),p=a(8880),g=a(5112),y=g("iterator"),x=g("toStringTag"),v=d.values,b=function(S,E){if(S){if(S[y]!==v)try{p(S,y,v)}catch{S[y]=v}if(S[x]||p(S,x,E),u[E]){for(var M in d)if(S[M]!==d[M])try{p(S,M,d[M])}catch{S[M]=d[M]}}}};for(var _ in u)b(c[_]&&c[_].prototype,_);b(f,"DOMTokenList")},6815:(s,l,a)=>{var c=a(2109),u=a(7854),f=a(7152)(u.setInterval,!0);c({global:!0,bind:!0,forced:u.setInterval!==f},{setInterval:f})},8417:(s,l,a)=>{var c=a(2109),u=a(7854),f=a(7152)(u.setTimeout,!0);c({global:!0,bind:!0,forced:u.setTimeout!==f},{setTimeout:f})},2564:(s,l,a)=>{a(6815),a(8417)},5666:s=>{var l=function(a){var c,u=Object.prototype,f=u.hasOwnProperty,d=Object.defineProperty||function(j,Y,K){j[Y]=K.value},p=typeof Symbol=="function"?Symbol:{},g=p.iterator||"@@iterator",y=p.asyncIterator||"@@asyncIterator",x=p.toStringTag||"@@toStringTag";function v(j,Y,K){return Object.defineProperty(j,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}),j[Y]}try{v({},"")}catch{v=function(Y,K,fe){return Y[K]=fe}}function b(j,Y,K,fe){var pe=Y&&Y.prototype instanceof R?Y:R,xe=Object.create(pe.prototype),Ge=new $(fe||[]);return d(xe,"_invoke",{value:te(j,K,Ge)}),xe}function _(j,Y,K){try{return{type:"normal",arg:j.call(Y,K)}}catch(fe){return{type:"throw",arg:fe}}}a.wrap=b;var S="suspendedStart",E="executing",M="completed",T={};function R(){}function C(){}function P(){}var F={};v(F,g,function(){return this});var G=Object.getPrototypeOf,V=G&&G(G(W([])));V&&V!==u&&f.call(V,g)&&(F=V);var B=P.prototype=R.prototype=Object.create(F);function X(j){["next","throw","return"].forEach(function(Y){v(j,Y,function(K){return this._invoke(Y,K)})})}function ee(j,Y){function K(pe,xe,Ge,Ae){var z=_(j[pe],j,xe);if(z.type!=="throw"){var ge=z.arg,Me=ge.value;return Me&&typeof Me=="object"&&f.call(Me,"__await")?Y.resolve(Me.__await).then(function(Ie){K("next",Ie,Ge,Ae)},function(Ie){K("throw",Ie,Ge,Ae)}):Y.resolve(Me).then(function(Ie){ge.value=Ie,Ge(ge)},function(Ie){return K("throw",Ie,Ge,Ae)})}Ae(z.arg)}var fe;d(this,"_invoke",{value:function(pe,xe){function Ge(){return new Y(function(Ae,z){K(pe,xe,Ae,z)})}return fe=fe?fe.then(Ge,Ge):Ge()}})}function te(j,Y,K){var fe=S;return function(pe,xe){if(fe===E)throw new Error("Generator is already running");if(fe===M){if(pe==="throw")throw xe;return ie()}for(K.method=pe,K.arg=xe;;){var Ge=K.delegate;if(Ge){var Ae=O(Ge,K);if(Ae){if(Ae===T)continue;return Ae}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(fe===S)throw fe=M,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);fe=E;var z=_(j,Y,K);if(z.type==="normal"){if(fe=K.done?M:"suspendedYield",z.arg===T)continue;return{value:z.arg,done:K.done}}z.type==="throw"&&(fe=M,K.method="throw",K.arg=z.arg)}}}function O(j,Y){var K=Y.method,fe=j.iterator[K];if(fe===c)return Y.delegate=null,K==="throw"&&j.iterator.return&&(Y.method="return",Y.arg=c,O(j,Y),Y.method==="throw")||K!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+K+"' method")),T;var pe=_(fe,j.iterator,Y.arg);if(pe.type==="throw")return Y.method="throw",Y.arg=pe.arg,Y.delegate=null,T;var xe=pe.arg;return xe?xe.done?(Y[j.resultName]=xe.value,Y.next=j.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=c),Y.delegate=null,T):xe:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,T)}function D(j){var Y={tryLoc:j[0]};1 in j&&(Y.catchLoc=j[1]),2 in j&&(Y.finallyLoc=j[2],Y.afterLoc=j[3]),this.tryEntries.push(Y)}function H(j){var Y=j.completion||{};Y.type="normal",delete Y.arg,j.completion=Y}function $(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(D,this),this.reset(!0)}function W(j){if(j){var Y=j[g];if(Y)return Y.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var K=-1,fe=function pe(){for(;++K<j.length;)if(f.call(j,K))return pe.value=j[K],pe.done=!1,pe;return pe.value=c,pe.done=!0,pe};return fe.next=fe}}return{next:ie}}function ie(){return{value:c,done:!0}}return C.prototype=P,d(B,"constructor",{value:P,configurable:!0}),d(P,"constructor",{value:C,configurable:!0}),C.displayName=v(P,x,"GeneratorFunction"),a.isGeneratorFunction=function(j){var Y=typeof j=="function"&&j.constructor;return!!Y&&(Y===C||(Y.displayName||Y.name)==="GeneratorFunction")},a.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,P):(j.__proto__=P,v(j,x,"GeneratorFunction")),j.prototype=Object.create(B),j},a.awrap=function(j){return{__await:j}},X(ee.prototype),v(ee.prototype,y,function(){return this}),a.AsyncIterator=ee,a.async=function(j,Y,K,fe,pe){pe===void 0&&(pe=Promise);var xe=new ee(b(j,Y,K,fe),pe);return a.isGeneratorFunction(Y)?xe:xe.next().then(function(Ge){return Ge.done?Ge.value:xe.next()})},X(B),v(B,x,"Generator"),v(B,g,function(){return this}),v(B,"toString",function(){return"[object Generator]"}),a.keys=function(j){var Y=Object(j),K=[];for(var fe in Y)K.push(fe);return K.reverse(),function pe(){for(;K.length;){var xe=K.pop();if(xe in Y)return pe.value=xe,pe.done=!1,pe}return pe.done=!0,pe}},a.values=W,$.prototype={constructor:$,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(H),!j)for(var Y in this)Y.charAt(0)==="t"&&f.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=c)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var Y=this;function K(z,ge){return xe.type="throw",xe.arg=j,Y.next=z,ge&&(Y.method="next",Y.arg=c),!!ge}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var pe=this.tryEntries[fe],xe=pe.completion;if(pe.tryLoc==="root")return K("end");if(pe.tryLoc<=this.prev){var Ge=f.call(pe,"catchLoc"),Ae=f.call(pe,"finallyLoc");if(Ge&&Ae){if(this.prev<pe.catchLoc)return K(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return K(pe.finallyLoc)}else if(Ge){if(this.prev<pe.catchLoc)return K(pe.catchLoc,!0)}else{if(!Ae)throw new Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return K(pe.finallyLoc)}}}},abrupt:function(j,Y){for(var K=this.tryEntries.length-1;K>=0;--K){var fe=this.tryEntries[K];if(fe.tryLoc<=this.prev&&f.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var pe=fe;break}}pe&&(j==="break"||j==="continue")&&pe.tryLoc<=Y&&Y<=pe.finallyLoc&&(pe=null);var xe=pe?pe.completion:{};return xe.type=j,xe.arg=Y,pe?(this.method="next",this.next=pe.finallyLoc,T):this.complete(xe)},complete:function(j,Y){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&Y&&(this.next=Y),T},finish:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.finallyLoc===j)return this.complete(K.completion,K.afterLoc),H(K),T}},catch:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.tryLoc===j){var fe=K.completion;if(fe.type==="throw"){var pe=fe.arg;H(K)}return pe}}throw new Error("illegal catch attempt")},delegateYield:function(j,Y,K){return this.delegate={iterator:W(j),resultName:Y,nextLoc:K},this.method==="next"&&(this.arg=c),T}},a}(s.exports);try{regeneratorRuntime=l}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var a=r[s]={exports:{}};return n[s](a,a.exports,i),a.exports}i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{AudioTag:()=>s,GM:()=>x,Player:()=>cl,Soundfont:()=>En,Synesthesia:()=>c,WebAudio:()=>l,WebMIDI:()=>a,audio_contexts:()=>Di,channels:()=>v,chordOff:()=>js,chordOn:()=>Do,config:()=>Mt,getContext:()=>mc,keyToNote:()=>b,loadPlugin:()=>po,loadProgram:()=>Ui,noteOff:()=>ll,noteOn:()=>ps,noteToKey:()=>_,pitchBend:()=>pc,playChannel:()=>Nu,programChange:()=>Ou,requestQueue:()=>Vs,send:()=>ds,sendRequest:()=>Ws,setContext:()=>ms,setController:()=>hs,setEffects:()=>sn,setVolume:()=>Ea,stopAllNotes:()=>Uo,stopChannel:()=>fs});var s={};i.r(s),i.d(s,{api:()=>S,chordOff:()=>fe,chordOn:()=>K,connect:()=>V,getContext:()=>O,noteOff:()=>Y,noteOn:()=>j,pitchBend:()=>ee,playChannel:()=>H,programChange:()=>ie,send:()=>B,setContext:()=>D,setController:()=>X,setEffects:()=>te,setVolume:()=>W,shared_root_info:()=>E,stopAllNotes:()=>pe,stopChannel:()=>$});var l={};i.r(l),i.d(l,{api:()=>Me,chordOff:()=>Se,chordOn:()=>we,connect:()=>He,createAudioContext:()=>Ue,getContext:()=>de,loadAudio:()=>me,noteOff:()=>ye,noteOn:()=>_e,pitchBend:()=>Te,playChannel:()=>Ne,programChange:()=>Le,send:()=>J,setContext:()=>he,setController:()=>N,setEffects:()=>se,setVolume:()=>oe,shared_root_info:()=>Ie,stopAllNotes:()=>be,stopChannel:()=>Ke});var a={};i.r(a),i.d(a,{api:()=>Be,chordOff:()=>Ht,chordOn:()=>xn,connect:()=>tt,getContext:()=>Gt,noteOff:()=>mr,noteOn:()=>Pn,pitchBend:()=>fn,playChannel:()=>vt,programChange:()=>rr,send:()=>jt,setContext:()=>Xt,setController:()=>Vt,setEffects:()=>Et,setVolume:()=>$n,shared_root_info:()=>Ee,stopAllNotes:()=>bn,stopChannel:()=>xt});var c={};i.r(c),i.d(c,{data:()=>vn,map:()=>zt}),i(7042),i(1539),i(8309),i(1038),i(8783),i(4916),i(2526),i(1817),i(2165),i(6992),i(3948),i(9753),i(8304),i(4812),i(489),i(2419),i(8011),i(9070),i(6649),i(6078),i(9653),i(5666),i(2772),i(3710),i(2564);var u={},f=0,d=function(U){f+=1;var Z=document.body,le=new Audio,Q=U.split(";")[0];le.id="audio",le.setAttribute("preload","auto"),le.setAttribute("audiobuffer","true"),le.addEventListener("error",function(){Z.removeChild(le),u[Q]=!1,f-=1},!1),le.addEventListener("canplaythrough",function(){Z.removeChild(le),u[Q]=!0,f-=1},!1),le.src="data:"+U,Z.appendChild(le)};i(7941);function p(U,Z){var le=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!le){if(Array.isArray(U)||(le=g(U))||Z&&U&&typeof U.length=="number"){le&&(U=le);var Q=0,ne=function(){};return{s:ne,n:function(){return Q>=U.length?{done:!0}:{done:!1,value:U[Q++]}},e:function(Pe){throw Pe},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(U)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function g(U,Z){if(U){if(typeof U=="string")return y(U,Z);var le=Object.prototype.toString.call(U).slice(8,-1);return le==="Object"&&U.constructor&&(le=U.constructor.name),le==="Map"||le==="Set"?Array.from(U):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?y(U,Z):void 0}}function y(U,Z){(Z==null||Z>U.length)&&(Z=U.length);for(var le=0,Q=new Array(Z);le<Z;le++)Q[le]=U[le];return Q}i(5306),i(9720),i(1058);var x=function(U){for(var Z=function(Bn){return Bn.replace(/[^a-z0-9 ]/gi,"").replace(/ /g,"_").toLowerCase()},le={byName:{},byId:{},byCategory:{}},Q=0,ne=Object.entries({Piano:["1 Acoustic Grand Piano","2 Bright Acoustic Piano","3 Electric Grand Piano","4 Honky-tonk Piano","5 Electric Piano 1","6 Electric Piano 2","7 Harpsichord","8 Clavinet"],"Chromatic Percussion":["9 Celesta","10 Glockenspiel","11 Music Box","12 Vibraphone","13 Marimba","14 Xylophone","15 Tubular Bells","16 Dulcimer"],Organ:["17 Drawbar Organ","18 Percussive Organ","19 Rock Organ","20 Church Organ","21 Reed Organ","22 Accordion","23 Harmonica","24 Tango Accordion"],Guitar:["25 Acoustic Guitar (nylon)","26 Acoustic Guitar (steel)","27 Electric Guitar (jazz)","28 Electric Guitar (clean)","29 Electric Guitar (muted)","30 Overdriven Guitar","31 Distortion Guitar","32 Guitar Harmonics"],Bass:["33 Acoustic Bass","34 Electric Bass (finger)","35 Electric Bass (pick)","36 Fretless Bass","37 Slap Bass 1","38 Slap Bass 2","39 Synth Bass 1","40 Synth Bass 2"],Strings:["41 Violin","42 Viola","43 Cello","44 Contrabass","45 Tremolo Strings","46 Pizzicato Strings","47 Orchestral Harp","48 Timpani"],Ensemble:["49 String Ensemble 1","50 String Ensemble 2","51 Synth Strings 1","52 Synth Strings 2","53 Choir Aahs","54 Voice Oohs","55 Synth Choir","56 Orchestra Hit"],Brass:["57 Trumpet","58 Trombone","59 Tuba","60 Muted Trumpet","61 French Horn","62 Brass Section","63 Synth Brass 1","64 Synth Brass 2"],Reed:["65 Soprano Sax","66 Alto Sax","67 Tenor Sax","68 Baritone Sax","69 Oboe","70 English Horn","71 Bassoon","72 Clarinet"],Pipe:["73 Piccolo","74 Flute","75 Recorder","76 Pan Flute","77 Blown Bottle","78 Shakuhachi","79 Whistle","80 Ocarina"],"Synth Lead":["81 Lead 1 (square)","82 Lead 2 (sawtooth)","83 Lead 3 (calliope)","84 Lead 4 (chiff)","85 Lead 5 (charang)","86 Lead 6 (voice)","87 Lead 7 (fifths)","88 Lead 8 (bass + lead)"],"Synth Pad":["89 Pad 1 (new age)","90 Pad 2 (warm)","91 Pad 3 (polysynth)","92 Pad 4 (choir)","93 Pad 5 (bowed)","94 Pad 6 (metallic)","95 Pad 7 (halo)","96 Pad 8 (sweep)"],"Synth Effects":["97 FX 1 (rain)","98 FX 2 (soundtrack)","99 FX 3 (crystal)","100 FX 4 (atmosphere)","101 FX 5 (brightness)","102 FX 6 (goblins)","103 FX 7 (echoes)","104 FX 8 (sci-fi)"],Ethnic:["105 Sitar","106 Banjo","107 Shamisen","108 Koto","109 Kalimba","110 Bagpipe","111 Fiddle","112 Shanai"],Percussive:["113 Tinkle Bell","114 Agogo","115 Steel Drums","116 Woodblock","117 Taiko Drum","118 Melodic Tom","119 Synth Drum"],"Sound effects":["120 Reverse Cymbal","121 Guitar Fret Noise","122 Breath Noise","123 Seashore","124 Bird Tweet","125 Telephone Ring","126 Helicopter","127 Applause","128 Gunshot"]});Q<ne.length;Q++){var Ce,Fe=(Mn=ne[Q],wn=2,function(Bn){if(Array.isArray(Bn))return Bn}(Mn)||function(Bn,er){var Yn=Bn==null?null:typeof Symbol<"u"&&Bn[Symbol.iterator]||Bn["@@iterator"];if(Yn!=null){var dn,Tn,Er,lr,ii=[],Xr=!0,mo=!1;try{if(Er=(Yn=Yn.call(Bn)).next,er===0){if(Object(Yn)!==Yn)return;Xr=!1}else for(;!(Xr=(dn=Er.call(Yn)).done)&&(ii.push(dn.value),ii.length!==er);Xr=!0);}catch(bi){mo=!0,Tn=bi}finally{try{if(!Xr&&Yn.return!=null&&(lr=Yn.return(),Object(lr)!==lr))return}finally{if(mo)throw Tn}}return ii}}(Mn,wn)||g(Mn,wn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),De=Fe[0],Pe=p(Fe[1]);try{for(Pe.s();!(Ce=Pe.n()).done;){var ot=Ce.value;if(ot){var at=parseInt(ot.substr(0,ot.indexOf(" ")),10),ht=at-1,Dt=ot.replace(at+" ",""),an=Z(Dt),qn=Z(De),kr={id:an,name:Dt,program:ht,category:De};le.byId[ht]=kr,le.byName[an]=kr,le.byCategory[qn]=le.byCategory[qn]||[],le.byCategory[qn].push(kr)}}}catch(Bn){Pe.e(Bn)}finally{Pe.f()}}var Mn,wn;return le}(),v=function(){for(var U={},Z=0;Z<16;Z++)U[Z]={program:Z,pitchBend:0,mute:!1,mono:!1,omni:!1,solo:!1};return U}(),b={},_={};(function(){for(var U=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Z=21;Z<=108;Z++){var le=Math.floor((Z-12)/12),Q=U[Z%12]+le;b[Q]=Z,_[Z]=Q}})();for(var S="audiotag",E={},M=[],T=0;T<16;T++)M[T]=127;for(var R=-1,C=[],P={},F=[],G=0;G<12;G++)F[G]=new Audio;var V=function(U){for(var Z=0,le=Object.keys(b);Z<le.length;Z++){var Q=le[Z];P[Q]={id:Q}}U.onsuccess&&U.onsuccess()},B=function(U,Z){},X=function(U,Z,le,Q){},ee=function(U,Z,le){},te=function(){},O=function(){},D=function(){},H=function(U,Z){if(v[U]){var le=v[U].program,Q=x.byId[le].id,ne=P[Z];if(ne){var Ce=Q+""+ne.id,Fe=(R+1)%F.length,De=F[Fe];if(C[Fe]=Ce,!E.Soundfont[Q])return;De.src=E.Soundfont[Q][ne.id],De.volume=M[U]/127,De.play(),R=Fe}}},$=function(U,Z){if(v[U]){var le=v[U].program,Q=x.byId[le].id,ne=P[Z];if(ne)for(var Ce=Q+""+ne.id,Fe=0,De=F.length;Fe<De;Fe++){var Pe=(Fe+R+1)%De,ot=C[Pe];if(ot&&ot===Ce)return F[Pe].pause(),void(C[Pe]=null)}}},W=function(U,Z){M[U]=Z},ie=function(U,Z){v[U].instrument=Z},j=function(U,Z,le,Q){var ne=_[Z];return!!P[ne]&&(Q?setTimeout(function(){M[U]=le,H(U,ne)},1e3*Q):(M[U]=le,H(U,ne),!0))},Y=function(U,Z,le){},K=function(U,Z,le,Q){for(var ne=function(){var Fe=Z[Ce],De=_[Fe];if(!P[De])return"continue";Q?setTimeout(function(){H(U,De)},1e3*Q):H(U,De)},Ce=0;Ce<Z.length;Ce++)ne()},fe=function(U,Z,le){for(var Q=function(){var Ce=Z[ne],Fe=_[Ce];if(!P[Fe])return"continue";le?setTimeout(function(){$(U,Fe)},1e3*le):$(U,Fe)},ne=0;ne<Z.length;ne++)Q()},pe=function(){for(var U=0,Z=F.length;U<Z;U++)F[U].pause()},xe=(i(8264),i(9575),i(2472),i(2990),i(8927),i(3105),i(5035),i(4345),i(7174),i(2846),i(4731),i(7209),i(6319),i(8867),i(7789),i(3739),i(9368),i(4483),i(2056),i(3462),i(678),i(7462),i(3824),i(5021),i(2974),i(5016),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");function Ge(U,Z){var le=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!le){if(Array.isArray(U)||(le=Ae(U))||Z&&U&&typeof U.length=="number"){le&&(U=le);var Q=0,ne=function(){};return{s:ne,n:function(){return Q>=U.length?{done:!0}:{done:!1,value:U[Q++]}},e:function(Pe){throw Pe},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(U)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function Ae(U,Z){if(U){if(typeof U=="string")return z(U,Z);var le=Object.prototype.toString.call(U).slice(8,-1);return le==="Object"&&U.constructor&&(le=U.constructor.name),le==="Map"||le==="Set"?Array.from(U):le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?z(U,Z):void 0}}function z(U,Z){(Z==null||Z>U.length)&&(Z=U.length);for(var le=0,Q=new Array(Z);le<Z;le++)Q[le]=U[le];return Q}var ge,Me="webaudio",Ie={},Re={},We={},ke=127,je={},He=function(U){he(ge||Ue(),U.onsuccess)},Ne=function(){},Ke=function(){},J=function(U,Z){},N=function(U,Z,le,Q){},oe=function(U,Z,le){le?setTimeout(function(){ke=Z},1e3*le):ke=Z},Le=function(U,Z,le){var Q=v[U];Q&&(Q.program=Z)},Te=function(U,Z,le){var Q=v[U];Q&&(le?setTimeout(function(){Q.pitchBend=Z},le):Q.pitchBend=Z)},_e=function(U,Z,le){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ne=v[U],Ce=ne.program,Fe=Ce+"x"+Z,De=je[Fe];if(De&&ge){var Pe;if(Q<ge.currentTime&&(Q+=ge.currentTime),(Pe=ge.createBufferSource()).buffer=De,We)for(var ot=Pe,at=0,ht=Object.keys(We);at<ht.length;at++){var Dt=ht[at];ot.connect(We[Dt].input),ot=We[Dt]}var an=le/127*(ke/127)*2-1;return Pe.connect(ge.destination),Pe.playbackRate.value=1,Pe.gainNode=ge.createGain(),Pe.gainNode.connect(ge.destination),Pe.gainNode.gain.value=Math.min(1,Math.max(-1,an)),Pe.connect(Pe.gainNode),Pe.start(Q||0),Re[U+"x"+Z]=Pe,Pe}},ye=function(U,Z){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Q=v[U],ne=Q.program,Ce=ne+"x"+Z,Fe=je[Ce];if(ge&&Fe){le<ge.currentTime&&(le+=ge.currentTime);var De=Re[U+"x"+Z];if(De){if(De.gainNode){var Pe=De.gainNode.gain;Pe.linearRampToValueAtTime(Pe.value,le),Pe.linearRampToValueAtTime(-1,le+.3)}return De.noteOff?De.noteOff(le+.5):De.stop(le+.5),delete Re[U+"x"+Z],De}}},we=function(U,Z,le,Q){var ne,Ce={},Fe=Ge(Z);try{for(Fe.s();!(ne=Fe.n()).done;){var De=ne.value;Ce[De]=_e(U,De,le,Q)}}catch(Pe){Fe.e(Pe)}finally{Fe.f()}return Ce},Se=function(U,Z,le){var Q,ne={},Ce=Ge(Z);try{for(Ce.s();!(Q=Ce.n()).done;){var Fe=Q.value;ne[Fe]=ye(U,Fe,le)}}catch(De){Ce.e(De)}finally{Ce.f()}return ne},be=function(){if(ge)for(var U=0,Z=Object.keys(Re);U<Z.length;U++){var le=Z[U],Q=0;Q<ge.currentTime&&(Q+=ge.currentTime);var ne=Re[le];ne.gain.linearRampToValueAtTime(1,Q),ne.gain.linearRampToValueAtTime(0,Q+.3),ne.noteOff?ne.noteOff(Q+.3):ne.stop(Q+.3),delete Re[le]}},se=function(U){if(ge&&ge.tunajs){var Z,le=Ge(U);try{for(le.s();!(Z=le.n()).done;){var Q=Z.value,ne=new ge.tunajs[Q.type](Q);ne.connect(ge.destination),We[Q.type]=ne}}catch(Ce){le.e(Ce)}finally{le.f()}}else console.log("Effects module not installed.")},de=function(){return ge},he=function(U,Z,le,Q){ge=U,typeof Tuna>"u"||ge.tunajs instanceof Tuna||(ge.tunajs=new Tuna(ge));for(var ne=[],Ce=0,Fe=Object.keys(b);Ce<Fe.length;Ce++){var De=Fe[Ce];ne.push(De)}for(var Pe=function(dn){for(var Tn=0,Er=Object.keys(at);Tn<Er.length;Tn++){var lr=Er[Tn];if(at[lr])return}Z&&(Z(),Z=null)},ot=function(dn,Tn,Er,lr){var ii=dn[lr];ii&&(at[Tn]+=1,me(ii,function(Xr){Xr.id=lr;var mo=b[lr];je[Tn+"x"+mo]=Xr,at[Tn]-=1,at[Tn]===0&&(dn.isLoaded=!0,Pe())},function(Xr){console.log(Xr)}))},at={},ht=0,Dt=Object.entries(Ie.Soundfont);ht<Dt.length;ht++){var an=(er=Dt[ht],Yn=2,function(dn){if(Array.isArray(dn))return dn}(er)||function(dn,Tn){var Er=dn==null?null:typeof Symbol<"u"&&dn[Symbol.iterator]||dn["@@iterator"];if(Er!=null){var lr,ii,Xr,mo,bi=[],or=!0,Nr=!1;try{if(Xr=(Er=Er.call(dn)).next,Tn===0){if(Object(Er)!==Er)return;or=!1}else for(;!(or=(lr=Xr.call(Er)).done)&&(bi.push(lr.value),bi.length!==Tn);or=!0);}catch(Vn){Nr=!0,ii=Vn}finally{try{if(!or&&Er.return!=null&&(mo=Er.return(),Object(mo)!==mo))return}finally{if(Nr)throw ii}}return bi}}(er,Yn)||Ae(er,Yn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),qn=an[0],kr=an[1];if(!kr.isLoaded){var Mn=x.byName[qn];if(Mn){var wn=Mn.program;at[wn]=0;for(var Bn=0;Bn<ne.length;Bn++)ot(kr,wn,0,ne[Bn])}}}var er,Yn;setTimeout(Pe,1)},me=function(U,Z,le){if(U.indexOf("data:audio")===0){var Q=(ne=U.split(",")[1],Ce=Math.ceil(3*ne.length/4),Fe=new ArrayBuffer(Ce),function(Pe,ot){var at,ht,Dt,an,qn,kr,Mn,wn=xe.indexOf(Pe.charAt(Pe.length-1)),Bn=xe.indexOf(Pe.charAt(Pe.length-1)),er=Math.ceil(3*Pe.length/4);wn===64&&(er-=1),Bn===64&&(er-=1);var Yn=0;at=ot?new Uint8Array(ot):new Uint8Array(er),Pe=Pe.replace(/[^A-Za-z0-9+/=]/g,"");for(var dn=0;dn<er;dn+=3)ht=xe.indexOf(Pe.charAt(Yn++))<<2|(qn=xe.indexOf(Pe.charAt(Yn++)))>>4,Dt=(15&qn)<<4|(kr=xe.indexOf(Pe.charAt(Yn++)))>>2,an=(3&kr)<<6|(Mn=xe.indexOf(Pe.charAt(Yn++))),at[dn]=ht,kr!==64&&(at[dn+1]=Dt),Mn!==64&&(at[dn+2]=an)}(ne,Fe),Fe);return ge.decodeAudioData(Q,Z,le)}var ne,Ce,Fe,De=new XMLHttpRequest;return De.open("GET",U,!0),De.responseType="arraybuffer",De.onsuccess=function(){return ge.decodeAudioData(De.response,Z,le)},void De.send()},Ue=function(){return new(window.AudioContext||window.webkitAudioContext)};function qe(U,Z){var le=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!le){if(Array.isArray(U)||(le=function(Pe,ot){if(Pe){if(typeof Pe=="string")return re(Pe,ot);var at=Object.prototype.toString.call(Pe).slice(8,-1);return at==="Object"&&Pe.constructor&&(at=Pe.constructor.name),at==="Map"||at==="Set"?Array.from(Pe):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?re(Pe,ot):void 0}}(U))||Z&&U&&typeof U.length=="number"){le&&(U=le);var Q=0,ne=function(){};return{s:ne,n:function(){return Q>=U.length?{done:!0}:{done:!1,value:U[Q++]}},e:function(Pe){throw Pe},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(U)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function re(U,Z){(Z==null||Z>U.length)&&(Z=U.length);for(var le=0,Q=new Array(Z);le<Z;le++)Q[le]=U[le];return Q}var Be="webmidi",Ee={},Ye=null,tt=function(U){var Z=function(le){console.error("Could not connect to web midi! Falling back to WebAudio:",le),Ee.webaudio_backup_connect&&(Ee.config.api="webaudio",Ee.webaudio_backup_connect(U))};navigator.requestMIDIAccess().then(function(le){var Q=le.outputs;return(Ye=typeof Q=="function"?Q()[0]:Q[0])===void 0?Z("No outputs defined"):U.onsuccess&&U.onsuccess()},Z)},vt=function(){},xt=function(){},Et=function(){},Gt=function(){},Xt=function(){},jt=function(U,Z){Ye.send(U,1e3*Z)},Vt=function(U,Z,le,Q){Ye.send([U,Z,le],1e3*Q)},$n=function(U,Z,le){Ye.send([176+U,7,Z],1e3*le)},rr=function(U,Z,le){Ye.send([192+U,Z],1e3*le)},fn=function(U,Z,le){Ye.send([224+U,Z],1e3*le)},Pn=function(U,Z,le,Q){Ye.send([144+U,Z,le],1e3*Q)},mr=function(U,Z,le){Ye.send([128+U,Z,0],1e3*le)},xn=function(U,Z,le,Q){var ne,Ce=qe(Z);try{for(Ce.s();!(ne=Ce.n()).done;){var Fe=ne.value;Ye.send([144+U,Fe,le],1e3*Q)}}catch(De){Ce.e(De)}finally{Ce.f()}},Ht=function(U,Z,le){var Q,ne=qe(Z);try{for(ne.s();!(Q=ne.n()).done;){var Ce=Q.value;Ye.send([128+U,Ce,0],1e3*le)}}catch(Fe){ne.e(Fe)}finally{ne.f()}},bn=function(){Ye.cancel();for(var U=0;U<16;U++)Ye.send([176+U,123,0])};function ir(U){return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},ir(U)}function mn(U,Z){for(var le=0;le<Z.length;le++){var Q=Z[le];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,(ne=function(Ce,Fe){if(ir(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(ir(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(Q.key),ir(ne)==="symbol"?ne:String(ne)),Q)}var ne}i(3843),i(9600),i(4048);var ue=function(){function U(Q){(function(ne,Ce){if(!(ne instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,U),this.str=Q,this.position=0}var Z,le;return Z=U,(le=[{key:"read",value:function(Q){var ne=this.str.substr(this.position,Q);return this.position+=Q,ne}},{key:"readInt32",value:function(){var Q=(this.str.charCodeAt(this.position)<<24)+(this.str.charCodeAt(this.position+1)<<16)+(this.str.charCodeAt(this.position+2)<<8)+this.str.charCodeAt(this.position+3);return this.position+=4,Q}},{key:"readInt16",value:function(){var Q=(this.str.charCodeAt(this.position)<<8)+this.str.charCodeAt(this.position+1);return this.position+=2,Q}},{key:"readInt8",value:function(Q){var ne=this.str.charCodeAt(this.position);return Q&&ne>127&&(ne-=256),this.position+=1,ne}},{key:"eof",value:function(){return this.position>=this.str.length}},{key:"readVarInt",value:function(){for(var Q=0;;){var ne=this.readInt8();if(!(128&ne))return Q+ne;Q+=127&ne,Q<<=7}}}])&&mn(Z.prototype,le),Object.defineProperty(Z,"prototype",{writable:!1}),U}();function $e(U){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},$e(U)}function Ze(U,Z){for(var le=0;le<Z.length;le++){var Q=Z[le];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,(ne=function(Ce,Fe){if($e(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if($e(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(Q.key),$e(ne)==="symbol"?ne:String(ne)),Q)}var ne}var Ve=function(){function U(Q){(function(ne,Ce){if(!(ne instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,U),this.data=Q,this.stream=new ue(Q),this.lastEventTypeByte=void 0}var Z,le;return Z=U,(le=[{key:"readChunk",value:function(Q){var ne=Q.read(4),Ce=Q.readInt32();return{id:ne,length:Ce,data:Q.read(Ce)}}},{key:"readEvent",value:function(Q){var ne={};ne.deltaTime=Q.readVarInt();var Ce=Q.readInt8();if((240&Ce)==240){if(Ce!==255){if(Ce===240){ne.type="sysEx";var Fe=Q.readVarInt();return ne.data=Q.read(Fe),ne}if(Ce===247){ne.type="dividedSysEx";var De=Q.readVarInt();return ne.data=Q.read(De),ne}throw new Error("Unrecognised MIDI event type byte: "+Ce)}ne.type="meta";var Pe=Q.readInt8(),ot=Q.readVarInt();switch(Pe){case 0:if(ne.subtype="sequenceNumber",ot!==2)throw new Error("Expected length for sequenceNumber event is 2, got "+ot);return ne.number=Q.readInt16(),ne;case 1:return ne.subtype="text",ne.text=Q.read(ot),ne;case 2:return ne.subtype="copyrightNotice",ne.text=Q.read(ot),ne;case 3:return ne.subtype="trackName",ne.text=Q.read(ot),ne;case 4:return ne.subtype="instrumentName",ne.text=Q.read(ot),ne;case 5:return ne.subtype="lyrics",ne.text=Q.read(ot),ne;case 6:return ne.subtype="marker",ne.text=Q.read(ot),ne;case 7:return ne.subtype="cuePoint",ne.text=Q.read(ot),ne;case 32:if(ne.subtype="midiChannelPrefix",ot!==1)throw new Error("Expected length for midiChannelPrefix event is 1, got "+ot);return ne.channel=Q.readInt8(),ne;case 47:if(ne.subtype="endOfTrack",ot!==0)throw new Error("Expected length for endOfTrack event is 0, got "+ot);return ne;case 81:if(ne.subtype="setTempo",ot!==3)throw new Error("Expected length for setTempo event is 3, got "+ot);return ne.microsecondsPerBeat=(Q.readInt8()<<16)+(Q.readInt8()<<8)+Q.readInt8(),ne;case 84:if(ne.subtype="smpteOffset",ot!==5)throw new Error("Expected length for smpteOffset event is 5, got "+ot);var at=Q.readInt8();return ne.frameRate={0:24,32:25,64:29,96:30}[96&at],ne.hour=31&at,ne.min=Q.readInt8(),ne.sec=Q.readInt8(),ne.frame=Q.readInt8(),ne.subframe=Q.readInt8(),ne;case 88:if(ne.subtype="timeSignature",ot!==4)throw new Error("Expected length for timeSignature event is 4, got "+ot);return ne.numerator=Q.readInt8(),ne.denominator=Math.pow(2,Q.readInt8()),ne.metronome=Q.readInt8(),ne.thirtyseconds=Q.readInt8(),ne;case 89:if(ne.subtype="keySignature",ot!==2)throw new Error("Expected length for keySignature event is 2, got "+ot);return ne.key=Q.readInt8(!0),ne.scale=Q.readInt8(),ne;case 127:return ne.subtype="sequencerSpecific",ne.data=Q.read(ot),ne;default:return ne.subtype="unknown",ne.data=Q.read(ot),ne}}else{var ht;128&Ce?(ht=Q.readInt8(),this.lastEventTypeByte=Ce):(ht=Ce,Ce=this.lastEventTypeByte);var Dt=Ce>>4;switch(ne.channel=15&Ce,ne.type="channel",Dt){case 8:return ne.subtype="noteOff",ne.noteNumber=ht,ne.velocity=Q.readInt8(),ne;case 9:return ne.noteNumber=ht,ne.velocity=Q.readInt8(),ne.velocity===0?ne.subtype="noteOff":ne.subtype="noteOn",ne;case 10:return ne.subtype="noteAftertouch",ne.noteNumber=ht,ne.amount=Q.readInt8(),ne;case 11:return ne.subtype="controller",ne.controllerType=ht,ne.value=Q.readInt8(),ne;case 12:return ne.subtype="programChange",ne.programNumber=ht,ne;case 13:return ne.subtype="channelAftertouch",ne.amount=ht,ne;case 14:return ne.subtype="pitchBend",ne.value=ht+(Q.readInt8()<<7),ne;default:throw new Error("Unrecognised MIDI event type: "+Dt)}}}},{key:"parseAndReturn",value:function(){var Q=this.stream,ne=this.readChunk(Q);if(ne.id!=="MThd"||ne.length!==6)throw new Error("Bad .mid file - header not found");var Ce=new ue(ne.data),Fe=Ce.readInt16(),De=Ce.readInt16(),Pe=Ce.readInt16();if(32768&Pe)throw new Error("Expressing time division in SMTPE frames is not supported yet");for(var ot={formatType:Fe,trackCount:De,ticksPerBeat:Pe},at=[],ht=0;ht<ot.trackCount;ht++){at[ht]=[];var Dt=this.readChunk(Q);if(Dt.id!=="MTrk")throw new Error("Unexpected chunk - expected MTrk, got "+Dt.id);for(var an=new ue(Dt.data);!an.eof();){var qn=this.readEvent(an);at[ht].push(qn)}}return{header:ot,tracks:at}}}])&&Ze(Z.prototype,le),Object.defineProperty(Z,"prototype",{writable:!1}),U}();function et(U,Z){for(var le=0;le<Z.length;le++){var Q=Z[le];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,(ne=function(Ce,Fe){if(mt(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(mt(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(Q.key),mt(ne)==="symbol"?ne:String(ne)),Q)}var ne}function mt(U){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},mt(U)}var Pt=function U(Z){if(mt(Z)!=="object"||Z==null)return Z;var le=typeof Z.length=="number"?[]:{};for(var Q in Z)le[Q]=U(Z[Q]);return le},Ot=function(){function U(Q,ne,Ce,Fe){(function(Pe,ot){if(!(Pe instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,U),this.midiFile=Q,this.timeWarp=ne,this.eventProcessor=Ce,this.trackStates=[],this.beatsPerMinute=Fe||120,this.bpmOverride=!!Fe,this.ticksPerBeat=Q.header.ticksPerBeat;for(var De=0;De<Q.tracks.length;De++)this.trackStates[De]={nextEventIndex:0,ticksToNextEvent:Q.tracks[De].length?Q.tracks[De][0].deltaTime:null};this.temporal=[],this.processEvents()}var Z,le;return Z=U,(le=[{key:"getNextEvent",value:function(){for(var Q=null,ne=null,Ce=null,Fe=0;Fe<this.trackStates.length;Fe++)this.trackStates[Fe].ticksToNextEvent!=null&&(Q==null||this.trackStates[Fe].ticksToNextEvent<Q)&&(Q=this.trackStates[Fe].ticksToNextEvent,ne=Fe,Ce=this.trackStates[Fe].nextEventIndex);if(ne!=null){var De=this.midiFile.tracks[ne][Ce];this.midiFile.tracks[ne][Ce+1]?this.trackStates[ne].ticksToNextEvent+=this.midiFile.tracks[ne][Ce+1].deltaTime:this.trackStates[ne].ticksToNextEvent=null,this.trackStates[ne].nextEventIndex+=1;for(var Pe=0;Pe<this.trackStates.length;Pe++)this.trackStates[Pe].ticksToNextEvent!=null&&(this.trackStates[Pe].ticksToNextEvent-=Q);return{ticksToEvent:Q,event:De,track:ne}}return null}},{key:"processEvents",value:function(){for(var Q=this.getNextEvent();Q;){this.bpmOverride||Q.event.type!=="meta"||Q.event.subtype!=="setTempo"||(this.beatsPerMinute=6e7/Q.event.microsecondsPerBeat);var ne=0;Q.ticksToEvent>0&&(ne=Q.ticksToEvent/this.ticksPerBeat/(this.beatsPerMinute/60));var Ce=1e3*ne*this.timeWarp||0;this.temporal.push([Q,Ce]),Q=this.getNextEvent()}}},{key:"getData",value:function(){return Pt(this.temporal)}}])&&et(Z.prototype,le),Object.defineProperty(Z,"prototype",{writable:!1}),U}();function kt(U){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},kt(U)}function $t(U,Z){for(var le=0;le<Z.length;le++){var Q=Z[le];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,(ne=function(Ce,Fe){if(kt(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(kt(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(Q.key),kt(ne)==="symbol"?ne:String(ne)),Q)}var ne}var st=function(){function U(Q){(function(ne,Ce){if(!(ne instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,U),this.plugin=Q,this.currentTime=0,this.endTime=0,this.restart=0,this.playing=!1,this.timeWarp=1,this.startDelay=0,this.BPM=void 0,this.data=[],this.eventQueue=[],this.queuedTime=0,this.startTime=0,this.noteRegistrar={},this.onMidiEvent=void 0,this.MIDIOffset=0,this.frame=void 0,this.__now=void 0}var Z,le;return Z=U,le=[{key:"start",value:function(Q){this.currentTime<-1&&(this.currentTime=-1),this.startAudio(this.currentTime,null,Q)}},{key:"resume",value:function(Q){return this.start(Q)}},{key:"pause",value:function(){var Q=this.restart;this.stopAudio(),this.restart=Q}},{key:"stop",value:function(){this.stopAudio(),this.restart=0,this.currentTime=0}},{key:"addListener",value:function(Q){this.onMidiEvent=Q}},{key:"removeListener",value:function(){this.onMidiEvent=void 0}},{key:"clearAnimation",value:function(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}},{key:"setAnimation",value:function(Q){var ne=this,Ce=0,Fe=0,De=0;this.clearAnimation(),this.frame=function(){if(ne.animationFrameId=requestAnimationFrame(ne.frame),ne.endTime!==0){ne.playing?(Ce=De===ne.currentTime?Fe-Date.now():0,Ce=ne.currentTime===0?0:ne.currentTime-Ce,De!==ne.currentTime&&(Fe=Date.now(),De=ne.currentTime)):Ce=ne.currentTime;var Pe=ne.endTime,ot=Ce/1e3,at=ot/60,ht=60*at+(ot-60*at),Dt=Pe/1e3;Dt-ht<-1||Q({now:ht,end:Dt,events:ne.noteRegistrar})}},requestAnimationFrame(this.frame)}},{key:"loadMidiFile",value:function(Q,ne,Ce){try{this.replayer=new Ot(function(Fe){return new Ve(Fe).parseAndReturn()}(this.currentData),this.timeWarp,null,this.BPM),this.data=this.replayer.getData(),this.endTime=this.getLength(),this.loadPlugin({onsuccess:Q,onprogress:ne,onerror:Ce})}catch(Fe){Ce&&Ce(Fe)}}},{key:"loadPlugin",value:function(){}},{key:"loadFile",value:function(Q,ne,Ce,Fe){var De=this;if(this.stop(),Q.indexOf("base64,")!==-1)this.currentData=atob(Q.split(",")[1]),this.loadMidiFile(ne,Ce,Fe);else{var Pe=new XMLHttpRequest;Pe.open("GET",Q),Pe.overrideMimeType("text/plain; charset=x-user-defined"),Pe.onreadystatechange=function(){if(Pe.readyState===4)if(Pe.status===200){for(var ot=Pe.responseText||"",at=[],ht=ot.length,Dt=String.fromCharCode,an=0;an<ht;an++)at[an]=Dt(255&ot.charCodeAt(an));De.currentData=at.join(""),De.loadMidiFile(ne,Ce,Fe)}else Fe&&Fe("Unable to load MIDI file")},Pe.send()}}},{key:"getFileInstruments",value:function(){for(var Q={},ne={},Ce=0;Ce<this.data.length;Ce++){var Fe=this.data[Ce][0].event;if(Fe.type==="channel"){var De=Fe.channel;switch(Fe.subtype){case"controller":default:break;case"programChange":ne[De]=Fe.programNumber;break;case"noteOn":var Pe=ne[De],ot=Number.isNaN(parseInt(Pe))?De:Pe;Q[x.byId[ot].id]=!0}}}for(var at=[],ht=0,Dt=Object.keys(Q);ht<Dt.length;ht++){var an=Dt[ht];at.push(an)}return at}},{key:"scheduleTracking",value:function(Q,ne,Ce,Fe,De,Pe,ot){var at=this;return setTimeout(function(){var ht={channel:Q,note:ne,now:Ce,end:at.endTime,message:De,velocity:Pe};De===128?delete at.noteRegistrar[ne]:at.noteRegistrar[ne]=ht,at.onMidiEvent&&at.onMidiEvent(ht),at.currentTime=Ce,at.eventQueue.shift(),(at.eventQueue.length<1e3||at.currentTime===at.queuedTime&&at.queuedTime<at.endTime)&&at.startAudio(at.queuedTime,!0)},Ce-Fe)}},{key:"getContext",value:function(){return this.plugin.api==="webaudio"?this.plugin.getContext():(this.ctx={currentTime:0},this.ctx)}},{key:"getLength",value:function(){for(var Q=this.data,ne=Q.length,Ce=.5,Fe=0;Fe<ne;Fe++)Ce+=Q[Fe][1];return Ce}},{key:"getNow",value:function(){return window.performance&&window.performance.now?window.performance.now():Date.now()}},{key:"startAudio",value:function(Q,ne,Ce){if(this.replayer){var Fe;ne||(Q===void 0&&(Q=this.restart),this.playing&&this.stopAudio(),this.playing=!0,this.data=this.replayer.getData(),this.endTime=this.getLength());var De=0,Pe=0,ot=this.data,at=this.getContext(),ht=ot.length;this.queuedTime=.5;var Dt=Q-this.currentTime;if(this.plugin.api!=="webaudio"){var an=this.getNow();this.__now=this.__now||an,at.currentTime=(an-this.__now)/1e3}this.startTime=at.currentTime;for(var qn=0;qn<ht&&Pe<100;qn++){var kr=ot[qn];if(this.queuedTime+=kr[1],this.queuedTime<=Q)De=this.queuedTime;else{Q=this.queuedTime-De;var Mn=kr[0].event;if(Mn.type==="channel"){var wn=Mn.channel,Bn=v[wn],er=at.currentTime+(Q+Dt+this.startDelay)/1e3,Yn=this.queuedTime-De+this.startDelay;switch(Mn.subtype){case"controller":this.plugin.setController(wn,Mn.controllerType,Mn.value,er);break;case"programChange":this.plugin.programChange(wn,Mn.programNumber,er);break;case"pitchBend":this.plugin.pitchBend(wn,Mn.value,er);break;case"noteOn":if(Bn.mute)break;Fe=Mn.noteNumber-(this.MIDIOffset||0),this.eventQueue.push({event:Mn,time:Yn,source:this.plugin.noteOn(wn,Mn.noteNumber,Mn.velocity,er),interval:this.scheduleTracking(wn,Fe,this.queuedTime+this.startDelay,De-Dt,144,Mn.velocity)}),Pe+=1;break;case"noteOff":if(Bn.mute)break;Fe=Mn.noteNumber-(this.MIDIOffset||0),this.eventQueue.push({event:Mn,time:Yn,source:this.plugin.noteOff(wn,Mn.noteNumber,er),interval:this.scheduleTracking(wn,Fe,this.queuedTime,De-Dt,128,0)})}}}}Ce&&Ce(this.eventQueue)}}},{key:"stopAudio",value:function(){var Q=this.getContext();for(this.playing=!1,this.restart+=1e3*(Q.currentTime-this.startTime);this.eventQueue.length;){var ne=this.eventQueue.pop();window.clearInterval(ne.interval),ne.source&&(typeof ne.source=="number"?window.clearTimeout(ne.source):ne.source.disconnect(0))}for(var Ce=0,Fe=Object.keys(this.noteRegistrar);Ce<Fe.length;Ce++){var De=Fe[Ce],Pe=this.noteRegistrar[De];this.noteRegistrar[De].message===144&&this.onMidiEvent&&this.onMidiEvent({channel:Pe.channel,note:Pe.note,now:Pe.now,end:Pe.end,message:128,velocity:Pe.velocity})}this.noteRegistrar={}}}],le&&$t(Z.prototype,le),Object.defineProperty(Z,"prototype",{writable:!1}),U}();function Nt(U){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},Nt(U)}i(4678),i(9714);var gn,_n,Bt,Ir={Space:{}};gn={},_n={"HEX24>HSL":"HEX24>RGB>HSL","HEX32>HSLA":"HEX32>RGBA>HSLA","HEX24>CMYK":"HEX24>RGB>CMY>CMYK","RGB>CMYK":"RGB>CMY>CMYK"},(Bt=Ir.Space=function(U,Z){_n[Z]&&(Z=_n[Z]);var le=Z.split(">");if(Nt(U)==="object"&&U[0]>=0){for(var Q=le[0],ne={},Ce=0;Ce<Q.length;Ce++)ne[Q.substr(Ce,1)]=U[Ce];U=ne}if(gn[Z])return gn[Z](U);for(var Fe=1,De=le[0];Fe<le.length;Fe++)Fe>1&&(De=De.substr(De.indexOf("_")+1)),De+=(Fe===0?"":"_")+le[Fe],U=Bt[De](U);return U}).RGB_W3=function(U){return"rgb("+(U.R>>0)+","+(U.G>>0)+","+(U.B>>0)+")"},Bt.RGBA_W3=function(U){var Z=typeof U.A=="number"?U.A/255:1;return"rgba("+(U.R>>0)+","+(U.G>>0)+","+(U.B>>0)+","+Z+")"},Bt.W3_RGB=function(U){var Z=U.substr(4,U.length-5).split(",");return{R:parseInt(Z[0]),G:parseInt(Z[1]),B:parseInt(Z[2])}},Bt.W3_RGBA=function(U){var Z=U.substr(5,U.length-6).split(",");return{R:parseInt(Z[0]),G:parseInt(Z[1]),B:parseInt(Z[2]),A:255*parseFloat(Z[3])}},Bt.HSL_W3=function(U){return"hsl("+(U.H+.5>>0)+","+(U.S+.5>>0)+"%,"+(U.L+.5>>0)+"%)"},Bt.HSLA_W3=function(U){var Z=typeof U.A=="number"?U.A/255:1;return"hsla("+(U.H+.5>>0)+","+(U.S+.5>>0)+"%,"+(U.L+.5>>0)+"%,"+Z+")"},Bt.W3_HSL=function(U){var Z=U.substr(4,U.length-5).split(",");return{H:parseInt(Z[0]),S:parseInt(Z[1]),L:parseInt(Z[2])}},Bt.W3_HSLA=function(U){var Z=U.substr(5,U.length-6).split(",");return{H:parseInt(Z[0]),S:parseInt(Z[1]),L:parseInt(Z[2]),A:255*parseFloat(Z[3])}},Bt.W3_HEX=Bt.W3_HEX24=function(U){return U.substr(0,1)==="#"&&(U=U.substr(1)),U.length===3&&(U=U[0]+U[0]+U[1]+U[1]+U[2]+U[2]),parseInt("0x"+U)},Bt.W3_HEX32=function(U){return U.substr(0,1)==="#"&&(U=U.substr(1)),U.length===6?parseInt("0xFF"+U):parseInt("0x"+U)},Bt.HEX_W3=Bt.HEX24_W3=function(U,Z){Z||(Z=6),U||(U=0);for(var le=U.toString(16),Q=le.length;Q<Z;)le="0"+le,Q+=1;for(Q=le.length;Q>Z;)le=le.substring(1),Q-=1;return"#"+le},Bt.HEX32_W3=function(U){return Bt.HEX_W3(U,8)},Bt.HEX_RGB=Bt.HEX24_RGB=function(U){return{R:U>>16,G:U>>8&255,B:255&U}},Bt.HEX32_RGBA=function(U){return{R:U>>>16&255,G:U>>>8&255,B:255&U,A:U>>>24}},Bt.RGBA_HEX32=function(U){return(U.A<<24|U.R<<16|U.G<<8|U.B)>>>0},Bt.RGB_HEX24=Bt.RGB_HEX=function(U){return U.R<0&&(U.R=0),U.G<0&&(U.G=0),U.B<0&&(U.B=0),U.R>255&&(U.R=255),U.G>255&&(U.G=255),U.B>255&&(U.B=255),U.R<<16|U.G<<8|U.B},Bt.RGB_CMY=function(U){return{C:1-U.R/255,M:1-U.G/255,Y:1-U.B/255}},Bt.RGBA_HSLA=Bt.RGB_HSL=function(U){var Z,le,Q=U.R/255,ne=U.G/255,Ce=U.B/255,Fe=Math.min(Q,ne,Ce),De=Math.max(Q,ne,Ce),Pe=De-Fe,ot=(De+Fe)/2;if(Pe===0)Z=0,le=0;else{le=ot<.5?Pe/(De+Fe):Pe/(2-De-Fe);var at=((De-Q)/6+Pe/2)/Pe,ht=((De-ne)/6+Pe/2)/Pe,Dt=((De-Ce)/6+Pe/2)/Pe;Q===De?Z=Dt-ht:ne===De?Z=1/3+at-Dt:Ce===De&&(Z=2/3+ht-at),Z<0&&(Z+=1),Z>1&&(Z-=1)}return{H:360*Z,S:100*le,L:100*ot,A:U.A}},Bt.RGBA_HSVA=Bt.RGB_HSV=function(U){var Z,le,Q=U.R/255,ne=U.G/255,Ce=U.B/255,Fe=Math.min(Q,ne,Ce),De=Math.max(Q,ne,Ce),Pe=De-Fe;if(Pe===0)Z=0,le=0;else{le=Pe/De;var ot=((De-Q)/6+Pe/2)/Pe,at=((De-ne)/6+Pe/2)/Pe,ht=((De-Ce)/6+Pe/2)/Pe;Q===De?Z=ht-at:ne===De?Z=1/3+ot-ht:Ce===De&&(Z=2/3+at-ot),Z<0&&(Z+=1),Z>1&&(Z-=1)}return{H:360*Z,S:100*le,V:100*De,A:U.A}},Bt.CMY_RGB=function(U){return{R:Math.max(0,255*(1-U.C)),G:Math.max(0,255*(1-U.M)),B:Math.max(0,255*(1-U.Y))}},Bt.CMY_CMYK=function(U){var Z=U.C,le=U.M,Q=U.Y,ne=Math.min(Q,Math.min(le,Math.min(Z,1)));return{C:Z=Math.round((Z-ne)/(1-ne)*100),M:le=Math.round((le-ne)/(1-ne)*100),Y:Q=Math.round((Q-ne)/(1-ne)*100),K:ne=Math.round(100*ne)}},Bt.CMYK_CMY=function(U){return{C:U.C*(1-U.K)+U.K,M:U.M*(1-U.K)+U.K,Y:U.Y*(1-U.K)+U.K}},Bt.HSLA_RGBA=Bt.HSL_RGB=function(U){var Z,le,Q,ne,Ce,Fe,De=U.H/360,Pe=U.S/100,ot=U.L/100;return Pe===0?Z=le=Q=ot:(ne=2*ot-(Ce=ot<.5?ot*(1+Pe):ot+Pe-Pe*ot),(Fe=De+1/3)<0&&(Fe+=1),Fe>1&&(Fe-=1),Z=6*Fe<1?ne+6*(Ce-ne)*Fe:2*Fe<1?Ce:3*Fe<2?ne+(Ce-ne)*(2/3-Fe)*6:ne,(Fe=De)<0&&(Fe+=1),Fe>1&&(Fe-=1),le=6*Fe<1?ne+6*(Ce-ne)*Fe:2*Fe<1?Ce:3*Fe<2?ne+(Ce-ne)*(2/3-Fe)*6:ne,(Fe=De-1/3)<0&&(Fe+=1),Fe>1&&(Fe-=1),Q=6*Fe<1?ne+6*(Ce-ne)*Fe:2*Fe<1?Ce:3*Fe<2?ne+(Ce-ne)*(2/3-Fe)*6:ne),{R:255*Z,G:255*le,B:255*Q,A:U.A}},Bt.HSVA_RGBA=Bt.HSV_RGB=function(U){var Z,le,Q,ne,Ce,Fe,De=U.H/360,Pe=U.S/100,ot=U.V/100;if(Pe===0)Z=le=Q=Math.round(255*ot);else switch(De>=1&&(De=0),ne=(De*=6)-Math.floor(De),Ce=Math.round(255*ot*(1-Pe)),Q=Math.round(255*ot*(1-Pe*ne)),Fe=Math.round(255*ot*(1-Pe*(1-ne))),ot=Math.round(255*ot),Math.floor(De)){case 0:Z=ot,le=Fe,Q=Ce;break;case 1:Z=Q,le=ot,Q=Ce;break;case 2:Z=Ce,le=ot,Q=Fe;break;case 3:Z=Ce,le=Q,Q=ot;break;case 4:Z=Fe,le=Ce,Q=ot;break;case 5:Z=ot,le=Ce}return{R:Z,G:le,B:Q,A:U.A}};var vn={"Isaac Newton (1704)":{format:"HSL",ref:"Gerstner, p.167",english:["red",null,"orange",null,"yellow","green",null,"blue",null,"indigo",null,"violet"],0:[0,96,51],1:[0,0,0],2:[29,94,52],3:[0,0,0],4:[60,90,60],5:[135,76,32],6:[0,0,0],7:[248,82,28],8:[0,0,0],9:[302,88,26],10:[0,0,0],11:[325,84,46]},"Louis Bertrand Castel (1734)":{format:"HSL",ref:"Peacock, p.400",english:["blue","blue-green","green","olive green","yellow","yellow-orange","orange","red","crimson","violet","agate","indigo"],0:[248,82,28],1:[172,68,34],2:[135,76,32],3:[79,59,36],4:[60,90,60],5:[49,90,60],6:[29,94,52],7:[360,96,51],8:[1,89,33],9:[325,84,46],10:[273,80,27],11:[302,88,26]},"George Field (1816)":{format:"HSL",ref:"Klein, p.69",english:["blue",null,"purple",null,"red","orange",null,"yellow",null,"yellow green",null,"green"],0:[248,82,28],1:[0,0,0],2:[302,88,26],3:[0,0,0],4:[360,96,51],5:[29,94,52],6:[0,0,0],7:[60,90,60],8:[0,0,0],9:[79,59,36],10:[0,0,0],11:[135,76,32]},"D. D. Jameson (1844)":{format:"HSL",ref:"Jameson, p.12",english:["red","red-orange","orange","orange-yellow","yellow","green","green-blue","blue","blue-purple","purple","purple-violet","violet"],0:[360,96,51],1:[14,91,51],2:[29,94,52],3:[49,90,60],4:[60,90,60],5:[135,76,32],6:[172,68,34],7:[248,82,28],8:[273,80,27],9:[302,88,26],10:[313,78,37],11:[325,84,46]},"Theodor Seemann (1881)":{format:"HSL",ref:"Klein, p.86",english:["carmine","scarlet","orange","yellow-orange","yellow","green","green blue","blue","indigo","violet","brown","black"],0:[0,58,26],1:[360,96,51],2:[29,94,52],3:[49,90,60],4:[60,90,60],5:[135,76,32],6:[172,68,34],7:[248,82,28],8:[302,88,26],9:[325,84,46],10:[0,58,26],11:[0,0,3]},"A. Wallace Rimington (1893)":{format:"HSL",ref:"Peacock, p.402",english:["deep red","crimson","orange-crimson","orange","yellow","yellow-green","green","blueish green","blue-green","indigo","deep blue","violet"],0:[360,96,51],1:[1,89,33],2:[14,91,51],3:[29,94,52],4:[60,90,60],5:[79,59,36],6:[135,76,32],7:[163,62,40],8:[172,68,34],9:[302,88,26],10:[248,82,28],11:[325,84,46]},"Bainbridge Bishop (1893)":{format:"HSL",ref:"Bishop, p.11",english:["red","orange-red or scarlet","orange","gold or yellow-orange","yellow or green-gold","yellow-green","green","greenish-blue or aquamarine","blue","indigo or violet-blue","violet","violet-red","red"],0:[360,96,51],1:[1,89,33],2:[29,94,52],3:[50,93,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[163,62,40],8:[302,88,26],9:[325,84,46],10:[343,79,47],11:[360,96,51]},"H. von Helmholtz (1910)":{format:"HSL",ref:"Helmholtz, p.22",english:["yellow","green","greenish blue","cyan-blue","indigo blue","violet","end of red","red","red","red","red orange","orange"],0:[60,90,60],1:[135,76,32],2:[172,68,34],3:[211,70,37],4:[302,88,26],5:[325,84,46],6:[330,84,34],7:[360,96,51],8:[10,91,43],9:[10,91,43],10:[8,93,51],11:[28,89,50]},"Alexander Scriabin (1911)":{format:"HSL",ref:"Jones, p.104",english:["red","violet","yellow","steely with the glint of metal","pearly blue the shimmer of moonshine","dark red","bright blue","rosy orange","purple","green","steely with a glint of metal","pearly blue the shimmer of moonshine"],0:[360,96,51],1:[325,84,46],2:[60,90,60],3:[245,21,43],4:[211,70,37],5:[1,89,33],6:[248,82,28],7:[29,94,52],8:[302,88,26],9:[135,76,32],10:[245,21,43],11:[211,70,37]},"Adrian Bernard Klein (1930)":{format:"HSL",ref:"Klein, p.209",english:["dark red","red","red orange","orange","yellow","yellow green","green","blue-green","blue","blue violet","violet","dark violet"],0:[0,91,40],1:[360,96,51],2:[14,91,51],3:[29,94,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[172,68,34],8:[248,82,28],9:[292,70,31],10:[325,84,46],11:[330,84,34]},"August Aeppli (1940)":{format:"HSL",ref:"Gerstner, p.169",english:["red",null,"orange",null,"yellow",null,"green","blue-green",null,"ultramarine blue","violet","purple"],0:[0,96,51],1:[0,0,0],2:[29,94,52],3:[0,0,0],4:[60,90,60],5:[0,0,0],6:[135,76,32],7:[172,68,34],8:[0,0,0],9:[211,70,37],10:[273,80,27],11:[302,88,26]},"I. J. Belmont (1944)":{ref:"Belmont, p.226",english:["red","red-orange","orange","yellow-orange","yellow","yellow-green","green","blue-green","blue","blue-violet","violet","red-violet"],0:[360,96,51],1:[14,91,51],2:[29,94,52],3:[50,93,52],4:[60,90,60],5:[73,73,55],6:[135,76,32],7:[172,68,34],8:[248,82,28],9:[313,78,37],10:[325,84,46],11:[338,85,37]},"Steve Zieverink (2004)":{format:"HSL",ref:"Cincinnati Contemporary Art Center",english:["yellow-green","green","blue-green","blue","indigo","violet","ultra violet","infra red","red","orange","yellow-white","yellow"],0:[73,73,55],1:[135,76,32],2:[172,68,34],3:[248,82,28],4:[302,88,26],5:[325,84,46],6:[326,79,24],7:[1,89,33],8:[360,96,51],9:[29,94,52],10:[62,78,74],11:[60,90,60]},"Circle of Fifths (Johnston 2003)":{format:"RGB",ref:"Joseph Johnston",english:["yellow","blue","orange","teal","red","green","purple","light orange","light blue","dark orange","dark green","violet"],0:[255,255,0],1:[50,0,255],2:[255,150,0],3:[0,210,180],4:[255,0,0],5:[130,255,0],6:[150,0,200],7:[255,195,0],8:[30,130,255],9:[255,100,0],10:[0,200,0],11:[225,0,225]},"Circle of Fifths (Wheatman 2002)":{format:"HEX",ref:"Stuart Wheatman",english:[],data:["#122400","#2E002E","#002914","#470000","#002142","#2E2E00","#290052","#003D00","#520029","#003D3D","#522900","#000080","#244700","#570057","#004D26","#7A0000","#003B75","#4C4D00","#47008F","#006100","#850042","#005C5C","#804000","#0000C7","#366B00","#80007F","#00753B","#B80000","#0057AD","#6B6B00","#6600CC","#008A00","#B8005C","#007F80","#B35900","#2424FF","#478F00","#AD00AD","#00994D","#F00000","#0073E6","#8F8F00","#8A14FF","#00AD00","#EB0075","#00A3A3","#E07000","#6B6BFF","#5CB800","#DB00DB","#00C261","#FF5757","#3399FF","#ADAD00","#B56BFF","#00D600","#FF57AB","#00C7C7","#FF9124","#9999FF","#6EDB00","#FF29FF","#00E070","#FF9999","#7ABDFF","#D1D100","#D1A3FF","#00FA00","#FFA3D1","#00E5E6","#FFC285","#C2C2FF","#80FF00","#FFA8FF","#00E070","#FFCCCC","#C2E0FF","#F0F000","#EBD6FF","#ADFFAD","#FFD6EB","#8AFFFF","#FFEBD6","#EBEBFF","#E0FFC2","#FFEBFF","#E5FFF2","#FFF5F5"]}},zt=function(U){for(var Z,le,Q,ne,Ce,Fe={},De=vn,Pe=De[U]||De["D. D. Jameson (1844)"],ot=Pe[3],at=0;at<=88;at++)if(Pe.data)Fe[at]={hsl:Pe.data[at],hex:Pe.data[at]};else{var ht=Pe[(at+9)%12];Pe.format==="RGB"?(ht=Ir.Space(ht,"RGB>HSL"),Z=Math.floor(ht.H),le=Math.floor(ht.S),Q=Math.floor(ht.L)):(Z=ht[0],le=ht[1],Q=ht[2]),Z===le&&le===Q&&(ne=ot,Ce=Pe[(at+10)%12],ht=[Math.floor(.5*ne[0]+.5*Ce[0]+.5),Math.floor(.5*ne[1]+.5*Ce[1]+.5),Math.floor(.5*ne[2]+.5*Ce[2]+.5)]),Fe[at]={hsl:"hsla("+Z+","+le+"%,"+Q+"%, 1)",hex:Ir.Space({H:Z,S:le,L:Q},"HSL>RGB>HEX>W3")},ot=ht}return Fe};function Sn(U,Z){for(var le=0;le<Z.length;le++){var Q=Z[le];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,(ne=function(Ce,Fe){if(Nn(Ce)!=="object"||Ce===null)return Ce;var De=Ce[Symbol.toPrimitive];if(De!==void 0){var Pe=De.call(Ce,"string");if(Nn(Pe)!=="object")return Pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(Q.key),Nn(ne)==="symbol"?ne:String(ne)),Q)}var ne}function Ft(U,Z){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,Q){return le.__proto__=Q,le},Ft(U,Z)}function Lr(U,Z){if(Z&&(Nn(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}(U)}function Xn(U){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},Xn(U)}function Nn(U){return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},Nn(U)}function Br(U,Z){var le=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!le){if(Array.isArray(U)||(le=function(Pe,ot){if(Pe){if(typeof Pe=="string")return Hn(Pe,ot);var at=Object.prototype.toString.call(Pe).slice(8,-1);return at==="Object"&&Pe.constructor&&(at=Pe.constructor.name),at==="Map"||at==="Set"?Array.from(Pe):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?Hn(Pe,ot):void 0}}(U))||Z&&U&&typeof U.length=="number"){le&&(U=le);var Q=0,ne=function(){};return{s:ne,n:function(){return Q>=U.length?{done:!0}:{done:!1,value:U[Q++]}},e:function(Pe){throw Pe},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,Fe=!0,De=!1;return{s:function(){le=le.call(U)},n:function(){var Pe=le.next();return Fe=Pe.done,Pe},e:function(Pe){De=!0,Ce=Pe},f:function(){try{Fe||le.return==null||le.return()}finally{if(De)throw Ce}}}}function Hn(U,Z){(Z==null||Z>U.length)&&(Z=U.length);for(var le=0,Q=new Array(Z);le<Z;le++)Q[le]=U[le];return Q}var En={},Di={AudioTag:s,WebAudio:l,WebMIDI:a},Mt={soundfontUrl:"./soundfont/",api:"",audioFormat:"",supports:{},connected_plugin:l,is_connected:!1},po=function(U){typeof U=="function"&&(U={onsuccess:U}),U.onprogress=U.onprogress||void 0,U.api=U.api||"",U.targetFormat=U.targetFormat||"",U.instrument=U.instrument||"acoustic_grand_piano",U.instruments=U.instruments||void 0,U.apiPrecedence=U.apiPrecedence||["webaudio","webmidi","audiotag"],Mt.soundfontUrl=U.soundfontUrl||Mt.soundfontUrl,function(Z){if(typeof navigator<"u"&&navigator.requestMIDIAccess){if(Function.prototype.toString.call(navigator.requestMIDIAccess).indexOf("[native code]"))u.webmidi=!0;else if(typeof navigator<"u"&&navigator.plugins!==void 0)for(var le=0,Q=Array.from(navigator.plugins);le<Q.length;le++)Q[le].name.indexOf("Jazz-Plugin")>=0&&(u.webmidi=!0)}if(typeof Audio>"u")return Z({});u.audiotag=!0;var ne=window.AudioContext||window.webkitAudioContext;ne&&ne.prototype.createGain&&(u.webaudio=!0);var Ce=new Audio;if(Ce.canPlayType===void 0)return Z(u);var Fe=Ce.canPlayType('audio/ogg; codecs="vorbis"'),De=Fe==="probably"||Fe==="maybe",Pe=Ce.canPlayType("audio/mpeg"),ot=Pe==="probably"||Pe==="maybe";if(u.ogg_mp3_precedence=Fe==="probably"?"ogg":Pe==="probably"?"mp3":"ogg",!De&&!ot)return Z(u);De&&d("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA="),ot&&d("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var at=new Date().getTime(),ht=window.setInterval(function(){var Dt=new Date().getTime();f&&!(Dt-at>5e3)||(window.clearInterval(ht),Z(u))},1)}(function(Z){var le=window.location.hash,Q="";if(Z[U.api])Q=U.api;else if(Z[le.substring(1)])Q=le.substring(1);else{var ne,Ce=Br(U.apiPrecedence);try{for(Ce.s();!(ne=Ce.n()).done;){var Fe=ne.value;if(Z[Fe]){Q=Fe;break}}}catch(ht){Ce.e(ht)}finally{Ce.f()}}if(us[Q]){var De="",Pe=Z["audio/ogg"],ot=Z["audio/mpeg"],at=Z.ogg_mp3_precedence;U.targetFormat?De=U.targetFormat:Pe&&at==="ogg"?De="ogg":ot&&at==="mp3"?De="mp3":Pe?De="ogg":ot?De="mp3":Q!=="webmidi"&&(console.warn("no supporting playback formats...will try mp3 but unlikely"),De="mp3"),Mt.api=Q,Mt.audioFormat=De,Mt.supports=Z,Ui(U)}})},Ui=function(U){var Z=U.instruments||U.instrument||"acoustic_grand_piano";Nn(Z)!=="object"&&(Z=Z||Z===0?[Z]:[]);for(var le=0;le<Z.length;le++){var Q=Z[le];Q===Q+0&&x.byId[Q]&&(Z[le]=x.byId[Q].id)}U.format=Mt.audioFormat,U.instruments=Z,us[Mt.api](U)},us={webmidi:function(U){zr(a),tt(U),Mt.is_connected=!0},audiotag:function(U){zr(s),Vs(U,"AudioTag")},webaudio:function(U){zr(l),Vs(U,"WebAudio")}},zr=function(U,Z){Mt.connected_plugin=U,U.shared_root_info.Soundfont=En,U.shared_root_info.config=Mt,U.shared_root_info.webaudio_backup_connect=function(le){return us.webaudio(le)}},Vs=function(U,Z){var le,Q=U.format,ne=U.instruments,Ce=U.onprogress,Fe=U.onerror,De=Di[Z]||Z.WebAudio,Pe=ne.length,ot=Pe,at=function(){(ot-=1)||(De.connect(U),Mt.is_connected=!0,Ce&&Ce("load",1))},ht=Br(ne);try{var Dt=function(){var an=le.value;En[an]?at():Ws(an,Q,function(qn,kr){return function(Mn,wn,Bn){Ce&&Ce("load",wn/Pe+(Pe-ot)/Pe,Bn)}(0,kr,an)},function(){return at()},Fe)};for(ht.s();!(le=ht.n()).done;)Dt()}catch(an){ht.e(an)}finally{ht.f()}},Ws=function(U,Z,le,Q,ne){var Ce=Mt.soundfontUrl+U+"-"+Z+".js",Fe=new XMLHttpRequest;Fe.open("GET",Ce),Fe.setRequestHeader("Content-Type","text/plain"),Fe.onload=function(){if(Fe.status===200){var De=document.createElement("script");De.language="javascript",De.type="text/javascript",De.text=Fe.responseText,document.body.appendChild(De),Q()}else ne?ne():console.error("Could not load soundfont; path was ".concat(Ce))},Fe.send()},Nu=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).playChannel.apply(U,arguments);console.error("Connect before calling")},fs=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).stopChannel.apply(U,arguments);console.error("Connect before calling")},ds=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).send.apply(U,arguments);console.error("Connect before calling")},hs=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).setController.apply(U,arguments);console.error("Connect before calling")},Ea=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).setVolume.apply(U,arguments);console.error("Connect before calling")},Ou=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).programChange.apply(U,arguments);console.error("Connect before calling")},pc=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).pitchBend.apply(U,arguments);console.error("Connect before calling")},ps=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).noteOn.apply(U,arguments);console.error("Connect before calling")},ll=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).noteOff.apply(U,arguments);console.error("Connect before calling")},Do=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).chordOn.apply(U,arguments);console.error("Connect before calling")},js=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).chordOff.apply(U,arguments);console.error("Connect before calling")},Uo=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).stopAllNotes.apply(U,arguments);console.error("Connect before calling")},sn=function(){if(Mt.is_connected)return Mt.connected_plugin.setEffects();console.error("Connect before calling")},mc=function(){if(Mt.is_connected)return Mt.connected_plugin.getContext();console.error("Connect before calling")},ms=function(){var U;if(Mt.is_connected)return(U=Mt.connected_plugin).setContext.apply(U,arguments);console.error("Connect before calling")},cl=function(U){(function(De,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),Pe&&Ft(De,Pe)})(Fe,U);var Z,le,Q,ne,Ce=(Q=Fe,ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var De,Pe=Xn(Q);if(ne){var ot=Xn(this).constructor;De=Reflect.construct(Pe,arguments,ot)}else De=Pe.apply(this,arguments);return Lr(this,De)});function Fe(){return function(De,Pe){if(!(De instanceof Pe))throw new TypeError("Cannot call a class as a function")}(this,Fe),Ce.call(this,Mt.connected_plugin)}return Z=Fe,le=[{key:"loadPlugin",value:function(){return po.apply(void 0,arguments)}}],le&&Sn(Z.prototype,le),Object.defineProperty(Z,"prototype",{writable:!1}),Fe}(st)})(),o})())})(_5);var Ba=_5.exports;const tue=Ld(Ba),S5=gL({__proto__:null,default:tue},[Ba]);window.MIDI=S5;const Rp={piano:0,bass:1,drums:2};Ba.loadPlugin({soundfontUrl:"/demo/jukebox/soundfont/FluidR3_GM/",instruments:["drums","acoustic_bass","bright_acoustic_piano"],onerror:t=>{console.log(t)},onsuccess:()=>{Ba.programChange(Rp.piano,Ba.GM.byName.bright_acoustic_piano.program),Ba.programChange(Rp.drums,Ba.GM.byName.acoustic_grand_piano.program),Ba.programChange(Rp.bass,Ba.GM.byName.acoustic_bass.program)}});class nue{constructor(){ys(this,"midiPlayer");this.midiPlayer=S5}noteOn(e,n,r,i){this.midiPlayer.noteOn(Rp[e],n,r*(e==="piano"?1:.6),i)}noteOff(e,n,r){this.midiPlayer.noteOff(Rp[e],n,r)}}const aL=new nue;class w5{constructor(e){ys(this,"notes");ys(this,"cursor");this.cursor=0,this.notes=e}getNotesByTime(e){const n=[];for(;this.cursor<this.notes.length;){const r=this.notes[this.cursor];if(r.start_s<=e)r.end_s>=e&&n.push(r),this.cursor+=1;else break}return n}init(){this.cursor=0}}const Wi={start:null,timer:0,last:0},jh=1,lL={.1:{score:1,name:"perfect"},.3:{score:.8,name:"nice"},.5:{score:.5,name:"good"},.9:{score:.1,name:"poor"}},E5=t=>{const e=L.useRef(null),n=L.useRef({}),r=L.useRef({}),{setHandleMidiNoteDown:i,setHandleMidiNoteUp:o,refHandlePreviewNoteDown:s,refHandlePreviewNoteUp:l}=Tx(),{playingState:a,playingMode:c,railAngle:u}=ku(),f=L.useRef(null),d=L.useRef({timer:0,indexFrom:0,blockRail:{},status:"INIT",pressedMidiKeys:[]}),p=(v,b)=>{const _=Math.abs(v.noteEvent.start_s-b),S=Object.keys(lL).find(E=>Number(E)>=_);return S?lL[S].score:-1};L.useEffect(()=>{i(()=>v=>{if(d.current.pressedMidiKeys.includes(v)===!1&&d.current.pressedMidiKeys.push(v),!(v in d.current.blockRail)||d.current.blockRail[v].length===0)return;const b=d.current.blockRail[v][0],_=p(b,Wi.timer);console.log(_),b.noteEvent.start_s<=Wi.timer&&d.current.blockRail[v].shift()}),o(()=>v=>{d.current.pressedMidiKeys=d.current.pressedMidiKeys.filter(b=>b!=v),r.current[v].color.set(16777215)})},[i,o]);const g=L.useCallback(()=>{d.current.blockRail={},f.current=new w5(t.noteEvents.filter(v=>v.family==="piano")),t.noteEvents.filter(v=>v.family==="piano").forEach((v,b)=>{const _=v.pitch;v.played=!1,d.current&&(d.current.blockRail[_]=d.current.blockRail[_]||[],d.current.blockRail[_].push({noteEvent:v,idx:b}))})},[t.noteEvents]),y=L.useMemo(()=>t.noteEvents.filter(v=>v.family==="piano").map((v,b)=>{const _=v.start_s,S=v.pitch,E=v.end_s-v.start_s,M=_m[S],T=new Ga(new ce(0,1,0).applyAxisAngle(new ce(1,0,0),u),4.2);return q.jsxs("mesh",{position:[M.x,_*jh+E*.5*jh,M.z],frustumCulled:!0,children:[q.jsx("boxGeometry",{args:[M.w,E*jh,M.d]}),q.jsx("meshStandardMaterial",{ref:C=>n.current[b]=C,color:M.color,clippingPlanes:[T],side:Eo})]},b)}),[t.noteEvents,u]);L.useEffect(()=>{g(),t.noteEvents.length&&(d.current.status="LOADED")},[g,t.noteEvents]),L.useEffect(()=>{a==="stopped"&&(g(),d.current.timer=0)},[g,a]);const x=()=>{const v=Object.keys(d.current.blockRail),b=()=>{v.forEach(_=>{if(d.current.blockRail[_].length===0)return;const S=d.current.blockRail[_][0];S.noteEvent.start_s<=Wi.timer&&!S.noteEvent.played&&s.current&&(S.noteEvent.family==="piano"&&(n.current[S.idx].color.set(16711680),s.current(S.noteEvent.pitch,S.noteEvent.velocity)),S.noteEvent.played=!0),S.noteEvent.end_s<=Wi.timer&&(l.current&&c==="preview"&&S.noteEvent.family==="piano"&&l.current(S.noteEvent.pitch,S.noteEvent.velocity),d.current.blockRail[_].shift())})};return Hs((_,S)=>{if(!(!d.current||d.current.status!="LOADED")&&a!=="stopped"){if(a==="paused"){b(),e.current.position.setY(-jh*Wi.timer);return}b(),e.current.position.setY(-jh*Wi.timer)}}),q.jsx("group",{ref:e,children:y})};return q.jsx("group",{children:q.jsx(x,{})})};class Is{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,n,r={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==Is.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const i=new cL(e,this,n,r);return this.eventMap[e]||(this.eventMap[e]=[]),r.prepend?this.eventMap[e].unshift(i):this.eventMap[e].push(i),i}addOneTimeListener(e,n,r={}){r.remaining=1,this.addListener(e,n,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,n){return e===void 0?this.eventMap[Is.ANY_EVENT]&&this.eventMap[Is.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[e]&&this.eventMap[e].length>0?n instanceof cL?this.eventMap[e].filter(i=>i===n).length>0:typeof n=="function"?this.eventMap[e].filter(i=>i.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...n){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],i=this.eventMap[Is.ANY_EVENT]||[];return this.eventMap[e]&&(i=i.concat(this.eventMap[e])),i.forEach(o=>{if(o.suspended)return;let s=[...n];Array.isArray(o.arguments)&&(s=s.concat(o.arguments)),o.remaining>0&&(r.push(o.callback.apply(o.context,s)),o.count++),--o.remaining<1&&o.remove()}),r}removeListener(e,n,r={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let i=this.eventMap[e].filter(o=>n&&o.callback!==n||r.remaining&&r.remaining!==o.remaining||r.context&&r.context!==o.context);i.length?this.eventMap[e]=i:delete this.eventMap[e]}async waitFor(e,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((r,i)=>{let o,s=this.addListener(e,()=>{clearTimeout(o),r()},{remaining:1});n.duration!==1/0&&(o=setTimeout(()=>{s.remove(),i("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class cL{constructor(e,n,r,i={}){if(typeof e!="string"&&!(e instanceof String)&&e!==Is.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");i.arguments!==void 0&&!Array.isArray(i.arguments)&&(i.arguments=[i.arguments]),i=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},i),i.duration!==1/0&&setTimeout(()=>this.remove(),i.duration),this.arguments=i.arguments,this.callback=r,this.context=i.context,this.count=0,this.event=e,this.remaining=parseInt(i.remaining)>=1?parseInt(i.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class nt{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),nt.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),nt.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),nt.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),nt.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */let td=class{constructor(e,n={}){this.duration=ut.defaults.note.duration,this.attack=ut.defaults.note.attack,this.release=ut.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=dt.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=dt.from7bitToFloat(n.rawRelease)),Number.isInteger(e)?this.identifier=dt.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const n=dt.getNoteDetails(e);if(ut.validation&&!e)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(e){if(ut.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(ut.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(ut.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(ut.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(ut.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(ut.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return dt.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=dt.from7bitToFloat(e)}get rawRelease(){return dt.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=dt.from7bitToFloat(e)}get number(){return dt.toNoteNumber(this.identifier)}getOffsetNumber(e=0,n=0){return ut.validation&&(e=parseInt(e)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+e*12+n,0),127)}};/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class dt{static toNoteNumber(e,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const r=this.getNoteDetails(e);if(!r)throw new TypeError("Invalid note identifier");const i={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let o=(r.octave+1+n)*12;if(o+=i[r.name],r.accidental&&(r.accidental.startsWith("b")?o-=r.accidental.length:o+=r.accidental.length),o<0||o>127)throw new RangeError("Invalid octaveOffset value");return o}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const n=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const r=n[1].toUpperCase(),i=parseInt(n[3]);let o=n[2].toLowerCase();return o=o===""?void 0:o,{accidental:o,identifier:r+(o||"")+i,name:r,octave:i}}static sanitizeChannels(e){let n;if(ut.validation){if(e==="all")n=["all"];else if(e==="none")return[]}return Array.isArray(e)?n=e:n=[e],n.indexOf("all")>-1&&(n=nt.MIDI_CHANNEL_NUMBERS),n.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(e){let n=!1;const r=parseFloat(e);return isNaN(r)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?r>=0&&(n=ut.time+r):r>=0&&(n=r),n)}static guessNoteNumber(e,n){n=parseInt(n)||0;let r=!1;if(Number.isInteger(e)&&e>=0&&e<=127)r=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)r=parseInt(e);else if(typeof e=="string"||e instanceof String)try{r=this.toNoteNumber(e.trim(),n)}catch{return!1}return r}static toNoteIdentifier(e,n){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],i=Math.floor(e/12-1)+n;return r[e%12]+i.toString()}static buildNote(e,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,e instanceof td)return e;let r=this.guessNoteNumber(e,n.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return n.octaveOffset=void 0,new td(r,n)}static buildNoteArray(e,n={}){let r=[];return Array.isArray(e)||(e=[e]),e.forEach(i=>{r.push(this.buildNote(i,n))}),r}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,n=0){ut.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const r=((e<<7)+n)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(e){ut.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const n=Math.round(e*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(e,n=0,r=0){if(ut.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");n=parseInt(n)||0,r=parseInt(r)||0}return Math.min(Math.max(e+n*12+r,0),127)}static getPropertyByValue(e,n){return Object.keys(e).find(r=>e[r]===n)}static getCcNameByNumber(e){if(!(ut.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return nt.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let n=nt.CONTROL_CHANGE_MESSAGES.find(r=>r.name===e);return n?n.number:nt.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let n in nt.CHANNEL_MODE_MESSAGES)if(nt.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&e===nt.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class rue extends Is{constructor(e,n){super(),this._output=e,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,n={time:0}){return this.output.send(e,n),this}sendKeyAftertouch(e,n,r={}){if(ut.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(n=dt.fromFloatTo7Bit(n));const i=ut.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),dt.buildNoteArray(e).forEach(o=>{this.send([(nt.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),o.getOffsetNumber(i),n],{time:dt.toTimestamp(r.time)})}),this}sendControlChange(e,n,r={}){if(typeof e=="string"&&(e=dt.getCcNumberByName(e)),Array.isArray(n)||(n=[n]),ut.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(i=>{const o=Math.min(Math.max(parseInt(i),0),127);if(isNaN(o))throw new TypeError("Values must be integers between 0 and 127");return o}),n.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((i,o)=>{this.send([(nt.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+o*32,n[o]],{time:dt.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(e,n={}){return this.sendControlChange(99,e[0],n),this.sendControlChange(98,e[1],n),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,n={}){return this.sendControlChange(101,e[0],n),this.sendControlChange(100,e[1],n),this}_setCurrentParameter(e,n={}){return e=[].concat(e),this.sendControlChange(6,e[0],n),e.length<2?this:(this.sendControlChange(38,e[1],n),this)}sendRpnDecrement(e,n={}){if(Array.isArray(e)||(e=nt.REGISTERED_PARAMETERS[e]),ut.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(nt.REGISTERED_PARAMETERS).forEach(i=>{nt.REGISTERED_PARAMETERS[i][0]===e[0]&&nt.REGISTERED_PARAMETERS[i][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(e,n={}){if(Array.isArray(e)||(e=nt.REGISTERED_PARAMETERS[e]),ut.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(nt.REGISTERED_PARAMETERS).forEach(i=>{nt.REGISTERED_PARAMETERS[i][0]===e[0]&&nt.REGISTERED_PARAMETERS[i][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(e,n={}){this.sendNoteOn(e,n);const r=Array.isArray(e)?e:[e];for(let i of r)if(parseInt(i.duration)>0){const o={time:(dt.toTimestamp(n.time)||ut.time)+parseInt(i.duration),release:i.release,rawRelease:i.rawRelease};this.sendNoteOff(i,o)}else if(parseInt(n.duration)>0){const o={time:(dt.toTimestamp(n.time)||ut.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(i,o)}return this}sendNoteOff(e,n={}){if(ut.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawRelease!=null?r=n.rawRelease:isNaN(n.release)||(r=Math.round(n.release*127));const i=ut.octaveOffset+this.output.octaveOffset+this.octaveOffset;return dt.buildNoteArray(e,{rawRelease:parseInt(r)}).forEach(o=>{this.send([(nt.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),o.getOffsetNumber(i),o.rawRelease],{time:dt.toTimestamp(n.time)})}),this}stopNote(e,n={}){return this.sendNoteOff(e,n)}sendNoteOn(e,n={}){if(ut.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawAttack!=null?r=n.rawAttack:isNaN(n.attack)||(r=Math.round(n.attack*127));const i=ut.octaveOffset+this.output.octaveOffset+this.octaveOffset;return dt.buildNoteArray(e,{rawAttack:r}).forEach(o=>{this.send([(nt.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),o.getOffsetNumber(i),o.rawAttack],{time:dt.toTimestamp(n.time)})}),this}sendChannelMode(e,n=0,r={}){if(typeof e=="string"&&(e=nt.CHANNEL_MODE_MESSAGES[e]),ut.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(nt.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,n],{time:dt.toTimestamp(r.time)}),this}sendOmniMode(e,n={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(e,n={}){if(ut.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(nt.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e*127)],{time:dt.toTimestamp(n.time)}),this}sendMasterTuning(e,n={}){if(e=parseFloat(e)||0,ut.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(e)+64,i=e-Math.floor(e);i=Math.round((i+1)/2*16383);let o=i>>7&127,s=i&127;return this.sendRpnValue("channelcoarsetuning",r,n),this.sendRpnValue("channelfinetuning",[o,s],n),this}sendModulationRange(e,n,r={}){if(ut.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[e,n],r),this}sendNrpnValue(e,n,r={}){if(n=[].concat(n),ut.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(i=>{if(!(i>=0&&i<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(e,n={}){if(ut.validation)if(n.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,i=0;if(n.rawValue&&Array.isArray(e))r=e[0],i=e[1];else if(n.rawValue&&!Array.isArray(e))r=e;else{const o=dt.fromFloatToMsbLsb((e+1)/2);r=o.msb,i=o.lsb}return this.send([(nt.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),i,r],{time:dt.toTimestamp(n.time)}),this}sendPitchBendRange(e,n,r={}){if(ut.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,n],r),this}sendProgramChange(e,n={}){if(e=parseInt(e)||0,ut.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(nt.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:dt.toTimestamp(n.time)}),this}sendRpnValue(e,n,r={}){if(Array.isArray(e)||(e=nt.REGISTERED_PARAMETERS[e]),ut.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(i=>{if(!(i>=0&&i<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectRegisteredParameter(r),this}sendTuningBank(e,n={}){if(ut.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,n),this}sendTuningProgram(e,n={}){if(ut.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,n),this}sendLocalControl(e,n={}){return e?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,n={}){return e==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class CE extends Is{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new rue(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let n={timestamp:ut.time};e.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,n={time:0},r=0){if(e instanceof M5&&(e=dt.isNode?e.data:e.rawData),e instanceof Uint8Array&&dt.isNode&&(e=Array.from(e)),ut.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(n)&&(e=e.concat(n)),n=isNaN(r)?{time:0}:{time:r}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(i=>{if(i=parseInt(i),!(i>=0&&i<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(e,dt.toTimestamp(n.time)),this}sendSysex(e,n=[],r={}){if(e=[].concat(e),n instanceof Uint8Array){const i=new Uint8Array(1+e.length+n.length+1);i[0]=nt.SYSTEM_MESSAGES.sysex,i.set(Uint8Array.from(e),1),i.set(n,1+e.length),i[i.length-1]=nt.SYSTEM_MESSAGES.sysexend,this.send(i,{time:r.time})}else{const i=e.concat(n,nt.SYSTEM_MESSAGES.sysexend);this.send([nt.SYSTEM_MESSAGES.sysex].concat(i),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():ut.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,n={}){if(ut.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([nt.SYSTEM_MESSAGES.timecode,e],{time:n.time}),this}sendSongPosition(e=0,n={}){e=Math.floor(e)||0;var r=e>>7&127,i=e&127;return this.send([nt.SYSTEM_MESSAGES.songposition,r,i],{time:n.time}),this}sendSongSelect(e=0,n={}){if(ut.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([nt.SYSTEM_MESSAGES.songselect,e],{time:n.time}),this}sendTuneRequest(e={}){return this.send([nt.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([nt.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([nt.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([nt.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([nt.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([nt.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([nt.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return ut.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendKeyAftertouch(e,n,r)}),this}sendControlChange(e,n,r={},i={}){if(ut.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const o=r;r=i,r.channels=o,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(o=>{this.channels[o].sendControlChange(e,n,r)}),this}sendPitchBendRange(e=0,n=0,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendPitchBendRange(e,n,r)}),this}setPitchBendRange(e=0,n=0,r="all",i={}){return ut.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,n,i)}sendRpnValue(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendRpnValue(e,n,r)}),this}setRegisteredParameter(e,n=[],r="all",i={}){return ut.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,n,i)}sendChannelAftertouch(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendChannelAftertouch(e,n)}),this}sendPitchBend(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendPitchBend(e,n)}),this}sendProgramChange(e=0,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendProgramChange(e,n)}),this}sendModulationRange(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendModulationRange(e,n,r)}),this}setModulationRange(e=0,n=0,r="all",i={}){return ut.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,n,i)}sendMasterTuning(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendMasterTuning(e,n)}),this}setMasterTuning(e,n={},r={}){return ut.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,r)}sendTuningProgram(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningProgram(e,n)}),this}setTuningProgram(e,n="all",r={}){return ut.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,r)}sendTuningBank(e=0,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningBank(e,n)}),this}setTuningBank(e,n="all",r={}){return ut.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,r)}sendChannelMode(e,n=0,r={},i={}){if(ut.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const o=r;r=i,r.channels=o,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(o=>{this.channels[o].sendChannelMode(e,n,r)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},n={}){if(ut.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const r=e;e=n,e.channels=r,e.channels==="all"&&(e.channels=nt.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(e.channels).forEach(r=>{this.channels[r].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendPolyphonicMode(e,n)}),this}sendLocalControl(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendLocalControl(e,n)}),this}sendOmniMode(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendOmniMode(e,n)}),this}sendNrpnValue(e,n,r={}){return r.channels==null&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendNrpnValue(e,n,r)}),this}setNonRegisteredParameter(e,n=[],r="all",i={}){return ut.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),i.channels=r,i.channels==="all"&&(i.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,n,i)}sendRpnIncrement(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnIncrement(e,n)}),this}incrementRegisteredParameter(e,n="all",r={}){return ut.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,r)}sendRpnDecrement(e,n={}){return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnDecrement(e,n)}),this}decrementRegisteredParameter(e,n="all",r={}){return ut.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=nt.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,r)}sendNoteOff(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendNoteOff(e,n)}),this}stopNote(e,n){return this.sendNoteOff(e,n)}playNote(e,n={},r={}){if(ut.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].playNote(e,n)}),this}sendNoteOn(e,n={},r={}){if(ut.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const i=n;n=r,n.channels=i,n.channels==="all"&&(n.channels=nt.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(n.channels).forEach(i=>{this.channels[i].sendNoteOn(e,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class uL{constructor(e=[],n={}){this.destinations=[],this.types=[...Object.keys(nt.SYSTEM_MESSAGES),...Object.keys(nt.CHANNEL_MESSAGES)],this.channels=nt.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),ut.validation&&(e.forEach(r=>{if(!(r instanceof CE))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(r=>{if(!nt.SYSTEM_MESSAGES.hasOwnProperty(r)&&!nt.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(r=>{if(!nt.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(n=>{ut.validation&&!(n instanceof CE)||n.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class iue extends Is{constructor(e,n){super(),this._input=e,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const n=Object.assign({},e);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmessage";const r=e.message.dataBytes[0],i=e.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&i===0)this.notesState[r]=!1,n.type="noteoff",n.note=new td(dt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ut.octaveOffset),{rawAttack:0,rawRelease:i}),n.value=dt.from7bitToFloat(i),n.rawValue=i,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[r]=!0,n.note=new td(dt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ut.octaveOffset),{rawAttack:i}),n.value=dt.from7bitToFloat(i),n.rawValue=i,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new td(dt.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+ut.octaveOffset)),n.value=dt.from7bitToFloat(i),n.rawValue=i,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=r;else if(n.type==="controlchange"){n.controller={number:r,name:nt.CONTROL_CHANGE_MESSAGES[r].name,description:nt.CONTROL_CHANGE_MESSAGES[r].description,position:nt.CONTROL_CHANGE_MESSAGES[r].position},n.subtype=n.controller.name||"controller"+r,n.value=dt.from7bitToFloat(i),n.rawValue=i;const o=Object.assign({},n);o.type=`${n.type}-controller${r}`,delete o.subtype,this.emit(o.type,o);const s=Object.assign({},n);s.type=`${n.type}-`+nt.CONTROL_CHANGE_MESSAGES[r].name,delete s.subtype,s.type.indexOf("controller")!==0&&this.emit(s.type,s),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=r,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=dt.from7bitToFloat(r),n.rawValue=r):n.type==="pitchbend"?(n.value=((i<<7)+r-8192)/8192,n.rawValue=(i<<7)+r):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(e){const n=Object.assign({},e);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(e){const n=e.message.dataBytes[0],r=e.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[e.message]:r!==127&&(this._rpnBuffer=[e.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,n,r,i){e=e==="nrpn"?"nrpn":"rpn";const o={target:i.target,timestamp:i.timestamp,message:i.message,parameterMsb:n,parameterLsb:r,value:dt.from7bitToFloat(i.message.dataBytes[1]),rawValue:i.message.dataBytes[1]};e==="rpn"?o.parameter=Object.keys(nt.REGISTERED_PARAMETERS).find(a=>nt.REGISTERED_PARAMETERS[a][0]===n&&nt.REGISTERED_PARAMETERS[a][1]===r):o.parameter=(n<<7)+r;const s=nt.CONTROL_CHANGE_MESSAGES[i.message.dataBytes[0]].name;o.type=`${e}-${s}`,this.emit(o.type,o);const l=Object.assign({},o);l.type==="nrpn-dataincrement"?l.type="nrpn-databuttonincrement":l.type==="nrpn-datadecrement"?l.type="nrpn-databuttondecrement":l.type==="rpn-dataincrement"?l.type="rpn-databuttonincrement":l.type==="rpn-datadecrement"&&(l.type="rpn-databuttondecrement"),this.emit(l.type,l),o.type=e,o.subtype=s,this.emit(o.type,o)}getChannelModeByNumber(e){return ut.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),dt.getChannelModeByNumber(e)}getCcNameByNumber(e){if(ut.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return dt.getCcNameByNumber(e)}getNoteState(e){e instanceof td&&(e=e.identifier);const n=dt.guessNoteNumber(e,ut.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class M5{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=dt.getPropertyByValue(nt.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=dt.getPropertyByValue(nt.SYSTEM_MESSAGES,this.command)),this.statusByte===nt.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class oue extends Is{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new iue(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let n={timestamp:ut.time,target:this,port:this};e.port.connection==="open"?(n.type="opened",this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const n=new M5(e.data),r={port:this,target:this,message:n,timestamp:e.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",r),n.isSystemMessage?this._parseEvent(r):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(r),this._forwarders.forEach(i=>i.forward(n))}_parseEvent(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=e.data[1]+1,n.value=e.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){ut.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,n,r={}){if(ut.validation&&typeof r=="function"){let i=n!=null?[].concat(n):void 0;n=r,r={channels:i}}if(nt.CHANNEL_EVENTS.includes(e)){r.channels===void 0&&(r.channels=nt.MIDI_CHANNEL_NUMBERS);let i=[];return dt.sanitizeChannels(r.channels).forEach(o=>{i.push(this.channels[o].addListener(e,n,r))}),i}else return super.addListener(e,n,r)}addOneTimeListener(e,n,r={}){return r.remaining=1,this.addListener(e,n,r)}on(e,n,r,i){return this.addListener(e,n,r,i)}hasListener(e,n,r={}){if(ut.validation&&typeof r=="function"){let i=[].concat(n);n=r,r={channels:i}}return nt.CHANNEL_EVENTS.includes(e)?(r.channels===void 0&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),dt.sanitizeChannels(r.channels).every(i=>this.channels[i].hasListener(e,n))):super.hasListener(e,n)}removeListener(e,n,r={}){if(ut.validation&&typeof r=="function"){let i=[].concat(n);n=r,r={channels:i}}if(r.channels===void 0&&(r.channels=nt.MIDI_CHANNEL_NUMBERS),e==null)return dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i]&&this.channels[i].removeListener()}),super.removeListener();nt.CHANNEL_EVENTS.includes(e)?dt.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].removeListener(e,n,r)}):super.removeListener(e,n,r)}addForwarder(e,n={}){let r;return e instanceof uL?r=e:r=new uL(e,n),this._forwarders.push(r),r}removeForwarder(e){this._forwarders=this._forwarders.filter(n=>n!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return ut.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class sue extends Is{constructor(){super(),this.defaults={note:{attack:dt.from7bitToFloat(64),release:dt.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},n=!1){if(dt.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:n}),n&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},i={timestamp:this.time,target:this,type:"midiaccessgranted"},o={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(s){return r.error=s,this.emit("error",r),typeof e.callback=="function"&&e.callback(s),Promise.reject(s)}this.emit("midiaccessgranted",i),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(s){return r.error=s,this.emit("error",r),typeof e.callback=="function"&&e.callback(s),Promise.reject(s)}return this.emit("enabled",o),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===e.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===e.toString())return this.inputs[r]}getInputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(e))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(e))return this.inputs[r]}getOutputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(e))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(e))return this.outputs[r]}getOutputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===e.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===e.toString())return this.outputs[r]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),dt.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?dt.getNoteDetails(dt.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),dt.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),dt.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),dt.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),dt.buildNoteArray(e,n)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),dt.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(n=>e.push(n.destroy())),this.outputs.forEach(n=>e.push(n.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let n={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?n.port=this.getOutputById(e.port.id):e.port.type==="input"&&(n.port=this.getInputById(e.port.id)),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?n.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(n.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const r=this._inputs[n];Array.from(this.interface.inputs.values()).find(o=>o===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(n,1))}let e=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(r=>r._midiInput===n)){let r=this._disconnectedInputs.find(i=>i._midiInput===n);r||(r=new oue(n)),this._inputs.push(r),e.push(r.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const r=this._outputs[n];Array.from(this.interface.outputs.values()).find(o=>o===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(n,1))}let e=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(r=>r._midiOutput===n)){let r=this._disconnectedOutputs.find(i=>i._midiOutput===n);r||(r=new CE(n)),this._outputs.push(r),e.push(r.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),dt.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),dt.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.6"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),nt.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),nt.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),nt.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),nt.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),nt.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const ut=new sue;ut.constructor=null;const lT=()=>{const{refHandleMidiNoteDown:t,refHandleMidiNoteUp:e,refHandlePreviewNoteDown:n,refHandlePreviewNoteUp:r}=Tx();return L.useEffect(()=>(ut.enable({callback:i=>{i?console.error("WebMidi could not be enabled.",i):console.log("WebMidi enabled!")}}).then(()=>{ut.addListener("connected",function(){ut.inputs.forEach(i=>{i.removeListener("noteon"),i.addListener("noteon",o=>{const s=o.data[1],l=o.data[2];t.current&&t.current(s,l),n.current&&n.current(s,l)}),i.removeListener("noteoff"),i.addListener("noteoff",o=>{const s=o.data[1],l=o.data[2];e.current&&e.current(s,l),r.current&&r.current(s,l)})})})}),()=>{ut.inputs.forEach(i=>{i.removeListener("noteon"),i.removeListener("noteoff")}),ut.disable().then()}),[t,e,n,r]),q.jsx(q.Fragment,{})},aue=["piano","drums","bass"],lue=async t=>{const e=await aa.get("/convert/youtube/midi/",{params:t}),{data:n}=e;return n.data},RE=t=>{const e=[];return t.tracks.forEach(r=>{aue.includes(r.instrument.family)&&r.notes.forEach(i=>{i.midi>=Ts&&i.midi<=Ts+t5-1&&e.push({family:r.instrument.family,start_s:i.time,end_s:i.time+i.duration,pitch:i.midi,velocity:i.velocity*127,played:!1})})}),e.sort((r,i)=>r.start_s>i.start_s?1:r.start_s===i.start_s?0:-1)},cT=t=>{const{railAngle:e}=ku();return q.jsx("group",{scale:[1,1,1],rotation:[e,0,0],position:[0,-3.5,0],children:t.children})},cue=t=>{const{playingState:e,setPlayingState:n,setPlayingMode:r,setRailAngle:i,railAngle:o}=ku(),s=L.useCallback(()=>{n(f=>f==="playing"?"paused":"playing")},[n]),l=L.useCallback(()=>{n("stopped")},[n]),a=L.useCallback(f=>{r(f.target.value)},[r]),c=L.useCallback(()=>{const f=o+.1;i(f),t.onAngleChange&&t.onAngleChange(f)},[t,o,i]),u=L.useCallback(()=>{const f=o-.1;i(f),t.onAngleChange&&t.onAngleChange(f)},[t,o,i]);return q.jsxs(yn,{sx:{backgroundColor:"white",display:"flex"},children:[q.jsxs(yn,{flexGrow:1,children:[q.jsx(to,{onClick:s,children:e==="playing"?"Pause":"Play"}),q.jsx(to,{onClick:l,children:"Stop"}),q.jsx(to,{children:"<<"}),q.jsx(to,{children:"<"}),q.jsx(to,{children:">"}),q.jsx(to,{children:">>"})]}),q.jsxs(yn,{flexGrow:1,children:[q.jsx(to,{onClick:u,children:"Up"}),q.jsx(to,{onClick:c,children:"Down"})]}),q.jsx(yn,{children:q.jsx(zO,{children:q.jsxs(Dq,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"preview",name:"radio-buttons-group",onChange:a,row:!0,children:[q.jsx(s_,{value:"preview",control:q.jsx(u_,{}),label:"Preview"}),q.jsx(s_,{value:"standard",control:q.jsx(u_,{}),label:"Standard"}),q.jsx(s_,{value:"step",control:q.jsx(u_,{}),label:"Step"})]})})})]})};var Dy={},Cx={};function uue(t){var e=new Ki(t),n=e.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=fue(n.data),i=[],o=0;!e.eof()&&o<r.numTracks;o++){var s=e.readChunk();if(s.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+s.id+"'";var l=due(s.data);i.push(l)}return{header:r,tracks:i}}function fue(t){var e=new Ki(t),n=e.readUInt16(),r=e.readUInt16(),i={format:n,numTracks:r},o=e.readUInt16();return o&32768?(i.framesPerSecond=256-(o>>8),i.ticksPerFrame=o&255):i.ticksPerBeat=o,i}function due(t){for(var e=new Ki(t),n=[];!e.eof();){var r=o();n.push(r)}return n;var i;function o(){var s={};s.deltaTime=e.readVarInt();var l=e.readUInt8();if((l&240)===240)if(l===255){s.meta=!0;var a=e.readUInt8(),c=e.readVarInt();switch(a){case 0:if(s.type="sequenceNumber",c!==2)throw"Expected length for sequenceNumber event is 2, got "+c;return s.number=e.readUInt16(),s;case 1:return s.type="text",s.text=e.readString(c),s;case 2:return s.type="copyrightNotice",s.text=e.readString(c),s;case 3:return s.type="trackName",s.text=e.readString(c),s;case 4:return s.type="instrumentName",s.text=e.readString(c),s;case 5:return s.type="lyrics",s.text=e.readString(c),s;case 6:return s.type="marker",s.text=e.readString(c),s;case 7:return s.type="cuePoint",s.text=e.readString(c),s;case 32:if(s.type="channelPrefix",c!=1)throw"Expected length for channelPrefix event is 1, got "+c;return s.channel=e.readUInt8(),s;case 33:if(s.type="portPrefix",c!=1)throw"Expected length for portPrefix event is 1, got "+c;return s.port=e.readUInt8(),s;case 47:if(s.type="endOfTrack",c!=0)throw"Expected length for endOfTrack event is 0, got "+c;return s;case 81:if(s.type="setTempo",c!=3)throw"Expected length for setTempo event is 3, got "+c;return s.microsecondsPerBeat=e.readUInt24(),s;case 84:if(s.type="smpteOffset",c!=5)throw"Expected length for smpteOffset event is 5, got "+c;var u=e.readUInt8(),f={0:24,32:25,64:29,96:30};return s.frameRate=f[u&96],s.hour=u&31,s.min=e.readUInt8(),s.sec=e.readUInt8(),s.frame=e.readUInt8(),s.subFrame=e.readUInt8(),s;case 88:if(s.type="timeSignature",c!=2&&c!=4)throw"Expected length for timeSignature event is 4 or 2, got "+c;return s.numerator=e.readUInt8(),s.denominator=1<<e.readUInt8(),c===4?(s.metronome=e.readUInt8(),s.thirtyseconds=e.readUInt8()):(s.metronome=36,s.thirtyseconds=8),s;case 89:if(s.type="keySignature",c!=2)throw"Expected length for keySignature event is 2, got "+c;return s.key=e.readInt8(),s.scale=e.readUInt8(),s;case 127:return s.type="sequencerSpecific",s.data=e.readBytes(c),s;default:return s.type="unknownMeta",s.data=e.readBytes(c),s.metatypeByte=a,s}}else if(l==240){s.type="sysEx";var c=e.readVarInt();return s.data=e.readBytes(c),s}else if(l==247){s.type="endSysEx";var c=e.readVarInt();return s.data=e.readBytes(c),s}else throw"Unrecognised MIDI event type byte: "+l;else{var d;if(l&128)d=e.readUInt8(),i=l;else{if(i===null)throw"Running status byte encountered before status byte";d=l,l=i,s.running=!0}var p=l>>4;switch(s.channel=l&15,p){case 8:return s.type="noteOff",s.noteNumber=d,s.velocity=e.readUInt8(),s;case 9:var g=e.readUInt8();return s.type=g===0?"noteOff":"noteOn",s.noteNumber=d,s.velocity=g,g===0&&(s.byte9=!0),s;case 10:return s.type="noteAftertouch",s.noteNumber=d,s.amount=e.readUInt8(),s;case 11:return s.type="controller",s.controllerType=d,s.value=e.readUInt8(),s;case 12:return s.type="programChange",s.programNumber=d,s;case 13:return s.type="channelAftertouch",s.amount=d,s;case 14:return s.type="pitchBend",s.value=d+(e.readUInt8()<<7)-8192,s;default:throw"Unrecognised MIDI event type: "+p}}}}function Ki(t){this.buffer=t,this.bufferLen=this.buffer.length,this.pos=0}Ki.prototype.eof=function(){return this.pos>=this.bufferLen};Ki.prototype.readUInt8=function(){var t=this.buffer[this.pos];return this.pos+=1,t};Ki.prototype.readInt8=function(){var t=this.readUInt8();return t&128?t-256:t};Ki.prototype.readUInt16=function(){var t=this.readUInt8(),e=this.readUInt8();return(t<<8)+e};Ki.prototype.readInt16=function(){var t=this.readUInt16();return t&32768?t-65536:t};Ki.prototype.readUInt24=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8();return(t<<16)+(e<<8)+n};Ki.prototype.readInt24=function(){var t=this.readUInt24();return t&8388608?t-16777216:t};Ki.prototype.readUInt32=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8(),r=this.readUInt8();return(t<<24)+(e<<16)+(n<<8)+r};Ki.prototype.readBytes=function(t){var e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e};Ki.prototype.readString=function(t){var e=this.readBytes(t);return String.fromCharCode.apply(null,e)};Ki.prototype.readVarInt=function(){for(var t=0;!this.eof();){var e=this.readUInt8();if(e&128)t+=e&127,t<<=7;else return t+e}return t};Ki.prototype.readChunk=function(){var t=this.readString(4),e=this.readUInt32(),n=this.readBytes(e);return{id:t,length:e,data:n}};var hue=uue;function pue(t,e){if(typeof t!="object")throw"Invalid MIDI data";e=e||{};var n=t.header||{},r=t.tracks||[],i,o=r.length,s=new ri;for(mue(s,n,o),i=0;i<o;i++)gue(s,r[i],e);return s.buffer}function mue(t,e,n){var r=e.format==null?1:e.format,i=128;e.timeDivision?i=e.timeDivision:e.ticksPerFrame&&e.framesPerSecond?i=-(e.framesPerSecond&255)<<8|e.ticksPerFrame&255:e.ticksPerBeat&&(i=e.ticksPerBeat&32767);var o=new ri;o.writeUInt16(r),o.writeUInt16(n),o.writeUInt16(i),t.writeChunk("MThd",o.buffer)}function gue(t,e,n){var r=new ri,i,o=e.length,s=null;for(i=0;i<o;i++)(n.running===!1||!n.running&&!e[i].running)&&(s=null),s=vue(r,e[i],s,n.useByte9ForNoteOff);t.writeChunk("MTrk",r.buffer)}function vue(t,e,n,r){var i=e.type,o=e.deltaTime,s=e.text||"",l=e.data||[],a=null;switch(t.writeVarInt(o),i){case"sequenceNumber":t.writeUInt8(255),t.writeUInt8(0),t.writeVarInt(2),t.writeUInt16(e.number);break;case"text":t.writeUInt8(255),t.writeUInt8(1),t.writeVarInt(s.length),t.writeString(s);break;case"copyrightNotice":t.writeUInt8(255),t.writeUInt8(2),t.writeVarInt(s.length),t.writeString(s);break;case"trackName":t.writeUInt8(255),t.writeUInt8(3),t.writeVarInt(s.length),t.writeString(s);break;case"instrumentName":t.writeUInt8(255),t.writeUInt8(4),t.writeVarInt(s.length),t.writeString(s);break;case"lyrics":t.writeUInt8(255),t.writeUInt8(5),t.writeVarInt(s.length),t.writeString(s);break;case"marker":t.writeUInt8(255),t.writeUInt8(6),t.writeVarInt(s.length),t.writeString(s);break;case"cuePoint":t.writeUInt8(255),t.writeUInt8(7),t.writeVarInt(s.length),t.writeString(s);break;case"channelPrefix":t.writeUInt8(255),t.writeUInt8(32),t.writeVarInt(1),t.writeUInt8(e.channel);break;case"portPrefix":t.writeUInt8(255),t.writeUInt8(33),t.writeVarInt(1),t.writeUInt8(e.port);break;case"endOfTrack":t.writeUInt8(255),t.writeUInt8(47),t.writeVarInt(0);break;case"setTempo":t.writeUInt8(255),t.writeUInt8(81),t.writeVarInt(3),t.writeUInt24(e.microsecondsPerBeat);break;case"smpteOffset":t.writeUInt8(255),t.writeUInt8(84),t.writeVarInt(5);var c={24:0,25:32,29:64,30:96},u=e.hour&31|c[e.frameRate];t.writeUInt8(u),t.writeUInt8(e.min),t.writeUInt8(e.sec),t.writeUInt8(e.frame),t.writeUInt8(e.subFrame);break;case"timeSignature":t.writeUInt8(255),t.writeUInt8(88),t.writeVarInt(4),t.writeUInt8(e.numerator);var f=Math.floor(Math.log(e.denominator)/Math.LN2)&255;t.writeUInt8(f),t.writeUInt8(e.metronome),t.writeUInt8(e.thirtyseconds||8);break;case"keySignature":t.writeUInt8(255),t.writeUInt8(89),t.writeVarInt(2),t.writeInt8(e.key),t.writeUInt8(e.scale);break;case"sequencerSpecific":t.writeUInt8(255),t.writeUInt8(127),t.writeVarInt(l.length),t.writeBytes(l);break;case"unknownMeta":e.metatypeByte!=null&&(t.writeUInt8(255),t.writeUInt8(e.metatypeByte),t.writeVarInt(l.length),t.writeBytes(l));break;case"sysEx":t.writeUInt8(240),t.writeVarInt(l.length),t.writeBytes(l);break;case"endSysEx":t.writeUInt8(247),t.writeVarInt(l.length),t.writeBytes(l);break;case"noteOff":var d=r!==!1&&e.byte9||r&&e.velocity==0?144:128;a=d|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteOn":a=144|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteAftertouch":a=160|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.noteNumber),t.writeUInt8(e.amount);break;case"controller":a=176|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.controllerType),t.writeUInt8(e.value);break;case"programChange":a=192|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.programNumber);break;case"channelAftertouch":a=208|e.channel,a!==n&&t.writeUInt8(a),t.writeUInt8(e.amount);break;case"pitchBend":a=224|e.channel,a!==n&&t.writeUInt8(a);var p=8192+e.value,g=p&127,y=p>>7&127;t.writeUInt8(g),t.writeUInt8(y);break;default:throw"Unrecognized event type: "+i}return a}function ri(){this.buffer=[]}ri.prototype.writeUInt8=function(t){this.buffer.push(t&255)};ri.prototype.writeInt8=ri.prototype.writeUInt8;ri.prototype.writeUInt16=function(t){var e=t>>8&255,n=t&255;this.writeUInt8(e),this.writeUInt8(n)};ri.prototype.writeInt16=ri.prototype.writeUInt16;ri.prototype.writeUInt24=function(t){var e=t>>16&255,n=t>>8&255,r=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r)};ri.prototype.writeInt24=ri.prototype.writeUInt24;ri.prototype.writeUInt32=function(t){var e=t>>24&255,n=t>>16&255,r=t>>8&255,i=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(i)};ri.prototype.writeInt32=ri.prototype.writeUInt32;ri.prototype.writeBytes=function(t){this.buffer=this.buffer.concat(Array.prototype.slice.call(t,0))};ri.prototype.writeString=function(t){var e,n=t.length,r=[];for(e=0;e<n;e++)r.push(t.codePointAt(e));this.writeBytes(r)};ri.prototype.writeVarInt=function(t){if(t<0)throw"Cannot write negative variable-length integer";if(t<=127)this.writeUInt8(t);else{var e=t,n=[];for(n.push(e&127),e>>=7;e;){var r=e&127|128;n.push(r),e>>=7}this.writeBytes(n.reverse())}};ri.prototype.writeChunk=function(t,e){this.writeString(t),this.writeUInt32(e.length),this.writeBytes(e)};var yue=pue;Cx.parseMidi=hue;Cx.writeMidi=yue;var Uy={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.insert=Mu.search=void 0;function T5(t,e,n){n===void 0&&(n="ticks");var r=0,i=t.length,o=i;if(i>0&&t[i-1][n]<=e)return i-1;for(;r<o;){var s=Math.floor(r+(o-r)/2),l=t[s],a=t[s+1];if(l[n]===e){for(var c=s;c<t.length;c++){var u=t[c];u[n]===e&&(s=c)}return s}else{if(l[n]<e&&a[n]>e)return s;l[n]>e?o=s:l[n]<e&&(r=s+1)}}return-1}Mu.search=T5;function xue(t,e,n){if(n===void 0&&(n="ticks"),t.length){var r=T5(t,e[n],n);t.splice(r+1,0,e)}else t.push(e)}Mu.insert=xue;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var e=Mu,n=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function i(o){var s=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),o){n.set(this,o.header.ticksPerBeat),o.tracks.forEach(function(a){a.forEach(function(c){c.meta&&(c.type==="timeSignature"?s.timeSignatures.push({ticks:c.absoluteTime,timeSignature:[c.numerator,c.denominator]}):c.type==="setTempo"?s.tempos.push({bpm:6e7/c.microsecondsPerBeat,ticks:c.absoluteTime}):c.type==="keySignature"&&s.keySignatures.push({key:t.keySignatureKeys[c.key+7],scale:c.scale===0?"major":"minor",ticks:c.absoluteTime}))})});var l=0;o.tracks[0].forEach(function(a){l+=a.deltaTime,a.meta&&(a.type==="trackName"?s.name=a.text:(a.type==="text"||a.type==="cuePoint"||a.type==="marker"||a.type==="lyrics")&&s.meta.push({text:a.text,ticks:l,type:a.type}))}),this.update()}}return i.prototype.update=function(){var o=this,s=0,l=0;this.tempos.sort(function(a,c){return a.ticks-c.ticks}),this.tempos.forEach(function(a,c){var u=c>0?o.tempos[c-1].bpm:o.tempos[0].bpm,f=a.ticks/o.ppq-l,d=60/u*f;a.time=d+s,s=a.time,l+=f}),this.timeSignatures.sort(function(a,c){return a.ticks-c.ticks}),this.timeSignatures.forEach(function(a,c){var u=c>0?o.timeSignatures[c-1]:o.timeSignatures[0],f=(a.ticks-u.ticks)/o.ppq,d=f/u.timeSignature[0]/(u.timeSignature[1]/4);u.measures=u.measures||0,a.measures=d+u.measures})},i.prototype.ticksToSeconds=function(o){var s=(0,e.search)(this.tempos,o);if(s!==-1){var l=this.tempos[s],a=l.time,c=(o-l.ticks)/this.ppq;return a+60/l.bpm*c}else{var u=o/this.ppq;return 60/120*u}},i.prototype.ticksToMeasures=function(o){var s=(0,e.search)(this.timeSignatures,o);if(s!==-1){var l=this.timeSignatures[s],a=(o-l.ticks)/this.ppq;return l.measures+a/(l.timeSignature[0]/l.timeSignature[1])/4}else return o/this.ppq/4},Object.defineProperty(i.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),i.prototype.secondsToTicks=function(o){var s=(0,e.search)(this.tempos,o,"time");if(s!==-1){var l=this.tempos[s],a=l.time,c=o-a,u=c/(60/l.bpm);return Math.round(l.ticks+u*this.ppq)}else{var f=o/.5;return Math.round(f*this.ppq)}},i.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(o){return{bpm:o.bpm,ticks:o.ticks}}),timeSignatures:this.timeSignatures}},i.prototype.fromJSON=function(o){this.name=o.name,this.tempos=o.tempos.map(function(s){return Object.assign({},s)}),this.timeSignatures=o.timeSignatures.map(function(s){return Object.assign({},s)}),this.keySignatures=o.keySignatures.map(function(s){return Object.assign({},s)}),this.meta=o.meta.map(function(s){return Object.assign({},s)}),n.set(this,o.ppq),this.update()},i.prototype.setTempo=function(o){this.tempos=[{bpm:o,ticks:0}],this.update()},i}();t.Header=r})(Uy);var Sm={},uT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(i,o){return i[t.controlChangeNames[o]]=o,i},{});var e=new WeakMap,n=new WeakMap,r=function(){function i(o,s){e.set(this,s),n.set(this,o.controllerType),this.ticks=o.absoluteTime,this.value=o.value}return Object.defineProperty(i.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"time",{get:function(){var o=e.get(this);return o.ticksToSeconds(this.ticks)},set:function(o){var s=e.get(this);this.ticks=s.secondsToTicks(o)},enumerable:!1,configurable:!0}),i.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},i}();t.ControlChange=r})(uT);var Rx={};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.createControlChanges=void 0;var iv=uT;function bue(){return new Proxy({},{get:function(t,e){if(t[e])return t[e];if(iv.controlChangeIds.hasOwnProperty(e))return t[iv.controlChangeIds[e]]},set:function(t,e,n){return iv.controlChangeIds.hasOwnProperty(e)?t[iv.controlChangeIds[e]]=n:t[e]=n,!0}})}Rx.createControlChanges=bue;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});Px.PitchBend=void 0;var fS=new WeakMap,_ue=function(){function t(e,n){fS.set(this,n),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(t.prototype,"time",{get:function(){var e=fS.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=fS.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},t}();Px.PitchBend=_ue;var Ix={},Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.DrumKitByPatchID=Yl.InstrumentFamilyByID=Yl.instrumentByPatchID=void 0;Yl.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];Yl.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];Yl.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.Instrument=void 0;var ov=Yl,fL=new WeakMap,Sue=function(){function t(e,n){if(this.number=0,fL.set(this,n),this.number=0,e){var r=e.find(function(i){return i.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.percussion?ov.DrumKitByPatchID[this.number]:ov.instrumentByPatchID[this.number]},set:function(e){var n=ov.instrumentByPatchID.indexOf(e);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"family",{get:function(){return this.percussion?"drums":ov.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"percussion",{get:function(){var e=fL.get(this);return e.channel===9},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},t.prototype.fromJSON=function(e){this.number=e.number},t}();Ix.Instrument=Sue;var Lx={};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.Note=void 0;function wue(t){var e=Math.floor(t/12)-1;return A5(t)+e.toString()}function A5(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=t%12;return e[n]}function Eue(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return e.indexOf(t)}var Mue=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=t.exec(n),i=r[1],o=r[2],s=e[i.toLowerCase()];return s+(parseInt(o,10)+1)*12}}(),Tf=new WeakMap,Tue=function(){function t(e,n,r){Tf.set(this,r),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=n.velocity,this.ticks=e.ticks,this.durationTicks=n.ticks-e.ticks}return Object.defineProperty(t.prototype,"name",{get:function(){return wue(this.midi)},set:function(e){this.midi=Mue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var n=e-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pitch",{get:function(){return A5(this.midi)},set:function(e){this.midi=12*(this.octave+1)+Eue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=Tf.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var n=Tf.get(this),r=n.secondsToTicks(this.time+e);this.durationTicks=r-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){var e=Tf.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=Tf.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){var e=Tf.get(this);return e.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},t}();Lx.Note=Tue;Object.defineProperty(Sm,"__esModule",{value:!0});Sm.Track=void 0;var dS=Mu,Aue=uT,Cue=Rx,Rue=Px,dL=Ix,Pue=Lx,sv=new WeakMap,Iue=function(){function t(e,n){var r=this;if(this.name="",this.notes=[],this.controlChanges=(0,Cue.createControlChanges)(),this.pitchBends=[],sv.set(this,n),e){var i=e.find(function(d){return d.type==="trackName"});this.name=i?i.text:""}if(this.instrument=new dL.Instrument(e,this),this.channel=0,e){for(var o=e.filter(function(d){return d.type==="noteOn"}),s=e.filter(function(d){return d.type==="noteOff"}),l=function(){var d=o.shift();a.channel=d.channel;var p=s.findIndex(function(y){return y.noteNumber===d.noteNumber&&y.absoluteTime>=d.absoluteTime});if(p!==-1){var g=s.splice(p,1)[0];a.addNote({durationTicks:g.absoluteTime-d.absoluteTime,midi:d.noteNumber,noteOffVelocity:g.velocity/127,ticks:d.absoluteTime,velocity:d.velocity/127})}},a=this;o.length;)l();var c=e.filter(function(d){return d.type==="controller"});c.forEach(function(d){r.addCC({number:d.controllerType,ticks:d.absoluteTime,value:d.value/127})});var u=e.filter(function(d){return d.type==="pitchBend"});u.forEach(function(d){r.addPitchBend({ticks:d.absoluteTime,value:d.value/Math.pow(2,13)})});var f=e.find(function(d){return d.type==="endOfTrack"});this.endOfTrackTicks=f!==void 0?f.absoluteTime:void 0}}return t.prototype.addNote=function(e){var n=sv.get(this),r=new Pue.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(r,e),(0,dS.insert)(this.notes,r,"ticks"),this},t.prototype.addCC=function(e){var n=sv.get(this),r=new Aue.ControlChange({controllerType:e.number},n);return delete e.number,Object.assign(r,e),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),(0,dS.insert)(this.controlChanges[r.number],r,"ticks"),this},t.prototype.addPitchBend=function(e){var n=sv.get(this),r=new Rue.PitchBend({},n);return Object.assign(r,e),(0,dS.insert)(this.pitchBends,r,"ticks"),this},Object.defineProperty(t.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var r=this.notes[n].time+this.notes[n].duration;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var r=this.notes[n].ticks+this.notes[n].durationTicks;e<r&&(e=r)}return e},enumerable:!1,configurable:!0}),t.prototype.fromJSON=function(e){var n=this;this.name=e.name,this.channel=e.channel,this.instrument=new dL.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),e.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=e.endOfTrackTicks);for(var r in e.controlChanges)e.controlChanges[r]&&e.controlChanges[r].forEach(function(i){n.addCC({number:i.number,ticks:i.ticks,value:i.value})});e.notes.forEach(function(i){n.addNote({durationTicks:i.durationTicks,midi:i.midi,ticks:i.ticks,velocity:i.velocity})})},t.prototype.toJSON=function(){for(var e={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(e[n]=this.controlChanges[n].map(function(i){return i.toJSON()}));var r={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map(function(i){return i.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(i){return i.toJSON()})};return this.endOfTrackTicks!==void 0&&(r.endOfTrackTicks=this.endOfTrackTicks),r},t}();Sm.Track=Iue;var kx={};function Lue(t){var e=[];return C5(t,e),e}function C5(t,e){for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?C5(r,e):e.push(r)}}const kue=Object.freeze(Object.defineProperty({__proto__:null,flatten:Lue},Symbol.toStringTag,{value:"Module"})),Nue=vL(kue);var Tl=qc&&qc.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(kx,"__esModule",{value:!0});kx.encode=void 0;var Oue=Cx,Fue=Uy,Due=Nue;function Uue(t,e){return[{absoluteTime:t.ticks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(t.velocity*127)},{absoluteTime:t.ticks+t.durationTicks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(t.noteOffVelocity*127)}]}function Bue(t){return(0,Due.flatten)(t.notes.map(function(e){return Uue(e,t.channel)}))}function zue(t,e){return{absoluteTime:t.ticks,channel:e,controllerType:t.number,deltaTime:0,type:"controller",value:Math.floor(t.value*127)}}function Gue(t){for(var e=[],n=0;n<127;n++)t.controlChanges.hasOwnProperty(n)&&t.controlChanges[n].forEach(function(r){e.push(zue(r,t.channel))});return e}function Hue(t,e){return{absoluteTime:t.ticks,channel:e,deltaTime:0,type:"pitchBend",value:t.value}}function Vue(t){var e=[];return t.pitchBends.forEach(function(n){e.push(Hue(n,t.channel))}),e}function Wue(t){return{absoluteTime:0,channel:t.channel,deltaTime:0,programNumber:t.instrument.number,type:"programChange"}}function jue(t){return{absoluteTime:0,deltaTime:0,meta:!0,text:t,type:"trackName"}}function $ue(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/t.bpm),type:"setTempo"}}function Xue(t){return{absoluteTime:t.ticks,deltaTime:0,denominator:t.timeSignature[1],meta:!0,metronome:24,numerator:t.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function que(t){var e=Fue.keySignatureKeys.indexOf(t.key);return{absoluteTime:t.ticks,deltaTime:0,key:e+7,meta:!0,scale:t.scale==="major"?0:1,type:"keySignature"}}function Yue(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,text:t.text,type:t.type}}function Kue(t){var e={header:{format:1,numTracks:t.tracks.length+1,ticksPerBeat:t.header.ppq},tracks:Tl([Tl(Tl(Tl(Tl([{absoluteTime:0,deltaTime:0,meta:!0,text:t.header.name,type:"trackName"}],t.header.keySignatures.map(function(n){return que(n)}),!0),t.header.meta.map(function(n){return Yue(n)}),!0),t.header.tempos.map(function(n){return $ue(n)}),!0),t.header.timeSignatures.map(function(n){return Xue(n)}),!0)],t.tracks.map(function(n){return Tl(Tl(Tl([jue(n.name),Wue(n)],Bue(n),!0),Gue(n),!0),Vue(n),!0)}),!0)};return e.tracks=e.tracks.map(function(n){n=n.sort(function(i,o){return i.absoluteTime-o.absoluteTime});var r=0;return n.forEach(function(i){i.deltaTime=i.absoluteTime-r,r=i.absoluteTime,delete i.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,Oue.writeMidi)(e))}kx.encode=Kue;(function(t){var e=qc&&qc.__awaiter||function(f,d,p,g){function y(x){return x instanceof p?x:new p(function(v){v(x)})}return new(p||(p=Promise))(function(x,v){function b(E){try{S(g.next(E))}catch(M){v(M)}}function _(E){try{S(g.throw(E))}catch(M){v(M)}}function S(E){E.done?x(E.value):y(E.value).then(b,_)}S((g=g.apply(f,d||[])).next())})},n=qc&&qc.__generator||function(f,d){var p={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},g,y,x,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(S){return function(E){return _([S,E])}}function _(S){if(g)throw new TypeError("Generator is already executing.");for(;p;)try{if(g=1,y&&(x=S[0]&2?y.return:S[0]?y.throw||((x=y.return)&&x.call(y),0):y.next)&&!(x=x.call(y,S[1])).done)return x;switch(y=0,x&&(S=[S[0]&2,x.value]),S[0]){case 0:case 1:x=S;break;case 4:return p.label++,{value:S[1],done:!1};case 5:p.label++,y=S[1],S=[0];continue;case 7:S=p.ops.pop(),p.trys.pop();continue;default:if(x=p.trys,!(x=x.length>0&&x[x.length-1])&&(S[0]===6||S[0]===2)){p=0;continue}if(S[0]===3&&(!x||S[1]>x[0]&&S[1]<x[3])){p.label=S[1];break}if(S[0]===6&&p.label<x[1]){p.label=x[1],x=S;break}if(x&&p.label<x[2]){p.label=x[2],p.ops.push(S);break}x[2]&&p.ops.pop(),p.trys.pop();continue}S=d.call(f,p)}catch(E){S=[6,E],y=0}finally{g=x=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var r=Cx,i=Uy,o=Sm,s=kx,l=function(){function f(d){var p=this,g=null;if(d){var y=d instanceof ArrayBuffer?new Uint8Array(d):d;g=(0,r.parseMidi)(y),g.tracks.forEach(function(x){var v=0;x.forEach(function(b){v+=b.deltaTime,b.absoluteTime=v})}),g.tracks=u(g.tracks)}this.header=new i.Header(g),this.tracks=[],d&&(this.tracks=g.tracks.map(function(x){return new o.Track(x,p.header)}),g.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return f.fromUrl=function(d){return e(this,void 0,void 0,function(){var p,g;return n(this,function(y){switch(y.label){case 0:return[4,fetch(d)];case 1:return p=y.sent(),p.ok?[4,p.arrayBuffer()]:[3,3];case 2:return g=y.sent(),[2,new f(g)];case 3:throw new Error("Could not load '".concat(d,"'"))}})})},Object.defineProperty(f.prototype,"name",{get:function(){return this.header.name},set:function(d){this.header.name=d},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"duration",{get:function(){var d=this.tracks.map(function(p){return p.duration});return Math.max.apply(Math,d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"durationTicks",{get:function(){var d=this.tracks.map(function(p){return p.durationTicks});return Math.max.apply(Math,d)},enumerable:!1,configurable:!0}),f.prototype.addTrack=function(){var d=new o.Track(void 0,this.header);return this.tracks.push(d),d},f.prototype.toArray=function(){return(0,s.encode)(this)},f.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(d){return d.toJSON()})}},f.prototype.fromJSON=function(d){var p=this;this.header=new i.Header,this.header.fromJSON(d.header),this.tracks=d.tracks.map(function(g){var y=new o.Track(void 0,p.header);return y.fromJSON(g),y})},f.prototype.clone=function(){var d=new f;return d.fromJSON(this.toJSON()),d},f}();t.Midi=l;var a=Sm;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return a.Track}});var c=Uy;Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return c.Header}});function u(f){for(var d=[],p=0;p<f.length;p++)for(var g=d.length,y=new Map,x=Array(16).fill(0),v=0,b=f[p];v<b.length;v++){var _=b[v],S=g,E=_.channel;if(E!==void 0){_.type==="programChange"&&(x[E]=_.programNumber);var M=x[E],T="".concat(M," ").concat(E);y.has(T)?S=y.get(T):(S=g+y.size,y.set(T,S))}d[S]||d.push([]),d[S].push(_)}return d}})(Dy);function R5(t,e){return Math.random()*(e-t)+t}function Jue(t,e){return Math.floor(Math.random()*(e-t)+t)}function By(t){const e=Math.floor(Math.random()*t.length);return t[e]}function fT(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function av(t,e){return t.filter(n=>e.includes(n)).length}const Zue=({position:t,speed:e,removeStar:n,uuid:r})=>{const i=L.useRef();return Hs(()=>{i.current&&(i.current.position.y-=e,i.current.position.y<-10&&n(r))}),q.jsxs("mesh",{scale:.1,ref:i,position:t,children:[q.jsx("sphereGeometry",{args:[1,16,16]}),q.jsx("meshBasicMaterial",{color:"white"})]})},dT=()=>{const[t,e]=L.useState([]),n=L.useCallback(()=>{const i={position:[Math.random()*100-50,50,0],speed:Math.random()*3.5+.1,uuid:fT()};e(o=>[...o,i])},[]);L.useEffect(()=>{n()},[n]);const r=L.useCallback(i=>{e(o=>o.filter(l=>l.uuid!==i))},[]);return q.jsxs("group",{children:[q.jsx(qce,{distance:95e4,sunPosition:[1,0,1],inclination:9,azimuth:.95,rayleigh:90}),q.jsx(Jce,{radius:.2,depth:50,count:5e3,factor:2,saturation:0,fade:!0,speed:1}),t.map((i,o)=>q.jsx(Zue,{position:i.position,speed:i.speed,removeStar:r,uuid:i.uuid},o))]})},Que=new ce(0,-3,0),efe=()=>{const[t,e]=L.useState(null),n=()=>{const o=L.useRef(0);return Hs(({clock:s})=>{o.current=s.getElapsedTime()}),q.jsx("mesh",{children:q.jsx(dT,{})})},r=L.useCallback(async o=>{try{const s=await lue({link:o});if(s.note_events){const a=s.note_events.sort((c,u)=>c[0]>u[0]?1:c[0]===u[0]?0:-1).filter(c=>c[2]>=40);e(a)}}catch(s){alert(s)}},[]),i=L.useCallback(o=>{const s=new FileReader;s.onload=function(l){const a=l.target.result,c=new Dy.Midi(a),u=RE(c);e(u)},o.length>0&&s.readAsArrayBuffer(o[0])},[]);return q.jsx(yn,{display:"flex",flexDirection:"column",children:q.jsxs(yn,{flexGrow:1,minHeight:"100%",children:[q.jsx(PD,{onDrop:i,onYoutubeLink:r}),q.jsxs(sT,{children:[q.jsx("div",{style:{width:"100%",justifyContent:"center",display:"flex"},children:q.jsx("div",{style:{width:"100vw",height:"calc(100vh - 100px)",backgroundColor:"white"},children:q.jsxs(nT,{onCreated:({gl:o})=>{o.localClippingEnabled=!0},camera:{position:[0,0,15],fov:55,near:.1,far:400},children:[q.jsx("ambientLight",{position:[-3,0,-3],intensity:.9}),q.jsx("pointLight",{position:[-13,10,0],intensity:.9}),q.jsx(rT,{children:q.jsxs(cT,{children:[q.jsx(n,{}),q.jsx(E5,{noteEvents:t||[]}),q.jsx(aT,{position:Que}),q.jsx(lT,{})]})})]})})}),q.jsx(cue,{})]})]})})};class PE extends qd{constructor(e,n={}){const r=n.font;if(r===void 0)super();else{const i=r.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(i,n)}this.type="TextGeometry"}}const P5=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb"],I5=Object.keys(Mx),tfe=t=>({id:fT(),key:By(P5),scaleType:By(I5),startNoteIndex:0,endAt:15+t,positionX:R5(-13,13),noteNumToHit:8,type:"SCALENORMAL"}),nfe=t=>{const e=By(I5);return{id:fT(),key:By(P5),scaleType:e,startNoteIndex:Jue(0,Mx[e].length),endAt:2+t,positionX:R5(-13,13),noteNumToHit:8,type:"SCALE_WITH_ENTRYNOTE"}},L5=L.createContext(null),Nx=()=>L.useContext(L5),rfe=t=>{const[e,n]=L.useState("INIT"),r=L.useRef([]),i=L.useRef(100),o=L.useRef(0),s=L.useRef(0),l=L.useRef(0),a=L.useRef([]),c=L.useRef([]),[u,f]=L.useState(!1),[d,p]=L.useState(!1);L.useEffect(()=>{e==="GAMEOVER"&&(r.current=[])},[e]),L.useEffect(()=>{const E=setInterval(()=>{o.current-l.current>3.5&&(c.current=[],a.current=[],v.current(c.current))},1e3);return()=>clearInterval(E)},[]);const g=E=>E.score>=Mx[E.scale].length&&E.matchCountInScale>=8,y=L.useCallback(E=>{let M=0,T=0;if(E.type==="SCALENORMAL"){const R=Uv(E.key,E.scaleType),C=a.current.map(P=>P.slice(0,-1));M=av(R,C),T=av(C,R)}else if(E.type==="SCALE_WITH_ENTRYNOTE"&&a.current.length>=E.noteNumToHit){const R=a.current.slice(-E.noteNumToHit),C=Uv(E.key,E.scaleType)[E.startNoteIndex];if(R[0].slice(0,-1)===C){const P=Uv(E.key,E.scaleType),F=a.current.map(G=>G.slice(0,-1));M=av(P,F),T=av(F,P)}}return{matches:M,matchesWithDups:T}},[]),x=L.useCallback(E=>{a.current.push(E),a.current=a.current.slice(-8),c.current=[];const M=[];r.current.forEach(T=>{const{matches:R,matchesWithDups:C}=y(T);if(R>=5){const P={score:R,key:T.key,scale:T.scaleType,matchCountInScale:C};c.current.push(P),g(P)&&M.push(P)}}),l.current=o.current,c.current.sort((T,R)=>R.score-T.score),M.length&&(_.current(M),c.current=[],a.current=[]),v.current(c.current)},[r,y]),v=L.useRef(),b=L.useCallback(E=>{v.current=E},[]),_=L.useRef(),S=L.useCallback(E=>{_.current=E},[]);return q.jsx(L5.Provider,{value:{playState:e,setPlayState:n,blocks:r,refScore:i,timer:o,lastBlockDropTime:s,judgeWithNewNote:x,candidateScales:c,compositionNotes:a,setHandleCandidateChange:b,setHandleCandidateHit:S,showLeaderBoard:u,showScoreInput:d,setShowLeaderBoard:f,setShowScoreInput:p},children:t.children})};class ife extends ho{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new xa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){const a=o.parse(JSON.parse(l));n&&n(a)},r,i)}parse(e){return new ofe(e)}}class ofe{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const r=[],i=sfe(e,n,this.data);for(let o=0,s=i.length;o<s;o++)r.push(...i[o].toShapes());return r}}function sfe(t,e,n){const r=Array.from(t),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[];let l=0,a=0;for(let c=0;c<r.length;c++){const u=r[c];if(u===`
`)l=0,a-=o;else{const f=afe(u,i,l,a,n);l+=f.offsetX,s.push(f.path)}}return s}function afe(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const s=new k4;let l,a,c,u,f,d,p,g;if(o.o){const y=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let x=0,v=y.length;x<v;)switch(y[x++]){case"m":l=y[x++]*e+n,a=y[x++]*e+r,s.moveTo(l,a);break;case"l":l=y[x++]*e+n,a=y[x++]*e+r,s.lineTo(l,a);break;case"q":c=y[x++]*e+n,u=y[x++]*e+r,f=y[x++]*e+n,d=y[x++]*e+r,s.quadraticCurveTo(f,d,c,u);break;case"b":c=y[x++]*e+n,u=y[x++]*e+r,f=y[x++]*e+n,d=y[x++]*e+r,p=y[x++]*e+n,g=y[x++]*e+r,s.bezierCurveTo(f,d,p,g,c,u);break}}return{offsetX:o.ha*e,path:s}}const dr={score:0,hp:100,combo:0,blockGenerators:[]},lfe=t=>{const e=L.useRef(),n=L.useRef([]);return L.useEffect(()=>{for(let i=0;i<300;i++)if(e.current){const o=new pr(new Sa(1,1,1),new _a({color:t.color||16777215}));o.position.set(Math.random()*60-30,Math.random()*2-1,0),e.current.add(o),n.current.push({mesh:o,velocity:new ce(Math.random()*.5-.25,Math.random()*.5-.25,Math.random()*.5-.25),lifetime:Math.random()*60+30})}},[]),Hs((r,i)=>{n.current.forEach(o=>{o.mesh.position.add(o.velocity.clone().multiplyScalar(i*30)),o.lifetime-=1,o.lifetime<=0&&(o.mesh.visible=!1)})}),q.jsx("group",{scale:.1,ref:e,...t})},cfe=({open:t,ranks:e,onClose:n})=>{const[r,i]=L.useState(0),o=(s,l)=>{i(l)};return t?q.jsxs(yn,{sx:{top:"25%",left:"calc(50vw - 200px)",width:400,position:"absolute",bgcolor:"white",borderRadius:2},children:[q.jsxs(yn,{display:"flex",children:[q.jsx(Ao,{p:1}),q.jsx(to,{color:"inherit",onClick:n,sx:{marginLeft:"auto"},children:"X"})]}),q.jsx(yn,{paddingLeft:3,children:q.jsxs(DY,{value:r,onChange:o,children:[q.jsx(f_,{label:"Scale"}),q.jsx(f_,{label:"Chord",disabled:!0}),q.jsx(f_,{label:"Mixed",disabled:!0})]})}),q.jsx(yn,{sx:{p:3},children:e.map((s,l)=>q.jsxs(yn,{display:"flex",children:[q.jsx(Ao,{flexGrow:1,variant:"body1",children:s.name},l),q.jsxs(Ao,{children:[" ",s.score]})]},l))})]}):q.jsx(q.Fragment,{})},$h=2,hL=.06,lv=-7,ufe=.1,ffe=t=>{const[e,n]=L.useState(1),[r,i]=L.useState(0),o=L.useRef("INIT"),s=L.useRef(0),[l,a]=L.useState(new ce(lv,0,0));return Hs((c,u)=>{if(dr.combo!=r&&(s.current=0,dr.combo===0?(o.current="INIT",a(new ce(lv,0,0))):o.current=o.current==="INIT"?"MOVING_IN":"SCALING_UP",i(dr.combo)),o.current==="MOVING_IN"){const f=lv+-lv*(s.current/ufe);f>=0?(s.current=0,o.current="WAITING",a(new ce(0,0,0))):a(new ce(f,0,0))}else if(o.current==="SCALING_UP"){const f=1+($h-1)*(s.current/hL);f>=$h?(o.current="SCALING_DOWN",s.current=0,n($h)):(a(new ce(0,0,0)),n(f))}else if(o.current==="SCALING_DOWN"){const f=$h-($h-1)*(s.current/hL);f<=1?(o.current="WAITING",n(1)):n(f)}s.current+=u}),dr.combo===0?q.jsx(q.Fragment,{}):q.jsx("mesh",{...t,children:q.jsxs("group",{position:l,children:[q.jsx(Eu,{letterSpacing:.2,outlineWidth:.1,outlineColor:"black",strokeWidth:.3,strokeColor:"yellow",scale:e,color:"white",position:[0,0,0],anchorX:"center",anchorY:"middle",rotation:[0,.9,.1],children:r}),q.jsx(Eu,{scale:[1,1,1],outlineWidth:.1,outlineColor:"black",color:"white",position:[.8,0,0],rotation:[0,.9,.1],anchorX:"left",anchorY:"middle",children:"Combo"})]})})},k5=L.createContext(null),N5=()=>L.useContext(k5),dfe=t=>{const[e,n]=L.useState([]),r=L.useCallback(async()=>{const i=await aa.get("/ranks/");return console.log(i),n(i.data),i.data},[]);return q.jsx(k5.Provider,{value:{ranks:e,getRanks:r},children:t.children})},hfe=({open:t})=>{const e=L.useCallback(()=>{aa.post("/put_score/",{name:"tiofjaiow",score:213128}).then(n=>console.log(n))},[]);return t?q.jsxs(yn,{sx:{top:"25%",left:"calc(50vw - 200px)",width:400,position:"absolute",bgcolor:"white",borderRadius:2,padding:2},children:[q.jsx(WY,{id:"standard-basic",label:"Name",variant:"standard"}),q.jsx(to,{onClick:e,children:"Submit"})]}):q.jsx(q.Fragment,{})};U4({TextGeometry:PE});const cv=5,pfe=new ife,O5=new ce(0,-3,0);let IE=null;dr.blockGenerators.push(tfe,nfe);pfe.load("fonts/helvetiker_bold.typeface.json",function(t){IE=t},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("An error happened",t)});const mfe=()=>{const{playState:t,setPlayState:e,setShowLeaderBoard:n}=Nx(),r=L.useCallback(()=>{dr.score=0,dr.hp=10,e("PLAYING")},[e]);return q.jsx(yn,{sx:{backgroundColor:"white",display:"flex",position:"fixed",background:"transparent",left:"25%",right:"25%",top:"50vh",justifyContent:"center"},children:t!="PLAYING"&&q.jsxs(yn,{display:"flex",flexDirection:"column",children:[q.jsx(to,{onClick:r,sx:{fontSize:50,color:"white"},children:"START"}),q.jsx(to,{sx:{color:"white"},onClick:()=>n(!0),children:"view ranking"})]})})},gfe=()=>{const[t,e]=L.useState(dr.score);return Hs(()=>{t!==dr.score&&e(dr.score)}),q.jsx("mesh",{position:[0,2,0],children:q.jsx(Eu,{letterSpacing:.2,outlineWidth:.1,outlineColor:"white",strokeWidth:.2,strokeColor:"black",scale:[1,1,1],color:"white",position:[0,4.5,0],anchorX:"center",anchorY:"middle",children:t})})},Dc=7,vfe=t=>{const e=L.useRef(dr.score),n=L.useRef(),[r,i]=L.useState(1),[o,s]=L.useState(1),l=.5,a=L.useRef(0);return Hs((c,u)=>{if(e.current!=dr.hp&&(e.current=dr.hp,a.current=0,s(dr.hp/100)),r!=o){const f=(r-o)*(1-a.current/l);a.current>=l?i(o):i(o+f)}a.current+=u}),q.jsxs("group",{...t,children:[q.jsx(Eu,{scale:.5,position:[-4,-.05,0],color:"white",children:"HP"}),q.jsxs("mesh",{children:[q.jsx("planeGeometry",{args:[Dc,.3]}),q.jsx("meshBasicMaterial",{color:255,transparent:!0})]}),q.jsxs("mesh",{ref:n,position:[(Dc-Dc*r)*-.5,0,0],children:[q.jsx("planeGeometry",{args:[Dc*r,.3]}),q.jsx("meshBasicMaterial",{color:267386880,transparent:!0})]}),q.jsxs("mesh",{ref:n,position:[(Dc-Dc*o)*-.5,0,0],children:[q.jsx("planeGeometry",{args:[Dc*o,.3]}),q.jsx("meshBasicMaterial",{color:268431360,transparent:!0})]})]})},yfe=()=>{const[t,e]=L.useState([]),{setHandleCandidateChange:n,compositionNotes:r}=Nx(),i=L.useCallback(o=>{e([...o])},[]);return L.useEffect(()=>{n(i)},[i,n]),q.jsxs("mesh",{position:[-9,.5,0],children:[r.current.map((o,s)=>q.jsx(Eu,{scale:.2,color:"black",position:[-1+.2*s,1.5,0],anchorX:"center",anchorY:"middle",children:o},s)),t.map((o,s)=>{const l=`${o.key} ${o.scale} ${o.score}`,a=.3;return q.jsx(Eu,{scale:a,color:"black",position:[0,-.5*s,0],anchorX:"center",anchorY:"middle",children:l},s)})]})},Js={},xfe=()=>{const{playState:t,setPlayState:e,blocks:n,timer:r,lastBlockDropTime:i,setHandleCandidateHit:o,setShowLeaderBoard:s,setShowScoreInput:l}=Nx(),a=L.useRef(null),{railAngle:c}=ku(),[u,f]=L.useState([]),d=L.useRef(0),{getRanks:p}=N5(),g=L.useCallback(_=>{_.forEach(S=>{const E=n.current.filter(T=>T.key!==S.key||T.scaleType!==S.scale);n.current.reduce((T,R)=>(R.key===S.key&&R.scaleType===S.scale&&T.push(R.id),T),[]).forEach(T=>{dr.combo+=1,d.current=r.current,f(R=>{Js[T].geometry.computeBoundingBox();const C=Js[T].geometry.boundingBox.getCenter(new ce);return[...R,{position:[Js[T].position.x+C.x,Js[T].position.y-cv*r.current,Js[T].position.z]}]}),a.current.remove(Js[T])}),n.current=E,dr.score+=dr.combo*5})},[n,r]);L.useEffect(()=>{o(g)},[g,o]);const y=L.useCallback(_=>{let S=null;return _<30,S=dr.blockGenerators[1],S(_)},[]),x=L.useCallback(_=>{const S=[new Zf({color:16711680}),new Zf({color:16776960})],E=new PE(`${_.key} ${_.scaleType}`,{size:1,height:.2,curveSegments:2,font:IE,bevelEnabled:!0,bevelSize:.2,bevelThickness:.1}),M=new pr(E,S);if(M.position.x=_.positionX,M.position.y=O5.y+_.endAt*cv,M.position.z=0,_.type==="SCALE_WITH_ENTRYNOTE"){const T=[new Zf({color:16711680}),new Zf({color:16711680})],R=Uv(_.key,_.scaleType)[_.startNoteIndex],C=new PE(`from ${R}`,{size:.7,height:.2,curveSegments:2,font:IE}),P=new pr(C,T);P.position.set(0,-1,0),M.add(P)}return M.rotateX(-c),M},[c]),v=1,b=()=>{Object.keys(Js).forEach(S=>{a.current.remove(Js[S])}),e("GAMEOVER");let _=!1;p().then(S=>{dr.score=0,S.forEach(E=>{E.score>=dr.score&&(_=!0)}),_?l(!0):s(!0)})};return Hs((_,S)=>{if(t==="PLAYING"){const E=n.current.filter(T=>T.endAt<=r.current),M=n.current.filter(T=>T.endAt>r.current);if(dr.hp-=E.length*5,E.forEach(T=>{const R=Js[T.id];a.current.remove(R),dr.combo=0,f(C=>{R.geometry.computeBoundingBox();const P=R.geometry.boundingBox.getCenter(new ce);return[...C,{position:[R.position.x+P.x,R.position.y-cv*r.current,R.position.z],color:"red"}]})}),n.current=M,S*=v,r.current+=S,i.current===0||r.current-i.current>=3){const T=y(r.current);if(T){n.current.push(T);const R=x(T);Js[T.id]=R,a.current.add(R),i.current=r.current}}dr.hp<=0&&b(),a.current.position.setY(-cv*r.current)}}),q.jsxs("group",{children:[q.jsx("group",{ref:a}),u.map((_,S)=>q.jsx(lfe,{position:_.position,color:_.color},S))]})},bfe=()=>{const t=L.useRef(0);return Hs(({clock:e})=>{t.current=e.getElapsedTime()}),q.jsx("mesh",{children:q.jsx(dT,{})})},_fe=()=>{const{setHandleMidiNoteDown:t}=Tx(),{judgeWithNewNote:e,showLeaderBoard:n,setShowLeaderBoard:r,showScoreInput:i}=Nx();L.useEffect(()=>{t(s=>{e(kl.getNoteNameFromMidiNumber(s))})},[e,t]);const{ranks:o}=N5();return q.jsx(yn,{display:"flex",flexDirection:"column",minHeight:"100%",children:q.jsx(yn,{flexGrow:1,minHeight:"100%",children:q.jsxs(sT,{children:[q.jsx("div",{style:{width:"100%",justifyContent:"center",display:"flex"},children:q.jsx("div",{style:{width:"100vw",height:"calc(100vh - 100px)",backgroundColor:"white"},children:q.jsxs(nT,{onCreated:({gl:s})=>{s.localClippingEnabled=!0},camera:{position:[0,0,15],fov:55,near:.1,far:400},children:[q.jsx("ambientLight",{position:[-3,0,-3],intensity:.9}),q.jsx("pointLight",{position:[-13,10,0],intensity:.9}),q.jsx(vfe,{position:[-11,6.5,0]}),q.jsxs(cT,{children:[q.jsx(bfe,{}),q.jsx(xfe,{}),q.jsx(aT,{position:O5})]}),q.jsx(yfe,{}),q.jsx(gfe,{}),q.jsx(ffe,{position:[-16,2,0]})]})})}),q.jsx(mfe,{}),q.jsx(cfe,{open:n,ranks:o,onClose:()=>r(!1)}),q.jsx(hfe,{open:i})]})})})},Sfe=({playItems:t=[],onSelect:e})=>{const n=k1({components:{MuiListItemButton:{styleOverrides:{root:{"&.Mui-selected":{backgroundColor:"#FF000088"}}}}}}),[r,i]=L.useState(0);return q.jsx(RO,{theme:n,children:q.jsx(yn,{sx:{background:"transparent"},children:q.jsx(QM,{sx:{width:"100%",maxWidth:360,bgcolor:"transparent"},children:t.map((o,s)=>q.jsxs("div",{children:[q.jsxs(_w,{alignItems:"flex-start",selected:s===r,onClick:()=>{i(s),e(o)},children:[q.jsx(wX,{children:q.jsx(NW,{alt:"Remy Sharp",src:"/demo/jukebox"+o.avatarPath})}),q.jsx(jO,{primary:q.jsx(Ao,{color:"white",children:o.title}),secondary:q.jsx(Mo.Fragment,{children:q.jsx(Ao,{sx:{display:"inline"},component:"span",variant:"body2",color:"grey",children:o.artist})})})]},s),q.jsx(Oj,{variant:"inset",component:"li"})]},s))})})})};var hT={},F5={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(F5);var D5=F5.exports,hS={};const wfe=vL(uV);var pL;function U5(){return pL||(pL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=wfe}(hS)),hS}var Efe=D5;Object.defineProperty(hT,"__esModule",{value:!0});var B5=hT.default=void 0,Mfe=Efe(U5()),Tfe=q,Afe=(0,Mfe.default)((0,Tfe.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");B5=hT.default=Afe;var pT={},Cfe=D5;Object.defineProperty(pT,"__esModule",{value:!0});var z5=pT.default=void 0,Rfe=Cfe(U5()),Pfe=q,Ife=(0,Rfe.default)((0,Pfe.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause");z5=pT.default=Ife;const Lfe=new ce(0,-3,0),kfe=()=>{const{playingState:t,setPlayingState:e}=ku(),n=L.useCallback(()=>{e(o=>o==="playing"?"paused":"playing")},[e]),r=L.useCallback(o=>{o.code==="Space"&&(o.preventDefault(),o.stopPropagation(),n())},[n]);L.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]);const i={fontSize:120,stroke:"#55555555",strokeWidth:.1,color:"white"};return q.jsx(yn,{sx:{backgroundColor:"transparent",display:"flex"},children:q.jsx(yn,{flexGrow:1,children:q.jsx(to,{onClick:n,sx:{width:200,height:200},children:t==="playing"?q.jsx(z5,{sx:{...i,color:"#ffffff33"}}):q.jsx(B5,{sx:i})})})})},mL=[{title:"All the things you are",artist:"Bill evans",avatarPath:"/avatar/bill.jpeg",midiPath:"/midi_files/Allthethingsyouare.mid"},{title:"Prelude",artist:"Debussy",avatarPath:"/avatar/debussy.jpeg",midiPath:"/midi_files/deb_prel.mid"},{title:"Sonata No. 14 C# minor (Moonlight) , Opus 27/2 (1801)",artist:"Beethoven",avatarPath:"/avatar/beethoven.jpeg",midiPath:"/midi_files/mond_2_format0.mid"},{title:"I thought about you",artist:"Miles davis",avatarPath:"/avatar/miles.jpeg",midiPath:"/midi_files/ithoughaboutyou.mid"}],Nfe=()=>{const[t,e]=L.useState(null),{playingState:n,setPlayingState:r}=ku(),[i,o]=L.useState(null),s=L.useRef(null),l=L.useRef(0),a=()=>{const p=L.useRef(0);return Hs(({clock:g})=>{p.current=g.getElapsedTime()}),q.jsx("mesh",{children:q.jsx(dT,{})})},c=L.useCallback(p=>{const g=new FileReader;g.onload=function(y){const x=y.target.result,v=new Dy.Midi(x),b=RE(v);e(b),r("stopped")},p.length>0&&g.readAsArrayBuffer(p[0])},[r]),u=()=>{Wi.start=null,Wi.timer=0},f=L.useCallback(p=>{i&&p.midiPath===i.midiPath||(u(),aa.get("/demo/jukebox"+p.midiPath,{responseType:"arraybuffer"}).then(g=>{const y=new Dy.Midi(g.data),x=RE(y);e(x),r("stopped")}),o(p))},[i,r]),d=L.useCallback(p=>{const g=p/1e3;Wi.start===null&&(Wi.start=g,Wi.last=g),n==="playing"&&(Wi.timer+=g-Wi.last,s.current.getNotesByTime(Wi.timer).forEach(x=>{aL.noteOn(x.family,x.pitch,x.velocity,0),aL.noteOff(x.family,x.pitch,x.end_s-x.start_s)})),Wi.last=g,l.current=requestAnimationFrame(d)},[n]);return L.useEffect(()=>(n==="playing"||n==="paused"?l.current=requestAnimationFrame(d):n==="stopped"&&(u(),cancelAnimationFrame(l.current)),()=>cancelAnimationFrame(l.current)),[n,d]),L.useEffect(()=>{t||f(mL[0]),s.current=new w5(t)},[f,t]),q.jsxs(yn,{display:"flex",flexDirection:"column",padding:0,children:[q.jsxs(yn,{flexGrow:1,minHeight:"100%",padding:0,children:[q.jsx(yn,{position:"absolute",paddingTop:5,left:["calc(100% - 100px)","calc(50% - 240px)"],width:["60px","480px"],top:["calc(100% - 120px)",0],zIndex:9999,children:q.jsx(PD,{onDrop:c})}),q.jsx(yn,{position:"absolute",zIndex:9999,sx:{background:"transparent"},children:q.jsx(Sfe,{playItems:mL,onSelect:f})}),q.jsxs("div",{style:{width:"100%",justifyContent:"center",display:"flex"},children:[q.jsx("div",{style:{width:"100vw",height:"100vh"},children:q.jsxs(nT,{onCreated:({gl:p})=>{p.localClippingEnabled=!0},camera:{position:[0,0,15],fov:55,near:.1,far:400},children:[q.jsx("ambientLight",{position:[-3,0,-3],intensity:.9}),q.jsx("pointLight",{position:[-13,10,0],intensity:.9}),q.jsx(rT,{children:q.jsxs(cT,{children:[q.jsx(a,{}),q.jsxs("group",{position:Lfe,children:[q.jsx(E5,{noteEvents:t||[]}),q.jsx(aT,{})]}),q.jsx(lT,{})]})})]})}),q.jsx(yn,{position:"absolute",zIndex:9999,top:"calc(50vh - 120px)",bottom:"25%",children:q.jsx(kfe,{})})]})]}),q.jsx(bF,{})]})};aa.defaults.headers.common.Authorization="Bearer "+{}.VITE_API_KEY;aa.defaults.withCredentials=!0;const Ofe=t=>q.jsxs(rT,{children:[t,q.jsx(lT,{})]}),Ffe=t=>q.jsx(rfe,{children:t}),Dfe=t=>q.jsx(dfe,{children:t}),Ufe=K8([{path:"/",element:q.jsx(dJ,{}),children:[{index:!0,element:q.jsx($8,{to:"/game",replace:!0})},{path:"game",element:Ffe(Dfe(Ofe(q.jsx(_fe,{}))))},{path:"twofiveone",element:q.jsx(hJ,{})},{path:"playground",element:q.jsx(efe,{})},{path:"scale",children:[{path:"major",element:q.jsx(pJ,{})}]}]},{path:"/demo/jukebox",element:q.jsx(sT,{children:q.jsx(Nfe,{})})}]);function Bfe(){return q.jsx(q.Fragment,{children:q.jsx(W8,{router:Ufe})})}pS.createRoot(document.getElementById("root")).render(q.jsx(Mo.StrictMode,{children:q.jsx(Bfe,{})}));
